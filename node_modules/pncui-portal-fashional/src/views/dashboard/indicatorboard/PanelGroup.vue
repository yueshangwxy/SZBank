<template>
  <div class="panel-group">
    <!-- <el-row :gutter="10" class="panel-group">
       <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">-->
    <div class="card-panel" style="margin-right: 1em">
      <el-link @click="openTodoList" :underline="false">
        <div class="card-panel-icon-wrapper icon-todo">
          <svg-icon icon-class="panel-todo" class-name="card-panel-icon" width="2em" height="2em"/>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            待办任务 <span class="card-panel-num">{{ count.todo }}</span>
          </div>
          <!--<count-to :start-val="0" :end-val="count.todo" :duration="2600" class="card-panel-num"/>-->
        </div>
      </el-link>
    </div>
    <!--</el-col>
    <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">-->
    <div class="card-panel" style="margin-right: 1em">
      <el-link @click="openFavorite" :underline="false">
        <div class="card-panel-icon-wrapper icon-faverite">
          <svg-icon icon-class="panel-faverite" class-name="card-panel-icon"  height="2em"/>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            我的收藏
          </div>
          <!--<count-to :start-val="0" :end-val="count.newIp" :duration="3000" class="card-panel-num"/>-->
        </div>
      </el-link>
    </div>
    <!-- </el-col>
     <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">-->
    <div class="card-panel" style="margin-right: 1em">
      <el-link @click="openReport" :underline="false">
        <div class="card-panel-icon-wrapper icon-report">
          <svg-icon icon-class="panel-report" class-name="card-panel-icon" height="2em"/>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            报表
          </div>
          <!--<count-to :start-val="0" :end-val="count.recentVisits" :duration="3200" class="card-panel-num"/>-->
        </div>
      </el-link>
    </div>
    <!-- </el-col>
     <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">-->
    <div class="card-panel" style="margin-right: 1em">
      <el-link @click="openIndex" :underline="false">
        <div class="card-panel-icon-wrapper icon-index">
          <svg-icon icon-class="panel-index" class-name="card-panel-icon"  height="2em"/>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            指标
          </div>
          <!--<count-to :start-val="0" :end-val="count.recentIp" :duration="3600" class="card-panel-num"/>-->
        </div>
      </el-link>
    </div>
    <div class="card-panel">
      <el-link @click="openSubscribeList" :underline="false">
        <div class="card-panel-icon-wrapper icon-message">
          <svg-icon icon-class="panel-message" class-name="card-panel-icon"  height="2em"/>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            我的消息 <span class="card-panel-num">{{ subscribe.total }}</span>
          </div>
          <!--<count-to :start-val="0" :end-val="count.recentIp" :duration="3600" class="card-panel-num"/>-->
        </div>
      </el-link>
    </div>
    <!--</el-col>
  </el-row>-->
  </div>
</template>

<script>
import {todoCount,subscribeRpt} from '../../../api/dashboard/dashboard'
import CountTo from 'vue-count-to'
export default {
  components: {CountTo},
  data() {
    return {
      activeName: 'second',
      count: {todo: 0, newIp: 0, newVisits: 0, recentIp: 0, recentVisits: 0},
      subscribe: {title: '我的订阅',
        total: 0}
    }
  },
  mounted() {
    console.log("dcc================")
    todoCount().then(res => {
      this.count.todo = res.data
    })
    subscribeRpt().then(res => {
      console.log("dasdasdas==>" + res.toString())
      this.subscribe.total = res.data.total
    })
  },
  methods: {
    openTodoList() {
      this.$router.push({path: '/todo/list'})
    },
    openFavorite() {
      this.$router.push({path: '/favorite/index'})
    },
    openReport() {
      this.$router.push({path: '/report/index'})
    },
    openIndex() {
      this.$router.push({path: '/indicators/query'})
    },
    openSubscribeList() {
      this.$router.push({path: '/indicator/resultSubscribe'})
    }

  }
}
</script>
<style>
.card-panel-num {
  font-size: 20px;
  color: darksalmon;
}
</style>
