<template>
<!--  <el-card body-style="border-radius: 0; box-shadow: 10px 10px 10px #aaa;padding:0">-->
  <div v-loading="loading" :style="'height:'+ height">
    <iframe id="dbpFrame"
            :src="dbpPath"
            frameborder="0" scrolling="auto"
            style="width: 100%;height: 100%;border-radius: 8px; box-shadow: 10px 10px 10px #aaa;padding:0"
    >

    </iframe>
  </div>
<!--  </el-card>-->
</template>

<script>
import {getDbpPath} from '../../../api/dashboard/dashboard'
import {MessageBox} from "element-ui";
export default {
  name: "ThirdpartyDashBoard",
  data() {
    return {
      dbpPath : '',
      height: document.documentElement.clientHeight - 94.5 + 'px;',
      loading: true
    }
  },
  mounted() {
    const _self = this;
    this.getDbpPath();
    //this.frameHeight = window.innerHeight - 202
    //this.frameHeight = window.innerHeight
    setTimeout(() => {
      this.loading = false
    }, 230)
    window.onresize = function temp() {
      _self.height = document.documentElement.clientHeight - 94.5 + 'px;'
    }
  },
  methods: {
    getDbpPath()  {
      getDbpPath().then(res => {
        console.log("getDbpPatheee==>" + res.toString())
        if(res.code == 0){
          this.dbpPath = res.data;
        } else {
          this.$message({
            showClose: true,
            message: res.msg,
            type: 'error'
          });
        }
      })
    }
  }
}
</script>

<style scoped>

</style>