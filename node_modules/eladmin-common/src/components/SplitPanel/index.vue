<template>
  <!-- <el-container>
    &lt;!&ndash; <el-main>&ndash;&gt;-->
  <div class="myBox">
    <div id="silderLeft" :style="'width:'+leftWidth">
      <div class="menuList">
        <slot name="left"></slot>
      </div>
      <div class="moveBtn" v-move></div>
    </div>
    <div class="silderRight">
      <slot></slot>
    </div>
  </div>
  <!-- </el-main>
 </el-container>-->
</template>

<script>
  //import "@/assets/second.css";
  export default {
    name: 'SplitPanel',
    directives: {
      move(el, bindings) {
        el.onmousedown = function(e) {
          var init = e.clientX
          var parent = document.getElementById('silderLeft')
          var initWidth = parent.offsetWidth
          document.onmousemove = function(e) {
            var end = Math.max(10, Math.min(5000, e.clientX))
            //console.log('========move>>>', end)
            // end - init表示鼠标移动的距离
            // end为鼠标移动的宽度,可用于设置最小宽度
            var newWidth = end - init + initWidth
            parent.style.width = newWidth + 'px'
          }
          document.onmouseup = function() {
            document.onmousemove = document.onmouseup = null
          }
        }
      }
    },
    data() {
      return {
        msg: '我是第二页'
      }
    },
    props: {
      leftWidth: { type: String, default: '200px' }
    },
    methods: {},
    mounted() {
    },
    created() {
    },
    updated() {
    }

  }
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
  .myBox {
    width: 100%;;
    height: 700px;
    border: 1px solid red;
    display: flex;
  }

  #silderLeft {
    height: 100%;
    /*background-color: #999;*/
    position: relative;
    /* overflow-y: auto; */
  }

  /* 拖动条 */
  .moveBtn {
    height: 100%;
    width: 2px;
    /* opacity: 0; */
    position: absolute;
    right: 0px;
    top: 0;
    cursor: col-resize;
    background-color: yellow;
    z-index: 99999999;
  }

  /*
    .menuList {
      background-color: yellowgreen;
      !* height: 120%; *!
    }*/

  .silderRight {
    height: 100%;
    /*background-color: sandybrown;*/
    flex: 1;
  }
</style>
