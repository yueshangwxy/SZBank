{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\components\\operation.vue?vue&type=template&id=abd0dbf2&scoped=true&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\components\\operation.vue","mtime":1713697531768},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1650418886581},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\n<div class=\"operation\">\n  <div class=\"left\">\n    <el-tabs v-model=\"activeTab\" @tab-click=\"handleClick\">\n      <el-tab-pane\n        v-for=\"item in tabList\"\n        :key=\"item.name\"\n        :label=\"item.label\"\n        :name=\"item.name\"\n      ></el-tab-pane>\n    </el-tabs>\n    <div class=\"tree\">\n      <!-- <el-input\n        placeholder=\"输入关键字进行过滤\"\n        v-model=\"filterText\"\n        clearable\n      >\n        <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\n      </el-input> -->\n      <el-tree\n        class=\"filter-tree\"\n        node-key=\"contentsId\"\n        highlight-current\n        :data=\"treeData\"\n        :props=\"defaultProps\"\n        accordion\n        @node-click=\"handleNodeClick\"\n        @node-expand=\"handleNodeClick\"\n        :filter-node-method=\"filterNode\"\n        ref=\"tree\"\n      >\n        <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n          <span v-if=\"data.icon\" :class=\"data.icon\"></span>\n          <span> {{ node.label }} </span>\n        </span>\n      </el-tree>\n    </div>\n  </div>\n  <div class=\"content\">\n    <div class=\"catalogue\">\n      <div class=\"catalogueType\">\n        <span>一级目录:</span>\n        <el-tabs v-model=\"firstType\">\n          <el-tab-pane\n            v-for=\"item in firstList\"\n            :key=\"item.contentsId\"\n            :label=\"item.name\"\n            :name=\"item.contentsId\"\n          ></el-tab-pane>\n        </el-tabs>\n      </div>\n      <div class=\"catalogueType\">\n        <span>二级目录:</span>\n        <el-tabs v-model=\"secondType\" v-if=\"!secondList.length\">\n          <el-tab-pane label=\"全部\" name=\"all\"></el-tab-pane>\n        </el-tabs>\n        <el-tabs v-model=\"secondType\">\n          <el-tab-pane\n            v-for=\"item in secondList\"\n            :key=\"item.contentsId\"\n            :label=\"item.name\"\n            :name=\"item.contentsId\"\n          ></el-tab-pane>\n        </el-tabs>\n      </div>\n      <div class=\"catalogueType\">\n        <span>三级目录:</span>\n        <el-tabs v-model=\"thirdType\" v-if=\"!thirdList.length\">\n          <el-tab-pane label=\"全部\" name=\"all\"></el-tab-pane>\n        </el-tabs>\n        <el-tabs v-model=\"thirdType\">\n          <el-tab-pane\n            v-for=\"item in thirdList\"\n            :key=\"item.contentsId\"\n            :label=\"item.name\"\n            :name=\"item.contentsId\"\n          ></el-tab-pane>\n        </el-tabs>\n      </div>\n      <div class=\"filterConditon\">\n        <span class=\"desc\">筛选条件:</span>\n        <!-- 表 -->\n        <div class=\"filterItem\" v-if=\"routerName === 'tableOperation'\">\n          <el-cascader\n            v-model=\"belongSys\"\n            :options=\"deptTreeList\"\n            :show-all-levels=\"false\"\n            :props=\"{\n              value: 'id',\n              label: 'name',\n              children: 'children',\n              emitPath: false,\n              checkStrictly: true,\n            }\"\n            placeholder=\"请选择属主部门\"\n            clearable\n          ></el-cascader>\n          <el-input\n            v-model=\"project\"\n            placeholder=\"请输入存储项目名称\"\n            clearable\n          ></el-input>\n          <el-input\n            v-model=\"tableName\"\n            placeholder=\"请输入表名\"\n            clearable\n          ></el-input>\n        </div>\n        <!-- API -->\n        <div class=\"filterItem\" v-if=\"routerName === 'apiOperation'\">\n          <el-select\n            v-model=\"application\"\n            placeholder=\"请选择归属应用\"\n            clearable\n          >\n            <el-option\n              v-for=\"item in appList\"\n              :key=\"item.appCode\"\n              :label=\"item.appName\"\n              :value=\"item.appCode\"\n            ></el-option>\n          </el-select>\n          <el-cascader\n            v-model=\"apiDept\"\n            :options=\"deptTreeList\"\n            :show-all-levels=\"false\"\n            :props=\"{\n              value: 'id',\n              label: 'name',\n              children: 'children',\n              emitPath: false,\n              checkStrictly: true,\n            }\"\n            placeholder=\"请选择属主部门\"\n            clearable\n          ></el-cascader>\n        </div>\n        <!-- 指标 -->\n        <div class=\"filter\" v-if=\"routerName === 'targetOperation'\">\n          <el-input\n            v-model=\"targetCode\"\n            placeholder=\"请输入指标编码\"\n            clearable\n          ></el-input>\n          <el-input\n            v-model=\"targetName\"\n            placeholder=\"请输入指标名称\"\n            clearable\n          ></el-input>\n          <el-select\n            v-model=\"targetType\"\n            placeholder=\"请选择指标类型\"\n            clearable\n          >\n            <el-option\n              v-for=\"item in targetTypeList\"\n              :key=\"item\"\n              :label=\"item\"\n              :value=\"item\"\n            ></el-option>\n          </el-select>\n          <el-cascader\n            v-model=\"businessDept\"\n            :options=\"deptTreeList\"\n            :show-all-levels=\"false\"\n            :props=\"{\n              value: 'id',\n              label: 'name',\n              children: 'children',\n              emitPath: false,\n              checkStrictly: true,\n            }\"\n            placeholder=\"请选择属主部门\"\n            clearable\n          ></el-cascader>\n          <el-select\n            v-model=\"classifyOne\"\n            placeholder=\"请选择一级分类\"\n            clearable\n          >\n            <el-option\n              v-for=\"item in classifyOneList\"\n              :key=\"item\"\n              :label=\"item\"\n              :value=\"item\"\n            ></el-option>\n          </el-select>\n        </div>\n        <!-- 标签 -->\n        <div class=\"filter\" v-if=\"routerName === 'labelOperation'\">\n          <el-input\n            v-model=\"labelName\"\n            placeholder=\"请输入标签名称\"\n            clearable\n          ></el-input>\n          <!-- <el-input\n            v-model=\"objectCode\"\n            placeholder=\"请输入适用对象\"\n            clearable\n          ></el-input> -->\n          <el-input\n            v-model=\"fromCode\"\n            placeholder=\"请输入标签来源\"\n            clearable\n          ></el-input>\n          <el-cascader\n            v-model=\"branchOrInsideCode\"\n            :options=\"deptTreeList\"\n            :show-all-levels=\"false\"\n            :props=\"{\n              value: 'id',\n              label: 'name',\n              children: 'children',\n              emitPath: false,\n              checkStrictly: true,\n            }\"\n            placeholder=\"请选择属主部门\"\n            clearable\n          ></el-cascader>\n        </div>\n        <el-button @click=\"queryFromFirstPage()\">确认</el-button>\n      </div>\n    </div>\n    <!-- 列表部分 -->\n    <div class=\"list\">\n      <div class=\"listItem\" \n        v-for=\"(item, index) in tableData\" \n        :key=\"index\"\n        :class=\"{\n          'listItem-table': item.assetType === 'table',\n          'listItem-api': item.assetType === 'api',\n          'listItem-target': item.assetType === 'target',\n          'listItem-label': item.assetType === 'label',\n        }\">\n        <div class=\"title\">\n          <!-- <span>\n            <el-tag type=\"success\" v-if=\"routerName === 'tableOperation'\">表</el-tag>\n            <el-tag type=\"\" v-if=\"routerName === 'apiOperation'\">API</el-tag>\n            <el-tag type=\"warning\" v-if=\"routerName === 'targetOperation'\"\n              >指标</el-tag\n            >\n            <el-tag type=\"\" v-if=\"routerName === 'labelOperation'\">标签</el-tag>\n            <span v-if=\"routerName === 'tableOperation'\">{{ item.tableName }}</span>\n            <span v-if=\"routerName === 'apiOperation'\">{{ item.indexName }}</span>\n            <span v-if=\"routerName === 'targetOperation'\">{{\n              item.targetName\n            }}</span>\n            <span v-if=\"routerName === 'labelOperation'\">{{ item.labelName }}</span>\n          </span> -->\n          <div class=\"title-left\">\n            <el-tag\n              class=\"title-left-tag\"\n              :type=\"getAssetTypeInfo()['tagColor']\"\n              >{{ getAssetTypeInfo()[\"tagName\"] }}</el-tag\n            >\n            <div v-if=\"routerName === 'tableOperation'\" class=\"table-title\">\n              <el-tooltip\n                effect=\"dark\"\n                placement=\"top-start\"\n                :content=\"item.tableComment\"\n              >\n                <div>\n                  {{ item.tableComment }}\n                </div>\n              </el-tooltip>\n              <el-tooltip\n                effect=\"dark\"\n                placement=\"top-start\"\n                :content=\"item.tableName\"\n              >\n                <div style=\"font-size: 12px;line-height: 14px;\">{{ item.tableName }}</div>\n              </el-tooltip>\n            </div>\n            <el-tooltip\n              v-else\n              effect=\"dark\"\n              placement=\"top-start\"\n              :content=\"item[getAssetTypeInfo()['codeName']]\"\n            >\n              <div>\n                {{ item[getAssetTypeInfo()[\"codeName\"]] }}\n              </div>\n            </el-tooltip>\n          </div>\n          <span v-if=\"item.oprState != null ? item.oprState == 'publish' : (item.assetsState == 'publish')\">\n            <i\n              class=\"el-icon-star-off\"\n              v-if=\"!item.favorite\"\n              @click=\"addFavorite(item)\"\n            ></i>\n            <i\n              class=\"el-icon-star-on\"\n              v-if=\"item.favorite\"\n              @click=\"delFavorite(item)\"\n            ></i>\n          </span>\n        </div>\n        <div class=\"detail\" v-if=\"routerName === 'tableOperation'\">\n          <p>\n            <span>存储项目名称：{{ item.project }}</span>\n          </p>\n          <p>\n            <span>底层存储类型：{{ item.driverType }}</span>\n          </p>\n          <p>\n            <span>所属用户：{{ item.owner }}</span>\n          </p>\n          <p>\n            <span>项目描述类型：{{ item.tableComment }}</span>\n          </p>\n        </div>\n        <div class=\"detail\" v-if=\"routerName === 'apiOperation'\">\n          <p>\n            <span>接口地址：{{ item.interfaceAds }}</span>\n            <span>请求类型：{{ item.reqType }}</span>\n          </p>\n          <!-- <p>\n            <span>所属用户：{{ item.owner }}</span>\n            <span>返回类型：{{ item.respType }}</span>\n          </p> -->\n          <p>\n            <span>归属应用：{{ item.applicationName }}</span>\n          </p>\n          <p>\n            <span>接口描述：{{ item.apiDescription }}</span>\n          </p>\n          <p></p>\n        </div>\n        <div class=\"detail\" v-if=\"routerName === 'targetOperation'\">\n          <p>\n            <span>指标编码：{{ item.targetCode }}</span>\n            <span>指标类型：{{ item.targetType }}</span>\n          </p>\n          <p>\n            <span>业务属主部门：{{ item.deptName }}</span>\n          </p>\n          <p>\n            <span>币种：{{ item.currency }}</span>\n          </p>\n          <p>\n            <span>频率：{{ item.statisticsRate }}</span>\n          </p>\n        </div>\n        <div class=\"detail\" v-if=\"routerName === 'labelOperation'\">\n          <p>\n            <span>标签编号：{{ item.labelCode }}</span>\n            <span>失效时间：{{ transInvalidTime(item.invalidTime) }}</span>\n          </p>\n          <p>\n            <span>分类名称：{{ item.classifyName }}</span>\n          </p>\n          <p>\n            <span>标签描述：{{ item.description }}</span>\n          </p>\n          <p>\n            <span>标签业务口径：{{ item.businessCaliber }}</span>\n          </p>\n        </div>\n        <div class=\"btn\">\n          <div>\n            <el-button type=\"text\" @click=\"modify(item)\">修改</el-button>\n          </div>\n          <span class=\"line\">|</span>\n          <div>\n            <el-button\n              type=\"text\"\n              v-if=\"\n                item.oprState\n                  ? item.oprState === 'publish'\n                  : item.assetsState === 'publish'\n              \"\n              class=\"offline\"\n              @click=\"offline(item)\"\n              >下线</el-button\n            >\n            <el-button\n              type=\"text\"\n              v-else\n              class=\"online\"\n              @click=\"offline(item)\"\n              >发布</el-button\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 分页 -->\n    <div class=\"pagination\">\n      <el-pagination\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-size=\"pageSize\"\n        layout=\"total, prev, pager, next, jumper\"\n        :total=\"total\"\n        v-if=\"total !== 0\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</div>\n",null]}