{"remainingRequest":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\derive.vue?vue&type=template&id=4e12ac68&scoped=true&","dependencies":[{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\derive.vue","mtime":1644369310603},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n  <div class=\"app-container\">\n    <el-row :gutter=\"20\">\n      <!--侧边分类数据-->\n      <el-col :xs=\"9\" :sm=\"6\" :md=\"4\" :lg=\"4\" :xl=\"4\">\n        <category type=\"2\" @node-click=\"handleCategoryClick\"/>\n      </el-col>\n      <!--用户数据-->\n      <el-col :xs=\"15\" :sm=\"18\" :md=\"20\" :lg=\"20\" :xl=\"20\">\n        <!--工具栏-->\n        <div class=\"head-container\">\n          <div v-if=\"crud.props.searchToggle\">\n            <!-- 搜索 -->\n            <el-input\n                v-model=\"query.ieCode\"\n                clearable\n                size=\"small\"\n                placeholder=\"指标编号\"\n                style=\"width: 200px;\"\n                class=\"filter-item\"\n                @keyup.enter.native=\"crud.toQuery\"\n            />\n            <el-input\n                v-model=\"query.ieName\"\n                clearable\n                size=\"small\"\n                placeholder=\"指标名称\"\n                style=\"width: 200px;\"\n                class=\"filter-item\"\n                @keyup.enter.native=\"crud.toQuery\"\n            />\n            <el-select\n                v-model=\"query.status\"\n                clearable\n                size=\"small\"\n                placeholder=\"状态\"\n                class=\"filter-item\"\n                style=\"width: 90px\"\n                @change=\"crud.toQuery\"\n            >\n              <el-option v-for=\"item in dict.IE_STATUS\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\n            </el-select>\n            <rrOperation :crud=\"crud\"/>\n          </div>\n          <!--如果想在工具栏加入更多按钮，可以使用插槽方式， slot = 'left' or 'right'-->\n          <crudOperation :permission=\"permission\">\n            <el-button\n                slot=\"left\"\n                v-permission=\"permission.add\"\n                class=\"filter-item\"\n                type=\"primary\"\n                icon=\"el-icon-plus\"\n                @click=\"crud.toAdd\"\n            >\n              申请\n            </el-button>\n            <el-button\n                slot=\"left\"\n                v-permission=\"permission.submit\"\n                class=\"filter-item\"\n                size=\"mini\"\n                type=\"success\"\n                icon=\"el-icon-setting\"\n                :disabled=\"crud.selections.length == 0\"\n                @click=\"subApprove(crud.selections)\"\n            >\n              提交\n            </el-button>\n            <!--            <el-button\n                          slot=\"left\"\n                          v-permission=\"permission.develop\"\n                          class=\"filter-item\"\n                          size=\"mini\"\n                          type=\"success\"\n                          icon=\"el-icon-setting\"\n                          :disabled=\"crud.selections.length !== 1\"\n                          @click=\"arithmeticDefinition(crud.selections[0])\"\n                        >\n                          开发\n                        </el-button>-->\n            <!--  <el-button\n              slot=\"left\"\n              v-permission=\"permission.upLine\"\n              class=\"filter-item\"\n              size=\"mini\"\n              type=\"success\"\n              icon=\"el-icon-setting\"\n              :disabled=\"crud.selections.length == 0\"\n              @click=\"upLine(crud.selections)\"\n            >\n              上线\n            </el-button>\n            <el-button\n              slot=\"left\"\n              v-permission=\"permission.startUsing\"\n              class=\"filter-item\"\n              size=\"mini\"\n              type=\"success\"\n              icon=\"el-icon-setting\"\n              :disabled=\"crud.selections.length == 0\"\n              @click=\"startUsing(crud.selections)\"\n            >\n              启用\n            </el-button>-->\n<!--            <el-button\n                slot=\"left\"\n                v-permission=\"permission.stopUsing\"\n                class=\"filter-item\"\n                size=\"mini\"\n                type=\"success\"\n                icon=\"el-icon-setting\"\n                :disabled=\"crud.selections.length == 0\"\n                @click=\"stopUsing(crud.selections)\"\n            >\n              停用\n            </el-button>-->\n            <el-button\n                slot=\"left\"\n                v-permission=\"permission.processA\"\n                class=\"filter-item\"\n                size=\"mini\"\n                type=\"success\"\n                icon=\"el-icon-setting\"\n                :disabled=\"crud.selections.length === 0\"\n                @click=\"processA(crud.selections)\"\n            >\n              计算\n            </el-button>\n          </crudOperation>\n          <el-dialog :visible.sync=\"processDialog\" width=\"400px\">\n            <template>\n              <div class=\"block\">\n                <el-date-picker\n                    v-model=\"dateValue\"\n                    type=\"date\"\n                    placeholder=\"选择日期\"\n                />\n                <el-button type=\"primary\" plain @click=\"processB\">确定</el-button>\n              </div>\n            </template>\n          </el-dialog>\n          <!--表单组件-->\n          <el-dialog\n              :close-on-click-modal=\"false\"\n              :before-close=\"crud.cancelCU\"\n              :visible.sync=\"crud.status.cu > 0\"\n              :title=\"crud.status.title\"\n              width=\"60%\"\n          >\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" size=\"small\" label-width=\"120px\">\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"指标编号\" prop=\"ieCode\">\n                  <el-input v-model=\"form.ieCode\" placeholder=\"系统自动生成...\" :disabled=\"true\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"指标名称\" prop=\"ieName\">\n                  <el-input v-model=\"form.ieName\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"指标级别\" prop=\"ieScope\">\n                  <el-select v-model=\"form.ieScope\" placeholder=\"请选择\" @change=\"changeIeScope\">\n                    <el-option\n                        v-for=\"item in dict.IE_SCOPE\"\n                        :key=\"item.id\"\n                        :label=\"item.label\"\n                        :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"管理部门\">\n                  <treeselect\n                      v-model=\"form.manageDept\"\n                      :options=\"depts\"\n                      placeholder=\"选择部门\"\n                      :disabled=\"manageDeptEdited\"\n                  />\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"8\">\n                <el-form-item label=\"查看部门\" prop=\"viewDepts\">\n                  <treeselect\n                      v-model=\"form.viewDepts\"\n                      :options=\"viewDept\"\n                      :multiple=\"true\"\n                      openDirection=\"below\"\n                      placeholder=\"选择部门\"\n                  />\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"指标类型\" prop=\"ieProp\">\n                  <el-select v-model=\"form.ieProp\" filterable placeholder=\"请选择\">\n                    <el-option\n                        v-for=\"item in dict.IE_PROP\"\n                        :key=\"item.id\"\n                        :label=\"item.label\"\n                        :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n                <!--                <el-form-item label=\"默认值\">\n                                  <el-input v-model=\"form.ieDefaultValue\" />\n                                </el-form-item>-->\n              </el-col>\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"计算频度\">\n                  <el-select v-model=\"form.calcFreq\" filterable placeholder=\"请选择\">\n                    <el-option\n                      v-for=\"item in dict.CALC_FREQ\"\n                      :key=\"item.id\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>-->\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"指标单位\" prop=\"ieDataUnit\">\n                  <el-select v-model=\"form.ieDataUnit\" filterable placeholder=\"请选择\">\n                    <el-option\n                        v-for=\"item in dict.IE_DATA_UNIT\"\n                        :key=\"item.id\"\n                        :label=\"item.label\"\n                        :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"生效日期\">\n                  <el-date-picker v-model=\"form.startDate\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"失效日期\">\n                  <el-date-picker v-model=\"form.endDate\"/>\n                </el-form-item>\n              </el-col>-->\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"结果保留期限\">\n                  <el-select v-model=\"form.retention\" filterable placeholder=\"请选择\">\n                    <el-option\n                      v-for=\"item in dict.RETENTION\"\n                      :key=\"item.id\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>-->\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"指标状态\">\n                  <el-select v-model=\"form.status\" filterable placeholder=\"请选择\" :disabled=\"true\">\n                    <el-option\n                      v-for=\"item in dict.IE_STATUS\"\n                      :key=\"item.id\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>-->\n              <el-col :xs=\"48\" :sm=\"48\" :md=\"24\" :lg=\"24\" :xl=\"16\">\n                <el-form-item label=\"指标业务规则\">\n                  <el-input v-model=\"form.ieRule\" type=\"textarea\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"48\" :sm=\"48\" :md=\"24\" :lg=\"24\" :xl=\"16\">\n                <el-form-item label=\"指标描述\">\n                  <el-input v-model=\"form.ieDesc\" type=\"textarea\"/>\n                </el-form-item>\n              </el-col>\n              <!-- <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                <el-form-item label=\"取值方式\" prop=\"ieMethod\">\n                  <el-select v-model=\"form.ieMethod\" filterable placeholder=\"请选择\">\n                    <el-option\n                      v-for=\"item in dict.IE_METHOD\"\n                      :key=\"item.id\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>-->\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button type=\"text\" @click=\"crud.cancelCU\">取消</el-button>\n              <el-button :loading=\"crud.cu === 2\" type=\"primary\" @click=\"crud.submitCU\">确认</el-button>\n            </div>\n          </el-dialog>\n          <!--表格渲染-->\n          <el-table\n              ref=\"table\"\n              v-loading=\"crud.loading\"\n              :data=\"crud.data\"\n              size=\"small\"\n              style=\"width: 100%;\"\n              @selection-change=\"crud.selectionChangeHandler\"\n          >\n            <el-table-column type=\"selection\" width=\"55\"/>\n            <el-table-column v-if=\"columns.visible('id')\" prop=\"id\" label=\"指标ID\"/>\n            <el-table-column v-if=\"columns.visible('ieCode')\" prop=\"ieCode\" label=\"指标编号\"/>\n            <el-table-column\n                v-if=\"columns.visible('ieName')\"\n                prop=\"ieName\"\n                label=\"指标名称\"\n                :show-tooltip-when-overflow=\"true\"\n                width=\"100px\"\n            />\n            <el-table-column v-if=\"columns.visible('ieProp')\" prop=\"ieProp\" label=\"指标级别\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IE_PROP[scope.row.ieProp] }}\n              </template>\n            </el-table-column>\n            <el-table-column\n                v-if=\"columns.visible('ieDesc')\"\n                prop=\"ieDesc\"\n                :show-tooltip-when-overflow=\"true\"\n                width=\"100px\"\n                label=\"指标描述\"\n            />\n            <el-table-column\n                v-if=\"columns.visible('ieRule')\"\n                prop=\"ieRule\"\n                label=\"指标业务规则\"\n                :show-tooltip-when-overflow=\"true\"\n                width=\"100px\"\n            />\n            <!--<el-table-column v-if=\"columns.visible('calcFreq')\" prop=\"calcFreq\" label=\"计算频度\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.CALC_FREQ[scope.row.calcFreq] }}\n              </template>\n            </el-table-column>-->\n            <el-table-column v-if=\"columns.visible('status')\" prop=\"status\" label=\"指标状态\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IE_STATUS[scope.row.status] }}\n              </template>\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('ieDataUnit')\" prop=\"ieDataUnit\" label=\"指标单位\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IE_DATA_UNIT[scope.row.ieDataUnit] }}\n              </template>\n            </el-table-column>\n            <!--<el-table-column v-if=\"columns.visible('ieMethod')\" prop=\"ieMethod\" label=\"取值方式\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IE_METHOD[scope.row.ieMethod] }}\n              </template>\n            </el-table-column>-->\n            <!--<el-table-column prop=\"startDate\" :formatter=\"dateColumnFormat\" label=\"生效日期\" width=\"90px\"/>\n            <el-table-column\n              v-if=\"columns.visible('endDate')\"\n              prop=\"endDate\"\n              :formatter=\"dateColumnFormat\"\n              label=\"失效日期\"\n              width=\"90px\"\n            />-->\n            <!--<el-table-column v-if=\"columns.visible('retention')\" prop=\"retention\" label=\"结果保留期限\" width=\"100px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.RETENTION[scope.row.retention] }}\n              </template>\n            </el-table-column>-->\n            <el-table-column v-if=\"columns.visible('crtUserCode')\" prop=\"crtUserCode\" label=\"创建人\"/>\n            <el-table-column\n                v-if=\"columns.visible('crtDate')\"\n                :formatter=\"timeColumnFormat\"\n                prop=\"crtDate\"\n                label=\"创建日期\"\n                width=\"150px\"\n            />\n            <el-table-column v-if=\"columns.visible('updUserCode')\" prop=\"updUserCode\" label=\"修改人\"/>\n            <el-table-column\n                v-if=\"columns.visible('updDate')\"\n                :formatter=\"timeColumnFormat\"\n                prop=\"updDate\"\n                label=\"修改日期\"\n                width=\"150px\"\n            />\n            <el-table-column\n                v-permission=\"['admin','indIndicatorInfo:edit','indIndicatorInfo:del']\"\n                label=\"操作\"\n                width=\"200px\"\n\n                fixed=\"right\"\n            >\n              <template slot-scope=\"scope\">\n                <el-button\n                    v-permission=\"permission.details\"\n                    class=\"el-icon&#45;&#45;left\"\n                    style=\"display:inline-block;\"\n                    type=\"text\"\n                    @click=\"details(scope.row)\"\n                >\n                  详情\n                </el-button>\n                <el-button\n                    v-permission=\"permission.develop\"\n                    :disabled=\"scope.row.status != '2'\"\n                    class=\"el-icon&#45;&#45;left\"\n                    style=\"display:inline-block;\"\n                    type=\"text\"\n                    @click=\"deriveDevelop(scope.row)\"\n                >\n                  开发\n                </el-button>\n                <el-button\n                    slot=\"left\"\n                    prop=\"manageDept\"\n                    :disabled=\" scope.row.manageDept != user.deptId || scope.row.status != '5'\"\n                    v-permission=\"permission.stopUsing\"\n                    class=\"el-icon&#45;&#45;left\"\n                    type=\"text\"\n                    style=\"display:inline-block;\"\n                    @click=\"stopUsing(scope.row)\"\n                >\n                  停用\n                </el-button>\n<!--                <udOperation\n                    :data=\"scope.row\"\n                    :permission=\"permission\"\n                    style=\"display:inline-block;\"\n                />-->\n              </template>\n            </el-table-column>\n          </el-table>\n          <!--分页组件-->\n          <pagination/>\n          <arithmetic ref=\"arithmetic\" @func=\"refQuery\"/>\n          <sqlCheck ref=\"sqlCheck\"/>\n          <limitRule ref=\"limitRule\"/>\n          <lookDetails ref=\"lookDetails\"/>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n",null]}