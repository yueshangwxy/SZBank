{"remainingRequest":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\details\\toStartBaseDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\details\\toStartBaseDetails.vue","mtime":1624946606000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//import { getDepts } from '@/api/system/dept'\nimport Treeselect from '@riophae/vue-treeselect'\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\n//import CRUD from '@crud/crud'\nimport { add, updateStatus } from '@/api/indicators/indIndicatorInfo'\n//import request from '@/utils/request'\nexport default {\n  components: {\n    Treeselect\n  },\n  dicts: ['IE_PROP', 'IE_TYPE', 'IE_TARGET_TYPE', 'IE_METHOD', 'CALC_FREQ', 'IE_STATUS', 'IE_DATA_UNIT', 'RETENTION', 'EXPRESSION'],\n  data() {\n    return {\n      detailsDialog: false,\n      title: '',\n      form: {},\n      atom: [],\n      dimInfo: [],\n      measureInfo: [],\n      depts: [], // 部门数组\n      viewDept: [],\n      rules: {\n        ieDesc: [\n          { required: true, message: '指标描述不能为空', trigger: 'change' }\n        ],\n        ieRule: [\n          { required: true, message: '指标业务规则不能为空', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  mounted() {\n    console.log(this.form)\n  },\n  methods: {\n    // 启用按钮\n    startUpdate(form) {\n      this.$refs['form'].validate(valid => {\n        console.log('form', valid)\n        if (!valid) {\n          return\n        } else {\n          /*********************begin**************************/\n          let temp = 0\n          const param = []\n          const indIndicatorInfo = this.form\n          indIndicatorInfo.status = '1'\n          indIndicatorInfo.id = null\n          indIndicatorInfo.enable = \"false\"\n          console.log('indIndicatorInfo = ' , indIndicatorInfo)\n\n          // param.push(indIndicatorInfo)\n\n          this.$confirm(`确定修改指标数据吗?`, '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            add(indIndicatorInfo).then(returnData => {\n              if (returnData.code === 0) {\n                this.$message({\n                  type: 'success',\n                  message: '操作成功 '\n                })\n                this.detailsDialog = false\n              } else {\n                this.$message({\n                  type: 'error',\n                  message: '操作失败!错误原因:' + returnData.msg\n                })\n              }\n            })\n          })\n          /*********************end**************************/\n\n        }\n      })\n    }\n  }\n\n}\n\n",null]}