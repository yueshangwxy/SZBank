{"remainingRequest":"C:\\Users\\Evicce\\Desktop\\工作\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Evicce\\Desktop\\工作\\code2\\indicator\\Pncui-Indicator\\node_modules\\eladmin-common\\src\\views\\components\\Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Evicce\\Desktop\\工作\\code2\\indicator\\Pncui-Indicator\\node_modules\\eladmin-common\\src\\views\\components\\Editor.vue","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\工作\\code2\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\工作\\code2\\indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Evicce\\Desktop\\工作\\code2\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\工作\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport { upload } from '../../utils/upload'\nimport E from 'wangeditor'\nexport default {\n  name: 'Editor',\n  data() {\n    return {\n      editorContent:\n        `\n        <ul>\n          <li>富文本中图片上传使用的是 SM.MS 图床：<a style=\"color: #42b983\" target=\"_blank\" href=\"https://sm.ms/\">sm.ms</a></li>\n          <li>更多帮助请查看官方文档：<a style=\"color: #42b983\" target=\"_blank\" href=\"https://www.kancloud.cn/wangfupeng/wangeditor3/332599\">wangEditor</a></li>\n        </ul>`\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'imagesUploadApi'\n    ])\n  },\n  mounted() {\n    const _this = this\n    var editor = new E(this.$refs.editor)\n    // 自定义菜单配置\n    editor.customConfig.zIndex = 10\n    // 文件上传\n    editor.customConfig.customUploadImg = function(files, insert) {\n      // files 是 input 中选中的文件列表\n      // insert 是获取图片 url 后，插入到编辑器的方法\n      files.forEach(image => {\n        upload(_this.imagesUploadApi, image).then(data => {\n          insert(data.data.url)\n        })\n      })\n    }\n    editor.customConfig.onchange = (html) => {\n      this.editorContent = html\n    }\n    editor.create()\n    // 初始化数据\n    editor.txt.html(this.editorContent)\n  }\n}\n",null]}