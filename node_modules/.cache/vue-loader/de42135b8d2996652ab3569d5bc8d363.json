{"remainingRequest":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\atom\\index.vue?vue&type=template&id=7b3dd1fe&","dependencies":[{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\atom\\index.vue","mtime":1608778933000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-row :gutter=\"20\">\n    <!--侧边分类数据-->\n    <el-col :xs=\"9\" :sm=\"6\" :md=\"4\" :lg=\"4\" :xl=\"4\">\n      <category type=\"0\" @node-click=\"handleCategoryClick\" />\n    </el-col>\n    <!--用户数据-->\n    <el-col :xs=\"15\" :sm=\"18\" :md=\"20\" :lg=\"20\" :xl=\"20\">\n      <!--工具栏-->\n      <div class=\"head-container\">\n        <div v-if=\"crud.props.searchToggle\">\n          <!-- 搜索 -->\n          <el-input\n            v-model=\"query.bizCode\"\n            clearable\n            size=\"small\"\n            placeholder=\"指标编号\"\n            style=\"width: 200px;\"\n            class=\"filter-item\"\n            @keyup.enter.native=\"crud.toQuery\"\n          />\n          <el-input\n            v-model=\"query.bizName\"\n            clearable\n            size=\"small\"\n            placeholder=\"指标名称\"\n            style=\"width: 200px;\"\n            class=\"filter-item\"\n            @keyup.enter.native=\"crud.toQuery\"\n          />\n          <el-input\n            v-model=\"query.bizTabCode\"\n            clearable\n            size=\"small\"\n            placeholder=\"存储表名\"\n            style=\"width: 200px;\"\n            class=\"filter-item\"\n            @keyup.enter.native=\"crud.toQuery\"\n          />\n          <rrOperation :crud=\"crud\" />\n        </div>\n        <!--如果想在工具栏加入更多按钮，可以使用插槽方式， slot = 'left' or 'right'-->\n        <crudOperation :permission=\"permission\">\n          <el-button slot=\"right\" v-permission=\"permission.processA\" class=\"filter-item\" size=\"mini\" type=\"success\" icon=\"el-icon-setting\" :disabled=\"crud.selections.length === 0\" @click=\"processA(crud.selections)\">计算</el-button>\n        </crudOperation>\n        <!--计算进入选择日期页面-->\n        <el-dialog :visible.sync=\"processDialog\" width=\"400px\">\n          <template>\n            <div class=\"block\">\n              <el-date-picker v-model=\"dateValue\" type=\"date\" placeholder=\"选择日期\" />\n              <el-button type=\"primary\" plain @click=\"processB\">确定</el-button>\n            </div>\n          </template>\n        </el-dialog>\n        <!--表单组件-->\n        <el-dialog :close-on-click-modal=\"false\" :before-close=\"crud.cancelCU\" :visible.sync=\"crud.status.cu > 0\" :title=\"crud.status.title\" width=\"60%\">\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" size=\"small\" label-width=\"100px\">\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n                <el-form-item label=\"指标编号\" prop=\"bizCode\">\n                  <el-input v-model=\"form.bizCode\" placeholder=\"系统自动生成...\" :disabled=\"true\" style=\"width: 42%;\" />\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                <el-form-item label=\"指标名称\" prop=\"bizName\">\n                  <el-input v-model=\"form.bizName\" />\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                <el-form-item label=\"指标类别\" prop=\"ieProp\">\n                  <el-select v-model=\"form.ieProp\" filterable placeholder=\"请选择\" style=\"width: 100%;\">\n                    <el-option\n                      v-for=\"item in dict.IE_PROP\"\n                      :key=\"item.id\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                <el-form-item label=\"数据源\" prop=\"sourceDataSource\">\n                  <el-select v-model=\"form.sourceDataSource\" filterable placeholder=\"请选择\" style=\"width: 100%;\">\n                    <el-option\n                      v-for=\"item in sourceData\"\n                      :key=\"item.id\"\n                      :label=\"item.datasourceName\"\n                      :value=\"item.id\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                <el-form-item label=\"目标数据源\" prop=\"targetDataSource\">\n                  <el-select v-model=\"form.targetDataSource\" filterable placeholder=\"请选择\" style=\"width: 100%;\" @change=\"dataSourceChangeHandle\">\n                    <el-option\n                      v-for=\"item in sourceData\"\n                      :key=\"item.id\"\n                      :label=\"item.datasourceName\"\n                      :value=\"item.id\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n          <el-form-item label=\"是否新建表\" prop=\"ieProp\">\n            <el-select v-model=\"form.createTable\" filterable placeholder=\"请选择\" @change=\"createTableChangeHandle\">\n              <el-option\n                v-for=\"item in dict.YN\"\n                :key=\"item.id\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>-->\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n          <el-form-item label=\"是否共用表\" prop=\"ieProp\">\n            <el-select v-model=\"form.tableShare\" filterable placeholder=\"请选择\" @change=\"\">\n              <el-option\n                v-for=\"item in dict.YN\"\n                :key=\"item.id\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>-->\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                <el-form-item label=\"保留历史\" prop=\"ieProp\">\n                  <el-select v-model=\"form.keepHistory\" filterable placeholder=\"请选择\" style=\"width: 100%;\">\n                    <el-option\n                      v-for=\"item in dict.YN\"\n                      :key=\"item.id\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                <el-form-item label=\"存储表名\" prop=\"bizTabCode\">\n                  <el-select v-model=\"form.bizTabCode\" filterable placeholder=\"请选择\" :disabled=\"form.createTable==='1'?true:false\" style=\"width: 100%;\" @change=\"bizTabCodeChange\">\n                    <el-option\n                      v-for=\"item in tableInfo\"\n                      :key=\"item.remark\"\n                      :label=\"item.remark\"\n                      :value=\"item.tableName\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <!-- <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"指标状态\" prop=\"status\">\n                <el-select v-model=\"form.status\" filterable placeholder=\"请选择\">\n                  <el-option\n                    v-for=\"item in dict.IE_STATUS\"\n                    :key=\"item.id\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-col>-->\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n                <el-form-item label=\"指标描述\">\n                  <el-input v-model=\"form.bizDesc\" style=\"width: 100%;\" />\n                </el-form-item>\n              </el-col>\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">-->\n              <!--<el-form-item label=\"业务标志\">\n          <el-input v-model=\"form.bizFlag\" style=\"width: 370px;\" />\n        </el-form-item>-->\n              <!--</el-col>-->\n\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n        <el-form-item label=\"计算顺序\">\n          <el-input v-model=\"form.calcSeq\" style=\"width: 200px;\" />\n        </el-form-item>\n        </el-col>-->\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n                <el-form-item label=\"取数SQL\" prop=\"bizCalcSql\">\n                  <el-input v-model=\"form.bizCalcSql\" type=\"textarea\" style=\"height: 50px\" />\n                </el-form-item>\n              </el-col>\n              <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n              <el-form-item label=\"计算频度\">\n            <el-input v-model=\"form.calcFreq\" style=\"width: 370px;\" />\n          </el-form-item>\n          </el-col>-->\n            </el-form>\n          </el-col>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button class=\"\" size=\"mini\" type=\"success\" @click=\"atomDimensionHandle\">维度设置</el-button>\n            <el-button :loading=\"crud.cu === 2\" type=\"primary\" @click=\"crud.submitCU\">确认</el-button>\n            <el-button type=\"text\" @click=\"crud.cancelCU\">取消</el-button>\n          </div>\n        </el-dialog>\n        <!--表格渲染-->\n        <el-table ref=\"table\" v-loading=\"crud.loading\" :data=\"crud.data\" size=\"small\" style=\"width: 100%;\" @selection-change=\"crud.selectionChangeHandler\">\n          <el-table-column type=\"selection\" width=\"55\" />\n          <!--<el-table-column v-if=\"columns.visible('id')\" prop=\"id\" label=\"主键\" />-->\n          <!--<el-table-column v-if=\"columns.visible('categoryId')\" prop=\"categoryId\" label=\"指标分类ID(树状)\" />-->\n          <el-table-column v-if=\"columns.visible('bizCode')\" prop=\"bizCode\" label=\"原子指标编号\" width=\"100px\" />\n          <el-table-column v-if=\"columns.visible('bizName')\" prop=\"bizName\" label=\"原子指标名称\" width=\"100px\" />\n          <el-table-column v-if=\"columns.visible('ieProp')\" prop=\"ieProp\" label=\"指标类别\" width=\"100px\">\n            <template slot-scope=\"scope\">\n              {{ dict.label.IE_PROP[scope.row.ieProp] }}\n            </template>\n          </el-table-column>\n          <el-table-column v-if=\"columns.visible('sourceDataSource')\" prop=\"sourceDataSource\" label=\"数据源\" :formatter=\"toSourceDataName\" :show-overflow-tooltip=\"true\"/>\n          <el-table-column v-if=\"columns.visible('targetDataSource')\" prop=\"targetDataSource\" label=\"目标数据源\" :formatter=\"toTargetDataName\" :show-overflow-tooltip=\"true\"/>\n          <!--<el-table-column v-if=\"columns.visible('createTable')\" prop=\"createTable\" label=\"是否新建表\" width=\"100px\" />-->\n          <!--<el-table-column v-if=\"columns.visible('keepHistory')\" prop=\"keepHistory\" label=\"是否保留历史\" width=\"100px\" >\n            <template slot-scope=\"scope\">\n              {{ dict.label.YN[scope.row.keepHistory] }}\n            </template>\n          </el-table-column>-->\n          <el-table-column v-if=\"columns.visible('bizTabCode')\" prop=\"bizTabCode\" label=\"存储表名\" width=\"150px\"/>\n          <!--<el-table-column v-if=\"columns.visible('bizFlag')\" prop=\"bizFlag\" label=\"业务标志\" />-->\n          <el-table-column v-if=\"columns.visible('bizCalcSql')\" prop=\"bizCalcSql\" label=\"取数SQL\" :show-overflow-tooltip=\"true\" />\n          <el-table-column v-if=\"columns.visible('dimNames')\" prop=\"dimNames\" label=\"维度名称\" :show-overflow-tooltip=\"true\" />\n          <el-table-column v-if=\"columns.visible('bizDesc')\" prop=\"bizDesc\" label=\"描述\" width=\"100px\" />\n          <!--<el-table-column v-if=\"columns.visible('calcSeq')\" prop=\"calcSeq\" label=\"计算顺序\" />\n          <el-table-column v-if=\"columns.visible('calcFreq')\" prop=\"calcFreq\" label=\"计算频度\" />-->\n          <el-table-column v-if=\"columns.visible('crtUserCode')\" prop=\"crtUserCode\" label=\"创建人\" />\n          <el-table-column v-if=\"columns.visible('crtOrgCode')\" prop=\"crtOrgCode\" label=\"创建机构\" />\n          <el-table-column v-if=\"columns.visible('crtDate')\" prop=\"crtDate\" label=\"创建日期\">\n            <template slot-scope=\"scope\">\n              <span>{{ parseTime(scope.row.crtDate) }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column v-if=\"columns.visible('updUserCode')\" prop=\"updUserCode\" label=\"修改人\" />\n          <el-table-column v-if=\"columns.visible('updOrgCode')\" prop=\"updOrgCode\" label=\"修改机构\" />\n          <el-table-column v-if=\"columns.visible('updDate')\" prop=\"updDate\" label=\"修改日期\" >\n            <template slot-scope=\"scope\">\n              <span>{{ parseTime(scope.row.updDate) }}</span>\n            </template>\n          </el-table-column>\n          <!--<el-table-column v-if=\"columns.visible('tenant')\" prop=\"tenant\" label=\"租户\" />-->\n          <el-table-column v-permission=\"['admin','indAtomInfo:edit','indAtomInfo:del']\" label=\"操作\" width=\"200px\" align=\"center\" fixed=\"right\">\n            <template slot-scope=\"scope\">\n              <el-button\n                slot=\"left\"\n                v-permission=\"permission.details\"\n                class=\"el-icon--left\"\n                type=\"info\"\n                style=\"margin-bottom:5px !important\"\n                @click=\"toSelectOne(scope.row)\"\n              >\n                详情\n              </el-button>\n              <udOperation\n                :data=\"scope.row\"\n                :permission=\"permission\"\n                class=\"el-icon--right\"\n                style=\"display:inline-block;\"\n              />\n            </template>\n          </el-table-column>\n        </el-table>\n        <!--分页组件-->\n        <pagination />\n        <dimensionPage ref=\"dimensionPage\" :biz-tab-code-dis=\"bizTabCodeDis\" @func=\"getAtomDimensions\" />\n        <atomPage ref=\"atomPage\" />\n      </div>\n    </el-col>\n  </el-row>\n</div>\n",null]}