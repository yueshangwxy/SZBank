{"remainingRequest":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\code\\indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\atom\\hisIndex.vue?vue&type=template&id=437a30ad&","dependencies":[{"path":"F:\\code\\indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\atom\\hisIndex.vue","mtime":1637905698178},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n  <div class=\"indicator\">\n    <el-row :gutter=\"20\">\n      <!--用户数据-->\n      <el-col>\n        <!--工具栏-->\n        <div class=\"head-container\">\n          <div v-if=\"crud.props.searchToggle\">\n          <!-- 搜索 -->\n          <el-input\n              v-model=\"query.ieId\"\n              clearable\n              size=\"small\"\n              placeholder=\"指标ID\"\n              style=\"width: 180px;\"\n              class=\"filter-item\"\n              @keyup.enter.native=\"crud.toQuery\"\n          />\n          <rrOperation :crud=\"crud\"/>\n        </div>\n          <!--表单组件-->\n          <el-dialog :close-on-click-modal=\"false\" :before-close=\"crud.cancelCU\" :visible.sync=\"crud.status.cu > 0\"\n                     :title=\"crud.status.title\" width=\"65%\" v-show=\"formDialog\"\n          >\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" size=\"small\" label-width=\"100px\">\n                <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" style=\"display: none\">\n                  <el-form-item label=\"指标编号\" prop=\"bizCode\" label-width=\"110px\">\n                    <el-input v-model=\"form.bizCode\" placeholder=\"系统自动生成...\" :disabled=\"true\" style=\"width: 40%;\"/>\n                  </el-form-item>\n                </el-col>\n                <el-divider content-position=\"center\">基础信息</el-divider>\n                <el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标类型\" prop=\"ieProp\" label-width=\"110px\">\n                      <el-select v-model=\"form.ieProp\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IE_PROP\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" v-if=\"form.ieProp == 3\">\n                    <el-form-item label=\"根指标名称\" prop=\"genBizName\" label-width=\"110px\">\n                      <el-select v-model=\"form.genBizName\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in genIndArr\"\n                            :key=\"item.id\"\n                            :label=\"item.bizName\"\n                            :value=\"item.id\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标名称\" prop=\"bizName\" label-width=\"110px\">\n                      <el-input v-model=\"form.bizName\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\"  @blur=\"validateBizNameContract\"/>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标一级分类\" prop=\"indFirstType\" label-width=\"110px\">\n                      <el-select v-model=\"form.indFirstType\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\"\n                      @change=\"initIndSecondType(form.indFirstType,'form')\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in formIndFirstType\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标二级分类\" prop=\"indSecondType\" label-width=\"110px\">\n                      <el-select v-model=\"form.indSecondType\" filterable clearable placeholder=\"请选择\"\n                                 style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\"\n                      >\n                        <el-option\n                            v-for=\"item in formIndSecondType\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" v-if=\"form.ieProp == 3\">\n                    <el-form-item label=\"维度1\" prop=\"dimension\" label-width=\"110px\">\n                      <el-select v-model=\"dimAndValueObject1.dimension\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dimInfoArr\"\n                            :key=\"item.id\"\n                            :label=\"item.categoryName\"\n                            :value=\"item.id\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" v-if=\"form.ieProp == 3\">\n                    <el-form-item label=\"维度值1\" prop=\"dimensionValue\" label-width=\"110px\">\n                      <el-select style=\"width: 95%\" filterable clearable placeholder=\"请选择\"\n                                 v-model=\"dimAndValueObject1.dimensionValue\" :disabled=\"crud.status.flag == 2\"\n                      >\n                        <el-option style=\"height: auto;\" :disabled=\"true\" value=\"1\">\n                          <el-tree\n                              :data=\"dimValueArr\"\n                              show-checkbox\n                              node-key=\"id\"\n                              ref=\"dimensionValue1Tree\"\n                              highlight-current\n                              :props=\"defaultProps\"\n                              @check-change=\"handleDimValueClick1\"\n                          >\n                            <span slot-scope=\"{ node, data }\" class=\"span-ellipsis\">\n                              <span :title=\"data.categoryName\">{{ data.categoryName }}</span>\n                            </span>\n                          </el-tree>\n                        </el-option>\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" v-if=\"form.ieProp == 3\">\n                    <el-form-item label=\"维度2\" prop=\"dimension\" label-width=\"110px\">\n                      <el-select v-model=\"dimAndValueObject2.dimension\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dimInfoArr\"\n                            :key=\"item.id\"\n                            :label=\"item.categoryName\"\n                            :value=\"item.id\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" v-if=\"form.ieProp == 3\">\n                    <el-form-item label=\"维度值2\" prop=\"dimensionValue\" label-width=\"110px\">\n                      <el-select style=\"width: 85%\" filterable clearable placeholder=\"请选择\"\n                                 v-model=\"dimAndValueObject2.dimensionValue\" :disabled=\"crud.status.flag == 2\"\n                      >\n                        <el-option style=\"height: auto;\" :disabled=\"true\" value=\"1\">\n                          <el-tree\n                              :data=\"dimValueArr\"\n                              show-checkbox\n                              node-key=\"id\"\n                              ref=\"dimensionValue1Tree\"\n                              highlight-current\n                              :props=\"defaultProps\"\n                              @check-change=\"handleDimValueClick2\"\n                          >\n                            <span slot-scope=\"{ node, data }\" class=\"span-ellipsis\">\n                              <span :title=\"data.categoryName\">{{ data.categoryName }}</span>\n                            </span>\n                          </el-tree>\n                        </el-option>\n                      </el-select>\n                      <el-button\n                          class=\"filter-item\"\n                          type=\"primary\"\n                          icon=\"el-icon-plus\"\n                          circle\n                          size=\"mini\"\n                          v-if=\"form.ieProp == 3\"\n                          @click=\"addDimensionAndValue\"\n                      >\n                      </el-button>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" v-for=\"item in dimensionArr\" v-if=\"form.ieProp == 3\">\n                    <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" >\n                      <el-form-item :label=\"dimensionTitle + item\" label-width=\"100px\">\n                        <el-select v-model=\"('dimAndValueObject' + item)['dimension']\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                          <el-option\n                              v-for=\"item in dimInfoArr\"\n                              :key=\"item.id\"\n                              :label=\"item.categoryName\"\n                              :value=\"item.id\"\n                          />\n                        </el-select>\n                      </el-form-item>\n                    </el-col>\n                    <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                      <el-form-item :label=\"dimensionValueTitle + item\" label-width=\"110px\">\n                        <el-select v-model=\"('dimAndValueObject' + item)['dimensionValue']\" filterable clearable placeholder=\"请选择\" style=\"width: 88%;\" :disabled=\"crud.status.flag == 2\">\n                          <el-option style=\"height: auto;\" :disabled=\"true\" value=\"1\">\n                            <el-tree\n                                :data=\"dimValueArr\"\n                                show-checkbox\n                                node-key=\"id\"\n                                ref=\"dimensionValue1Tree\"\n                                highlight-current\n                                :props=\"defaultProps\"\n                                @check-change=\"handleDimValueClick3\"\n                            >\n                            <span slot-scope=\"{ node, data }\" class=\"span-ellipsis\">\n                              <span :title=\"data.categoryName\">{{ data.categoryName }}</span>\n                            </span>\n                            </el-tree>\n                          </el-option>\n                        </el-select>\n                        <el-button\n                            class=\"filter-item\"\n                            type=\"primary\"\n                            icon=\"el-icon-delete\"\n                            size=\"mini\"\n                            @click=\"deleteDimensionAndValue(item)\"\n                            circle :disabled=\"crud.status.flag == 2\"\n                        >\n                        </el-button>\n                      </el-form-item>\n                    </el-col>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" v-if=\"form.ieProp == 3\">\n                    <el-form-item label=\"新增维度\" label-width=\"110px\">\n                      <el-button\n                          class=\"filter-item\"\n                          type=\"primary\"\n                          icon=\"el-icon-plus\"\n                          @click=\"addDimension\" :disabled=\"crud.status.flag == 2\"\n                      >\n                      </el-button>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"新增维度值\" label-width=\"110px\" v-if=\"form.ieProp == 3\">\n                      <el-button\n                          class=\"filter-item\"\n                          type=\"primary\"\n                          icon=\"el-icon-plus\"\n                          @click=\"addDimensionValue\" :disabled=\"crud.status.flag == 2\"\n                      >\n                      </el-button>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"业务属主部门\" prop=\"businessDept\" label-width=\"110px\">\n<!--                      <el-select v-model=\"form.businessDept\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.BUSSINESS_DEPT\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>-->\n                      <treeselect v-model=\"form.businessDept\" :options=\"depts\"  style=\"width: 200px\" size=\"small\"  placeholder=\"选择机构\" class=\"filter-item\"/>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标层级\" prop=\"indLevel\" label-width=\"110px\">\n                      <el-select v-model=\"form.indLevel\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IND_LEVEL\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"是否部门内部都可查询指标结果\" prop=\"isDeptQuery\" label-width=\"110px\">\n                      <el-checkbox v-model=\"form.isDeptQuery\" :disabled=\"crud.status.flag == 2\"></el-checkbox>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标结果是否会补录\" prop=\"isAdditionalRecording\" label-width=\"110px\">\n                      <el-checkbox v-model=\"form.isAdditionalRecording\" :disabled=\"crud.status.flag == 2\"></el-checkbox>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标定义\" prop=\"indDefinition\" label-width=\"110px\">\n                      <el-input type=\"textarea\" v-model=\"form.indDefinition\" style=\"width: 95%;\" :rows=\"5\" :disabled=\"crud.status.flag == 2\"></el-input>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标口径规则\" prop=\"indDefRule\" label-width=\"110px\">\n                      <span>{{ indDefRuleStr }}</span>\n                      <br>\n                      <el-input type=\"textarea\" v-model=\"form.indDefRule\" style=\"width: 95%;\" :rows=\"5\" :disabled=\"crud.status.flag == 2\"></el-input>\n                      <br>\n                      <el-button type=\"text\" v-if=\"form.ieProp == 2\" @click=\"indDefRulePlus\" :disabled=\"crud.status.flag == 2\">+</el-button>\n                      <el-button type=\"text\" v-if=\"form.ieProp == 2\" @click=\"indDefRuleSubtraction\" :disabled=\"crud.status.flag == 2\">-</el-button>\n                      <el-button type=\"text\" v-if=\"form.ieProp == 2\" @click=\"indDefRuleMultiplication\" :disabled=\"crud.status.flag == 2\">×</el-button>\n                      <el-button type=\"text\" v-if=\"form.ieProp == 2\" @click=\"indDefRuleDivision\" :disabled=\"crud.status.flag == 2\">/</el-button>\n                      <el-button\n                          class=\"filter-item\"\n                          type=\"primary\"\n                          size=\"mini\"\n                          icon=\"el-icon-monitor\"\n                          v-if=\"form.ieProp == 2\"\n                          @click=\"showIndDefRuleDialog\"\n                          :disabled=\"crud.status.flag == 2\"\n                      >\n                      </el-button>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-row>\n                      <el-col :span=\"12\">\n                        <el-form-item label=\"指标取值范围\" prop=\"indValueRange1\" label-width=\"110px\">\n                          <el-input type=\"number\" v-model=\"form.indValueRange1\" style=\"width: 100%;\" :disabled=\"crud.status.flag == 2\"></el-input>\n                        </el-form-item>\n                      </el-col>\n                      <el-col :span=\"12\">\n                        <el-form-item prop=\"indValueRange2\">\n                          <el-input type=\"number\" v-model=\"form.indValueRange2\" style=\"width: 85%;\" :disabled=\"crud.status.flag == 2\"></el-input>\n                        </el-form-item>\n                      </el-col>\n                    </el-row>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标内部警戒值\" prop=\"indInnerWarnValue\" label-width=\"110px\">\n                      <el-col v-for=\"item in indInnerWarnValueArr\">\n                        <el-button type=\"text\" @click=\"indInnerWarnValueBiggerClick\" :disabled=\"crud.status.flag == 2\">></el-button>\n                        <el-button type=\"text\" @click=\"indInnerWarnValueEqualsClick\" :disabled=\"crud.status.flag == 2\">=</el-button>\n                        <el-button type=\"text\" @click=\"indInnerWarnValueSmallerClick\" :disabled=\"crud.status.flag == 2\"><</el-button>\n                        <el-button type=\"text\" @click=\"indInnerWarnValueNotEqualsClick\" :disabled=\"crud.status.flag == 2\">≠</el-button>\n                        <el-input type=\"number\" v-model=\"form.indInnerWarnValue\" style=\"width: 31%;\" :disabled=\"crud.status.flag == 2\"></el-input>\n                        表示预警\n                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-plus\" @click=\"addIndInnerWarnValue\" size=\"mini\" circle v-if=\"item == 1\" :disabled=\"crud.status.flag == 2\">\n                        </el-button>\n                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-delete\" @click=\"delIndInnerWarnValue(item)\" size=\"mini\" circle v-if=\"item != 1\" :disabled=\"crud.status.flag == 2\">\n                        </el-button>\n                      </el-col>\n<!--                      <el-col v-for=\"item in indInnerWarnPassValueArr\">-->\n<!--                        <el-button type=\"text\">></el-button>-->\n<!--                        <el-button type=\"text\">=</el-button>-->\n<!--                        <el-button type=\"text\"><</el-button>-->\n<!--                        <el-button type=\"text\">≠</el-button>-->\n<!--                        <el-input v-model=\"form.indInnerWarnPassValue\" style=\"width: 31%;\"></el-input>-->\n<!--                        表示通过-->\n<!--                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-plus\" @click=\"addIndInnerWarnPassValue\" size=\"mini\" circle v-if=\"item == 1\">-->\n<!--                        </el-button>-->\n<!--                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-delete\" @click=\"delIndInnerWarnPassValue(item)\" size=\"mini\" circle v-if=\"item != 1\">-->\n<!--                        </el-button>-->\n<!--                      </el-col>-->\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标监管警戒值\" prop=\"indMonWarnValue\" label-width=\"110px\">\n                      <el-col v-for=\"item in indMonWarnValueArr\">\n                        <el-button type=\"text\" @click=\"indMonWarnValueBiggerClick\" :disabled=\"crud.status.flag == 2\">></el-button>\n                        <el-button type=\"text\" @click=\"indMonWarnValueEqualsClick\" :disabled=\"crud.status.flag == 2\">=</el-button>\n                        <el-button type=\"text\" @click=\"indMonWarnValueSmallerClick\" :disabled=\"crud.status.flag == 2\"><</el-button>\n                        <el-button type=\"text\" @click=\"indMonWarnValueNotEqualsClick\" :disabled=\"crud.status.flag == 2\">≠</el-button>\n                        <el-input type=\"number\" v-model=\"form.indMonWarnValue\" style=\"width: 31%;\" :disabled=\"crud.status.flag == 2\"></el-input>\n                        表示预警\n                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-plus\" @click=\"addIndMonWarnValue\" size=\"mini\" circle v-if=\"item == 1\" :disabled=\"crud.status.flag == 2\">\n                        </el-button>\n                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-delete\" @click=\"delIndMonWarnValue(item)\" size=\"mini\" circle v-if=\"item != 1\" :disabled=\"crud.status.flag == 2\">\n                        </el-button>\n                      </el-col>\n<!--                      <el-col v-for=\"item in indMonWarnPassValueArr\">-->\n<!--                        <el-button type=\"text\">></el-button>-->\n<!--                        <el-button type=\"text\">=</el-button>-->\n<!--                        <el-button type=\"text\"><</el-button>-->\n<!--                        <el-button type=\"text\">≠</el-button>-->\n<!--                        <el-input v-model=\"form.indMonWarnPassValue\" style=\"width: 31%;\"></el-input>-->\n<!--                        表示通过-->\n<!--                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-plus\" @click=\"addIndMonWarnPassValue\" size=\"mini\" circle v-if=\"item == 1\">-->\n<!--                        </el-button>-->\n<!--                        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-delete\" @click=\"delIndMonWarnPassValue(item)\" size=\"mini\" circle v-if=\"item != 1\">-->\n<!--                        </el-button>-->\n<!--                      </el-col>-->\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"币种\" prop=\"currency\" label-width=\"110px\">\n                      <el-select v-model=\"form.currency\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IND_CURRENCY\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                </el-col>\n                <el-col>\n                  <el-divider content-position=\"center\">指标加工规则详情</el-divider>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标数值属性\" prop=\"indValueType\" label-width=\"110px\">\n                      <el-select v-model=\"form.indValueType\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IND_VALUE_TYPE\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标生成频率\" prop=\"indFrequency\" label-width=\"110px\">\n                      <el-select v-model=\"form.indFrequency\" filterable multiple clearable placeholder=\"请选择\"\n                                 style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\"\n                      >\n                        <el-option\n                            v-for=\"item in dict.IND_FREQUENCY\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"度量单位\" prop=\"indCalType\" label-width=\"110px\">\n                      <el-select v-model=\"form.indCalType\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IND_CAL_TYPE\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"指标安全等级\" prop=\"indSafeLevel\" label-width=\"110px\">\n                      <el-select v-model=\"form.indSafeLevel\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IND_SAFE_LEVEL\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"监管属性\" prop=\"indMonField\" label-width=\"110px\">\n                      <el-select v-model=\"form.indMonField\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IND_MON_FIELD\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"权威加工系统\" prop=\"indProcessSys\" label-width=\"110px\">\n                      <el-select v-model=\"form.indProcessSys\" filterable clearable placeholder=\"请选择\"\n                                 style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\"\n                      >\n                        <el-option\n                            v-for=\"item in dict.IND_PROCESS_SYS\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"数据类型\" prop=\"indDataType\" label-width=\"110px\">\n                      <el-select v-model=\"form.indDataType\" filterable clearable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.IND_DATA_TYPE\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"数据格式\" prop=\"indDataForm\" label-width=\"110px\">\n                      <el-input v-model=\"form.indDataForm\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\"></el-input>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"参考依据\" prop=\"indReference\" label-width=\"110px\">\n                      <el-input v-model=\"form.indReference\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\"></el-input>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n                    <el-form-item label=\"是否需要实时加工\" prop=\"isRealTimeProcess\" label-width=\"110px\">\n                      <el-checkbox v-model=\"form.isRealTimeProcess\" :disabled=\"crud.status.flag == 2\"></el-checkbox>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" style=\"display: none\">\n                    <el-form-item label=\"数据源\" prop=\"sourceDataSource\" label-width=\"110px\">\n                      <el-select v-model=\"form.sourceDataSource\" filterable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in sourceData\"\n                            :key=\"item.id\"\n                            :label=\"item.datasourceName\"\n                            :value=\"item.id\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" style=\"display: none\">\n                    <el-form-item label=\"目标数据源\" prop=\"targetDataSource\" label-width=\"110px\">\n                      <el-select v-model=\"form.targetDataSource\" filterable placeholder=\"请选择\" style=\"width: 95%;\"\n                                 @change=\"dataSourceChangeHandle\" :disabled=\"crud.status.flag == 2\"\n                      >\n                        <el-option\n                            v-for=\"item in sourceData\"\n                            :key=\"item.id\"\n                            :label=\"item.datasourceName\"\n                            :value=\"item.id\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n              <el-form-item label=\"是否新建表\" prop=\"ieProp\">\n                <el-select v-model=\"form.createTable\" filterable placeholder=\"请选择\" @change=\"createTableChangeHandle\">\n                  <el-option\n                    v-for=\"item in dict.YN\"\n                    :key=\"item.id\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-col>-->\n                  <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n              <el-form-item label=\"是否共用表\" prop=\"ieProp\">\n                <el-select v-model=\"form.tableShare\" filterable placeholder=\"请选择\" @change=\"\">\n                  <el-option\n                    v-for=\"item in dict.YN\"\n                    :key=\"item.id\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-col>-->\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" style=\"display: none\">\n                    <el-form-item label=\"保留历史\" prop=\"ieProp\" label-width=\"110px\">\n                      <el-select v-model=\"form.keepHistory\" filterable placeholder=\"请选择\" style=\"width: 95%;\" :disabled=\"crud.status.flag == 2\">\n                        <el-option\n                            v-for=\"item in dict.YN\"\n                            :key=\"item.id\"\n                            :label=\"item.label\"\n                            :value=\"item.value\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" style=\"display: none\">\n                    <el-form-item label=\"存储表名\" prop=\"bizTabCode\" label-width=\"110px\">\n                      <el-select v-model=\"form.bizTabCode\" filterable placeholder=\"请选择\"\n                                 :disabled=\"(crud.status.flag != 2 && form.createTable=='1')\" style=\"width: 95%;\"\n                                 @change=\"bizTabCodeChange\"\n                      >\n                        <el-option\n                            v-for=\"item in tableInfo\"\n                            :key=\"item.remark\"\n                            :label=\"item.remark\"\n                            :value=\"item.tableName\"\n                        />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n                  <!-- <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n                  <el-form-item label=\"指标状态\" prop=\"status\">\n                    <el-select v-model=\"form.status\" filterable placeholder=\"请选择\">\n                      <el-option\n                        v-for=\"item in dict.IE_STATUS\"\n                        :key=\"item.id\"\n                        :label=\"item.label\"\n                        :value=\"item.value\"\n                      />\n                    </el-select>\n                  </el-form-item>\n                </el-col>-->\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" style=\"display: none\">\n                    <el-form-item label=\"指标描述\" label-width=\"110px\">\n                      <el-input v-model=\"form.bizDesc\" style=\"width: 98%;\" :disabled=\"crud.status.flag == 2\"/>\n                    </el-form-item>\n                  </el-col>\n                  <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">-->\n                  <!--<el-form-item label=\"业务标志\">\n              <el-input v-model=\"form.bizFlag\" style=\"width: 370px;\" />\n            </el-form-item>-->\n                  <!--</el-col>-->\n\n                  <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n            <el-form-item label=\"计算顺序\">\n              <el-input v-model=\"form.calcSeq\" style=\"width: 200px;\" />\n            </el-form-item>\n            </el-col>-->\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" v-if=\"form.isRealTimeProcess == true\">\n                    <el-form-item label=\"实时指标取数SQL\" prop=\"bizCalcSql\" label-width=\"110px\">\n                      <el-input v-model=\"form.bizCalcSql\" type=\"textarea\" style=\"height: 50px;width: 98%\" :rows=\"3\" :disabled=\"crud.status.flag == 2\"/>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n                    <el-form-item label=\"批量指标取数SQL\" prop=\"bizBatchCalcSql\" label-width=\"110px\">\n                      <el-input v-model=\"form.bizBatchCalcSql\" type=\"textarea\" style=\"height: 50px;width: 98%\" :rows=\"3\" :disabled=\"crud.status.flag == 2\"/>\n                    </el-form-item>\n                  </el-col>\n                  <!--<el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"8\">\n                  <el-form-item label=\"计算频度\">\n                <el-input v-model=\"form.calcFreq\" style=\"width: 370px;\" />\n              </el-form-item>\n              </el-col>-->\n                </el-col>\n                <el-col>\n                  <el-divider content-position=\"center\">指标统计项</el-divider>\n                  <el-col>\n                    <el-checkbox v-model=\"form.indCurrentValue\" :disabled=\"crud.status.flag == 2\">当期值</el-checkbox>\n                    <el-checkbox v-model=\"form.indContemporaneousValue\" :disabled=\"crud.status.flag == 2\">同期值</el-checkbox>\n                    <el-checkbox v-model=\"form.indYearOnYearIncrement\" :disabled=\"crud.status.flag == 2\">同比增量</el-checkbox>\n                    <el-checkbox v-model=\"form.indYearOnYearGrowth\" :disabled=\"crud.status.flag == 2\">同比增幅</el-checkbox>\n                    <el-checkbox v-model=\"form.indPreviousPeriodValue\" :disabled=\"crud.status.flag == 2\">上期值</el-checkbox>\n                    <el-checkbox v-model=\"form.indMonthOnMonthIncrement\" :disabled=\"crud.status.flag == 2\">环比增量</el-checkbox>\n                    <el-checkbox v-model=\"form.indMonthOnMonthGrowth\" :disabled=\"crud.status.flag == 2\">环比增幅</el-checkbox>\n                    <el-checkbox v-model=\"form.indInitialValueOfTheYear\" :disabled=\"crud.status.flag == 2\">年初值</el-checkbox>\n                    <el-checkbox v-model=\"form.indYearOnYearIncre\" :disabled=\"crud.status.flag == 2\">较年初增量</el-checkbox>\n                    <el-checkbox v-model=\"form.indIncreaseOverTheBeginningOfTheYear\" :disabled=\"crud.status.flag == 2\">较年初增幅</el-checkbox>\n                  </el-col>\n                </el-col>\n              </el-form>\n            </el-col>\n            <div slot=\"footer\" class=\"dialog-footer\">\n<!--              <el-button class=\"\" size=\"mini\" type=\"success\" @click=\"atomDimensionHandle\">维度设置</el-button>-->\n              <el-button v-if=\"crud.status.flag == 0 || crud.status.flag == 1\" type=\"text\" @click=\"crud.cancelCU\">取消</el-button>\n              <el-button v-if=\"crud.status.flag == 0 || crud.status.flag == 1\" :loading=\"crud.cu == 2\" type=\"primary\" @click=\"crud.submitCU\">确认</el-button>\n              <el-button v-if=\"crud.status.flag == 0 || crud.status.flag == 1\" :loading=\"crud.cu == 2\" type=\"primary\" @click=\"submitAndStartProcess(crud.form)\">确认并发起审批</el-button>\n              <el-button v-if=\"crud.status.flag == 2 \" type=\"text\" @click=\"crud.cancelCU\">关闭</el-button>\n            </div>\n          </el-dialog>\n          <!--表格渲染-->\n          <el-table ref=\"table\" v-loading=\"crud.loading\" :data=\"crud.data\" size=\"small\" style=\"width: 100%;\"\n                    @selection-change=\"crud.selectionChangeHandler\" border\n          >\n            <el-table-column type=\"selection\" width=\"55\"/>\n            <!--<el-table-column v-if=\"columns.visible('id')\" prop=\"id\" label=\"主键\" />-->\n            <!--<el-table-column v-if=\"columns.visible('categoryId')\" prop=\"categoryId\" label=\"指标分类ID(树状)\" />-->\n            <el-table-column v-if=\"columns.visible('bizCode')\" prop=\"bizCode\" label=\"指标编码\" width=\"100px\"/>\n            <el-table-column v-if=\"columns.visible('bizName')\" prop=\"bizName\" label=\"指标名称\" width=\"130px\"/>\n            <el-table-column label=\"指标分类\" style=\"height: 20px\"   width=\"200px\">\n              <el-table-column prop=\"indFirstTypeName\" label=\"一级分类\" width=\"100px\" />\n              <el-table-column prop=\"indSecondTypeName\" label=\"二级分类\" width=\"100px\" />\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('ieProp')\" prop=\"ieProp\" label=\"指标类型\" width=\"100px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IE_PROP[scope.row.ieProp] }}\n              </template>\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('businessDeptName')\" prop=\"businessDeptName\" label=\"业务属主部门\" width=\"100px\"/>\n            <el-table-column prop=\"indDeployStatus\" label=\"指标发布状态\" width=\"80px\">\n              <template slot-scope=\"scope\">\n                <span v-if=\"scope.row.indDeployStatus=='1'\">未发布</span>\n                <span v-if=\"scope.row.indDeployStatus=='2'\">已发布</span>\n                <span v-if=\"scope.row.indDeployStatus=='3'\">已废止</span>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"indVerifyStatus\" label=\"指标审批状态\" width=\"80px\">\n              <template slot-scope=\"scope\">\n                <span v-if=\"scope.row.indVerifyStatus=='1'\">草稿</span>\n                <span v-if=\"scope.row.indVerifyStatus=='2'\">审批中</span>\n                <span v-if=\"scope.row.indVerifyStatus=='3'\">拒绝</span>\n                <span v-if=\"scope.row.indVerifyStatus=='4'\">已通过审批</span>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"indDefinition\" label=\"指标定义\" width=\"150px\"/>\n            <el-table-column prop=\"indLevel\" label=\"指标层级\" width=\"80px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IND_LEVEL[scope.row.indLevel] }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"indStandSource\" label=\"标准来源\" width=\"100px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IND_STAND_SOURCE[scope.row.indStandSource] }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"indProcessSys\" label=\"权威加工系统\" width=\"120px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IND_PROCESS_SYS[scope.row.indProcessSys] }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"indVerifyId\" label=\"审批编号\" width=\"100px\"/>\n            <el-table-column v-if=\"columns.visible('bizDesc')\" prop=\"bizDesc\" label=\"描述\" width=\"100px\"/>\n            <el-table-column prop=\"crtUserCode\" label=\"录入人\"/>\n            <el-table-column prop=\"crtOrgCode\" label=\"录入人所属机构\"/>\n            <el-table-column v-if=\"columns.visible('crtDate')\" prop=\"crtDate\" label=\"创建日期\">\n              <template slot-scope=\"scope\">\n                <span>{{ parseTime(scope.row.crtDate) }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('updUserCode')\" prop=\"updUserCode\" label=\"修改人\"/>\n            <el-table-column v-if=\"columns.visible('updOrgCode')\" prop=\"updOrgCode\" label=\"修改机构\"/>\n            <el-table-column v-if=\"columns.visible('updDate')\" prop=\"updDate\" label=\"修改日期\">\n              <template slot-scope=\"scope\">\n                <span>{{ parseTime(scope.row.updDate) }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column v-permission=\"['admin','indAtomInfo:edit','indAtomInfo:del']\" label=\"操作\" width=\"80px\"\n                               fixed=\"right\"\n            >\n              <template slot-scope=\"scope\">\n                <el-button\n                    slot=\"left\"\n                    v-permission=\"permission.details\"\n                    class=\"el-icon--left\"\n                    type=\"info\"\n                    style=\"margin-bottom:3px !important\"\n                    size=\"mini\"\n                    @click=\"crud.toDetail(scope.row)\"\n                >\n                  历史详情\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <!--分页组件-->\n          <pagination/>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n",null]}