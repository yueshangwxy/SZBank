{"remainingRequest":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\myProcess\\pendingMyApproval.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\myProcess\\pendingMyApproval.vue","mtime":1651228661774},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650772030926},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650772030306},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650772030926},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650772056629}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    name: 'PendingMyApproval',\r\n    data() {\r\n        return {\r\n            searchInput: '',\r\n            dept: '',\r\n            status: '',\r\n            dateValue: '',\r\n            // 表格\r\n            tableData: [],\r\n            propList: [],\r\n            // 分页\r\n            pageSize: 5,\r\n            currentPage: 1,\r\n            total: 50,\r\n        }\r\n    },\r\n    created() {\r\n        this.propList = [\r\n            {\r\n                prop: 'PROC_INST_ID',\r\n                label: '申请编号',\r\n            },\r\n            {\r\n                prop: 'NAME',\r\n                label: '申请名称',\r\n            },\r\n            {\r\n                prop: 'DEPT_NAME',\r\n                label: '申请部门',\r\n            },\r\n            {\r\n                prop: 'CRT_USER',\r\n                label: '申请人',\r\n            },\r\n            {\r\n                prop: 'CRT_DATE',\r\n                label: '申请时间',\r\n            },\r\n            {\r\n                prop: 'STATUS',\r\n                label: '申请状态',\r\n                type: 'tag',\r\n            },\r\n        ]\r\n        \r\n        this.queryList()\r\n    },\r\n    methods: {\r\n        // 分页\r\n        handleSizeChange(val) {\r\n            console.log(`每页 ${val} 条`);\r\n        },\r\n        handleCurrentChange(val) {\r\n            console.log(`当前页: ${val}`);\r\n        },\r\n        // 列表查询\r\n        queryList() {\r\n            this.$api.waitApprove({\r\n                periodDateInterval: this.dateValue,// 时间控件\r\n                userName: '',\r\n                page: String(this.currentPage),\r\n                size: String(this.pageSize),\r\n                deptCode: this.dept,\r\n                name: this.searchInput,\r\n            }).then(res => {\r\n                console.log(res);\r\n                let data = res.data\r\n                this.tableData = data.records\r\n                this.total = data.total\r\n            })\r\n        },    \r\n        // 详情查看\r\n        viewDetails(row) {\r\n            console.log('详情查看',row.code);\r\n            console.log('详情查看',row.assetId);\r\n            this.$api.viewShopCarDetail({\r\n                assetId: row.assetId\r\n            }).then(res => {\r\n                console.log(res);\r\n                this.$router.push({\r\n                    path: '/detailsView/table',\r\n                    query: {\r\n                        res: res\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        // 通过\r\n        approve(row) {\r\n            console.log('通过',row.TASK_ID);\r\n            /* \r\n            taskId\t是\tstring\t任务id\r\n            submitType\t是\tstring\t提交类型 0 通过 1 拒绝\r\n            assignee\t否\tstring\t审批人\r\n            apprComment\t是\tstring\t审批意见\r\n            */\r\n            this.$api.completeTask({\r\n                taskId: row.TASK_ID,\r\n                submitType: '0',\r\n                assignee: '',\r\n                apprComment: '',\r\n            }).then(res => {\r\n                this.$message.success(res.msg)\r\n            })\r\n        },\r\n        // 拒绝\r\n        reject(row) {\r\n            console.log('拒绝',row.TASK_ID);\r\n            this.$api.completeTask({\r\n                taskId: row.TASK_ID,\r\n                submitType: '1',\r\n                assignee: '',\r\n                apprComment: '',\r\n            }).then(res => {\r\n                this.$message.success(res.msg)\r\n            })\r\n        },\r\n    },\r\n\r\n}\r\n",null]}