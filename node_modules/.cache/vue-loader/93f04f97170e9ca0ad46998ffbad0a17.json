{"remainingRequest":"D:\\SZBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SZBank\\node_modules\\eladmin-system\\src\\views\\system\\dict\\dictDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SZBank\\node_modules\\eladmin-system\\src\\views\\system\\dict\\dictDetail.vue","mtime":1650418877003},{"path":"D:\\SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\SZBank\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\SZBank\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport crud from '@eladmin/mixins/crud'\nimport crudDictDetail,{getList} from '../../../api/system/dictDetail'\nimport {getDicts} from \"eladmin-system/src/api/system/dict\";\n\nexport default {\n  mixins: [crud],\n  dicts: ['user_status'],\n  data() {\n    return {\n      title: '参数详情',\n      sort: ['sort,asc', 'id,desc'],\n      crudMethod: { ...crudDictDetail },\n      dictName: '',\n      detailArr:[],\n      form: { id: null, label: null, value: null, dict: { id: null }, sort: 999, enabled: true },\n      rules: {\n        label: [\n          { required: true, message: '请输入参数标签', trigger: 'blur' }\n        ],\n        sort: [\n          { required: true, message: '请输入序号', trigger: 'blur', type: 'number' }\n        ],\n        value: [\n            { required: true, message: '请输入参数值', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    // 获取数据前设置好接口地址\n    beforeInit() {\n      this.url = 'api/dictDetail'\n      if (this.dictName) {\n        this.params['dictName'] = this.dictName\n      }\n      getList(this.dictName).then(data =>{\n        this.detailArr = data.content\n      })\n      return true\n    },\n    beforeSubmitMethod(){\n      for(var i=0;i<Object.keys(this.detailArr).length;i++){\n        if(this.form.id == null){\n          if(this.form.label == this.detailArr[i].label){\n            this.$message({\n              message: '参数标签不可以重复！',\n              type: 'error'\n            });\n            return false;\n          }else if(this.form.value == this.detailArr[i].value){\n            this.$message({\n              message: '参数值不可以重复！',\n              type: 'error'\n            });\n            return false;\n          }\n        }else{\n          for(var j=0;j<Object.keys(this.detailArr).length;j++){\n            if(this.form.id == this.detailArr[j].id){\n              this.detailArr.splice(j,1)\n              break;\n            }\n          }\n          if(this.form.label == this.detailArr[i].label){\n            this.$message({\n              message: '参数标签不可以重复！',\n              type: 'error'\n            });\n            return false;\n          }else if(this.form.value == this.detailArr[i].value){\n            this.$message({\n              message: '参数值不可以重复！',\n              type: 'error'\n            });\n            return false;\n          }\n        }\n      }\n      return true;\n    },\n    afterEditMethod(){\n      getList(this.dictName).then(data =>{\n        this.allDate = data\n      })\n    },\n    afterDelMethod(){\n      getList(this.dictName).then(data =>{\n        this.allDate = data\n      })\n    },\n  },\n}\n",null]}