{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\src\\views\\indicators\\portalHome\\workSheet\\apiDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\src\\views\\indicators\\portalHome\\workSheet\\apiDetails.vue","mtime":1655861359121},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: \"apiDetails\",\r\n  props: {\r\n    apiId: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    apiDetailVis: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // basicinfo\r\n      basicinfo: {\r\n        indexName: \"/api/test\",\r\n        interfaceAds: \"/api/test\",\r\n        apiDescription: \"用于查询XXXXXXXXXXX数据\",\r\n        reqType: \"get\", //reqType\r\n        respType: \"JSON\", //respType\r\n        owner: \"AA\",\r\n        application: \"ind_test\",\r\n        myCrtTime: \"2022-01-01\", //createTime\r\n        myUpdTime: \"2022-04-12\", //updateTime\r\n        online: \"是\",\r\n        catalogue1: \"个贷\",\r\n        catalogue2: \"网贷\",\r\n        catalogue1Name: \"产品/贷款/个贷\",\r\n        catalogue2Name: \"产品/贷款/网贷\",\r\n      },\r\n      fielddataList: [],\r\n      resdataList: [],\r\n      respropList: [\r\n        {\r\n          prop: \"name\",\r\n          label: \"字段名称\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          prop: \"type\",\r\n          label: \"字段类型\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          prop: \"isPass\",\r\n          label: \"是否必传\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          prop: \"description\",\r\n          label: \"字段描述\",\r\n          align: \"center\",\r\n        },\r\n      ],\r\n      id: \"\",\r\n      assetsState: \"\",\r\n      // 目录树\r\n      catalogueList: [],\r\n      cataValue: [],\r\n    };\r\n  },\r\n  watch: {\r\n    apiDetailVis(val) {\r\n      if (val) {\r\n        // 数据\r\n        this.$api\r\n          .getApiById({\r\n            id: this.apiId,\r\n            isRecord: false,\r\n          })\r\n          .then((res) => {\r\n            this.basicinfo = res;\r\n            this.cataValue = [];\r\n            // 发布状态\r\n            this.assetsState = this.basicinfo.assetsState;\r\n            // 返回的目录  -- 渲染\r\n            let temp = this.basicinfo.catalogues;\r\n            this.fielddataList = this.basicinfo.reqParams || [];\r\n            this.resdataList = this.basicinfo.respParams || [];\r\n            for (let key in temp) {\r\n              key = key.split(\"/\");\r\n              this.cataValue.push({ id: key });\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    // 目录树\r\n    this.$api.getAllCatalogueList({}).then((res) => {\r\n      this.catalogueList = res.data;\r\n    });\r\n  },\r\n  methods: {\r\n    handleClose() {\r\n      this.$emit(\"handleClose\");\r\n    },\r\n    transOnline(online) {\r\n      if (online === 1) {\r\n        return \"是\";\r\n      } else if (online === 0) {\r\n        return \"否\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n};\r\n",null]}