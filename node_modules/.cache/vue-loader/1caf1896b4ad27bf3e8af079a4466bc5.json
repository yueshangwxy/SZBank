{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\selectUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\selectUser.vue","mtime":1653646595888},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogVisible: true,\r\n      filterText: \"\",\r\n      treeData: [],\r\n      nodeId: \"\",\r\n      // 表格\r\n      tableData: [],\r\n      propList: [],\r\n      defaultProps: {\r\n        id: \"id\",\r\n        children: \"children\",\r\n        label: \"name\",\r\n      },\r\n      // 分页\r\n      pageSize: 9,\r\n      total: 10,\r\n      currentPage: 1,\r\n      handleSelectionList: [],\r\n    };\r\n  },\r\n  watch: {\r\n    // 节点过滤\r\n    filterText(val) {\r\n      this.$refs.tree.filter(val);\r\n    },\r\n  },\r\n  methods: {\r\n    handleClose() {},\r\n    // 树状图过滤\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.name.indexOf(value.toString()) !== -1;\r\n    },\r\n    // 树状图节点点击\r\n    handleNodeClick(node, data) {\r\n      this.currentPage = 1;\r\n      this.nodeId = node.id;\r\n      this.queryList();\r\n    },\r\n    // 列表查询\r\n    queryList() {\r\n      let request = {\r\n        deptId: this.nodeId,\r\n        keyWord: this.name,\r\n        crtDate: this.dateValue,\r\n        enabled: this.enabled,\r\n        userType: this.userType,\r\n        size: this.pageSize,\r\n        page: this.currentPage,\r\n      };\r\n      this.$api.qryUserListPage(request).then((res) => {\r\n        this.tableData = res.data.records;\r\n        this.total = res.data.total;\r\n      });\r\n    },\r\n    handleSelectionChange(value) {\r\n      this.handleSelectionList = value;\r\n    },\r\n    selectChange(selection, row) {\r\n      if (selection.length > 1) {\r\n        const del_row = selection.shift();\r\n        this.$refs.multipleTable.toggleRowSelection(del_row, false);\r\n      }\r\n    },\r\n    // 点击行触发，选中或不选中复选框\r\n    handleRowClick(row, column, event) {\r\n      this.$refs.multipleTable.toggleRowSelection(row);\r\n      this.selectChange(this.handleSelectionList);\r\n    },\r\n    selectAll(selection) {\r\n      if (selection.length > 1) {\r\n        selection.length = 1;\r\n      }\r\n    },\r\n    // 懒加载\r\n    load(tree, treeNode, resolve) {\r\n      setTimeout(() => {\r\n        resolve([\r\n          {\r\n            id: 31,\r\n            name: \"菜单1\",\r\n            sort: 10,\r\n            router: \"/xxx\",\r\n            auth: \"xxxx\",\r\n            component: \"组件1\",\r\n            links: \"www.baidu.com\",\r\n            cache: \"否\",\r\n            visibility: \"fou\",\r\n            date: \"2016-05-02\",\r\n          },\r\n          {\r\n            id: 32,\r\n            name: \"菜单1\",\r\n            sort: 10,\r\n            router: \"/xxx\",\r\n            auth: \"xxxx\",\r\n            component: \"组件1\",\r\n            links: \"www.baidu.com\",\r\n            cache: \"否\",\r\n            visibility: \"fou\",\r\n            date: \"2016-05-02\",\r\n          },\r\n        ]);\r\n      }, 1000);\r\n    },\r\n    //  分页\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      this.queryList();\r\n    },\r\n    cancelButton() {\r\n      this.$emit(\"slectBelongUser\", \"\");\r\n    },\r\n    submitButton() {\r\n      let userinfo =\r\n        this.handleSelectionList && this.handleSelectionList.length == 1\r\n          ? this.handleSelectionList[0]\r\n          : \"\";\r\n      this.$emit(\"slectBelongUser\", userinfo);\r\n    },\r\n  },\r\n  created() {\r\n    this.propList = [\r\n      {\r\n        prop: \"username\",\r\n        label: \"用户名\",\r\n      },\r\n      {\r\n        prop: \"userNo\",\r\n        label: \"用户编号\",\r\n        align: \"center\",\r\n      },\r\n      {\r\n        prop: \"nickName\",\r\n        label: \"姓名\",\r\n      },\r\n      {\r\n        prop: \"sex\",\r\n        label: \"性别\",\r\n      },\r\n    ];\r\n    this.$api.getSysDeptList({}).then((res) => {\r\n      this.treeData = res.content;\r\n    });\r\n    this.queryList();\r\n  },\r\n};\r\n",null]}