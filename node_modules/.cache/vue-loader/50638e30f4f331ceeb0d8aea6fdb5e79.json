{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\eladmin-system\\src\\views\\system\\user\\index.vue?vue&type=template&id=0ad324a4&scoped=true&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\eladmin-system\\src\\views\\system\\user\\index.vue","mtime":1650418877010},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1650418886581},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-row>\n    <el-col>\n      <!--工具栏-->\n      <div class=\"head-container\">\n        <div v-if=\"crud.props.searchToggle\">\n          <!-- 搜索 -->\n          <el-input v-model=\"query.blurry\" clearable size=\"small\" placeholder=\"输入用户名、姓名或者邮箱搜索\" style=\"width: 240px;\"\n                    class=\"filter-item\" @keyup.enter.native=\"crud.toQuery\"/>\n          <el-date-picker style=\"width: 250px\" v-model=\"query.createTime\" :default-time=\"['00:00:00','23:59:59']\"\n                          type=\"daterange\"\n                          range-separator=\":\" size=\"small\"\n                          class=\"date-item\" value-format=\"yyyy-MM-dd HH:mm:ss\" start-placeholder=\"开始日期\"\n                          end-placeholder=\"结束日期\"/>\n          <el-select v-model=\"query.enabled\" clearable size=\"small\" placeholder=\"状态\" class=\"filter-item\"\n                     style=\"width: 150px\" @change=\"crud.toQuery\">\n            <el-option v-for=\"item in enabledTypeOptions\" :key=\"item.key\" :label=\"item.display_name\"\n                       :value=\"item.key\"/>\n          </el-select>\n          <el-select v-model=\"query.userType\" clearable size=\"small\" placeholder=\"用户类型\" class=\"filter-item\"\n                     style=\"width: 150px\" @change=\"crud.toQuery\">\n            <!--              <el-option v-for=\"item in userTypeOptions\" :key=\"item.key\" :label=\"item.user_type_select\" :value=\"item.key\"/>-->\n            <el-option v-for=\"item in dict.USER_TYPE\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\n          </el-select>\n          <span>\n            <el-button class=\"filter-item\" type=\"success\" icon=\"el-icon-search\" @click=\"crud.toQuery\">搜索</el-button>\n            <el-button class=\"filter-item\" type=\"success\" icon=\"el-icon-refresh-left\"\n                       @click=\"resetQuery\">重置</el-button>\n          </span>\n        </div>\n        <!-- <crudOperation  /> -->\n        <crudOperation v-show=\"false\" :permission=\"permission\">\n          <el-button slot=\"right\" v-permission=\"permission.resetpwd\" class=\"filter-item\" type=\"success\"\n                     icon=\"el-icon-setting\" :loading=\"resetLoading\"\n                     :disabled=\"crud.selections.length === 0\" @click=\"doResetPwd(crud.selections)\">\n            重置密码\n          </el-button>\n        </crudOperation>\n      </div>\n    </el-col>\n  </el-row>\n  <el-row :gutter=\"20\" type=\"flex\" style=\"height: 540px\">\n    <!--侧边部门数据-->\n    <el-col :span=\"zoomDirection == 'left' ? 7 : 0\">\n      <div class=\"category-container\" style=\"height: 100%\">\n        <!--          <div class=\"head-container\">-->\n        <!--            <el-input v-model=\"deptName\" clearable size=\"small\" placeholder=\"输入机构名称搜索\" suffix-icon=\"el-icon-search\" @input=\"getDeptDatas\"/>-->\n        <!--          </div>-->\n\n\n        <el-tree style=\"overflow: scroll;height: 100%\" :data=\"deptDatas\" node-key=\"id\" :default-expanded-keys=\"['1']\"\n                 :props=\"defaultProps\" :expand-on-click-node=\"false\" accordion @node-click=\"handleNodeClick\">\n          <span slot-scope=\"{ node }\" class=\"span-ellipsis\"><span :title=\"node.label\">{{ node.label }}</span></span>\n        </el-tree>\n      </div>\n    </el-col>\n    <!--用户数据-->\n    <el-col :span=\"zoomDirection == 'left' ? 17 : 24\">\n      <div style=\"position: relative;height: 100%\">\n        <div style=\"position: absolute;top: 200px;left: -16px\">\n          <i @click=\"handleZoom\" style=\"cursor: pointer\" :class=\"'el-icon-d-arrow-' + zoomDirection\"></i>\n        </div>\n        <!--表单渲染-->\n        <el-dialog append-to-body :close-on-click-modal=\"false\" :before-close=\"crud.cancelCU\"\n                   :visible.sync=\"crud.status.cu > 0\" :title=\"crud.status.title\">\n          <el-form ref=\"form\" :inline=\"true\" :model=\"form\" :rules=\"rules\" size=\"small\" label-width=\"100px\">\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"编号\" prop=\"username\">\n                <el-input v-model=\"form.username\" :disabled=\"crud.status.flag == 2\" style=\"width: 400px\"/>\n              </el-form-item>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"姓名\" prop=\"nickName\">\n                <el-input v-model=\"form.nickName\" :disabled=\"crud.status.flag == 2\" style=\"width: 400px\"/>\n              </el-form-item>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n\n              <el-form-item label=\"机构\" prop=\"deptName\">\n                <el-input v-model=\"form.dept.name\" :disabled=\"crud.status.flag == 2\" style=\"width: 400px\"/>\n              </el-form-item>\n\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"角色\" prop=\"roles\">\n                <el-select v-model=\"form.roles\" multiple placeholder=\"请选择\" @remove-tag=\"deleteTag\"\n                           @change=\"changeRole\"\n                           value-key=\"roles\" :disabled=\"crud.status.flag == 2\" style=\"width: 400px\">\n                  <el-option v-for=\"item in roles\" :key=\"item.name\"\n                             :disabled=\"!level || item.level > form.dept.deptLevel\" :label=\"item.name\"\n                             :value=\"item.id\"/>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"岗位\" prop=\"position\">\n                <el-input v-model=\"form.position\" :disabled=\"crud.status.flag == 2\"/>\n              </el-form-item>\n            </el-col>\n            <!--              <el-col :span=\"10\">\n                            <el-form-item label=\"短ID\" prop=\"stId\"><el-input v-model=\"form.stId\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>-->\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"电话\" prop=\"tel\">\n                <el-input v-model=\"form.tel\" :disabled=\"crud.status.flag == 2\" style=\"width: 400px\"/>\n              </el-form-item>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"柜员编号\" prop=\"tellerId\">\n                <el-input v-model=\"form.tellerId\" :disabled=\"crud.status.flag == 2\" style=\"width: 400px\"/>\n              </el-form-item>\n            </el-col>\n\n            <!--            <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"身份证号\" prop=\"idcardNo\"><el-input v-model=\"form.idcardNo\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"姓名\" prop=\"name\"><el-input v-model=\"form.name\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>&ndash;&gt;\n                        </el-row>-->\n            <!--            <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"用户编号\" prop=\"userNo\"><el-input v-model=\"form.userNo\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"租户\" prop=\"tenant\"><el-input v-model=\"form.tenant\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>\n                        </el-row>-->\n\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\n              <el-form-item label=\"性别\">\n                <el-radio-group v-model=\"form.sex\" :disabled=\"crud.status.flag == 2\">\n                  <el-radio label=\"男\">男</el-radio>\n                  <el-radio label=\"女\">女</el-radio>\n                </el-radio-group>\n              </el-form-item>\n              <el-form-item label=\"状态\">\n                <el-radio-group v-model=\"form.enabled\" :disabled=\"form.id === user.id || crud.status.flag == 2\">\n                  <el-radio v-for=\"item in enabledTypeOptions\" :key=\"item.key\" :label=\"item.key\">{{\n                      item.display_name\n                    }}\n                  </el-radio>\n                </el-radio-group>\n              </el-form-item>\n            </el-col>\n            <!--              <el-col :span=\"10\">\n                            <el-form-item label=\"英文名\" prop=\"ename\"><el-input v-model=\"form.ename\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>-->\n\n            <!--            <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"岗位\" prop=\"position\"><el-input v-model=\"form.position\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                            &lt;!&ndash;   <el-form-item label=\"邮箱\" prop=\"email\">\n                               <el-input v-model=\"form.email\"/>\n                             </el-form-item>\n\n                            <el-form-item label=\"岗位\" prop=\"job.id\">\n                               <el-select v-model=\"form.job.id\" style=\"width: 178px\" placeholder=\"请先选择部门\">\n                                 <el-option\n                                   v-for=\"(item, index) in jobs\"\n                                   :key=\"item.name + index\"\n                                   :label=\"item.name\"\n                                   :value=\"item.id\"\n                                 />\n                               </el-select>\n                             </el-form-item> &ndash;&gt;\n\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"职务\" prop=\"title\"><el-input v-model=\"form.title\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>\n                        </el-row>-->\n            <!--            <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"基准岗位\" prop=\"datumPost\">\n                              <el-input v-model=\"form.datumPost\" :disabled=\"crud.status.flag == 2\"/>\n                            </el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"岗位层级\" prop=\"hirPostLevel\">\n                              <el-input v-model=\"form.hirPostLevel\" :disabled=\"crud.status.flag == 2\"/>\n                            </el-form-item>\n                          </el-col>\n                        </el-row>\n                        <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"职级ID\" prop=\"grade\">\n                              <el-input v-model=\"form.grade\" :disabled=\"crud.status.flag == 2\"/>\n                            </el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"条线\" prop=\"lines\">\n                              <el-input v-model=\"form.lines\" :disabled=\"crud.status.flag == 2\"/>\n                            </el-form-item>\n                          </el-col>\n                        </el-row>\n                        <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"类型\" prop=\"userType\">\n                              <el-select v-model=\"form.userType\"  filterable placeholder=\"请选择\" default-first-option value-key=\"userType\"\n                                         :disabled=\"crud.status.flag == 2\">\n                                <el-option v-for=\"item in dict.USER_TYPE\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\n                              </el-select>\n                            </el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"手机号\" prop=\"phone\">\n                              <el-input v-model.number=\"form.phone\" :disabled=\"crud.status.flag == 2\"/>\n                            </el-form-item>\n                          </el-col>\n                        </el-row>\n                       -->\n            <!--            <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"柜员编号\" prop=\"tellerId\">\n                              <el-input v-model=\"form.tellerId\" :disabled=\"crud.status.flag == 2\"/>\n                            </el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"工号级别\" prop=\"haoLevel\"><el-input v-model=\"form.haoLevel\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>\n                        </el-row>-->\n            <!--            <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"支撑系统\" prop=\"serveSystem\"><el-input v-model=\"form.serveSystem\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n                            <el-form-item label=\"支撑对象\" prop=\"serveObject\"><el-input v-model=\"form.serveObject\" :disabled=\"crud.status.flag == 2\"/></el-form-item>\n                          </el-col>\n                        </el-row>\n                        <el-row  type=\"flex\"  justify=\"center\">\n                          <el-col :span=\"10\">\n                        <el-form-item label=\"状态\">\n                          <el-radio-group v-model=\"form.enabled\" :disabled=\"form.id === user.id || crud.status.flag == 2\">\n                            <el-radio v-for=\"item in dict.user_status\" :key=\"item.id\" :label=\"item.value\">{{ item.label }}</el-radio>\n                          </el-radio-group>\n                        </el-form-item>\n                          </el-col>\n                          <el-col :span=\"10\">\n\n                          </el-col>\n                        </el-row>-->\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button v-if=\"crud.status.flag == 0 || crud.status.flag == 1\" type=\"text\" @click=\"crud.cancelCU\">取消\n            </el-button>\n            <el-button v-if=\"crud.status.flag == 0 || crud.status.flag == 1\" :loading=\"crud.cu === 2\" type=\"primary\"\n                       @click=\"crud.submitCU\">确认\n            </el-button>\n            <el-button v-if=\"crud.status.flag == 2 \" type=\"text\" @click=\"crud.cancelCU\">关闭</el-button>\n          </div>\n        </el-dialog>\n        <!--表格渲染-->\n        <el-table height=\"100%\" ref=\"table\" v-loading=\"crud.loading\" :data=\"crud.data\" style=\"width: 100%;\"\n                  @selection-change=\"crud.selectionChangeHandler\">\n          <el-table-column :selectable=\"checkboxT\" type=\"selection\" width=\"55\"/>\n          <el-table-column v-if=\"columns.visible('username')\" :show-overflow-tooltip=\"true\" prop=\"username\"\n                           label=\"用户名\"/>\n          <el-table-column v-if=\"columns.visible('userNo')\" :show-overflow-tooltip=\"true\" prop=\"userNo\" label=\"用户编号\"/>\n          <el-table-column v-if=\"columns.visible('nickName')\" :show-overflow-tooltip=\"true\" prop=\"nickName\"\n                           label=\"姓名\"/>\n          <el-table-column v-if=\"columns.visible('sex')\" prop=\"sex\" label=\"性别\"/>\n          <el-table-column v-if=\"columns.visible('phone')\" :show-overflow-tooltip=\"true\" prop=\"phone\" width=\"100\"\n                           label=\"电话\"/>\n          <el-table-column v-if=\"columns.visible('email')\" :show-overflow-tooltip=\"true\" width=\"125\" prop=\"email\"\n                           label=\"邮箱\"/>\n          <el-table-column v-if=\"columns.visible('dept')\" :show-overflow-tooltip=\"true\" width=\"110\" prop=\"dept\"\n                           label=\"机构\">\n            <template slot-scope=\"scope\">\n              <div>{{ scope.row.dept ? scope.row.dept.name : '未知部门' }}</div>\n            </template>\n          </el-table-column>\n          <el-table-column v-if=\"columns.visible('roles')\" :show-overflow-tooltip=\"true\" width=\"110\" prop=\"dept\"\n                           label=\"角色\">\n            <template slot-scope=\"scope\">\n              <div>{{ scope.row.roles.map(e => e.name).join(',') }}</div>\n            </template>\n          </el-table-column>\n          <el-table-column v-if=\"columns.visible('position')\" :show-overflow-tooltip=\"true\" width=\"125\"\n                           prop=\"position\"\n                           label=\"岗位\"/>\n          <el-table-column v-if=\"columns.visible('userType')\" prop=\"userType\" label=\"用户类型\">\n            <template slot-scope=\"scope\">{{ dict.label.USER_TYPE[scope.row.userType] }}</template>\n          </el-table-column>\n          <el-table-column v-if=\"columns.visible('tellerId')\" :show-overflow-tooltip=\"true\" width=\"125\"\n                           prop=\"tellerId\"\n                           label=\"柜员编号\"/>\n          <el-table-column v-if=\"columns.visible('enabled')\" label=\"状态\" align=\"center\" prop=\"enabled\">\n            <template slot-scope=\"scope\">\n              <!--              <el-tooltip effect=\"dark\" :content=\"dict.label['user_status'][scope.row.enabled]\" placement=\"top-start\">\n                              <el-switch v-model=\"scope.row.enabled\" :disabled=\"user.id === scope.row.id\" @change=\"changeEnabled(scope.row, scope.row.enabled)\"/>\n                            </el-tooltip>-->\n              <span v-if=\"scope.row.enabled\">启用</span>\n              <span v-if=\"!scope.row.enabled\">禁用</span>\n            </template>\n          </el-table-column>\n          <el-table-column v-if=\"columns.visible('createTime')\" :show-overflow-tooltip=\"true\" prop=\"createTime\"\n                           width=\"140\" label=\"创建日期\">\n            <template slot-scope=\"scope\"><span>{{ parseTime(scope.row.createTime) }}</span></template>\n          </el-table-column>\n          <el-table-column v-permission=\"['admin','user:edit','user:del']\" label=\"操作\" width=\"125\" align=\"center\"\n                           fixed=\"right\">\n            <!--            <template slot-scope=\"scope\">\n                          <udOperation :data=\"scope.row\" :permission=\"permission\" :disabled-dle=\"scope.row.id === user.id\"/>\n                        </template>-->\n            <template slot-scope=\"scope\">\n              <el-link class=\"filter-item\" type=\"success\" @click=\"crud.toDetail(scope.row)\">详情</el-link>\n            </template>\n          </el-table-column>\n        </el-table>\n\n      </div>\n\n    </el-col>\n  </el-row>\n  <el-row>\n    <el-col :span=\"zoomDirection == 'left' ? 7 : 0\">\n      &nbsp;\n    </el-col>\n    <el-col :span=\"zoomDirection == 'left' ? 17 : 24\">\n      <!--分页组件-->\n      <pagination/>\n    </el-col>\n  </el-row>\n</div>\n",null]}