{"remainingRequest":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\src\\views\\indicators\\manual\\index.vue?vue&type=template&id=36e45e0a&scoped=true&","dependencies":[{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\src\\views\\indicators\\manual\\index.vue","mtime":1646362927119},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Evicce\\Desktop\\work\\code2\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n  <div class=\"app-container\">\n    <!--工具栏-->\n\n    <div class=\"head-container\">\n      <el-row>\n        <el-col>\n          <div>\n            <span v-if=\"crud.props.searchToggle\">\n              <!-- 搜索 -->\n              <treeselect v-model=\"query.deptNo\" :options=\"deptList\" style=\"width: 250px;display: inline-block;\"\n                          placeholder=\"选择机构\"\n                          class=\"filter-item\"/>\n\n              <el-date-picker style=\"width: 150px\" v-model=\"query.periodDate\" type=\"date\" size=\"small\" filterable\n                              clearable\n                              placeholder=\"数据日期\"\n                              class=\"date-item\" value-format=\"yyyy-MM-dd\"/>\n              <el-input v-model=\"query.ieName\" clearable placeholder=\"指标名称\" style=\"width: 150px;\"\n                        class=\"filter-item\" size=\"mini\" @keyup.enter.native=\"crud.toQuery\"/>\n              <el-select class=\"filter-item\" size=\"mini\" v-model=\"query.currency\" filterable clearable placeholder=\"币种\"\n                         style=\"width: 150px;\"\n\n                         @keyup.enter.native=\"crud.toQuery\">\n                <el-option\n                    v-for=\"item in dict.IND_CURRENCY\"\n                    :key=\"item.id\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                />\n              </el-select>\n              <!--        <el-select  v-model=\"query.ieKindOneName\" clearable size=\"small\"  placeholder=\"指标一级分类\" class=\"filter-item\" style=\"width: 150px\">\n                        <el-option v-for=\"item in dict.IND_FIRST_TYPE\" :key=\"item.id\" :label=\"item.label\" :value=\"item.label\" />\n                      </el-select>-->\n              <rrOperation :crud=\"crud\"/>\n            </span>\n            <crudOperation :permission=\"permission\">\n              <el-button style=\"margin-left: 6px\" slot=\"left\" class=\"filter-item\" size=\"mini\" type=\"success\"\n                         :disabled=\"crud.selections.length >1\"\n                         @click=\"addOrEdit(crud.selections)\"\n              >补录\n              </el-button>\n              <el-upload style=\"margin-left: 6px\"\n                  slot=\"right\"\n                  ref=\"upload\"\n                  class=\"upload-demo inline-block \"\n                  :show-file-list=\"false\"\n                  action=\"importData\"\n                  accept=\".xlsx,.xls\"\n                  :disabled=\"importDisabled\"\n                  :before-upload=\"beforeUpload\"\n                  :on-success=\"handleSuccess\"\n                  :http-request=\"uploadFile\"\n                  multiple\n                  :limit=\"1\">\n                <el-button class=\"el-upload\" size=\"mini\" type=\"primary\" slot=\"trigger\">{{ importDataText }}</el-button>\n                <el-button style=\"margin-left: 6px\" class=\"el-upload\" size=\"mini\" type=\"primary\" @click=\"downloadTemplate\">下载Excel模板</el-button>\n                <el-button class=\"el-upload\" size=\"mini\" :disabled=\"false\" type=\"success\" @click=\"showApproveDialog()\">\n                  发起审核\n                </el-button>\n                <el-button\n                    :loading=\"crud.downloadLoading\"\n                    :disabled=\"!crud.data.length\"\n                    class=\"el-upload\"\n                    size=\"mini\"\n                    type=\"primary\"\n                    icon=\"el-icon-download\"\n                    @click=\"crud.doExport('download','补录数据')\"\n                >导出\n                </el-button>\n              </el-upload>\n\n            </crudOperation>\n          </div>\n\n        </el-col>\n      </el-row>\n\n      <el-row>\n        <el-col>\n          <!--如果想在工具栏加入更多按钮，可以使用插槽方式， slot = 'left' or 'right'-->\n\n          <!--表单组件-->\n          <el-dialog :close-on-click-modal=\"false\" @close=\"closeFlowDialog\" :visible=\"showDialog\" title=\"补录\"\n                     width=\"550px\">\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" size=\"small\" label-width=\"120px\">\n\n              <el-form-item label=\"指标名称\" prop=\"ieName\" :disabled=\"readOnly\">\n                <!-- <el-input v-model=\"form.ieName\" style=\"width: 370px;\" />-->\n                <el-select v-model=\"form.ieName\" clearable placeholder=\"请选择\" @change=\"selectChange\"\n                           :disabled=\"readOnly\">\n                  <el-option\n                      v-for=\"item in bizNames\"\n                      :key=\"item.id\"\n                      :label=\"item.bizName\"\n                      :value=\"item.bizName\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"指标编号\" prop=\"ieCode\">\n                <el-input v-model=\"form.ieCode\" disabled style=\"width: 190px;\"/>\n              </el-form-item>\n              <el-form-item label=\"币种\" prop=\"currency\" >\n                <!-- <el-input v-model=\"form.ieName\" style=\"width: 370px;\" />-->\n                <el-select v-model=\"form.currency\" clearable placeholder=\"请选择\" :disabled=\"readOnly\"\n                           @input=\"forceUpdate($event)\">\n\n                  <el-option v-for=\"item in bizCurrency\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\n<!--\n                  <el-option  v-for=\"(item,key) in bizCurrency\" :key=\"key\" :label=\"item\" :value=\"key * 1\"></el-option>\n-->\n\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"频率\" prop=\"frequency\">\n                <!-- <el-input v-model=\"form.ieName\" style=\"width: 370px;\" />-->\n                <el-select v-model=\"form.frequency\" clearable placeholder=\"请选择\" :disabled=\"readOnly\"\n                           @input=\"forceUpdate($event)\">\n                  <el-option v-for=\"item in bizFrequency\" :key=\"item.id\" :label=\"item.label\" :value=\"item.value\"/>\n                  <!--<el-option v-for=\"(item,key) in bizFrequency\" :key=\"key\" :label=\"item\" :value=\"key\"></el-option>-->\n                </el-select>\n              </el-form-item>\n\n\n              <el-form-item label=\"补录值\" prop=\"supplementaryValue\">\n                <el-input v-model=\"form.supplementaryValue\" maxlength=\"10\" show-word-limit style=\"width: 370px;\"\n                          oninput=\"value=value.replace(/[^\\d|\\.]/g,'')\" @blur=\"valueChange\"/>\n              </el-form-item>\n              <el-form-item label=\"补录原因\" prop=\"supplementaryReason\">\n                <el-input v-model=\"form.supplementaryReason\" type=\"textarea\" maxlength=\"300\" show-word-limit\n                          style=\"width: 370px;\"/>\n              </el-form-item>\n              <!--          <el-form-item label=\"机构\" prop=\"deptName\" :disabled=\"readOnly\">\n                          &lt;!&ndash; <el-input v-model=\"form.ieName\" style=\"width: 370px;\" />&ndash;&gt;\n                          <el-select v-model=\"form.deptName\" clearable placeholder=\"请选择\" @change=\"deptChange\" :disabled=\"readOnly\" @input=\"forceUpdate($event)\">\n                            <el-option\n                                    v-for=\"item in deptList\"\n                                    :key=\"item.id\"\n                                    :label=\"item.name\"\n                                    :value=\"item.name\">\n                            </el-option>\n                          </el-select>\n                        </el-form-item>-->\n              <el-form-item label=\"机构\" prop=\"deptNo\" :disabled=\"readOnly\">\n                <treeselect v-model=\"form.deptNo\" :disabled=\"readOnly\" :options=\"deptList\" @input=\"inputSelect\"\n                            style=\"width: 320px\" size=\"small\" placeholder=\"选择机构\" class=\"filter-item\"/>\n              </el-form-item>\n              <el-form-item label=\"数据日期\" prop=\"periodDate\">\n                <el-date-picker v-model=\"form.periodDate\" clearable size=\"small\" placeholder=\"数据日期\" type=\"date\"\n                                :disabled=\"readOnly\" @input=\"forceUpdate($event)\"\n                                value-format=\"timestamp\"/>\n              </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button type=\"text\" @click=\"closeFlowDialog\">取消</el-button>\n              <el-button type=\"primary\" @click=\"submitCU\">确认</el-button>\n            </div>\n          </el-dialog>\n\n          <!--可以发起审批的list-->\n          <el-dialog :close-on-click-modal=\"false\" @close=\"closeToApproveDialog\" title=\"发起审核\" width=\"80%\"\n                     :visible=\"toApproveDialog\">\n            <el-dialog\n                width=\"30%\"\n                title=\"描述信息\"\n                :visible.sync=\"innerVisible\"\n                @close=\"closeSubmitDialog\"\n                append-to-body>\n              <el-form :model=\"form\">\n                <el-form-item label=\"相关描述\">\n                  <el-input type=\"textarea\" v-model=\"form.submitDescribe\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n              </el-form>\n              <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button class=\"el-upload\" size=\"mini\" :disabled=\"false\" type=\"success\" @click=\"submit()\">确定</el-button>\n          </span>\n            </el-dialog>\n            <el-button class=\"el-upload\" size=\"mini\" :disabled=\"crud.selections.length==0\" type=\"success\"\n                       @click=\"toApprove(crud.selections)\">提交审核\n            </el-button>\n            <el-table ref=\"toApproveData\" :data=\"toApproveData.slice((cur_page-1)*pageSize,cur_page*pageSize)\"\n                      size=\"small\"\n                      style=\"width:100%\"\n                      @selection-change=\"crud.selectionChangeHandler\"\n                      :row-key=\"getRowKeys\"\n                      v-loading=\"showLoad\"\n                      stripe border :header-cell-style=\"{background:'rgb(232,237,229)'}\"\n            >\n              <el-table-column type=\"selection\" :reserve-selection=\"true\" width=\"55\"/>\n              <el-table-column prop=\"periodDate\" label=\"数据日期\" width=\"100px\"/>\n              <el-table-column prop=\"deptName\" label=\"机构\" width=\"100px\"/>\n              <el-table-column prop=\"ieKindOneName\" label=\"指标一级分类\" width=\"100px\"/>\n              <el-table-column prop=\"ieName\" label=\"指标名称\" width=\"100px\"/>\n              <el-table-column prop=\"currency\" label=\"币种\" width=\"100px\">\n                <template slot-scope=\"scope\">\n                  {{ dict.label.IND_CURRENCY[scope.row.currency] }}\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"frequency\" label=\"频率\" width=\"100px\">\n                <template slot-scope=\"scope\">\n                  {{ dict.label.IE_FREQUENCY[scope.row.frequency] }}\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"ieValue\" label=\"当期值\" width=\"100px\"/>\n              <el-table-column prop=\"supplementaryValue\" label=\"补录值\" width=\"100px\"/>\n              <el-table-column prop=\"supplementaryReason\" label=\"补录原因\" width=\"100px\"/>\n              <el-table-column prop=\"crtUserCode\" label=\"补录人\" width=\"100px\"/>\n              <el-table-column prop=\"approveStatus\" label=\"审批状态\" width=\"100px\">\n                <template slot-scope=\"scope\">\n                  {{ dict.label.IND_APPROVE_STATUS[scope.row.approveStatus] }}\n                </template>\n              </el-table-column>\n            </el-table>\n            <el-pagination\n                background\n                @current-change=\"handleCurrentChange\"\n                @size-change=\"handleSizeChange\"\n                :pages=\"count\"\n                :current-page=\"cur_page\"\n                :page-sizes=\"pageSizes\"\n                :page-size=\"pageSize\"\n                :total=\"total\"\n                :pager-count=\"5\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n            ></el-pagination>\n          </el-dialog>\n          <!--表格渲染-->\n          <el-table height=\"520\" ref=\"table\" v-loading=\"crud.loading\" :data=\"crud.data\" size=\"small\"\n                    style=\"width: 100%;\"\n                    @selection-change=\"crud.selectionChangeHandler\"\n                    @row-dblclick=\"toEdit($event)\"\n                    stripe border :header-cell-style=\"{background:'rgb(232,237,229)'}\"\n          >\n            <el-table-column type=\"selection\" width=\"55\" fixed=\"left\"/>\n            <el-table-column v-if=\"columns.visible('periodDate')\" prop=\"periodDate\" label=\"数据日期\" width=\"100px\">\n              <template slot-scope=\"scope\">{{scope.row.periodDate| dateFormat}}</template>\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('deptName')\" prop=\"deptName\" label=\"机构\" width=\"100px\"/>\n            <el-table-column v-if=\"columns.visible('ieKindOneName')\" prop=\"ieKindOneName\" label=\"指标一级分类\" width=\"100px\"/>\n            <el-table-column v-if=\"columns.visible('ieCode')\" prop=\"ieCode\" label=\"指标编号\" width=\"100px\"/>\n            <el-table-column v-if=\"columns.visible('ieName')\" prop=\"ieName\" label=\"指标名称\" width=\"200px\"/>\n            <el-table-column v-if=\"columns.visible('currency')\" prop=\"currency\" label=\"币种\" width=\"100px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IND_CURRENCY[scope.row.currency] }}\n              </template>\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('frequency')\" prop=\"frequency\" label=\"频率\" width=\"100px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IE_FREQUENCY[scope.row.frequency] }}\n              </template>\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('ieValue')\" prop=\"ieValue\" label=\"当期值\" width=\"100px\"/>\n            <el-table-column v-if=\"columns.visible('supplementaryValue')\" prop=\"supplementaryValue\" label=\"补录值\"\n                             width=\"100px\"/>\n            <!--\n                    <el-table-column v-if=\"columns.visible('ieValue')\" prop=\"ieValue\" label=\"调整差额\" width=\"100px\"/>\n            -->\n            <el-table-column v-if=\"columns.visible('supplementaryReason')\" prop=\"supplementaryReason\" label=\"补录原因\"\n                             width=\"200px\">\n              <template slot-scope=\"scope\">\n                <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"200\"\n                    trigger=\"hover\"\n                    :content=\"scope.row.supplementaryReason\">\n              <span slot=\"reference\" style=\"text-overflow: ellipsis; overflow: hidden; white-space: nowrap;\">{{\n                  scope.row.supplementaryReason\n                }}</span>\n                </el-popover>\n              </template>\n            </el-table-column>\n            <el-table-column v-if=\"columns.visible('updUserCode')\" prop=\"updUserCode\" label=\"补录人\" width=\"100px\"/>\n            <el-table-column v-if=\"columns.visible('approveStatus')\" prop=\"approveStatus\" label=\"审批状态\" width=\"100px\">\n              <template slot-scope=\"scope\">\n                {{ dict.label.IND_APPROVE_STATUS[scope.row.approveStatus] }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"同期\" style=\"height: 20px\" align=\"center \" width=\"200px\">\n              <el-table-column v-if=\"columns.visible('correspondValue')\" prop=\"correspondValue\" label=\"同期值\"\n                               align=\"center\"\n                               width=\"100\"/>\n              <el-table-column v-if=\"columns.visible('correspondIncrement')\" prop=\"correspondIncrement\" label=\"同比增量\"\n                               width=\"100\" align=\"center\"/>\n              <el-table-column v-if=\"columns.visible('correspondRate')\" prop=\"correspondRate\" label=\"同比增幅\"\n                               align=\"center\">\n                <template slot-scope=\"scope3\">\n                  {{ scope3.row.correspondRate }} %\n                </template>\n              </el-table-column>\n            </el-table-column>\n\n            <el-table-column label=\"较上期\" style=\"height: 20px\" align=\"center\" width=\"200px\">\n              <el-table-column v-if=\"columns.visible('stageValue')\" prop=\"stageValue\" label=\"上期值\" align=\"center\"\n                               width=\"100\"/>\n              <el-table-column v-if=\"columns.visible('stageIncrement')\" prop=\"correspondIncrement\" label=\"环比增量\"\n                               width=\"100\"\n                               align=\"center\"/>\n              <el-table-column v-if=\"columns.visible('circalRate')\" prop=\"circalRate\" label=\"环比增幅\" align=\"center\">\n                <template slot-scope=\"scope3\">\n                  {{ scope3.row.circalRate }} %\n                </template>\n              </el-table-column>\n            </el-table-column>\n\n            <el-table-column label=\"较年初\" style=\"height: 20px\" align=\"center\" width=\"200px\">\n              <el-table-column v-if=\"columns.visible('yearBeginValue')\" prop=\"yearBeginValue\" label=\"年初值\" align=\"center\"\n                               width=\"100\"/>\n              <el-table-column v-if=\"columns.visible('yearBeginIncrement')\" prop=\"yearBeginIncrement\" label=\"较年初增量\"\n                               align=\"center\" width=\"100\"/>\n              <el-table-column v-if=\"columns.visible('yearFloatRate')\" prop=\"yearFloatRate\" label=\"较年初增幅\" align=\"center\"\n                               width=\"100\">\n                <template slot-scope=\"scope3\">\n                  {{ scope3.row.yearFloatRate }} %\n                </template>\n              </el-table-column>\n            </el-table-column>\n\n            <!--        <el-table-column v-permission=\"['admin','indIndicatorResult:edit']\" label=\"操作\" width=\"150px\"  fixed=\"right\" >\n                      <template slot-scope=\"scope\">\n                        <udOperation\n                                :data=\"scope.row\"\n                                :permission=\"permission\"\n                        />\n                      </template>\n                    </el-table-column>-->\n          </el-table>\n          <!--分页组件-->\n          <pagination/>\n        </el-col>\n      </el-row>\n\n    </div>\n  </div>\n",null]}