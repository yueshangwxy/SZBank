{"remainingRequest":"D:\\SZBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SZBank\\src\\views\\indicators\\portalHome\\manager\\organizationManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SZBank\\src\\views\\indicators\\portalHome\\manager\\organizationManager.vue","mtime":1655426177805},{"path":"D:\\SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\SZBank\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\SZBank\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: \"organizationManager\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      date: \"\",\r\n      dateValue: [],\r\n      enabled: \"\",\r\n      // 表格\r\n      tableData: [],\r\n      propList: [],\r\n      // 分页\r\n      pageSize: 10,\r\n      total: 10,\r\n      currentPage: 1,\r\n      // 详情弹窗\r\n      detailsVisible: false,\r\n      detailsForm: {\r\n        id: \"\",\r\n        name: \"\",\r\n        deptCategory: \"\",\r\n        code: \"\",\r\n        enabled: \"\",\r\n        pName: \"\",\r\n        deptLevel: \"\",\r\n        // xxxx: '',\r\n        type: \"\",\r\n        sdepart: \"\",\r\n        grade: \"\",\r\n        buSid: \"\",\r\n        supchg: \"\",\r\n        tel: \"\",\r\n      },\r\n      detailsRules: {\r\n        id: [{ required: true, message: \"请输入管理机构ID\", trigger: \"blur\" }],\r\n        name: [\r\n          { required: true, message: \"请输入管理机构名称\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      // 配置\r\n      settingsVisible: false,\r\n      settingsForm: {\r\n        name: \"\",\r\n        path: \"\",\r\n        approver: \"\",\r\n      },\r\n      settingsRules: {\r\n        name: [{ required: true, message: \"请输入机构名称\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    date(val) {\r\n      if (val) {\r\n        let startTime = this.$formatDate(val[0]);\r\n        let endTime = this.$formatDate(val[1]);\r\n        this.dateValue = [startTime, endTime];\r\n        console.log(this.dateValue);\r\n      } else {\r\n        this.dateValue = [];\r\n      }\r\n    },\r\n  },\r\n  mounted() {},\r\n  computed: {},\r\n  created() {\r\n    this.propList = [\r\n      {\r\n        prop: \"id\",\r\n        label: \"管理机构ID\",\r\n      },\r\n      {\r\n        prop: \"code\",\r\n        label: \"管理机构编号\",\r\n        align: \"center\",\r\n      },\r\n      {\r\n        prop: \"name\",\r\n        label: \"管理机构名称\",\r\n      },\r\n      {\r\n        prop: \"deptCategory\",\r\n        type: \"transType\",\r\n        label: \"机构类别\",\r\n      },\r\n      {\r\n        prop: \"orgLevel\",\r\n        label: \"机构层级\",\r\n      },\r\n      {\r\n        prop: \"createTime\",\r\n        label: \"创建日期\",\r\n      },\r\n      {\r\n        prop: \"enabled\",\r\n        label: \"是否启用\",\r\n      },\r\n    ];\r\n    this.queryList();\r\n  },\r\n  methods: {\r\n    //翻译是否启动\r\n    getNameByEnabled(val){\r\n      if(val){\r\n        return \"是\";\r\n      }else{\r\n        return \"否\";\r\n      }\r\n    },\r\n    // 重置\r\n    reset() {\r\n      this.name = \"\";\r\n      this.date = \"\";\r\n      this.enabled = \"\";\r\n    },\r\n    // 列表查询\r\n    queryList() {\r\n      // name\t部门名称\tN\t按照部门名称搜索\r\n      // crtDate\t时间控制\tN\r\n      // enabled\t状态\tN\t默认都是1 启用\r\n      // pid\t上级id\tY\t当点击层级结构下拉框需要传入pid,不点击默认是根节点\r\n      let request = {\r\n        name: this.name,\r\n        crtDate: this.dateValue,\r\n        enabled: this.enabled,\r\n        pid: \"\",\r\n      };\r\n      this.$api.qryOrgListPage(request).then((res) => {\r\n        this.tableData = res.data;\r\n      });\r\n    },\r\n    // 复选框选中\r\n    handleSelectionChange(val) {\r\n      console.log(val);\r\n    },\r\n    // 懒加载\r\n    load(tree, treeNode, resolve) {\r\n      let request = {\r\n        name: this.name,\r\n        crtDate: this.dateValue,\r\n        enabled: this.enabled,\r\n        pid: tree.id,\r\n      };\r\n      this.$api.qryOrgListPage(request).then((res) => {\r\n        setTimeout(() => {\r\n          resolve(res.data);\r\n        }, 1000);\r\n      });\r\n    },\r\n    // 详情\r\n    viewDetails(row) {\r\n      this.detailsForm = {};\r\n      this.detailsVisible = true;\r\n      this.$api\r\n        .getDeptById({\r\n          id: row.id,\r\n        })\r\n        .then((res) => {\r\n          this.detailsForm = res.data;\r\n        });\r\n    },\r\n    // 配置\r\n    settings(row) {\r\n      this.settingsVisible = true;\r\n    },\r\n    confirmSettings() {\r\n      this.settingsVisible = false;\r\n    },\r\n    transType(prop) {\r\n      return prop == 0 ? \"公司\" : prop == 1 ? \"部门\" : \"\";\r\n    },\r\n    //  分页\r\n    handleCurrentChange(val) {\r\n      console.log(val);\r\n    },\r\n  },\r\n};\r\n",null]}