{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\src\\views\\indicators\\assetOperation\\targetOperation.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\src\\views\\indicators\\assetOperation\\targetOperation.vue","mtime":1654502002417},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-SZBank\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Operation from \"../../../components/operation.vue\";\r\nexport default {\r\n  components: {\r\n    Operation,\r\n  },\r\n  data() {\r\n    return {\r\n      tabList: [\r\n        { label: \"已发布的指标\", name: \"publish\" },\r\n        { label: \"未发布的指标\", name: \"unpublished\" },\r\n      ],\r\n      fourthList: [],\r\n      // 分页\r\n      pageSize: 9,\r\n      currentPage: 1,\r\n      total: 50,\r\n      tableData: [],\r\n      show: false,\r\n    };\r\n  },\r\n  beforeCreate() {},\r\n  created() {\r\n    this.initList();\r\n    this.$store.commit(\"SET_KEEPALIVE\", true);\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    if (to.path === \"/detailsMod/target\") {\r\n      this.$store.commit(\"SET_KEEPALIVE\", true);\r\n    } else {\r\n      this.$store.commit(\"SET_KEEPALIVE\", false);\r\n    }\r\n    next();\r\n  },\r\n  methods: {\r\n    // 初始化列表\r\n    initList(assetsState) {\r\n      let request = {\r\n        page: String(this.currentPage),\r\n        size: String(this.pageSize),\r\n        assetsState: assetsState ? assetsState : \"publish\",\r\n        targetName: \"\",\r\n        targetCode: \"\",\r\n        classifyOne: \"\",\r\n        targetType: \"\",\r\n        businessDept: \"\",\r\n        contentsOne: \"\",\r\n        contentsTwo: \"\",\r\n        contentsThree: \"\",\r\n      };\r\n      this.$api.getAppointTarget(request).then((res) => {\r\n        this.show = true;\r\n        if (res.data) {\r\n          this.tableData = res.data.records;\r\n          this.total = res.data.total;\r\n        }\r\n      });\r\n    },\r\n    // 查询列表\r\n    queryList(request) {\r\n      this.$api.getAppointTarget(request).then((res) => {\r\n        this.tableData = res.data.records;\r\n        this.total = res.data.total;\r\n      });\r\n    },\r\n    // 修改发布状态\r\n    offline(request) {\r\n      const { activeTab, ...req } = request;\r\n      this.$api.updateTargetState(req).then((res) => {\r\n        this.$message.success(\"操作成功!\");\r\n        this.initList(activeTab);\r\n        this.$refs.operation.getCatalogueList();\r\n      });\r\n    },\r\n    // 树状图tab\r\n    handleClick(tab, event) {\r\n      console.log(tab, event);\r\n    },\r\n    // 节点点击\r\n    handleNodeClick(data) {\r\n      console.log(data, \"点击\");\r\n    },\r\n  },\r\n};\r\n",null]}