{"remainingRequest":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\myAPI.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\myAPI.vue","mtime":1649224879327},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649224862071},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1649224861568},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649224862071},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1649224877943}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// import {getApiInfo, getApiPowerInfo} from \"@/api/dataservice/myApi/myApi\";\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"MyApi\",\r\n  data() {\r\n    return {\r\n      tableData: [\r\n        {\r\n          apiName: \"api1\",\r\n          apiStatus: \"已接收\",\r\n          testAddress: \"测试地址1\",\r\n          productionAddress: \"生产地址1\",\r\n        },\r\n      ],\r\n      queryFormData: {\r\n        id: \"\",\r\n        apiStatus: \"\",\r\n        size: 10,\r\n        page: 1,\r\n        total: 0,\r\n        pages: 0,\r\n        loading: true,\r\n        apiType: \"0\",\r\n      },\r\n      editDialogVisible: false,\r\n      applyApiServiceForm: {\r\n        apiName: \"\",\r\n        caliber: \"\",\r\n        parameters: [\r\n          {\r\n            parameterName: \"\",\r\n            parameterType: \"\",\r\n          },\r\n        ],\r\n        applyRules: [\r\n          {\r\n            required: true,\r\n            message: \"请输入名称\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n      },\r\n      tableData2: [],\r\n    };\r\n  },\r\n  methods: {\r\n    handleEdit(index, row) {\r\n      this.editDialogVisible = true;\r\n      console.log(index);\r\n      console.log(row);\r\n    },\r\n    handleCloseEdit() {\r\n      this.editDialogVisible = false;\r\n    },\r\n    addParameter() {\r\n      this.applyApiServiceForm.parameters.push({\r\n        parameterName: \"\",\r\n        parameterType: \"\",\r\n      });\r\n    },\r\n    removeParameter(index) {\r\n      console.log(index);\r\n      this.applyApiServiceForm.parameters.splice(index, 1);\r\n    },\r\n    handleResetParameters() {\r\n      this.applyApiServiceForm.parameters = [\r\n        {\r\n          parameterName: \"\",\r\n          parameterType: \"\",\r\n        },\r\n      ];\r\n      this.applyApiServiceForm.apiName = \"\";\r\n      this.applyApiServiceForm.caliber = \"\";\r\n    },\r\n    handleComfirmApply() {\r\n      this.$message({\r\n        message: \"已成功提交申请！\",\r\n        type: \"success\",\r\n      });\r\n    },\r\n    async queryPageList() {\r\n      console.log(this.queryFormData);\r\n      this.queryFormData.loading = true;\r\n      let res;\r\n      if (this.queryFormData.apiType == 0) {\r\n        res = await request({\r\n          url: `dataApi/apiApplyPower/page?size=${\r\n              this.queryFormData.size\r\n          }&page=${this.queryFormData.page}`,\r\n          method: \"get\",\r\n        });\r\n      } else {\r\n        res = await request({\r\n          url: `dataApi/apiApplyPower/page?size=${\r\n              this.queryFormData.size\r\n          }&page=${this.queryFormData.page}`,\r\n          method: \"get\",\r\n        });\r\n      }\r\n\r\n      if (res.data && res.data.records) {\r\n        this.tableData2 = res.data.records;\r\n        if (res.data.pages) this.queryFormData.pages = res.data.pages;\r\n        if (res.data.total) this.queryFormData.total = res.data.total;\r\n      }\r\n      this.queryFormData.loading = false;\r\n      console.log(res);\r\n      console.log(this.queryFormData);\r\n    },\r\n    handleSizeChange(val) {\r\n      this.queryFormData.size = val;\r\n      this.queryPageList();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryFormData.page = val;\r\n      this.queryPageList();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.queryPageList();\r\n  },\r\n};\r\n",null]}