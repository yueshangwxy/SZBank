{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\administrator\\appManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\administrator\\appManagement.vue","mtime":1650418887711},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"AppManagement\",\r\n  data() {\r\n    return {\r\n      tableData: [{}],\r\n      queryForm: {\r\n        content1: \"\",\r\n        content2: \"\",\r\n        content3: \"\",\r\n      },\r\n      addForm: {\r\n        name: \"\",\r\n      },\r\n      editForm: {},\r\n      addApplicationDialogVisible: false,\r\n      editApplicationDialogVisible: false,\r\n      size: 10,\r\n      total: 0,\r\n      pages: 0,\r\n      page: 1,\r\n      loading: true,\r\n    };\r\n  },\r\n  methods: {\r\n    handleConfirmAdd() {\r\n      request({\r\n        url: 'applicationInfo/save',\r\n        method: 'post',\r\n        data: {\r\n          ...this.addForm\r\n        }\r\n      })\r\n      this.addApplicationDialogVisible = false\r\n      this.queryPageList()\r\n    },\r\n    handleAddApplication() {\r\n      this.addApplicationDialogVisible = true;\r\n    },\r\n    handleConfirmEdit() {\r\n      request({\r\n        url: 'applicationInfo/update',\r\n        method: 'post',\r\n        data: {\r\n          ...this.editForm\r\n        }\r\n      })\r\n    },\r\n    async queryPageList() {\r\n      this.loading = true;\r\n      let res = await request({\r\n        url: `applicationInfo?page=${this.page}&size=${this.size}`,\r\n        method: 'get'\r\n      })\r\n      if (res.data && res.data.records) {\r\n        this.total = res.data.total;\r\n        this.pages = res.data.pages;\r\n        this.tableData = res.data.records;\r\n      }\r\n      this.loading = false;\r\n      console.log(res)\r\n    },\r\n    handleSizeChange(val) {\r\n      this.size = val;\r\n      this.queryPageList();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      this.queryPageList();\r\n    },\r\n    handleEdit(index, row) {\r\n      this.editForm = row;\r\n      this.editApplicationDialogVisible = true;\r\n    },\r\n    handleDelete(index, row) {\r\n      this.editForm = row\r\n\r\n      this.$confirm('是否要下线该文件?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        request({\r\n          url: 'applicationInfo/close?appCode=' + this.editForm.appCode,\r\n          method: 'post',\r\n        }).then((res) => {\r\n          if (res.code === 0) {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'success'\r\n            })\r\n          } else {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'error'\r\n            })\r\n          }\r\n        })\r\n      })\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    this.queryPageList();\r\n  }\r\n};\r\n",null]}