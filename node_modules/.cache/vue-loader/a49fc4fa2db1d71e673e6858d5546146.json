{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\assetSearch\\assetSearch.vue?vue&type=template&id=2409d1b0&scoped=true&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\assetSearch\\assetSearch.vue","mtime":1654824275272},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1650418886581},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\n<div class=\"searchIndex\">\n  <div class=\"left\">\n    <el-tabs v-model=\"activeTab\" v-if=\"assetType === 'table'\">\n      <el-tab-pane\n        v-for=\"item in tabList\"\n        :key=\"item.name\"\n        :label=\"item.label\"\n        :name=\"item.name\"\n      ></el-tab-pane>\n    </el-tabs>\n    <div class=\"tree\">\n      <!-- <el-input\n        placeholder=\"输入关键字进行过滤\"\n        v-model=\"filterText\"\n        clearable\n      >\n        <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\n      </el-input> -->\n      <el-tree\n        class=\"filter-tree\"\n        highlight-current\n        node-key=\"id\"\n        :data=\"treeData\"\n        :default-expanded-keys=\"expandedKeys\"\n        :props=\"defaultProps\"\n        accordion\n        @node-click=\"handleNodeClick\"\n        :filter-node-method=\"filterNode\"\n        ref=\"tree\"\n      >\n        <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n          <span v-if=\"data.icon\" :class=\"data.icon\"></span>\n          <span> {{ node.label }} </span>\n        </span>\n      </el-tree>\n    </div>\n  </div>\n  <div class=\"content\">\n    <div class=\"catalogue\">\n      <div class=\"filterBox\">\n        <div class=\"catalogueType\">\n          <span>资产类型:</span>\n          <el-tabs v-model=\"assetType\" @tab-click=\"handleClick\">\n            <el-tab-pane label=\"全部\" name=\"all\"></el-tab-pane>\n            <el-tab-pane label=\"表\" name=\"table\"></el-tab-pane>\n            <el-tab-pane label=\"API\" name=\"api\"></el-tab-pane>\n            <el-tab-pane label=\"指标\" name=\"target\"></el-tab-pane>\n            <el-tab-pane label=\"标签\" name=\"label\"></el-tab-pane>\n          </el-tabs>\n        </div>\n        <div class=\"catalogueType\">\n          <span>一级目录:</span>\n          <el-tabs v-model=\"firstType\" v-if=\"!firstList.length\">\n            <el-tab-pane label=\"全部\" name=\"all\"></el-tab-pane>\n          </el-tabs>\n          <el-tabs v-model=\"firstType\">\n            <el-tab-pane\n              v-for=\"item in firstList\"\n              :key=\"item.contentsId\"\n              :label=\"item.name\"\n              :name=\"item.contentsId\"\n            ></el-tab-pane>\n          </el-tabs>\n        </div>\n        <div class=\"catalogueType\">\n          <span>二级目录:</span>\n          <el-tabs v-model=\"secondType\" v-if=\"!secondList.length\">\n            <el-tab-pane label=\"全部\" name=\"all\"></el-tab-pane>\n          </el-tabs>\n          <el-tabs v-model=\"secondType\">\n            <el-tab-pane\n              v-for=\"item in secondList\"\n              :key=\"item.contentsId\"\n              :label=\"item.name\"\n              :name=\"item.contentsId\"\n            ></el-tab-pane>\n          </el-tabs>\n        </div>\n        <div class=\"catalogueType\">\n          <span>三级目录:</span>\n          <el-tabs v-model=\"thirdType\" v-if=\"!thirdList.length\">\n            <el-tab-pane label=\"全部\" name=\"all\"></el-tab-pane>\n          </el-tabs>\n          <el-tabs v-model=\"thirdType\">\n            <el-tab-pane\n              v-for=\"item in thirdList\"\n              :key=\"item.contentsId\"\n              :label=\"item.name\"\n              :name=\"item.contentsId\"\n            ></el-tab-pane>\n          </el-tabs>\n        </div>\n        <div class=\"filterConditon\">\n          <span class=\"desc\">筛选条件:</span>\n          <!-- table -->\n          <div class=\"filterItem\" v-if=\"assetType === 'table'\">\n            <el-cascader\n              v-model=\"deptCode\"\n              :options=\"deptTreeList\"\n              :show-all-levels=\"false\"\n              :props=\"{\n                value: 'id',\n                label: 'name',\n                children: 'children',\n                emitPath: false,\n                checkStrictly: true,\n              }\"\n              placeholder=\"请选择属主部门\"\n              clearable\n            ></el-cascader>\n            <el-input\n              v-model=\"table.project\"\n              placeholder=\"请输入存储项目名称\"\n              clearable\n            ></el-input>\n          </div>\n          <!-- API -->\n          <div class=\"filterItem\" v-if=\"assetType === 'api'\">\n            <el-select\n              v-model=\"api.application\"\n              placeholder=\"请选择归属应用\"\n              clearable\n            >\n              <el-option\n                v-for=\"item in appList\"\n                :key=\"item.appCode\"\n                :label=\"item.appName\"\n                :value=\"item.appCode\"\n              ></el-option>\n            </el-select>\n            <el-cascader\n              v-model=\"deptCode\"\n              :options=\"deptTreeList\"\n              :show-all-levels=\"false\"\n              :props=\"{\n                value: 'id',\n                label: 'name',\n                children: 'children',\n                emitPath: false,\n                checkStrictly: true,\n              }\"\n              placeholder=\"属主部门\"\n              clearable\n            ></el-cascader>\n          </div>\n          <!-- 指标 -->\n          <div class=\"filter\" v-if=\"assetType === 'target'\">\n            <el-input\n              v-model=\"target.targetCode\"\n              placeholder=\"指标编码\"\n              clearable\n            ></el-input>\n            <el-input\n              v-model=\"target.targetName\"\n              placeholder=\"指标名称\"\n              clearable\n            ></el-input>\n            <el-select\n              v-model=\"target.targetType\"\n              placeholder=\"指标类型\"\n              clearable\n            >\n              <el-option\n                v-for=\"item in targetTypeList\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\"\n              ></el-option>\n            </el-select>\n            <el-cascader\n              v-model=\"deptCode\"\n              :options=\"deptTreeList\"\n              :show-all-levels=\"false\"\n              :props=\"{\n                value: 'id',\n                label: 'name',\n                children: 'children',\n                emitPath: false,\n                checkStrictly: true,\n              }\"\n              placeholder=\"属主部门\"\n              clearable\n            ></el-cascader>\n            <el-select\n              v-model=\"target.classifyOne\"\n              placeholder=\"一级分类\"\n              clearable\n            >\n              <el-option\n                v-for=\"item in classifyOneList\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\"\n              ></el-option>\n            </el-select>\n          </div>\n          <!-- 标签 -->\n          <div class=\"filter\" v-if=\"assetType === 'label'\">\n            <el-select\n              v-model=\"label.classifyName\"\n              placeholder=\"标签分类\"\n              clearable\n            >\n              <el-option\n                v-for=\"item in classifyNameList\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\"\n              ></el-option>\n            </el-select>\n            <el-select\n              v-model=\"label.fromCode\"\n              placeholder=\"标签来源\"\n              clearable\n            >\n              <el-option\n                v-for=\"item in fromCodeList\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\"\n              ></el-option>\n            </el-select>\n            <el-cascader\n              v-model=\"deptCode\"\n              :options=\"deptTreeList\"\n              :show-all-levels=\"false\"\n              :props=\"{\n                value: 'id',\n                label: 'name',\n                children: 'children',\n                emitPath: false,\n                checkStrictly: true,\n              }\"\n              placeholder=\"属主部门\"\n              clearable\n            ></el-cascader>\n          </div>\n          <el-button @click=\"queryList()\">搜索</el-button>\n        </div>\n      </div>\n      <div class=\"btnBox\" v-if=\"assetType === 'all' || assetType === 'table'\">\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-shopping-cart-full\"\n          @click=\"jumpShopCar()\"\n          >我的购物车</el-button\n        >\n        <el-button\n          type=\"warning\"\n          icon=\"el-icon-star-off\"\n          @click=\"jumpCollection()\"\n          >我的收藏</el-button\n        >\n      </div>\n    </div>\n    <!-- 列表部分 -->\n    <div class=\"list\">\n      <div class=\"listItem\" v-for=\"(item, index) in tableData\" :key=\"index\">\n        <div class=\"title\">\n          <div class=\"title-left\">\n            <el-tag\n              class=\"title-left-tag\"\n              :type=\"getAssetTypeInfo(item.assetType)['tagColor']\"\n              >{{ getAssetTypeInfo(item.assetType)[\"tagName\"] }}</el-tag\n            >\n            <div v-if=\"item.assetType === 'table'\" class=\"table-title\">\n              <el-tooltip\n                effect=\"dark\"\n                placement=\"top-start\"\n                :content=\"item.tableComment\"\n              >\n                <div>\n                  {{ item.tableComment }}\n                </div>\n              </el-tooltip>\n              <el-tooltip\n                effect=\"dark\"\n                placement=\"top-start\"\n                :content=\"item.tableName\"\n              >\n                <div>{{ item.tableName }}</div>\n              </el-tooltip>\n            </div>\n            <el-tooltip\n              v-else\n              effect=\"dark\"\n              placement=\"top-start\"\n              :content=\"item[getAssetTypeInfo(item.assetType)['codeName']]\"\n            >\n              <div>\n                {{ item[getAssetTypeInfo(item.assetType)[\"codeName\"]] }}\n              </div>\n            </el-tooltip>\n          </div>\n          <i\n            class=\"el-icon-star-off\"\n            v-if=\"!item.favorite\"\n            @click=\"addFavorite(item)\"\n          ></i>\n          <i\n            class=\"el-icon-star-on\"\n            v-else-if=\"item.favorite\"\n            @click=\"delFavorite(item)\"\n          ></i>\n        </div>\n        <div class=\"detail\" v-if=\"item.assetType === 'table'\">\n          <p>\n            <span>存储项目名称：{{ item.project }}</span>\n          </p>\n          <p>\n            <span>底层存储类型：{{ item.driverType }}</span>\n          </p>\n          <p>\n            <span>所属用户：{{ item.owner }}</span>\n          </p>\n          <p>\n            <span>项目描述类型：{{ item.tableComment }}</span>\n          </p>\n          <div class=\"btn\">\n            <div>\n              <el-button type=\"text\" @click=\"previewData(item)\"\n                >数据预览</el-button\n              >\n            </div>\n            <span class=\"line\">|</span>\n            <div>\n              <el-button type=\"text\" @click=\"viewDetails(item)\"\n                >详情查看</el-button\n              >\n            </div>\n            <span class=\"line\">|</span>\n            <div>\n              <el-button\n                type=\"text\"\n                v-if=\"item.permission == 0\"\n                @click=\"applyForAuthority(item)\"\n                >申请权限</el-button\n              >\n              <el-button type=\"text\" v-if=\"item.permission == 1\" disabled\n                >已有权限</el-button\n              >\n              <el-button type=\"text\" v-if=\"item.permission == 2\" disabled\n                >申请中</el-button\n              >\n              <el-button type=\"text\" v-if=\"item.permission == 3\" disabled\n                >待生效</el-button\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"detail\" v-else-if=\"item.assetType === 'api'\">\n          <p>\n            <span>接口地址：{{ item.interfaceAds }}</span>\n            <span>请求类型：{{ item.reqType }}</span>\n          </p>\n          <p>\n            <span>归属应用：{{ item.applicationName }}</span>\n          </p>\n          <p>\n            <span>接口描述：{{ item.apiDescription }}</span>\n          </p>\n          <p></p>\n          <div class=\"btn\">\n            <div>\n              <el-button type=\"text\" @click=\"viewDetails(item)\"\n                >详情查看</el-button\n              >\n            </div>\n            <span class=\"line\">|</span>\n            <div>\n              <el-button v-if=\"item.applyStatus == 1\" type=\"text\" disabled\n                >已通过</el-button\n              >\n              <el-button\n                v-else-if=\"item.applyStatus == 2\"\n                type=\"text\"\n                disabled\n                >申请中</el-button\n              >\n              <el-button v-else type=\"text\" @click=\"applyForAccess(item)\"\n                >申请访问</el-button\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"detail\" v-else-if=\"item.assetType === 'target'\">\n          <p>\n            <span>指标编码：{{ item.targetCode }}</span>\n            <span>指标类型：{{ item.targetType }}</span>\n          </p>\n          <p>\n            <span>业务属主部门：{{ item.deptName }}</span>\n          </p>\n          <p>\n            <span>币种：{{ item.currency }}</span>\n          </p>\n          <p>\n            <span>频率：{{ item.statisticsRate }}</span>\n          </p>\n          <div class=\"btn\">\n            <div>\n              <el-button type=\"text\" @click=\"viewDetails(item)\"\n                >详情查看</el-button\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"detail\" v-else-if=\"item.assetType === 'label'\">\n          <p>\n            <span>标签编号：{{ item.labelCode }}</span>\n            <span>失效时间：{{ transInvalidTime(item.invalidTime) }}</span>\n          </p>\n          <p>\n            <span>分类名称：{{ item.classifyName }}</span>\n          </p>\n          <p>\n            <span>标签描述：{{ item.description }}</span>\n          </p>\n          <p>\n            <span>标签业务口径：{{ item.businessCaliber }}</span>\n          </p>\n          <div class=\"btn\">\n            <div>\n              <el-button type=\"text\" @click=\"viewDetails(item)\"\n                >详情查看</el-button\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 分页 -->\n    <div class=\"pagination\">\n      <el-pagination\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-size=\"pageSize\"\n        layout=\"total, prev, pager, next, jumper\"\n        :total=\"total\"\n        v-if=\"total !== 0\"\n      >\n      </el-pagination>\n    </div>\n    <!-- 数据预览弹窗 -->\n    <el-dialog\n      class=\"preView\"\n      title=\"数据预览\"\n      :visible.sync=\"dataPreVis\"\n      width=\"80%\"\n      top=\"25vh\"\n    >\n      <!-- 表格 -->\n      <el-table\n        v-if=\"!dataErrorMsg\"\n        :data=\"preDataList\"\n        height=\"320px\"\n        ref=\"dataTable\"\n      >\n        <el-table-column\n          v-for=\"(item, index) in preDataProp\"\n          :prop=\"item.prop\"\n          :label=\"item.label\"\n          align=\"center\"\n          :key=\"index\"\n          show-overflow-tooltip\n          :render-header=\"linefeed\"\n        >\n          <template scope=\"scope\">\n            <span>{{ scope.row[item.prop] }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n      <p class=\"dataErrorMsg\" v-else>{{ dataErrorMsg }}</p>\n    </el-dialog>\n    <!-- 申请权限 -->\n    <el-dialog\n      class=\"authority\"\n      :visible.sync=\"authorityVis\"\n      width=\"256px\"\n      top=\"40vh\"\n    >\n      <el-button @click=\"addShopCar()\">加入购物车</el-button>\n      <el-button @click=\"directApply()\">直接申请</el-button>\n    </el-dialog>\n    <!-- 选择生效日期弹窗 -->\n    <el-dialog\n      class=\"directApply\"\n      title=\"有效期选择\"\n      :visible.sync=\"directApplyVis\"\n      width=\"640px\"\n      top=\"30vh\"\n    >\n      <p :class=\"{ active: radio === '1' }\">\n        <el-radio v-model=\"radio\" label=\"1\">临时生效</el-radio>\n        <el-date-picker\n          v-model=\"daterange\"\n          type=\"daterange\"\n          range-separator=\"-\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          :picker-options=\"pickerOptions\"\n        >\n        </el-date-picker>\n      </p>\n      <p :class=\"{ active: radio === '2' }\">\n        <el-radio v-model=\"radio\" label=\"2\">永久生效</el-radio>\n      </p>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"directApplyVis = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmApply()\">确定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 已提交提示弹窗 -->\n    <el-dialog\n      class=\"tipDialog\"\n      :visible.sync=\"tipDialog\"\n      width=\"212px\"\n      top=\"38vh\"\n    >\n      <i class=\"el-icon-success\"></i>\n      <span>申请已提交，等待审批...</span>\n    </el-dialog>\n  </div>\n</div>\n",null]}