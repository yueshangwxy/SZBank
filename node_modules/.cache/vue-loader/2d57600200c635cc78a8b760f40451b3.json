{"remainingRequest":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\eladmin-system\\src\\views\\system\\job\\module\\form.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\eladmin-system\\src\\views\\system\\job\\module\\form.vue","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CRUD, { form } from '@crud/crud'\nimport { getDepts } from '../../../../api/system/dept'\nimport Treeselect from '@riophae/vue-treeselect'\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\n\nconst defaultForm = {\n  id: null,\n  name: '',\n  sort: 999,\n  enabled: true,\n  dept: {\n    id: 1\n  }\n}\nexport default {\n  components: { Treeselect },\n  mixins: [form(defaultForm)],\n  props: {\n    jobStatus: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      depts: [],\n      rules: {\n        name: [\n          { required: true, message: '请输入名称', trigger: 'blur' }\n        ],\n        sort: [\n          { required: true, message: '请输入序号', trigger: 'blur', type: 'number' }\n        ],\n        dept: { required: true, message: '所属部门不能为空', trigger: 'select' }\n      }\n    }\n  },\n  methods: {\n    [CRUD.HOOK.beforeToCU]() {\n      getDepts({ enabled: true }).then(res => {\n        this.depts = res.content\n      })\n    },\n    // 提交前的验证\n    [CRUD.HOOK.afterValidateCU]() {\n      if (!this.form.dept.id) {\n        this.$notify({\n          title: '所属部门不能为空',\n          type: 'warning'\n        })\n        return false\n      }\n      return true\n    }\n  }\n}\n",null]}