{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\dataLab\\datasearch\\maskingRulesConfig.vue?vue&type=template&id=7c5901a3&scoped=true&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\dataLab\\datasearch\\maskingRulesConfig.vue","mtime":1654848715703},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1650418886581},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\n    <div class=\"maskingRulesConfig\">\n      <!--新增-->\n      <el-dialog\n          :visible=\"addDialogVisible\"\n          title=\"新增\"\n          @close=\"handleCloseDetail\">\n        <div style=\"overflow-y: auto;overflow-x:hidden;height:100%;padding-left:10px;padding-right:10px\">\n          <el-form\n              :model=\"editForm\"\n              label-position=\"left\"\n              size=\"medium\"\n              :rules=\"editFormRules\"\n              label-width=\"80px\"\n              ref=\"editFormRef\">\n              <el-form-item label=\"项目\" prop=\"projectName\">\n                <el-input v-model=\"editForm.projectName\" clearable></el-input>\n              </el-form-item>\n              <el-form-item label=\"表\" prop=\"tableName\">\n                <el-input v-model=\"editForm.tableName\" clearable></el-input>\n              </el-form-item>\n              <el-form-item label=\"字段\" prop=\"columnName\">\n                <el-input v-model=\"editForm.columnName\" clearable></el-input>\n              </el-form-item>\n              <el-form-item label=\"脱敏规则\" prop=\"maskingRule\">\n                <el-select v-model=\"editForm.maskingRule\" placeholder=\"请选择\">\n                  <el-option\n                      v-for=\"item in maskingRules\"\n                      :key=\"item.code\"\n                      :label=\"item.desc\"\n                      :value=\"item.code\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"规则等级\" prop=\"ruleLevel\">\n                <el-select v-model=\"editForm.ruleLevel\" placeholder=\"请选择\">\n                  <el-option v-for=\"(item,index) in ruleLevels\" :key=\"index\" :value=\"item\">{{item}}</el-option>\n                </el-select>\n              </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"handleSendAddRule\">提交\n                    </el-button>\n                    <el-button  @click=\"handleCloseDetail\">取消\n                    </el-button>\n                </el-form-item>\n          </el-form>\n        </div>\n      </el-dialog>\n\n      <!--配置脱敏规则-->\n      <el-dialog\n          :visible=\"editDialogVisible\"\n          title=\"配置脱敏规则\"\n          @close=\"handleCloseDetail\">\n        <div style=\"overflow-y: auto;overflow-x:hidden;height:100%;padding-left:10px;padding-right:10px\">\n          <el-form\n              :model=\"editForm\"\n              label-position=\"left\"\n              label-width=\"80px\"\n              size=\"medium\"\n              :rules=\"editFormRules\"\n              ref=\"editFormRef\">\n              <el-form-item label=\"项目\" prop=\"projectName\">\n                <el-input v-model=\"editForm.projectName\" clearable></el-input>\n              </el-form-item>\n              <el-form-item label=\"表\" prop=\"tableName\">\n                <el-input v-model=\"editForm.tableName\" clearable></el-input>\n              </el-form-item>\n              <el-form-item label=\"字段\" prop=\"columnName\">\n                <el-input v-model=\"editForm.columnName\" clearable></el-input>\n              </el-form-item>\n              <el-form-item label=\"脱敏规则\" prop=\"maskingRule\">\n                <el-select v-model=\"editForm.maskingRule\" placeholder=\"请选择\">\n                  <el-option\n                      v-for=\"item in maskingRules\"\n                      :key=\"item.code\"\n                      :label=\"item.desc\"\n                      :value=\"item.code\"\n                      >\n                  </el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"规则等级\" prop=\"ruleLevel\">\n                <el-select v-model=\"editForm.ruleLevel\" placeholder=\"请选择\">\n                  <el-option v-for=\"(item,index) in ruleLevels\" :key=\"index\" :value=\"item\">{{item}}</el-option>\n                </el-select>\n              </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"handleSendEditRule\">提交\n                    </el-button>\n                    <el-button  @click=\"handleCloseDetail\">取消\n                    </el-button>\n                </el-form-item>\n          </el-form>\n        </div>\n      </el-dialog>\n\n      <!--导入excel-->\n      <el-dialog\n          :visible=\"importDialogVisible\"\n          title=\"导入\"\n          @close=\"handleCloseDetail\">\n        <div style=\"overflow-y: auto;overflow-x:hidden;height:100%;padding-left:10px;padding-right:10px\">\n          <el-form\n              :model=\"importForm\"\n              label-position=\"left\"\n              label-width=\"80px\"\n              size=\"medium\"\n              ref=\"editFormRef\">\n              <el-form-item label=\"导入文件\" prop=\"file\">\n                <el-upload\n                    ref=\"uploadButton\"\n                    drag\n                    action=\"\"\n                    :on-preview=\"previewFile\"\n                    :before-upload=\"beforeUpload\"\n                    :on-exceed=\"handleExceed\"\n                    multiple\n                    name=\"file\"\n                    :auto-upload=\"false\"\n                    :on-change=\"handleImportFile\"\n                    :http-request=\"uploadFile\"\n                    :file-list=\"fileList\"\n                    :on-success=\"handleSuccess\"\n                    accept=\"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n                    :limit=\"1\">\n                  <i class=\"el-icon-upload\"></i>\n                  <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n                  <div class=\"el-upload__tip\" slot=\"tip\" style=\"color: #ff0044;\">只允许上传1个xls/xlsx文件，且大小不超过{{ this.fileSize }}kb</div>\n                </el-upload>\n              </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"handleDownloadTemplate\">下载模板\n                    </el-button>\n                    <el-button type=\"primary\" @click=\"uploadFile\">上传导入\n                    </el-button>\n                </el-form-item>\n              <el-form-item>\n                <el-table\n                    :data=\"errorData\"\n                    style=\"width: 100%\"\n                    height=\"250\"\n                   :hidden=\"errorData.length==0\"\n                    :header-row-style=\"{color: '#FF0000FF'}\"\n                >\n\n                  <el-table-column\n                      label=\"序号\"\n                      type=\"index\"\n                      header-align=\"center\"\n                      align=\"center\"\n                      width=\"60\">\n                    <template scope=\"scope\">\n                      <span>{{(queryForm.page - 1) * queryForm.size + scope.$index + 1}}</span>\n                    </template>\n                  </el-table-column>\n                  <el-table-column\n                      prop=\"projectName\"\n                      label=\"项目\"\n                      header-align=\"center\"\n                      align=\"center\"\n                      width=\"180\">\n                  </el-table-column>\n                  <el-table-column\n                      prop=\"tableName\"\n                      header-align=\"center\"\n                      align=\"center\"\n                      label=\"表\">\n                  </el-table-column>\n                  <el-table-column\n                      prop=\"columnName\"\n                      header-align=\"center\"\n                      align=\"center\"\n                      label=\"字段\">\n                  </el-table-column>\n                  <el-table-column\n                      prop=\"maskingRuleShow\"\n                      header-align=\"center\"\n                      align=\"center\"\n                      label=\"脱敏规则\">\n                  </el-table-column>\n                  <el-table-column\n                      prop=\"errorMsg\"\n                      header-align=\"center\"\n                      align=\"center\"\n                      label=\"错误原因\">\n                  </el-table-column>\n                  <el-table-column\n                      prop=\"ruleLevel\"\n                      header-align=\"center\"\n                      align=\"center\"\n                      label=\"规则等级\">\n                  </el-table-column>\n                </el-table>\n              </el-form-item>\n<!--                <el-form-item>\n                    <el-button type=\"text\" @click=\"handleDownloadTemplate\" style=\"font-size: 20px;color: #000dff;text-decoration:underline;\">下载模板\n                    </el-button>\n                </el-form-item>-->\n          </el-form>\n        </div>\n      </el-dialog>\n\n        <div class=\"condition\">\n          <el-form :inline=\"true\" :model=\"queryForm\" label-position=\"left\" label-width=\"80px\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"8\">\n              <el-form-item label=\"项目\" >\n                <el-input\n                    placeholder=\"请输入项目名称\"\n                    v-model=\"queryForm.sc_project_name\"\n                    clearable>\n                </el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item label=\"表\" >\n                <el-input\n                    placeholder=\"请输入表名称\"\n                    v-model=\"queryForm.sc_table_name\"\n                    clearable>\n                </el-input>\n              </el-form-item>\n            </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"字段\" >\n                  <el-input\n                      placeholder=\"请输入字段名称\"\n                      v-model=\"queryForm.sc_column_name\"\n                      clearable>\n                  </el-input>\n                </el-form-item>\n              </el-col>\n          </el-row>\n          <el-row :gutter=\"20\">\n            <el-col :span=\"8\">\n              <el-form-item label=\"配置人\" >\n                <el-input\n                    placeholder=\"请输入配置人\"\n                    v-model=\"queryForm.sc_config_user\"\n                    clearable>\n                </el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item label=\"配置时间\" >\n                <el-date-picker\n                    v-model=\"queryForm.sc_config_time\"\n                    type=\"date\"\n                    placeholder=\"请选择配置时间\"\n                    value-format=\"yyyy-MM-dd\"\n                    >\n                </el-date-picker>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-button  type=\"primary\" @click=\"queryPageList\">查询</el-button>\n              <el-button type=\"primary\" @click=\"resetQueryForm\">重置</el-button>\n            </el-col>\n          </el-row>\n          </el-form>\n        </div>\n      <div class=\"content\">\n        <el-button  type=\"primary\" @click=\"handleAddRule\">新增</el-button>\n        <el-button  type=\"primary\" @click=\"handleOnImport\">批量导入</el-button>\n        <!-- 表格 -->\n        <el-table\n            :loading=\"queryForm.loading\"\n            :data=\"tableData\"\n            max-height=\"450px\">\n            <el-table-column\n                label=\"序号\"\n                type=\"index\"\n                header-align=\"center\"\n                align=\"center\"\n                width=\"60\">\n              <template scope=\"scope\">\n                <span>{{(queryForm.page - 1) * queryForm.size + scope.$index + 1}}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n                prop=\"projectName\"\n                label=\"项目\"\n                header-align=\"center\"\n                align=\"center\"\n                width=\"180\">\n            </el-table-column>\n          <el-table-column\n              prop=\"tableName\"\n              header-align=\"center\"\n              align=\"center\"\n              label=\"表\">\n          </el-table-column>\n          <el-table-column\n              prop=\"columnName\"\n              header-align=\"center\"\n              align=\"center\"\n              label=\"字段\">\n          </el-table-column>\n          <el-table-column\n              prop=\"maskingRuleShow\"\n              header-align=\"center\"\n              align=\"center\"\n              label=\"脱敏规则\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"text\" icon=\"el-icon-edit\"   v-if=\"scope.row.maskingRuleShow === ''||scope.row.maskingRuleShow === null||scope.row.maskingRuleShow === 'undefine'\" @click=\"handleEditRule(scope.row)\">配置</el-button>\n              <div v-else>{{scope.row.maskingRuleShow}}</div>\n            </template>\n          </el-table-column>\n          <el-table-column\n              prop=\"ruleLevel\"\n              header-align=\"center\"\n              align=\"center\"\n              label=\"规则等级\">\n          </el-table-column>\n          <el-table-column\n              prop=\"userName\"\n              header-align=\"center\"\n              align=\"center\"\n              label=\"配置人\">\n          </el-table-column>\n            <el-table-column\n                prop=\"configTime\"\n                :formatter=\"formatDate\"\n                header-align=\"center\"\n                align=\"center\"\n                label=\"配置时间\">\n            </el-table-column>\n            <el-table-column\n                header-align=\"center\"\n                align=\"center\"\n                label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button\n                    type=\"text\"\n                    @click=\"handleEdit(scope.$index, scope.row)\">修改\n                </el-button>\n                <el-button\n                    type=\"text\"\n                    @click=\"handleDelete(scope.$index, scope.row)\">删除\n                </el-button>\n              </template>\n            </el-table-column>\n        </el-table>\n        <!-- 分页 -->\n        <div class=\"pagination\">\n          <el-pagination @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"queryForm.page\"\n              :page-sizes=\"[10, 20, 30, 50]\"\n              :page-size=\"queryForm.size\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"queryForm.total\"\n              v-if=\"queryForm.total !==0\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n",null]}