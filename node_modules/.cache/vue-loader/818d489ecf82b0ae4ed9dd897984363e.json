{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\eladmin-common\\src\\views\\components\\Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\eladmin-common\\src\\views\\components\\Editor.vue","mtime":1650418876928},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from 'vuex'\r\nimport { upload } from '../../utils/upload'\r\nimport E from 'wangeditor'\r\nexport default {\r\n  name: 'Editor',\r\n  data() {\r\n    return {\r\n      editorContent:\r\n        `\r\n        <ul>\r\n          <li>富文本中图片上传使用的是 SM.MS 图床：<a style=\"color: #42b983\" target=\"_blank\" href=\"https://sm.ms/\">sm.ms</a></li>\r\n          <li>更多帮助请查看官方文档：<a style=\"color: #42b983\" target=\"_blank\" href=\"https://www.kancloud.cn/wangfupeng/wangeditor3/332599\">wangEditor</a></li>\r\n        </ul>`\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'imagesUploadApi'\r\n    ])\r\n  },\r\n  mounted() {\r\n    const _this = this\r\n    var editor = new E(this.$refs.editor)\r\n    // 自定义菜单配置\r\n    editor.customConfig.zIndex = 10\r\n    // 文件上传\r\n    editor.customConfig.customUploadImg = function(files, insert) {\r\n      // files 是 input 中选中的文件列表\r\n      // insert 是获取图片 url 后，插入到编辑器的方法\r\n      files.forEach(image => {\r\n        upload(_this.imagesUploadApi, image).then(data => {\r\n          insert(data.data.url)\r\n        })\r\n      })\r\n    }\r\n    editor.customConfig.onchange = (html) => {\r\n      this.editorContent = html\r\n    }\r\n    editor.create()\r\n    // 初始化数据\r\n    editor.txt.html(this.editorContent)\r\n  }\r\n}\r\n",null]}