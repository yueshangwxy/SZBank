{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\portalHome\\manager\\organizationManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\portalHome\\manager\\organizationManager.vue","mtime":1653299973661},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: \"organizationManager\",\n    components: {},\n    data() {\n        return {\n            name: '',\n            date: '',\n            dateValue: [],\n            enabled: '',\n            // 表格\n            tableData: [],\n            propList: [],\n            // 分页\n            pageSize: 9,\n            total: 10,\n            currentPage: 1,\n            // 详情弹窗\n            detailsVisible: false,\n            detailsForm: {\n                id: '',\n                name: '',\n                deptCategory: '',\n                code: '',\n                enabled: '',\n                pName: '',\n                deptLevel: '',\n                // xxxx: '',\n                type: '',\n                sdepart: '',\n                grade: '',\n                buSid: '',\n                supchg: '',\n                tel: '',\n            },\n            detailsRules: {\n                id: [\n                    { required: true, message: '请输入管理机构ID', trigger: 'blur' }\n                ],\n                name: [\n                    { required: true, message: '请输入管理机构名称', trigger: 'blur' }\n                ],\n            },\n            // 配置\n            settingsVisible: false,\n            settingsForm: {\n                name: '',\n                path: '',\n                approver: '',\n            },\n            settingsRules: {\n                name: [\n                    { required: true, message: '请输入机构名称', trigger: 'blur' }\n                ],\n            }\n        };\n    },\n    watch: {\n        date(val) {\n            if(val) {\n                let startTime = this.$formatDate(val[0])\n                let endTime = this.$formatDate(val[1]) \n                this.dateValue = [startTime,endTime]\n                console.log(this.dateValue);\n            } else {\n                this.dateValue = []\n            }\n        }\n    },\n    created() {},\n    mounted() {},\n    computed: {},\n    created() {\n        this.propList = [\n            {\n                prop: 'id',\n                label: '管理机构ID',\n            },\n            {\n                prop: 'code',\n                label: '管理机构编号',\n                align: 'center',\n            },\n            {\n                prop: 'name',\n                label: '管理机构名称',\n            },\n            {\n                prop: 'type',\n                label: '机构类别',\n            },\n            {\n                prop: 'level',\n                label: '机构层级',\n            },\n            {\n                prop: 'enabled',\n                label: '状态',\n                type: 'switch',\n                trans: (row) => {\n                    return row.enabled = row.enabled==0 ? false : true\n                },\n                action: (row) => {\n                    return row.enabled = row.enabled==0 ? 1 : 0\n                }\n            },\n            {\n                prop: 'createTime',\n                label: '创建日期',\n            },\n        ]\n        this.queryList()\n    },\n    methods: {\n        // 重置\n        reset() {\n            this.name = ''\n            this.date = ''\n            this.enabled = ''\n        },\n        // 列表查询\n        queryList() {\n            // name\t部门名称\tN\t按照部门名称搜索\n            // crtDate\t时间控制\tN\t\n            // enabled\t状态\tN\t默认都是1 启用\n            // pid\t上级id\tY\t当点击层级结构下拉框需要传入pid,不点击默认是根节点\n            let request = {\n                name: this.name,\n                crtDate: this.dateValue,\n                enabled: this.enabled,\n                // pid: '',\n            }\n            this.$api.qryOrgListPage(request).then(res => {\n                console.log(res);\n                this.tableData = res.data\n            })\n        },\n        // 复选框选中\n        handleSelectionChange(val) {\n            console.log(val);\n        },\n        // 懒加载\n        load(tree, treeNode, resolve) {\n            let request = {\n                name: this.name,\n                crtDate: this.dateValue,\n                enabled: this.enabled,\n                pid: tree.pid,\n            }\n            console.log(request,23333);\n            setTimeout(() => {\n                this.$api.qryOrgListPage(request).then((res) => {\n                    return resolve(res.data);\n                });\n            }, 1000);\n        },\n        // 详情\n        viewDetails(row) {\n            console.log(row);\n            this.detailsForm = {}\n            this.detailsVisible = true\n            this.$api.getDeptById({\n                id: row.id\n            }).then(res => {\n                this.detailsForm = res.data\n            }) \n        },\n        // 配置\n        settings(row) {\n            console.log(row);\n            this.settingsVisible = true\n        },\n        confirmSettings() {\n            console.log('settings  确定');\n            this.settingsVisible = false\n        },\n        //  分页\n        handleCurrentChange(val) {\n            console.log(val);\n        }\n    },\n};\n",null]}