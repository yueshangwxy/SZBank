{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\layout\\panelGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\layout\\panelGroup.vue","mtime":1654584083719},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nvar _homePage = require(\"../../../api/searchPage/homePage\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  components: {},\n  data: function data() {\n    return {\n      searchInput: '',\n      dateValue: '',\n      countAssetsData: [],\n      topTenData: [],\n      pieData: [],\n      //饼图数据\n      deptData: [],\n      //柱状图y轴\n      barData: [],\n      //柱状图数据\n      firstTableLineData: [],\n      //第一个折线图(表)\n      firstTargetLineData: [],\n      //第一个折线图(指标)\n      firstApiLineData: [],\n      //第一个折线图(api)\n      firstLabelLineData: [],\n      //第一个折线图(标签)\n      secondTableLineData: [],\n      //第二个折线图(表)\n      secondTargetLineData: [],\n      //第二个折线图(指标)\n      secondApiLineData: [],\n      //第二个折线图(api)\n      secondLabelLineData: [],\n      //第二个折线图(标签)\n      countAssetsByDeptData: [{\n        deptName: 1,\n        num: 2\n      }, {\n        deptName: 2,\n        num: 3\n      }, {\n        deptName: 3,\n        num: 4\n      }, {\n        deptName: 4,\n        num: 5\n      }, {\n        deptName: 5,\n        num: 6\n      }]\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    (0, _homePage.countAssetsByDept)().then(function (data) {\n      _this.countAssetsByDeptData = data;\n    });\n    /*this.countAssetsByDeptData = [{\"deptName\":\"部门1\",\"num\":6,\"deptCode\":\"1\"},\r\n        {\"deptName\":\"部门2\",\"num\":2,\"deptCode\":\"2\"},\r\n        {\"deptName\":\"部门3\",\"num\":3,\"deptCode\":\"3\"},\r\n        {\"deptName\":\"部门4\",\"num\":2,\"deptCode\":\"4\"}]*/\n\n    (0, _homePage.topTen)().then(function (data) {\n      _this.topTenData = data;\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    //各类资产已发布的数量\n    (0, _homePage.countAssets)().then(function (data) {\n      _this2.countAssetsData = data;\n    });\n    (0, _homePage.data2Charts)().then(function (data) {\n      _this2.pieData = data.pieData;\n      _this2.deptData = data.barData.deptList;\n      _this2.barData = data.barData.numList;\n      _this2.firstTableLineData = data.lineData.first.table;\n      _this2.firstTargetLineData = data.lineData.first.target;\n      _this2.firstApiLineData = data.lineData.first.api;\n      _this2.firstLabelLineData = data.lineData.first.label;\n      _this2.secondTableLineData = data.lineData.second.table;\n      _this2.secondTargetLineData = data.lineData.second.target;\n      _this2.secondApiLineData = data.lineData.second.api;\n      _this2.secondLabelLineData = data.lineData.second.label;\n      console.log(JSON.stringify(_this2.deptData));\n      console.log(JSON.stringify(_this2.barData));\n      console.log(JSON.stringify(data.lineData));\n\n      _this2.drawChart();\n    }); // 轮播图\n\n    var liWidth = $(\"#carousel ul>li\").outerWidth();\n    var count = 0;\n    $(\"#carousel ul\").append($(\"#carousel ul\").find(\"li\").eq(0).clone());\n    $(\"#carousel ul\").append($(\"#carousel ul\").find(\"li\").eq(1).clone());\n    $(\"#carousel ul\").append($(\"#carousel ul\").find(\"li\").eq(2).clone());\n    $(\"#carousel ul\").append($(\"#carousel ul\").find(\"li\").eq(3).clone());\n    $(\"#carousel ul\").append($(\"#carousel ul\").find(\"li\").eq(4).clone());\n    $(\"#carousel ul\").css(\"width\", $(\"#carousel ul>li\").length + \"00%\");\n    var flag = true;\n    $(\".car .arrow-left\").click(function () {\n      if (flag) {\n        flag = false;\n\n        if (count == 0) {\n          count = $(\"#carousel ul>li\").length - 5;\n          $(\"#carousel ul\").css(\"left\", -liWidth * count + \"px\");\n        }\n\n        count--;\n        $(\"#carousel ul\").animate({\n          \"left\": -liWidth * count\n        }, function () {\n          return flag = true;\n        });\n      }\n    });\n    $(\".car .arrow-right\").click(function () {\n      if (flag) {\n        flag = false;\n\n        if (count == $(\"#carousel ul>li\").length - 5) {\n          count = 0;\n          $(\"#carousel ul\").css(\"left\", -liWidth * count + \"px\");\n        }\n\n        count++;\n        $(\"#carousel ul\").animate({\n          \"left\": -liWidth * count\n        }, function () {\n          return flag = true;\n        });\n      }\n    });\n  },\n  methods: {\n    openSearchPage: function openSearchPage(desc) {\n      this.$router.push({\n        path: 'asset/searchPage/index',\n        query: {\n          desc: desc\n        }\n      });\n    },\n    // 搜索\n    queryList: function queryList(inputValue) {\n      // 去除空格\n      inputValue = inputValue.replace(/\\s*/g, \"\");\n      /*                this.historyTags.unshift(inputValue);\r\n                      this.historyTags = Array.from(new Set(this.historyTags))\r\n                      localStorage.setItem('historyTags',JSON.stringify(this.historyTags))*/\n\n      this.$router.push({\n        path: 'asset/searchPage/index',\n        query: {\n          searchInput: this.searchInput\n        }\n      });\n    },\n    // 搜索建议\n    querySearch: function querySearch(queryString, cb) {\n      var suggest = [{\n        \"value\": \"三全鲜食（北新泾店）\",\n        \"address\": \"长宁区新渔路144号\"\n      }, {\n        \"value\": \"Hot honey 首尔炸鸡（仙霞路）\",\n        \"address\": \"上海市长宁区淞虹路661号\"\n      }, {\n        \"value\": \"新旺角茶餐厅\",\n        \"address\": \"上海市普陀区真北路988号创邑金沙谷6号楼113\"\n      }]; // suggest数据由接口返回\n\n      var results = queryString ? suggest.filter(this.createFilter(queryString)) : suggest; // 调用 callback 返回建议列表的数据\n\n      cb(results);\n    },\n    createFilter: function createFilter(queryString) {\n      return function (res) {\n        return res.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    },\n    // 搜索建议选中\n    handleSelect: function handleSelect(item) {\n      console.log(item);\n      this.queryList(item.value);\n    },\n    // 绘图\n    drawChart: function drawChart() {\n      // 饼图\n      var pieChartDom = document.getElementById('pieChart');\n      var pieChart = this.$echarts.init(pieChartDom);\n      var pieChartOption = {\n        title: {\n          text: '资产分类',\n          left: '5%',\n          top: '5%'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: '60%',\n          y: 'center',\n          formatter: function formatter(name) {\n            var data = pieChartOption.series[0].data;\n            var total = 0;\n            var tarValue;\n\n            for (var i = 0; i < data.length; i++) {\n              total += data[i].value;\n\n              if (data[i].name == name) {\n                tarValue = data[i].value;\n              }\n            }\n\n            var v = tarValue;\n            return \"\".concat(name, \"     \").concat(parseInt(v / total * 100), \" %   \");\n          }\n        },\n        series: [{\n          name: '资产分类',\n          type: 'pie',\n          center: ['35%', '50%'],\n          radius: ['30%', '40%'],\n          avoidLabelOverlap: false,\n          label: {\n            show: false,\n            position: 'center',\n            formatter: \"{c}\\u8D44\\u4EA7\\u5206\\u7C7B\"\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: '20',\n              fontWeight: 'bold'\n            }\n          },\n          labelLine: {\n            show: false\n          },\n          data: this.pieData\n        }]\n      };\n      pieChartOption && pieChart.setOption(pieChartOption); // 柱状图\n\n      var barChartDom = document.getElementById('barChart');\n      var barChart = this.$echarts.init(barChartDom);\n      var barChartOption = {\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          // bottom: '3%',\n          top: '5%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'value',\n          boundaryGap: [0, 0.01]\n        },\n        yAxis: {\n          type: 'category',\n          data: this.deptData\n        },\n        series: [{\n          name: '资产数',\n          type: 'bar',\n          data: this.barData,\n          itemStyle: {\n            normal: {\n              color: 'blue'\n            }\n          }\n        }]\n      };\n      barChartOption && barChart.setOption(barChartOption); // 折线图\n\n      var lineChartDom = document.getElementById('lineChart');\n      var lineChart = this.$echarts.init(lineChartDom);\n      var lineChartOption = {\n        title: {\n          text: '业务趋势',\n          left: '5%',\n          top: '5%'\n        },\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {\n          selectedMode: false,\n          data: ['表资产', 'API资产', '目标资产', '标签资产'],\n          top: '5%'\n        },\n        grid: {\n          left: '5%',\n          right: '5%',\n          bottom: '5%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: ['1', '2', '3', '4', '5', '6', '7']\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          name: '表资产',\n          type: 'line',\n          stack: 'Total',\n          data: this.firstTableLineData\n        }, {\n          name: 'API资产',\n          type: 'line',\n          stack: 'Total',\n          data: this.firstApiLineData\n        }, {\n          name: '目标资产',\n          type: 'line',\n          stack: 'Total',\n          data: this.firstTargetLineData\n        }, {\n          name: '标签资产',\n          type: 'line',\n          stack: 'Total',\n          data: this.firstLabelLineData\n        }]\n      };\n      lineChartOption && lineChart.setOption(lineChartOption); // 折线图2\n\n      var smoothLineChartDom = document.getElementById('smoothLineChart');\n      var smoothLineChart = this.$echarts.init(smoothLineChartDom);\n      var smoothLineChartOption = {\n        title: {\n          text: '资产数据增长情况',\n          left: '5%',\n          top: '5%'\n        },\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {\n          selectedMode: false,\n          data: ['1部', '2部', '3部', '4部'],\n          top: '5%'\n        },\n        grid: {\n          left: '5%',\n          right: '5%',\n          bottom: '5%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: ['1', '2', '3', '4', '5', '6', '7']\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          name: '表资产',\n          type: 'line',\n          smooth: true,\n          stack: 'Total',\n          data: this.secondTableLineData\n        }, {\n          name: '指标资产',\n          type: 'line',\n          smooth: true,\n          stack: 'Total',\n          data: this.secondTargetLineData\n        }, {\n          name: 'Api资产',\n          type: 'line',\n          smooth: true,\n          stack: 'Total',\n          data: this.secondApiLineData\n        }, {\n          name: '标签',\n          type: 'line',\n          smooth: true,\n          stack: 'Total',\n          data: this.secondLabelLineData\n        }]\n      };\n      smoothLineChartOption && smoothLineChart.setOption(smoothLineChartOption);\n      setTimeout(function () {\n        window.onresize = function () {\n          pieChart.resize();\n          barChart.resize();\n          lineChart.resize();\n          smoothLineChart.resize();\n        };\n      }, 200);\n    }\n  }\n};\nexports.default = _default;",null]}