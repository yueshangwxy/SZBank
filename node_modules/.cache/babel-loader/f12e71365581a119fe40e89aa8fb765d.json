{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\applyForApp.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\applyForApp.vue","mtime":1654824275283},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/code/DataAssetPlatform000/Pncui-Ind/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"D:/code/DataAssetPlatform000/Pncui-Ind/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nrequire(\"core-js/modules/es6.function.name\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      title: \"应用申请\",\n      editPage: false,\n      labelPosition: \"top\",\n      ruleForm: {\n        appName: \"\",\n        appCode: \"\",\n        description: \"\",\n        status: \"\",\n        appKey: \"\",\n        appSecret: \"\"\n      },\n      rules: {\n        appName: [{\n          required: true,\n          message: \"请输入应用名称\",\n          trigger: \"blur\"\n        }],\n        appCode: [{\n          required: true,\n          message: \"请输入应用Code\",\n          trigger: \"blur\"\n        }],\n        description: [{\n          required: true,\n          message: \"请输入描述\",\n          trigger: \"blur\"\n        }],\n        appKey: [{\n          required: true,\n          message: \"请输入appKey\",\n          trigger: \"blur\"\n        }],\n        appSecret: [{\n          required: true,\n          message: \"请输入appSecret\",\n          trigger: \"blur\"\n        }],\n        status: [{\n          required: true,\n          message: \"请选择状态\",\n          trigger: \"change\"\n        }]\n      },\n      appCode: \"\"\n    };\n  },\n  mounted: function mounted() {\n    this.initData();\n  },\n  // beforeRouteLeave(to, from, next) {\n  //   if (to.name === \"appManagement\") {\n  //     this.$store.commit(\"SET_KEEPALIVE\", true);\n  //   } else {\n  //     this.$store.commit(\"SET_KEEPALIVE\", false);\n  //   }\n  //   next();\n  // },\n  // watch: {\n  //   $route(e) {\n  //     if (e.name === \"applyForApp\") {\n  //       this.initData();\n  //     }\n  //   },\n  // },\n  methods: {\n    initData: function initData() {\n      var _this = this;\n\n      this.editPage = this.$route.name === \"editApp\" ? true : false;\n\n      if (this.editPage) {\n        this.title = this.$route.meta.title;\n      }\n\n      this.appCode = this.$route.query.appCode ? this.$route.query.appCode : \"\";\n      console.log(this.$route);\n\n      if (this.$route.name === \"editApp\") {\n        this.$api.viewAppDetail({\n          appCode: this.appCode\n        }).then(function (res) {\n          console.log(res, \"yyyy\");\n          _this.ruleForm = res.data;\n        });\n      }\n    },\n    // 取消\n    cancel: function cancel() {\n      var _this2 = this;\n\n      console.log(\"取消\");\n      var currentView = this.$store.state.tagsView.visitedViews[0];\n\n      var _iterator = (0, _createForOfIteratorHelper2.default)(this.$store.state.tagsView.visitedViews),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          currentView = _step.value;\n\n          if (currentView.path === this.$route.path) {\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.$store.dispatch(\"tagsView/delView\", currentView).then(function () {\n        _this2.$router.push({\n          path: \"/dataServicePlatform/appManagement\"\n        });\n      });\n    },\n    // 提交申请\n    submitApplication: function submitApplication() {\n      var _this3 = this;\n\n      console.log(\"提交申请\");\n      console.log(this.ruleForm);\n      this.$refs.ruleForm.validate(function (valid) {\n        if (valid) {\n          _this3.$api.applyForApp(_this3.ruleForm).then(function (res) {\n            if (res.code == 0 || res.code == 200) {\n              _this3.$message.success(res.msg);\n\n              _this3.cancel();\n            } else {\n              _this3.$message.error(res.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 确认更新\n    confirmModify: function confirmModify() {\n      var _this4 = this;\n\n      console.log(\"确定修改\");\n      console.log(this.ruleForm);\n      this.$refs.ruleForm.validate(function (valid) {\n        if (valid) {\n          _this4.$api.updateApp(_this4.ruleForm).then(function (res) {\n            if (res.code == 0 || res.code == 200) {\n              _this4.$message.success(res.msg);\n\n              _this4.cancel();\n            } else {\n              _this4.$message.error(res.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",null]}