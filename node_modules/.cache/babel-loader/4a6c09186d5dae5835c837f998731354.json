{"remainingRequest":"D:\\SZBank\\node_modules\\babel-loader\\lib\\index.js!D:\\SZBank\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\SZBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SZBank\\src\\views\\indicators\\dataServicePlatform\\appManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SZBank\\src\\views\\indicators\\dataServicePlatform\\appManagement.vue","mtime":1654824275280},{"path":"D:\\SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\SZBank\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\SZBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\SZBank\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: \"MyShopCar\",\n  data: function data() {\n    return {\n      // 条件\n      appCode: \"\",\n      appName: \"\",\n      status: \"\",\n      // 表格\n      tableData: [],\n      propList: [],\n      // 分页\n      pageSize: 10,\n      currentPage: 1,\n      total: 10,\n      // 删除确认弹窗\n      confirmDialog: false,\n      message: \"\",\n      // 当前操作id\n      currentId: \"\",\n      // 应用服务关系\n      appServiceVis: false,\n      activeName: \"first\",\n      diaDataProp: [],\n      diaDataList: [],\n      curAppCode: \"\"\n    };\n  },\n  // beforeRouteLeave(to, from, next) {\n  //   if (\n  //     to.name === \"applyForApp\" ||\n  //     to.name === \"appDetail\" ||\n  //     to.name === \"editApp\"\n  //   ) {\n  //     this.$store.commit(\"SET_KEEPALIVE\", true);\n  //   } else {\n  //     this.$store.commit(\"SET_KEEPALIVE\", false);\n  //   }\n  //   next();\n  // },\n  created: function created() {\n    // this.$store.commit(\"SET_KEEPALIVE\", true);\n    this.propList = [{\n      prop: \"appName\",\n      label: \"应用名称\"\n    }, {\n      prop: \"appCode\",\n      label: \"应用code\"\n    }, {\n      prop: \"description\",\n      label: \"描述\"\n    }, {\n      prop: \"status\",\n      label: \"状态\",\n      type: \"tag\",\n      tagType: function tagType(row) {\n        var type = \"\";\n\n        if (row.status === \"0\") {\n          type = \"info\";\n        } else if (row.status === \"1\") {\n          type = \"warning\";\n        } else if (row.status === \"2\") {\n          type = \"warning\";\n        } else if (row.status === \"3\") {\n          type = \"success\";\n        } else if (row.status === \"4\") {\n          type = \"danger\";\n        } else if (row.status === \"5\") {\n          type = \"warning\";\n        } else if (row.status === \"6\") {\n          type = \"warning\";\n        } else if (row.status === \"7\") {\n          type = \"warning\";\n        } else if (row.status === \"8\") {\n          type = \"\";\n        }\n\n        return type;\n      },\n      render: function render(row) {\n        var status = \"\";\n\n        if (row.status === \"0\") {\n          status = \"已下线\";\n        } else if (row.status === \"1\") {\n          status = \"草稿\";\n        } else if (row.status === \"2\") {\n          status = \"需求已提交\";\n        } else if (row.status === \"3\") {\n          status = \"需求已通过\";\n        } else if (row.status === \"4\") {\n          status = \"需求已驳回\";\n        } else if (row.status === \"5\") {\n          status = \"开发中\";\n        } else if (row.status === \"6\") {\n          status = \"测试中\";\n        } else if (row.status === \"7\") {\n          status = \"已完成待上线\";\n        } else if (row.status === \"8\") {\n          status = \"已上线\";\n        }\n\n        return status;\n      }\n    }, {\n      prop: \"createDate\",\n      label: \"创建时间\"\n    }];\n  },\n  mounted: function mounted() {\n    this.queryList();\n  },\n  methods: {\n    // 查询列表\n    queryList: function queryList() {\n      var _this = this;\n\n      var request = {\n        page: this.currentPage,\n        size: this.pageSize,\n        appCode: this.appCode,\n        appName: this.appName,\n        status: this.status\n      };\n      this.$api.qryAppList(request).then(function (res) {\n        console.log(res);\n        _this.tableData = res.data.records;\n        _this.total = res.data.total;\n      });\n    },\n    // jumpApp\n    jumpApp: function jumpApp() {\n      this.$router.push({\n        path: \"/dataServicePlatform/applyForApp\"\n      });\n    },\n    // 查看\n    viewDetails: function viewDetails(row) {\n      console.log(\"查看\", row.appCode);\n      this.$router.push({\n        path: \"/dataServicePlatform/appDetail\",\n        query: {\n          appCode: row.appCode\n        }\n      });\n    },\n    // 编辑\n    edit: function edit(row) {\n      console.log(\"编辑\", row.appCode);\n      this.$router.push({\n        path: \"/dataServicePlatform/editApp\",\n        query: {\n          appCode: row.appCode\n        }\n      });\n    },\n    // 应用服务关系\n    appService: function appService(row) {\n      var _this2 = this;\n\n      console.log(\"应用服务关系\");\n      this.diaDataProp = [{\n        prop: \"name\",\n        label: \"名称\",\n        align: \"center\"\n      }, {\n        prop: \"description\",\n        label: \"描述\",\n        align: \"center\"\n      }];\n      this.appServiceVis = true;\n      this.curAppCode = row.appCode;\n      this.$api.qryAppService({\n        appCode: this.curAppCode\n      }).then(function (res) {\n        console.log(res, 23333);\n        _this2.diaDataList = res.data;\n      });\n    },\n    // 弹窗tab\n    handleClick: function handleClick(tab, event) {\n      var _this3 = this;\n\n      console.log(tab.name);\n\n      if (tab.name === \"first\") {\n        this.$api.qryAppService({\n          appCode: this.curAppCode\n        }).then(function (res) {\n          _this3.diaDataList = res.data;\n        });\n      } else {\n        this.$api.qryAppAccessService({\n          appCode: this.curAppCode\n        }).then(function (res) {\n          _this3.diaDataList = res.data;\n        });\n      }\n    },\n    // 删除\n    delApp: function delApp(row) {\n      console.log(row);\n      this.message = \"您要删除此应用吗？\";\n      this.confirmDialog = true;\n      this.currentId = row.appCode;\n    },\n    // 确认删除\n    confrim: function confrim() {\n      var _this4 = this;\n\n      this.confirmDialog = false;\n      this.$api.deleteApp({\n        appCode: this.currentId\n      }).then(function (res) {\n        console.log(res, \"删除\");\n\n        if (res.code == 0 || res.code == 200) {\n          _this4.$message.success(res.msg);\n\n          _this4.queryList();\n        } else {\n          _this4.$message.error(res.msg);\n        }\n      });\n    },\n    // 分页\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.currentPage = val;\n      this.queryList();\n    }\n  }\n};\nexports.default = _default;",null]}