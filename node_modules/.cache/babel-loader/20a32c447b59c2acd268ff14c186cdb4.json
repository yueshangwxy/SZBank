{"remainingRequest":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\DataAssetPlatform\\Pncui-Ind\\mock\\index.js","dependencies":[{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\mock\\index.js","mtime":1648107457476},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647917124586},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1647917124178}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/code/DataAssetPlatform/Pncui-Ind/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"D:/code/DataAssetPlatform/Pncui-Ind/node_modules/@babel/runtime/helpers/toConsumableArray\"));\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar Mock = require('mockjs');\n\nvar _require = require(\"./utils\"),\n    param2Obj = _require.param2Obj; // auth\n\n\nvar auth = require(\"./auth/auth\"); // searchPage 搜索页\n\n\nvar searchPage = require(\"./searchPage/searchPage\");\n\nvar mocks = [].concat((0, _toConsumableArray2.default)(auth), (0, _toConsumableArray2.default)(searchPage));\nconsole.log(mocks, 233); // for front mock\n// please use it cautiously, it will redefine XMLHttpRequest,\n// which will cause many of your third-party libraries to be invalidated(like progress event).\n\nfunction mockXHR() {\n  // mock patch\n  // https://github.com/nuysoft/Mock/issues/300\n  Mock.XHR.prototype.proxy_send = Mock.XHR.prototype.send;\n\n  Mock.XHR.prototype.send = function () {\n    if (this.custom.xhr) {\n      this.custom.xhr.withCredentials = this.withCredentials || false;\n\n      if (this.responseType) {\n        this.custom.xhr.responseType = this.responseType;\n      }\n    }\n\n    this.proxy_send.apply(this, arguments);\n  };\n\n  function XHR2ExpressReqWrap(respond) {\n    return function (options) {\n      var result = null;\n\n      if (respond instanceof Function) {\n        var body = options.body,\n            type = options.type,\n            url = options.url; // https://expressjs.com/en/4x/api.html#req\n\n        result = respond({\n          method: type,\n          body: JSON.parse(body),\n          query: param2Obj(url)\n        });\n      } else {\n        result = respond;\n      }\n\n      return Mock.mock(result);\n    };\n  }\n\n  var _iterator = _createForOfIteratorHelper(mocks),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var i = _step.value;\n      Mock.mock(new RegExp(i.url), i.type || 'get', XHR2ExpressReqWrap(i.response));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nmodule.exports = {\n  mocks: mocks,\n  mockXHR: mockXHR\n};",{"version":3,"sources":["D:/code/DataAssetPlatform/Pncui-Ind/mock/index.js"],"names":["Mock","require","param2Obj","auth","searchPage","mocks","console","log","mockXHR","XHR","prototype","proxy_send","send","custom","xhr","withCredentials","responseType","arguments","XHR2ExpressReqWrap","respond","options","result","Function","body","type","url","method","JSON","parse","query","mock","i","RegExp","response","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,eAAsBA,OAAO,WAA7B;AAAA,IAAQC,SAAR,YAAQA,SAAR,C,CACA;;;AACA,IAAMC,IAAI,GAAGF,OAAO,eAApB,C,CACA;;;AACA,IAAMG,UAAU,GAAGH,OAAO,2BAA1B;;AAEA,IAAMI,KAAK,8CAENF,IAFM,oCAINC,UAJM,EAAX;AAOAE,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAkB,GAAlB,E,CACA;AACA;AACA;;AACA,SAASG,OAAT,GAAmB;AACjB;AACA;AACAR,EAAAA,IAAI,CAACS,GAAL,CAASC,SAAT,CAAmBC,UAAnB,GAAgCX,IAAI,CAACS,GAAL,CAASC,SAAT,CAAmBE,IAAnD;;AACAZ,EAAAA,IAAI,CAACS,GAAL,CAASC,SAAT,CAAmBE,IAAnB,GAA0B,YAAW;AACnC,QAAI,KAAKC,MAAL,CAAYC,GAAhB,EAAqB;AACnB,WAAKD,MAAL,CAAYC,GAAZ,CAAgBC,eAAhB,GAAkC,KAAKA,eAAL,IAAwB,KAA1D;;AAEA,UAAI,KAAKC,YAAT,EAAuB;AACrB,aAAKH,MAAL,CAAYC,GAAZ,CAAgBE,YAAhB,GAA+B,KAAKA,YAApC;AACD;AACF;;AACD,SAAKL,UAAL,aAAmBM,SAAnB;AACD,GATD;;AAWA,WAASC,kBAAT,CAA4BC,OAA5B,EAAqC;AACnC,WAAO,UAASC,OAAT,EAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AACA,UAAIF,OAAO,YAAYG,QAAvB,EAAiC;AAC/B,YAAQC,IAAR,GAA4BH,OAA5B,CAAQG,IAAR;AAAA,YAAcC,IAAd,GAA4BJ,OAA5B,CAAcI,IAAd;AAAA,YAAoBC,GAApB,GAA4BL,OAA5B,CAAoBK,GAApB,CAD+B,CAE/B;;AACAJ,QAAAA,MAAM,GAAGF,OAAO,CAAC;AACfO,UAAAA,MAAM,EAAEF,IADO;AAEfD,UAAAA,IAAI,EAAEI,IAAI,CAACC,KAAL,CAAWL,IAAX,CAFS;AAGfM,UAAAA,KAAK,EAAE3B,SAAS,CAACuB,GAAD;AAHD,SAAD,CAAhB;AAKD,OARD,MAQO;AACLJ,QAAAA,MAAM,GAAGF,OAAT;AACD;;AACD,aAAOnB,IAAI,CAAC8B,IAAL,CAAUT,MAAV,CAAP;AACD,KAdD;AAeD;;AA/BgB,6CAiCDhB,KAjCC;AAAA;;AAAA;AAiCjB,wDAAuB;AAAA,UAAZ0B,CAAY;AACrB/B,MAAAA,IAAI,CAAC8B,IAAL,CAAU,IAAIE,MAAJ,CAAWD,CAAC,CAACN,GAAb,CAAV,EAA6BM,CAAC,CAACP,IAAF,IAAU,KAAvC,EAA8CN,kBAAkB,CAACa,CAAC,CAACE,QAAH,CAAhE;AACD;AAnCgB;AAAA;AAAA;AAAA;AAAA;AAoClB;;AACDC,MAAM,CAACC,OAAP,GAAiB;AACf9B,EAAAA,KAAK,EAALA,KADe;AAEfG,EAAAA,OAAO,EAAPA;AAFe,CAAjB","sourcesContent":["const Mock = require('mockjs')\r\nconst { param2Obj } = require('./utils')\r\n// auth\r\nconst auth = require('./auth/auth')\r\n// searchPage 搜索页\r\nconst searchPage = require('./searchPage/searchPage')\r\n\r\nconst mocks = [\r\n  // auth\r\n  ...auth,\r\n  // searchPage 搜索页\r\n  ...searchPage,\r\n\r\n]\r\nconsole.log(mocks,233);\r\n// for front mock\r\n// please use it cautiously, it will redefine XMLHttpRequest,\r\n// which will cause many of your third-party libraries to be invalidated(like progress event).\r\nfunction mockXHR() {\r\n  // mock patch\r\n  // https://github.com/nuysoft/Mock/issues/300\r\n  Mock.XHR.prototype.proxy_send = Mock.XHR.prototype.send\r\n  Mock.XHR.prototype.send = function() {\r\n    if (this.custom.xhr) {\r\n      this.custom.xhr.withCredentials = this.withCredentials || false\r\n\r\n      if (this.responseType) {\r\n        this.custom.xhr.responseType = this.responseType\r\n      }\r\n    }\r\n    this.proxy_send(...arguments)\r\n  }\r\n\r\n  function XHR2ExpressReqWrap(respond) {\r\n    return function(options) {\r\n      let result = null\r\n      if (respond instanceof Function) {\r\n        const { body, type, url } = options\r\n        // https://expressjs.com/en/4x/api.html#req\r\n        result = respond({\r\n          method: type,\r\n          body: JSON.parse(body),\r\n          query: param2Obj(url)\r\n        })\r\n      } else {\r\n        result = respond\r\n      }\r\n      return Mock.mock(result)\r\n    }\r\n  }\r\n\r\n  for (const i of mocks) {\r\n    Mock.mock(new RegExp(i.url), i.type || 'get', XHR2ExpressReqWrap(i.response))\r\n  }\r\n}\r\nmodule.exports = {\r\n  mocks,\r\n  mockXHR\r\n}\r\n"]}]}