{"remainingRequest":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js!F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\code\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\code\\indicator\\Pncui-Indicator\\src\\views\\indicators\\manual\\indSupplementaryReview.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\code\\indicator\\Pncui-Indicator\\src\\views\\indicators\\manual\\indSupplementaryReview.vue","mtime":1643186059797},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"F:/code/indicator/Pncui-Indicator/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _objectSpread from \"F:/code/indicator/Pncui-Indicator/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _methods;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport crudIndSupplementaryReview, { toApprove } from \"../../../api/indicators/indSupplementaryReview\";\nimport { findIndByApproveId } from \"../../../api/indicators/indIndicatorManual\";\nimport CRUD, { presenter, header, form, crud } from '@crud/crud';\nimport rrOperation from '@crud/RR.operation';\nimport crudOperation from '@crud/CRUD.operation';\nimport udOperation from '@crud/UD.operation';\nimport pagination from '@crud/Pagination'; // crud交由presenter持有\n\nvar defaultCrud = CRUD({\n  title: '补录审核',\n  url: crudIndSupplementaryReview.url,\n  sort: 'id,desc',\n  crudMethod: _objectSpread({}, crudIndSupplementaryReview.crud)\n});\nvar defaultForm = {\n  id: null,\n  supplementaryDescribe: null,\n  approveStatus: null,\n  supplementaryId: null,\n  infoId: null,\n  crtUserCode: null,\n  crtOrgCode: null,\n  crtDate: null,\n  updUserCode: null,\n  updOrgCode: null,\n  inputdate: null,\n  updDate: null\n};\nvar detailData = [];\nexport default {\n  name: 'IndSupplementaryReview',\n  components: {\n    pagination: pagination,\n    crudOperation: crudOperation,\n    rrOperation: rrOperation,\n    udOperation: udOperation\n  },\n  mixins: [presenter(defaultCrud), header(), form(defaultForm), crud()],\n  dicts: ['RETENTION', 'IE_TYPE', 'IE_STATUS', 'IND_CURRENCY', 'IND_FIRST_TYPE', 'BUSSINESS_DEPT', 'IE_FREQUENCY', 'IND_APPROVE_STATUS', 'BE_APPROVE_STATUS'],\n  data: function data() {\n    return {\n      approvedDialog: false,\n      DetailDialog: false,\n      loading: true,\n      ids: null,\n      infoIds: null,\n      detailData: detailData,\n      permission: {\n        add: ['admin', 'indSupplementaryReview:add'],\n        edit: ['admin', 'indSupplementaryReview:edit'],\n        del: ['admin', 'indSupplementaryReview:del']\n      },\n      options: [{\n        value: '2',\n        label: '同意'\n      }, {\n        value: '3',\n        label: '驳回'\n      }],\n      rules: {\n        id: [{\n          required: true,\n          message: 'ID不能为空',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.resetQuery();\n  },\n  methods: (_methods = {\n    resetQuery: function resetQuery() {\n      this.crud.resetQuery(false);\n      this.crud.refresh();\n    }\n  }, _defineProperty(_methods, CRUD.HOOK.beforeRefresh, function () {\n    this.crud.optShow.del = false;\n    this.crud.optShow.add = false;\n    return true;\n  }), _defineProperty(_methods, \"Approved\", function Approved(data) {\n    console.log(data);\n\n    if (Object.keys(data).length == 0) {\n      this.$message({\n        message: '请先选择一条记录',\n        type: 'warning'\n      });\n    } else {\n      this.approvedDialog = true, this.ids = data[0].id;\n      this.infoIds = data[0].infoId;\n    }\n  }), _defineProperty(_methods, \"closeApprovedDialog\", function closeApprovedDialog() {\n    this.approvedDialog = false;\n    this.form.approveStatus = \"\";\n    this.ids = \"\";\n    this.infoIds = \"\";\n  }), _defineProperty(_methods, \"closeDetailDialog\", function closeDetailDialog() {\n    this.DetailDialog = false;\n    this.loading = true;\n  }), _defineProperty(_methods, \"showDetail\", function showDetail(data) {\n    var _this = this;\n\n    this.DetailDialog = true;\n    var approveId = data[0].id;\n    findIndByApproveId(approveId).then(function (data) {\n      console.log(data);\n      _this.detailData = data;\n      _this.loading = false;\n    });\n  }), _defineProperty(_methods, \"submit\", function submit() {\n    var _this2 = this;\n\n    toApprove(this.ids, this.infoIds, this.form.approveStatus).then(function (data) {\n      if (data.msg == \"成功\" || data.msg == \"操作成功\") {\n        _this2.$message.success({\n          message: '操作成功!'\n        });\n\n        _this2.closeApprovedDialog();\n\n        _this2.crud.toQuery();\n      } else {\n        _this2.$message.error({\n          message: data.msg\n        });\n      }\n    });\n  }), _methods)\n};",null]}