{"remainingRequest":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\myAPI.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\dataServicePlatform\\myAPI.vue","mtime":1650772058544},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650772030926},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650772030306},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650772030926},{"path":"C:\\Users\\rdren\\Desktop\\workspace\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650772056629}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/rdren/Desktop/workspace/DataAssetPlatform/Pncui-Ind/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"C:/Users/rdren/Desktop/workspace/DataAssetPlatform/Pncui-Ind/node_modules/@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"C:/Users/rdren/Desktop/workspace/DataAssetPlatform/Pncui-Ind/node_modules/@babel/runtime/helpers/defineProperty\"));\n\nvar _request = _interopRequireDefault(require(\"@/utils/request\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar _default = {\n  name: \"MyApi\",\n  data: function data() {\n    return {\n      editForm: {},\n      tableData: [],\n      queryForm: {\n        id: '',\n        status: '',\n        size: 10,\n        page: 1,\n        total: 0,\n        pages: 0,\n        apiType: ''\n      },\n      loading: true,\n      editDialogVisible: false,\n      applyApiServiceForm: {\n        apiName: \"\",\n        caliber: \"\",\n        parameters: [{\n          parameterName: \"\",\n          parameterType: \"\"\n        }]\n      },\n      tableData2: [],\n      applyRules: [{\n        required: true,\n        message: \"请输入名称\",\n        trigger: [\"blur\", \"change\"]\n      }]\n    };\n  },\n  methods: {\n    resetQueryForm: function resetQueryForm() {\n      this.queryForm.apiType = '';\n      this.queryForm.id = '';\n      this.queryForm.status = '';\n      this.queryForm.page = 1;\n      this.queryForm.size = 10;\n      this.queryPageList();\n    },\n    handleEdit: function handleEdit(index, row) {\n      this.editDialogVisible = true;\n      this.editForm = row;\n      console.log(index);\n      console.log(row);\n    },\n    handleCloseEdit: function handleCloseEdit() {\n      this.editDialogVisible = false;\n    },\n    addParameter: function addParameter() {\n      this.applyApiServiceForm.parameters.push({\n        parameterName: \"\",\n        parameterType: \"\"\n      });\n    },\n    removeParameter: function removeParameter(index) {\n      console.log(index);\n      this.applyApiServiceForm.parameters.splice(index, 1);\n    },\n    handleResetParameters: function handleResetParameters() {\n      this.applyApiServiceForm.parameters = [{\n        parameterName: \"\",\n        parameterType: \"\"\n      }];\n      this.applyApiServiceForm.apiName = \"\";\n      this.applyApiServiceForm.caliber = \"\";\n    },\n    handleConfirmApply: function handleConfirmApply() {\n      var _this = this;\n\n      this.$refs['editFormRef'].validate(function (valid) {\n        if (valid) {\n          (0, _request.default)({\n            url: '/dataApi/apiApplyInfo',\n            method: 'put',\n            data: _objectSpread({}, _this.editForm)\n          }).then(function () {\n            _this.$message({\n              message: \"已成功编辑！\",\n              type: \"success\"\n            });\n\n            _this.editDialogVisible = false;\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    queryPageList: function () {\n      var _queryPageList = (0, _asyncToGenerator2.default)( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var params, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(this.queryForm); //去除查询条件中为空的属性\n\n                params = Object.keys(this.queryForm).filter(function (key) {\n                  return _this2.queryForm[key] !== null && _this2.queryForm[key] !== undefined && _this2.queryForm[key] !== '';\n                }).reduce(function (previousKeys, currentKey) {\n                  return _objectSpread(_objectSpread({}, previousKeys), {}, (0, _defineProperty2.default)({}, currentKey, _this2.queryForm[currentKey]));\n                }, {});\n                console.log(params);\n                this.loading = true;\n                _context.next = 6;\n                return (0, _request.default)({\n                  url: \"dataApi/apiApplyInfo/page\",\n                  method: \"get\",\n                  params: params\n                });\n\n              case 6:\n                res = _context.sent;\n\n                if (res.data && res.data.records) {\n                  this.tableData2 = res.data.records;\n                  if (res.data.pages) this.queryForm.pages = res.data.pages;\n                  if (res.data.total) this.queryForm.total = res.data.total;\n                }\n\n                this.loading = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function queryPageList() {\n        return _queryPageList.apply(this, arguments);\n      }\n\n      return queryPageList;\n    }(),\n    handleSizeChange: function handleSizeChange(val) {\n      this.queryForm.size = val;\n      this.queryPageList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.queryForm.page = val;\n      this.queryPageList();\n    },\n    handleDelete: function handleDelete(index, row) {\n      var _this3 = this;\n\n      console.log(row);\n      this.editForm = row;\n      this.$confirm('是否要下线该文件?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        (0, _request.default)({\n          url: '/dataApi/apiApplyInfo/close',\n          method: 'post',\n          data: _objectSpread(_objectSpread({}, _this3.editForm), {}, {\n            status: '0'\n          })\n        }).then(function (res) {\n          if (res.code === 0) {\n            _this3.$message({\n              type: 'success',\n              message: res.msg\n            });\n          } else {\n            _this3.$message({\n              type: 'error',\n              message: res.msg\n            });\n          }\n\n          _this3.queryPageList();\n        });\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.queryPageList();\n  }\n};\nexports.default = _default;",null]}