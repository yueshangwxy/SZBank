{"remainingRequest":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\thread-loader\\dist\\cjs.js!D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\pncui-portal-fashional\\src\\views\\dashboard\\indicatorboard\\TrendAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\pncui-portal-fashional\\src\\views\\dashboard\\indicatorboard\\TrendAnalysis.vue","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace-suzhouzhibiao\\Indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/workspace-suzhouzhibiao/Indicator/Pncui-Indicator/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"D:/workspace-suzhouzhibiao/Indicator/Pncui-Indicator/node_modules/@babel/runtime/helpers/objectSpread2\"));\n\nvar _echarts = _interopRequireDefault(require(\"echarts\"));\n\nvar _vuex = require(\"vuex\");\n\nvar _dashboard = require(\"../../../api/dashboard/dashboard\");\n\nvar _data_format = require(\"@eladmin/utils/data_format\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'TrendAnalysis',\n  props: {\n    className: {\n      type: String,\n      default: 'box-card'\n    },\n    width: {\n      type: String,\n      default: '100%'\n    },\n    height: {\n      type: String,\n      default: '100%'\n    },\n    autoResize: {\n      type: Boolean,\n      default: true\n    },\n    date: {\n      type: String,\n      default: (0, _data_format.getYesterday)()\n    }\n  },\n  data: function data() {\n    return {\n      chart: null,\n      sidebarElm: null,\n      dataType: 'month',\n      chartData: {}\n    };\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    (0, _dashboard.trendAnalysis)(this.date).then(function (res) {\n      _this2.chartData = res.data;\n\n      _this2.initChart();\n    });\n    window.addEventListener('resize', this.onResize);\n  },\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)(['sidebar'])),\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n\n    this.chart.dispose();\n    this.chart = null;\n  },\n  methods: {\n    setOptions: function setOptions(data) {\n      var _this = this;\n\n      this.chart.setOption({\n        xAxis: {\n          data: data.map(function (e) {\n            return e.dataDate;\n          }),\n          boundaryGap: false,\n          axisTick: {\n            show: false\n          },\n          color: '#6E6E6E',\n          axisLabel: {\n            formatter: '{value}',\n            textStyle: {\n              //改变刻度字体样式\n              color: '#6E6E6E'\n            }\n          },\n          axisLine: {\n            lineStyle: {\n              color: '#6E6E6E',\n              width: 2 //这里是为了突出显示加上的\n\n            }\n          }\n        },\n        grid: {\n          left: 20,\n          right: 35,\n          bottom: 20,\n          top: 30,\n          containLabel: true\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross'\n          },\n          padding: [5, 10]\n        },\n        yAxis: {\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            formatter: '{value}',\n            textStyle: {\n              //改变刻度字体样式\n              color: '#6E6E6E'\n            }\n          },\n          axisLine: {\n            show: false\n          }\n        },\n        legend: {\n          data: ['存款', '贷款']\n        },\n        series: [{\n          name: '存款',\n          itemStyle: {\n            normal: {\n              color: '#F09937',\n              lineStyle: {\n                color: '#F09937',\n                width: 2\n              }\n            }\n          },\n          smooth: false,\n          type: 'line',\n          data: data.map(function (e) {\n            return e.deposit;\n          }),\n          animationDuration: 2800,\n          animationEasing: 'cubicInOut'\n        }, {\n          name: '贷款',\n          smooth: false,\n          type: 'line',\n          itemStyle: {\n            normal: {\n              color: '#489FF8',\n              lineStyle: {\n                color: '#489FF8',\n                width: 2\n              },\n              areaStyle: {\n                color: '#FFFFFF'\n              }\n            }\n          },\n          data: data.map(function (e) {\n            return e.loan;\n          }),\n          animationDuration: 2800,\n          animationEasing: 'quadraticOut'\n        }]\n      });\n    },\n    onResize: function onResize() {\n      if (this.chart) {\n        this.chart.resize();\n      }\n    },\n    initChart: function initChart(type) {\n      if (this.chart) {\n        this.chart.dispose();\n      }\n\n      this.chart = _echarts.default.init(document.querySelector('#card-main-trend-analysis'));\n\n      if (type == 'day') {\n        this.setOptions(this.chartData.day);\n      } else {\n        this.setOptions(this.chartData.month);\n      }\n    }\n  },\n  watch: {\n    sidebar: {\n      deep: true,\n      immediate: true,\n      handler: function handler(newValue, oldValue) {\n        //console.log('=====watch>>', oldValue, newValue)\n        this.onResize(); // result为true，则表示是全部选中\n      }\n    }\n  }\n};\nexports.default = _default;",null]}