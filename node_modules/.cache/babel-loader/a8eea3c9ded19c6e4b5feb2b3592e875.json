{"remainingRequest":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\searchPage\\targetPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\src\\views\\indicators\\searchPage\\targetPage.vue","mtime":1648193025940},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647917124586},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1647917124178},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647917124586},{"path":"D:\\code\\DataAssetPlatform\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1647917137429}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'TargetPage',\n  data: function data() {\n    return {\n      filterText: '',\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      // 筛选\n      filterForm: {\n        input1: '',\n        input2: '',\n        input3: '',\n        input4: '',\n        input5: '',\n        input6: ''\n      },\n      treeData: [],\n      // 表格\n      tableList: [],\n      // 分页\n      pageSize: 10,\n      currentPage: 1,\n      total: 50,\n      // 详情查看\n      detailsShow: false,\n      details: {}\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$api.qryTreeData({}).then(function (res) {\n      var data = res.data;\n      _this.treeData = data.targetTree;\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$api.qryTarget({}).then(function (res) {\n      console.log('qryTarget', res);\n      _this2.total = res.total;\n      _this2.tableList = res.data;\n    });\n  },\n  methods: {\n    // 节点过滤\n    filterNode: function filterNode(value, data) {\n      if (!value) return true;\n      return data.label.indexOf(value) !== -1;\n    },\n    // 节点点击\n    handleNodeClick: function handleNodeClick(data) {\n      console.log(data);\n    },\n    // 搜索\n    query: function query() {},\n    // 重置 \n    reset: function reset() {\n      this.filterForm = {};\n    },\n    // 按钮   --- 详情查看\n    detailView: function detailView(item) {\n      this.detailsShow = true;\n      this.details = item;\n    },\n    // 分页\n    handleSizeChange: function handleSizeChange(val) {\n      console.log(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n    }\n  }\n};\nexports.default = _default;",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eA0HA;AACAA,oBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,oBADA;AAEAC;AACAC,4BADA;AAEAC;AAFA,OAFA;AAMA;AACAC;AACAC,kBADA;AAEAC,kBAFA;AAGAC,kBAHA;AAIAC,kBAJA;AAKAC,kBALA;AAMAC;AANA,OAPA;AAeAC,kBAfA;AAgBA;AACAC,mBAjBA;AAkBA;AACAC,kBAnBA;AAoBAC,oBApBA;AAqBAC,eArBA;AAsBA;AACAC,wBAvBA;AAwBAC;AAxBA;AA0BA,GA7BA;AA8BAC,SA9BA,qBA8BA;AAAA;;AACA;AACA;AACA;AACA,KAHA;AAIA,GAnCA;AAoCAC,SApCA,qBAoCA;AAAA;;AACA;AACAC;AACA;AACA;AACA,KAJA;AAKA,GA1CA;AA2CAC;AACA;AACAC,cAFA,sBAEAC,KAFA,EAEAxB,IAFA,EAEA;AACA;AACA;AACA,KALA;AAMA;AACAyB,mBAPA,2BAOAzB,IAPA,EAOA;AACAqB;AACA,KATA;AAUA;AACAK,SAXA,mBAWA,CAEA,CAbA;AAcA;AACAC,SAfA,mBAeA;AACA;AACA,KAjBA;AAkBA;AACAC,cAnBA,sBAmBAC,IAnBA,EAmBA;AACA;AACA;AACA,KAtBA;AAuBA;AACAC,oBAxBA,4BAwBAC,GAxBA,EAwBA;AACAV;AACA,KA1BA;AA2BAW,uBA3BA,+BA2BAD,GA3BA,EA2BA;AACAV;AACA;AA7BA;AA3CA,C","names":["name","data","filterText","defaultProps","children","label","filterForm","input1","input2","input3","input4","input5","input6","treeData","tableList","pageSize","currentPage","total","detailsShow","details","created","mounted","console","methods","filterNode","value","handleNodeClick","query","reset","detailView","item","handleSizeChange","val","handleCurrentChange"],"sourceRoot":"src/views/indicators/searchPage","sources":["targetPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"targetPage\">\r\n        <div class=\"tree\">\r\n            <el-input placeholder=\"输入关键字进行过滤\" v-model=\"filterText\" clearable=\"\">\r\n            </el-input>\r\n            <el-tree class=\"filter-tree\" \r\n                :data=\"treeData\" \r\n                :props=\"defaultProps\" \r\n                accordion \r\n                @node-click=\"handleNodeClick\"\r\n                :filter-node-method=\"filterNode\" ref=\"tree\">\r\n            </el-tree>\r\n        </div>\r\n        <div class=\"right\">\r\n            <div class=\"condition\">\r\n                <div class=\"input\">\r\n                    <p>\r\n                        <el-input v-model=\"filterForm.input1\" placeholder=\"指标名称\" clearable></el-input>\r\n                        <el-input v-model=\"filterForm.input2\" placeholder=\"指标编码\" clearable></el-input>\r\n                        <el-input v-model=\"filterForm.input3\" placeholder=\"一级分类\" clearable></el-input>\r\n                    </p>\r\n                    <p>\r\n                        <el-input v-model=\"filterForm.input4\" placeholder=\"二级分类\" clearable></el-input>\r\n                        <el-input v-model=\"filterForm.input5\" placeholder=\"指标类型\" clearable></el-input>\r\n                        <el-input v-model=\"filterForm.input6\" placeholder=\"属主部门\" clearable></el-input>\r\n                    </p>\r\n                </div>\r\n                <div class=\"option\">\r\n                    <p></p>\r\n                    <p>\r\n                        <el-button>搜索</el-button>\r\n                        <el-button @click=\"reset()\">重置</el-button>\r\n                    </p>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"tableList\" v-if=\"!detailsShow\">\r\n                <div class=\"tableItem\" v-for=\"(item,index) in tableList\" :key=\"index\">\r\n                    <div class=\"detail\">\r\n                        <p>\r\n                            <span>指标名称：{{item.ind_test}}</span>\r\n                            <span>所属租户：{{item.tenant}}</span>\r\n                            <span>业务属主部门：{{item.dept}}</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>度量单位：{{item.measure}}</span>\r\n                            <span>指标统计频率：{{item.rate}}</span>\r\n                            <span>指标类型：{{item.targetType}}</span>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"btns\">\r\n                        <el-button type=\"text\" @click=\"detailView(item)\">详情查看</el-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <el-pagination @size-change=\"handleSizeChange\" \r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"currentPage\" \r\n                :page-sizes=\"[10, 20, 30, 50]\" \r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" \r\n                :total=\"total\"\r\n                v-if=\"!detailsShow\">\r\n            </el-pagination>\r\n            <!-- 详情查看 -->\r\n            <div class=\"details\" v-if=\"detailsShow\">\r\n                <div class=\"info\">\r\n                    <h5>详情查看</h5>\r\n                    <div class=\"basicInfo detail\">\r\n                        <p>\r\n                            <span>基本信息</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>归属应用：{{details.ind_test}}</span>\r\n                            <span>所属用户：{{details.tenant}}</span>\r\n                            <span>目录路径：{{details.dept}}</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>接口地址：{{details.measure}}</span>\r\n                            <span>接口返回示例：{{details.ind_test}}</span>\r\n                            <span>资产描述：{{details.ind_test}}</span>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"reqParams detail\">\r\n                        <p>\r\n                            <span>指标加工规则</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>归属应用：{{details.ind_test}}</span>\r\n                            <span>所属用户：{{details.tenant}}</span>\r\n                            <span>目录路径：{{details.dept}}</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>接口地址：{{details.measure}}</span>\r\n                            <span>接口返回示例：{{details.ind_test}}</span>\r\n                            <span>资产描述：{{details.ind_test}}</span>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"resParams detail\">\r\n                        <p>\r\n                            <span>指标统计信息</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>归属应用：{{details.ind_test}}</span>\r\n                            <span>所属用户：{{details.tenant}}</span>\r\n                            <span>目录路径：{{details.dept}}</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>接口地址：{{details.measure}}</span>\r\n                            <span>接口返回示例：{{details.ind_test}}</span>\r\n                            <span>资产描述：{{details.ind_test}}</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"back\">\r\n                    <i class=\"el-icon-back\" @click=\"detailsShow = false\" style=\"cursor:pointer;color:#79AC43;\"> 返回</i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: 'TargetPage',\r\n        data() {\r\n            return {\r\n                filterText: '',\r\n                defaultProps: {\r\n                    children: 'children',\r\n                    label: 'label'\r\n                },\r\n                // 筛选\r\n                filterForm: {\r\n                    input1: '',\r\n                    input2: '',\r\n                    input3: '',\r\n                    input4: '',\r\n                    input5: '',\r\n                    input6: '',\r\n                },\r\n                treeData: [],\r\n                // 表格\r\n                tableList: [],\r\n                // 分页\r\n                pageSize: 10,\r\n                currentPage: 1,\r\n                total: 50,\r\n                // 详情查看\r\n                detailsShow: false,\r\n                details: {},\r\n            }\r\n        },\r\n        created() {\r\n            this.$api.qryTreeData({}).then(res => {\r\n                let data = res.data\r\n                this.treeData = data.targetTree\r\n            })\r\n        },\r\n        mounted() {\r\n            this.$api.qryTarget({}).then(res => {\r\n                console.log('qryTarget',res);\r\n                this.total = res.total\r\n                this.tableList = res.data\r\n            })\r\n        },\r\n        methods: {\r\n            // 节点过滤\r\n            filterNode(value, data) {\r\n                if (!value) return true;\r\n                return data.label.indexOf(value) !== -1;\r\n            },\r\n            // 节点点击\r\n            handleNodeClick(data) {\r\n                console.log(data);\r\n            },\r\n            // 搜索\r\n            query() {\r\n\r\n            },\r\n            // 重置 \r\n            reset() {\r\n                this.filterForm = {}\r\n            },\r\n            // 按钮   --- 详情查看\r\n            detailView(item) {\r\n                this.detailsShow = true\r\n                this.details = item\r\n            },\r\n            // 分页\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n            },\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n            }\r\n        },\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .targetPage {\r\n        display: flex;\r\n        @import './style/style.scss';\r\n        \r\n    }\r\n</style>"]}]}