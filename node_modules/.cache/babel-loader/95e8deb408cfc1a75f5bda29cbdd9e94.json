{"remainingRequest":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js!F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\code\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\code\\indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\approve\\checkApproves.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\code\\indicator\\Pncui-Indicator\\src\\views\\indicators\\indicator\\approve\\checkApproves.vue","mtime":1633767215672},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\code\\indicator\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { updateStatus } from \"../../../../api/indicators/indIndicatorInfo\";\nexport default {\n  dicts: ['IE_PROP', 'IE_TYPE', 'IE_METHOD', 'CALC_FREQ', 'IE_STATUS', 'IE_DATA_UNIT', 'RETENTION'],\n  data: function data() {\n    return {\n      approveDialog: false,\n      title: '',\n      form: {},\n      param: []\n    };\n  },\n  methods: {\n    checkApprove: function checkApprove(status) {\n      var _this = this;\n\n      // 审批拒绝必须输入审批意见\n      if (status == 3) {\n        if (this.form.approvalOpinion == null || this.form.approvalOpinion.trim() == '') {\n          this.$message.error({\n            message: '审批拒绝必须输入审批意见'\n          });\n          return false;\n        }\n      } // 审批通过时判断原先状态进行状态修改\n\n\n      if (status === 2) {\n        console.log(status);\n        console.log(this.form.status);\n\n        if (this.form.status == 1) {\n          status = 11;\n        }\n\n        if (this.form.status == 11) {\n          status = 2;\n        }\n\n        if (this.form.status == 2) {\n          status = 4;\n        }\n\n        if (this.form.status == 4) {\n          status = 5;\n        }\n      }\n\n      this.$confirm(\"\\u786E\\u5B9A\\u5BA1\\u6279\\u6240\\u9009\\u6570\\u636E\\u5417\\uFF1F\", '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var reqParam = [];\n\n        for (var i = 0; i < _this.param.length; i++) {\n          console.log(status);\n          var indIndicatorInfo = {\n            'id': _this.param[i].id,\n            'status': status,\n            'approvalOpinion': _this.form.approvalOpinion\n          };\n          reqParam.push(indIndicatorInfo);\n        }\n\n        updateStatus(reqParam).then(function (returnData) {\n          if (returnData.code === 0) {\n            _this.$message.success({\n              message: '操作成功!'\n            });\n\n            _this.approveDialog = false;\n\n            _this.$parent.crud.toQuery();\n          } else {\n            _this.$message.error({\n              message: '操作失败!错误原因:' + returnData.msg\n            });\n\n            _this.approveDialog = false;\n          }\n        });\n      });\n    }\n  }\n};",null]}