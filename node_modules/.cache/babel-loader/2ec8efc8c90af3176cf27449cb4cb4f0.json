{"remainingRequest":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\myShopCar\\myShopCar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\src\\views\\indicators\\myShopCar\\myShopCar.vue","mtime":1652774145727},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\babel-loader\\lib\\index.js","mtime":1650418872733},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650418873221},{"path":"D:\\code\\DataAssetPlatform000\\Pncui-Ind\\node_modules\\vue-loader\\lib\\index.js","mtime":1650418886580}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'MyShopCar',\n  data: function data() {\n    return {\n      searchInput: '',\n      // 表格\n      tableData: [],\n      propList: [],\n      // 分页\n      pageSize: 9,\n      currentPage: 1,\n      total: 4,\n      // 审批 弹窗\n      confirmDialog: false,\n      // 提示弹窗\n      tipDialog: false,\n      // 审批参数\n      request: [],\n      // 当前选中行\n      selectRows: [],\n      // 是否批量操作\n      isbatch: false\n    };\n  },\n  created: function created() {\n    this.propList = [{\n      prop: 'tableName',\n      label: '表名',\n      width: '180'\n    }, {\n      prop: 'tableComment',\n      label: '表描述信息'\n    }, {\n      prop: 'project',\n      label: '存储项目名称',\n      width: '180'\n    }, {\n      prop: 'driverType',\n      label: '底层存储类型'\n    }, {\n      prop: 'owner',\n      label: '所属用户'\n    }, {\n      prop: 'crtDate',\n      label: '申请时间'\n    }];\n  },\n  mounted: function mounted() {\n    this.queryList();\n  },\n  methods: {\n    // 查询列表\n    queryList: function queryList() {\n      var _this = this;\n\n      this.$api.qryShopCar({\n        pageNo: String(this.currentPage),\n        pageSize: String(this.pageSize),\n        tableName: this.searchInput\n      }).then(function (res) {\n        console.log(res.data);\n        var data = res.data;\n        _this.tableData = data.records;\n        _this.total = data.total;\n      });\n    },\n    // 复选框选中\n    handleSelectionChange: function handleSelectionChange(val) {\n      var _this2 = this;\n\n      // [{}]  [{},{}]\n      // this.selectRows = val\n      // if(this.selectRows.length<1) {\n      //     this.businessKey = ''\n      // } else {\n      //     this.selectRows.forEach(ele => {\n      //         this.businessKey = this.businessKey += ele.tableId + ','\n      //     });\n      //     this.businessKey = this.businessKey.slice(0,this.businessKey.length-1)\n      // }\n      this.selectRows = [];\n      val.forEach(function (item) {\n        _this2.selectRows.push({\n          tableId: item.tableId,\n          beginTime: item.beginTime,\n          endTime: item.endTime\n        });\n      });\n    },\n    // 详情查看\n    viewDetails: function viewDetails(row) {\n      console.log('详情查看', row.tableId);\n      this.$router.push({\n        path: '/detailsView/table',\n        query: {\n          id: row.tableId\n        }\n      });\n    },\n    // 发起审批  -- 单个\n    initiateApproval: function initiateApproval(row) {\n      this.confirmDialog = true;\n      this.isbatch = false;\n      this.request = [{\n        tableId: row.tableId,\n        beginTime: row.beginTime,\n        endTime: row.endTime\n      }];\n    },\n    // 发起审批  -- 批量\n    batchOperation: function batchOperation() {\n      this.confirmDialog = true;\n      this.isbatch = true;\n    },\n    // 确认审批\n    confrim: function confrim() {\n      var _this3 = this;\n\n      this.confirmDialog = false;\n      var list = [];\n\n      if (this.isbatch) {\n        list = this.selectRows;\n      } else {\n        list = this.request;\n      } // 调接口审批\n\n\n      console.log(list, '审批参数');\n      this.$api.initiateApproval({\n        list: list\n      }).then(function (res) {\n        console.log(res);\n        _this3.tipDialog = true;\n      }).then(function () {\n        _this3.queryList(); // 提示框展示三秒自动关闭\n\n\n        setTimeout(function () {\n          _this3.tipDialog = false;\n        }, 3000);\n      });\n    },\n    // 删除\n    deleteRow: function deleteRow(row) {\n      var _this4 = this;\n\n      console.log('删除', row.id);\n      this.$api.delShopCar({\n        Id: row.id\n      }).then(function (res) {\n        _this4.queryList();\n\n        _this4.$message.success(res.message);\n      });\n    },\n    // 分页\n    handleSizeChange: function handleSizeChange(val) {\n      console.log(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.queryList();\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n    }\n  }\n};\nexports.default = _default;",null]}