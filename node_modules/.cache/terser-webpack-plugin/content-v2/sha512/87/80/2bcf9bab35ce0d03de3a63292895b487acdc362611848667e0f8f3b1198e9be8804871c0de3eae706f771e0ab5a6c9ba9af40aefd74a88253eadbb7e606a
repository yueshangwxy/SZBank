{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-27678992\",\"chunk-27678992\"],{\"0549\":function(e,t,o){e.exports=o.p+\"static/img/login_bg_1.4d1323ce.jpg\"},\"05e5\":function(e,t,o){\"use strict\";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"login\",style:{backgroundImage:\"url(\"+e.getBackground+\")\"}},[o(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",style:1==e.codeEnabled?\"height: 445px;\":\"\",attrs:{model:e.loginForm,rules:e.loginRules,\"label-position\":\"left\",\"label-width\":\"0px\"}},[o(\"div\",{staticClass:\"theme\"},[o(\"theme-select\")],1),e._v(\" \"),o(\"div\",{staticClass:\"title\"},[e.logo?o(\"img\",{staticClass:\"logo\",attrs:{src:e.logo}}):e._e(),o(\"span\",{staticClass:\"text\"},[e._v(e._s(e.title))])]),e._v(\" \"),o(\"el-form-item\",{attrs:{prop:\"username\"}},[o(\"el-input\",{attrs:{type:\"text\",\"auto-complete\":\"off\",placeholder:\"请输入账号\",\"prefix-icon\":\"el-icon-user\",size:\"medium\"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,\"username\",t)},expression:\"loginForm.username\"}})],1),e._v(\" \"),o(\"el-form-item\",{attrs:{prop:\"password\"}},[o(\"el-input\",{attrs:{type:\"password\",\"auto-complete\":\"off\",placeholder:\"请输入密码\",\"prefix-icon\":\"el-icon-lock\",size:\"medium\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,\"password\",t)},expression:\"loginForm.password\"}})],1),e._v(\" \"),e.codeEnabled?o(\"el-form-item\",{attrs:{prop:\"code\"}},[o(\"el-input\",{staticStyle:{width:\"63%\"},attrs:{\"auto-complete\":\"off\",placeholder:\"验证码\",size:\"medium\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,\"code\",t)},expression:\"loginForm.code\"}},[o(\"svg-icon\",{staticClass:\"el-input__icon input-icon\",attrs:{slot:\"prefix\",\"icon-class\":\"validCode\"},slot:\"prefix\"})],1),e._v(\" \"),o(\"div\",{staticClass:\"login-code\"},[o(\"img\",{attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),e._v(\" \"),o(\"el-checkbox\",{staticClass:\"rememberMe\",model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,\"rememberMe\",t)},expression:\"loginForm.rememberMe\"}},[e._v(\"\\n      记住我\\n    \")]),e._v(\" \"),o(\"el-form-item\",{staticStyle:{width:\"100%\"}},[o(\"el-button\",{staticClass:\"loginButton\",attrs:{loading:e.loading,size:\"medium\",type:\"primary\"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?o(\"span\",[e._v(\"登 录 中...\")]):o(\"span\",[e._v(\"登 录\")])])],1)],1),e._v(\" \"),e.$store.state.settings.showFooter?o(\"div\",{staticClass:\"footer\",attrs:{id:\"el-login-footer\"}},[o(\"span\",{domProps:{innerHTML:e._s(e.$store.state.settings.footerTxt)}}),e._v(\" \"),o(\"span\",[e._v(\" ⋅ \")]),e._v(\" \"),o(\"a\",{attrs:{href:\"#\",target:\"_blank\"}},[e._v(e._s(e.$store.state.settings.caseNumber))])]):e._e(),e._v(\" \"),o(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,visible:e.selectRole,title:\"选择角色\",width:\"300px\",height:\"200px\"},on:{\"update:visible\":function(t){e.selectRole=t}}},[o(\"el-select\",{staticStyle:{width:\"100%\"},model:{value:e.currentRole,callback:function(t){e.currentRole=t},expression:\"currentRole\"}},e._l(e.user().roles,(function(e){return o(\"el-option\",{attrs:{value:e.id,label:e.name}})})),1),e._v(\" \"),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{attrs:{type:\"text\"},on:{click:e.cancel}},[e._v(\"取消\")]),e._v(\" \"),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.goin}},[e._v(\"确认\")])],1)],1)],1)},n=[];o.d(t,\"a\",(function(){return i})),o.d(t,\"b\",(function(){return n}))},1645:function(e,t,o){\"use strict\";o.r(t);var i=o(\"ba09\"),n=o.n(i);for(var r in i)\"default\"!==r&&function(e){o.d(t,e,(function(){return i[e]}))}(r);t[\"default\"]=n.a},2450:function(e,t,o){e.exports=o.p+\"static/img/login_bg_5.cb6dc38f.jpg\"},\"3d81\":function(e,t,o){e.exports=o.p+\"static/img/login_bg_4.b0ae2e6f.jpg\"},\"3f13\":function(e,t,o){e.exports=o.p+\"static/img/login_bg_1.4d1323ce.jpg\"},4389:function(e,t,o){e.exports=o.p+\"static/img/login_bg_7.bae91acf.jpg\"},\"590a\":function(e,t,o){e.exports=o.p+\"static/img/login_bg_3.8554db2a.jpg\"},\"5f72\":function(e,t,o){e.exports=o.p+\"static/img/login_bg_5.cb6dc38f.jpg\"},7514:function(e,t,o){\"use strict\";var i=o(\"5ca1\"),n=o(\"0a49\")(5),r=\"find\",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),i(i.P+i.F*s,\"Array\",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(\"9c6c\")(r)},\"7a24\":function(e,t,o){e.exports=o.p+\"static/img/login_bg_6.5d1f91e5.jpg\"},b406:function(e,t,o){e.exports=o.p+\"static/img/login_bg_2.378fb84d.jpg\"},ba09:function(e,t,o){\"use strict\";var i=o(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,o(\"7514\");var n=i(o(\"ded3\")),r=o(\"37a2\"),s=i(o(\"e3aa\")),l=o(\"cea5\"),a=i(o(\"a78e\")),g=o(\"2f62\"),c=i(o(\"eb5d\")),u={name:\"Login\",data:function(){return{title:s.default.title,codeEnabled:!1,codeUrl:\"\",cookiePass:\"\",theme:\"default\",loginForm:{username:\"\",password:\"\",rememberMe:!1,code:\"\",uuid:\"\"},loginRules:{username:[{required:!0,trigger:\"blur\",message:\"用户名不能为空\"}],password:[{required:!0,trigger:\"blur\",message:\"密码不能为空\"}],code:[{required:!0,trigger:\"change\",message:\"验证码不能为空\"}]},loading:!1,redirect:void 0,currentRole:\"\",selectRole:!1}},components:{ThemeSelect:c.default},computed:{logo:function(){return s.default.logo?s.default.logo:o(\"30b4\")(\"./\"+this.getStyle()[\"style\"]+\"/images/logo.png\")},getBackground:function(){return s.default.loginBackground?s.default.loginBackground:o(\"c4f1\")(\"./\"+this.getStyle().style+\"/images/login_bg_\"+((new Date).getDay()+1)+\".jpg\")}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCode(),this.getCookie()},mounted:function(){},methods:(0,n.default)({getCode:function(){var e=this;(0,l.getCodeImg)().then((function(t){e.codeEnabled=t.enabled,t.enabled&&(e.codeUrl=t.img,e.loginForm.uuid=t.uuid)}))},getCookie:function(){var e=a.default.get(\"username\"),t=a.default.get(\"password\"),o=a.default.get(\"rememberMe\");this.cookiePass=void 0===t?\"\":t,t=void 0===t?this.loginForm.password:t,this.loginForm={username:void 0===e?this.loginForm.username:e,password:t,rememberMe:void 0!==o&&Boolean(o),code:\"\"}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){var o={username:e.loginForm.username,password:e.loginForm.password,rememberMe:e.loginForm.rememberMe,code:e.loginForm.code,uuid:e.loginForm.uuid};if(o.password!==e.cookiePass&&(o.password=(0,r.encrypt)(o.password)),!t)return!1;e.loading=!0,o.rememberMe?(a.default.set(\"username\",o.username,{expires:s.default.passCookieExpires}),a.default.set(\"password\",o.password,{expires:s.default.passCookieExpires}),a.default.set(\"rememberMe\",o.rememberMe,{expires:s.default.passCookieExpires})):(a.default.remove(\"username\"),a.default.remove(\"password\"),a.default.remove(\"rememberMe\")),e.$store.dispatch(\"Login\",o).then((function(){null!=e.user().roles&&e.user().roles.length>0?e.user().roles.length>1?e.selectRole=!0:1==e.user().roles.length&&(e.currentRole=e.user().roles[0].id,e.goin()):e.$message(\"当前用户没有访问该系统的权限，请联系管理员！\",\"error\")})).catch((function(t){e.loading=!1,e.getCode()}))}))},goin:function(){var e=this;this.currentRole?(this.$store.dispatch(\"setCurrentRole\",this.user().roles.find((function(t){return t.id==e.currentRole}))),this.$router.push({path:this.redirect||\"/\"})):this.$message(\"请选择角色\",\"error\")},cancel:function(){this.selectRole=!1,this.loading=!1}},(0,g.mapGetters)([\"user\",\"getStyle\"]))};t.default=u},c4f1:function(e,t,o){var i={\"./blue/images/login_bg_1.jpg\":\"3f13\",\"./blue/images/login_bg_2.jpg\":\"b406\",\"./blue/images/login_bg_3.jpg\":\"f64a\",\"./blue/images/login_bg_4.jpg\":\"3d81\",\"./blue/images/login_bg_5.jpg\":\"2450\",\"./blue/images/login_bg_6.jpg\":\"e153\",\"./blue/images/login_bg_7.jpg\":\"4389\",\"./golden/images/login_bg.jpg\":\"cfbb\",\"./golden/images/login_bg_1.jpg\":\"0549\",\"./golden/images/login_bg_2.jpg\":\"eb1f\",\"./golden/images/login_bg_3.jpg\":\"590a\",\"./golden/images/login_bg_4.jpg\":\"e816\",\"./golden/images/login_bg_5.jpg\":\"5f72\",\"./golden/images/login_bg_6.jpg\":\"7a24\",\"./golden/images/login_bg_7.jpg\":\"df62\"};function n(e){var t=r(e);return o(t)}function r(e){var t=i[e];if(!(t+1)){var o=new Error(\"Cannot find module '\"+e+\"'\");throw o.code=\"MODULE_NOT_FOUND\",o}return t}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=\"c4f1\"},cfbb:function(e,t,o){e.exports=o.p+\"static/img/login_bg.cb6dc38f.jpg\"},df62:function(e,t,o){e.exports=o.p+\"static/img/login_bg_7.bae91acf.jpg\"},e153:function(e,t,o){e.exports=o.p+\"static/img/login_bg_6.5d1f91e5.jpg\"},e816:function(e,t,o){e.exports=o.p+\"static/img/login_bg_4.b0ae2e6f.jpg\"},eb1f:function(e,t,o){e.exports=o.p+\"static/img/login_bg_2.378fb84d.jpg\"},f64a:function(e,t,o){e.exports=o.p+\"static/img/login_bg_3.8554db2a.jpg\"},fa38:function(e,t,o){\"use strict\";o.r(t);var i=o(\"05e5\"),n=o(\"1645\");for(var r in n)\"default\"!==r&&function(e){o.d(t,e,(function(){return n[e]}))}(r);var s=o(\"2877\"),l=Object(s[\"a\"])(n[\"default\"],i[\"a\"],i[\"b\"],!1,null,null,null);t[\"default\"]=l.exports}}]);","extractedComments":[]}