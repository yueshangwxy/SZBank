{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6e696cc0\",\"chunk-060c1e70\",\"chunk-bde85286\",\"chunk-3741e381\",\"chunk-7fc4855f\",\"chunk-382d790d\",\"chunk-753796cf\"],{\"00b0\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"ec38\"),i=n(\"5a31\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"0214\":function(e,t,n){\"use strict\";var r=n(\"4ea4\"),i=n(\"dbce\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=n(\"ff97\"),o=i(n(\"159b\")),s=r(n(\"f096\")),l=r(n(\"691b\")),u=r(n(\"63f7\")),c=(0,o.default)({title:\"部署历史\",url:\"api/deployHistory\",crudMethod:{del:a.del}}),d={name:\"DeployHistory\",components:{pagination:u.default,crudOperation:l.default,rrOperation:s.default},mixins:[(0,o.presenter)(c),(0,o.header)()],data:function(){return{delLoading:!1,permission:{del:[\"admin\",\"deployHistory:del\"]}}},created:function(){this.crud.optShow={add:!1,edit:!1,del:!0,download:!0}},methods:{delMethod:function(e){var t=this;this.delLoading=!0,(0,a.del)([e]).then((function(){t.delLoading=!1,t.$refs[e].doClose(),t.crud.dleChangePage(1),t.crud.delSuccessNotify(),t.crud.toQuery()})).catch((function(){t.delLoading=!1,t.$refs[e].doClose()}))}}};t.default=d},\"022f\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\");var e=[{name:\"Grandpa\",children:[{name:\"Uncle Leo\",value:15,children:[{name:\"Cousin Jack\",value:2},{name:\"Cousin Mary\",value:5,children:[{name:\"Jackson\",value:2}]},{name:\"Cousin Ben\",value:4}]},{name:\"Father\",value:10,children:[{name:\"Me\",value:5},{name:\"Brother Peter\",value:1}]}]},{name:\"Nancy\",children:[{name:\"Uncle Nike\",children:[{name:\"Cousin Betty\",value:1},{name:\"Cousin Jenny\",value:2}]}]}];this.chart.setOption({series:{type:\"sunburst\",data:e,radius:[0,\"90%\"],label:{rotate:\"radial\"}}})}}};t.default=o},\"0260\":function(e,t,n){\"use strict\";n(\"abf0\")},\"02cc\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"180b\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"02fe\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"18c0\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"0341\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"56d5\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"035a\":function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"ded3\")),o=i(n(\"220a\")),s=n(\"50f7\"),l=i(n(\"d472\")),u=r(n(\"159b\")),c=i(n(\"f096\")),d=i(n(\"691b\")),f=i(n(\"a363\")),h=i(n(\"63f7\")),p=(0,u.default)({title:\"数据库\",url:\"api/database\",crudMethod:(0,a.default)({},o.default)}),m={id:null,name:null,jdbcUrl:\"jdbc:mysql://\",userName:null,pwd:null},v={name:\"DataBase\",components:{eForm:l.default,pagination:h.default,crudOperation:d.default,rrOperation:c.default,udOperation:f.default},mixins:[(0,u.presenter)(p),(0,u.header)(),(0,u.form)(m),(0,u.crud)()],data:function(){return{currentRow:{},selectIndex:\"\",databaseInfo:\"\",loading:!1,permission:{add:[\"admin\",\"database:add\"],edit:[\"admin\",\"database:edit\"],del:[\"admin\",\"database:del\"]},rules:{name:[{required:!0,message:\"请输入数据库名称\",trigger:\"blur\"}],jdbcUrl:[{required:!0,message:\"请输入数据库连接地址\",trigger:\"blur\"}],userName:[{required:!0,message:\"请输入用户名\",trigger:\"blur\"}],pwd:[{required:!0,message:\"请输入数据库密码\",trigger:\"blur\"}]}}},methods:{testConnectDatabase:function(){var e=this;this.$refs[\"form\"].validate((function(t){t&&(e.loading=!0,(0,s.testDbConnect)(e.form).then((function(t){e.loading=!1,e.crud.notify(t?\"连接成功\":\"连接失败\",t?\"success\":\"error\")})).catch((function(){e.loading=!1})))}))},execute:function(){this.$refs.execute.dialog=!0},handleCurrentChange:function(e){this.currentRow=e,this.selectIndex=e?e.id:null}}};t.default=v},\"03f6\":function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"ded3\")),o=i(n(\"b936\")),s=n(\"2f62\"),l=n(\"d0c1\"),u=i(n(\"57b0\")),c=r(n(\"159b\")),d=i(n(\"f096\")),f=i(n(\"691b\")),h=i(n(\"63f7\")),p=(0,c.default)({title:\"七牛云文件\",url:\"api/qiNiuContent\",crudMethod:(0,a.default)({},o.default)}),m={components:{eForm:u.default,pagination:h.default,crudOperation:f.default,rrOperation:d.default},mixins:[(0,c.presenter)(p),(0,c.header)(),(0,c.crud)()],data:function(){return{permission:{del:[\"admin\",\"storage:del\"]},title:\"文件\",dialog:!1,icon:\"el-icon-refresh\",url:\"\",headers:{Authorization:(0,l.getToken)()},dialogImageUrl:\"\",dialogVisible:!1,fileList:[],files:[],newWin:null}},computed:(0,a.default)({},(0,s.mapGetters)([\"qiNiuUploadApi\"])),watch:{url:function(e,t){e&&this.newWin&&(this.newWin.sessionStorage.clear(),this.newWin.location.href=e,this.url=\"\",this.newWin=null)}},created:function(){this.crud.optShow.add=!1,this.crud.optShow.edit=!1},methods:{doConfig:function(){var e=this.$refs.form;e.init(),e.dialog=!0},handleSuccess:function(e,t,n){var r=t.uid,i=e.id;this.files.push({uid:r,id:i})},handleBeforeRemove:function(e,t){for(var n=0;n<this.files.length;n++)if(this.files[n].uid===e.uid)return o.default.del([this.files[n].id]).then((function(e){})),!0},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},doSubmit:function(){this.fileList=[],this.dialogVisible=!1,this.dialogImageUrl=\"\",this.dialog=!1,this.crud.toQuery()},handleError:function(e,t,n){var r=JSON.parse(e.message);this.crud.notify(r.message,c.default.NOTIFICATION_TYPE.ERROR)},download:function(e){var t=this;this.downloadLoading=!0,this.newWin=window.open(),o.default.download(e).then((function(e){t.downloadLoading=!1,t.url=e.url})).catch((function(e){t.downloadLoading=!1}))},synchronize:function(){var e=this;this.icon=\"el-icon-loading\",o.default.sync().then((function(t){e.icon=\"el-icon-refresh\",e.$message({showClose:!0,message:\"数据同步成功\",type:\"success\",duration:1500}),e.crud.toQuery()})).catch((function(t){e.icon=\"el-icon-refresh\"}))}}};t.default=m},\"05d2\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-tabs\",{staticStyle:{\"padding-left\":\"5px\"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:\"activeName\"}},[n(\"el-tab-pane\",{attrs:{label:\"参数配置\",name:\"first\"}},[n(\"Config\")],1),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"支付测试\",name:\"second\"}},[n(\"ToPay\")],1),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"使用说明\",name:\"third\"}},[n(\"div\",[n(\"blockquote\",{staticClass:\"my-blockquote\"},[e._v(\"注意\")]),e._v(\" \"),n(\"pre\",{staticClass:\"my-code\"},[e._v(\"测试所用参数都是沙箱环境，仅供测试使用，申请地址：\"),n(\"a\",{staticStyle:{color:\"#00a0e9\"},attrs:{href:\"https://openhome.alipay.com/platform/appDaily.htm?tab=info\",target:\"_blank\"}},[e._v(\"支付宝开发平台\")]),e._v(\"\\n如需付款测试，请使用\\n账号：uuxesw9745@sandbox.com\\n密码与支付密码：111111\")]),e._v(\" \"),n(\"blockquote\",{staticClass:\"my-blockquote\"},[e._v(\" 支付设置\")]),e._v(\" \"),n(\"pre\",{staticClass:\"my-code\"},[e._v('// 支付提供两个接口，\\n// PC端与手机端，并且在前端使用代码识别\\nif (/(Android)/i.test(navigator.userAgent)){     // 判断是否为Android手机\\n    url = \"/aliPay/toPayAsWeb\"\\n}else if(/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)){  // 判断是否为苹果手机\\n    url = \"/aliPay/toPayAsWeb\"\\n} else {\\n    url = \"/aliPay/toPayAsPC\"\\n}')])])])],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"0834\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"6022\"),i=n(\"2339\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"c2f7\"),n(\"a68b\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"47bff253\",null);t[\"default\"]=s.exports},\"0907\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"9c8f\"),i=n(\"2b67\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"0939\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"errPage-container\"},[n(\"el-button\",{staticClass:\"pan-back-btn\",attrs:{icon:\"arrow-left\"},on:{click:e.back}},[e._v(\"\\n    返回\\n  \")]),e._v(\" \"),n(\"el-row\",[n(\"el-col\",{attrs:{span:12}},[n(\"h1\",{staticClass:\"text-jumbo text-ginormous\"},[e._v(\"\\n        Oops!\\n      \")]),e._v(\" \"),n(\"h2\",[e._v(\"你没有权限去该页面\")]),e._v(\" \"),n(\"h6\",[e._v(\"如有不满请联系你领导\")]),e._v(\" \"),n(\"ul\",{staticClass:\"list-unstyled\"},[n(\"li\",[e._v(\"或者你可以去:\")]),e._v(\" \"),n(\"li\",{staticClass:\"link-type\"},[n(\"router-link\",{attrs:{to:\"/dashboard\"}},[e._v(\"\\n            回首页\\n          \")])],1)])]),e._v(\" \"),n(\"el-col\",{attrs:{span:12}},[n(\"img\",{attrs:{src:e.errGif,width:\"313\",height:\"428\",alt:\"Girl has dropped her ice cream.\"}})])],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"0a4f\":function(e,t,n){var r=n(\"3eba\"),i=n(\"f934\");n(\"365b\"),n(\"c03d\");var a=n(\"793f\");if(!a.isSupported)throw new Error(\"Sorry your browser not support wordCloud\");function o(e){for(var t=e.getContext(\"2d\"),n=t.getImageData(0,0,e.width,e.height),r=t.createImageData(n),i=0,a=0,o=0;o<n.data.length;o+=4){var s=n.data[o+3];if(s>128){var l=n.data[o]+n.data[o+1]+n.data[o+2];i+=l,++a}}var u=i/a;for(o=0;o<n.data.length;o+=4){l=n.data[o]+n.data[o+1]+n.data[o+2],s=n.data[o+3];s<128||l>u?(r.data[o]=0,r.data[o+1]=0,r.data[o+2]=0,r.data[o+3]=0):(r.data[o]=255,r.data[o+1]=255,r.data[o+2]=255,r.data[o+3]=255)}t.putImageData(r,0,0)}r.registerLayout((function(e,t){e.eachSeriesByType(\"wordCloud\",(function(n){var s=i.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=n.getData(),u=document.createElement(\"canvas\");u.width=s.width,u.height=s.height;var c=u.getContext(\"2d\"),d=n.get(\"maskImage\");if(d)try{c.drawImage(d,0,0,u.width,u.height),o(u)}catch(_){console.error(\"Invalid mask image\"),console.error(_.toString())}var f=n.get(\"sizeRange\"),h=n.get(\"rotationRange\"),p=l.getDataExtent(\"value\"),m=Math.PI/180,v=n.get(\"gridSize\");function g(e){var t=e.detail.item;e.detail.drawn&&n.layoutInstance.ondraw&&(e.detail.drawn.gx+=s.x/v,e.detail.drawn.gy+=s.y/v,n.layoutInstance.ondraw(t[0],t[1],t[2],e.detail.drawn))}a(u,{list:l.mapArray(\"value\",(function(e,t){var n=l.getItemModel(t);return[l.getName(t),n.get(\"textStyle.normal.textSize\",!0)||r.number.linearMap(e,p,f),t]})).sort((function(e,t){return t[1]-e[1]})),fontFamily:n.get(\"textStyle.normal.fontFamily\")||n.get(\"textStyle.emphasis.fontFamily\")||e.get(\"textStyle.fontFamily\"),fontWeight:n.get(\"textStyle.normal.fontWeight\")||n.get(\"textStyle.emphasis.fontWeight\")||e.get(\"textStyle.fontWeight\"),gridSize:v,ellipticity:s.height/s.width,minRotation:h[0]*m,maxRotation:h[1]*m,clearCanvas:!d,rotateRatio:1,rotationStep:n.get(\"rotationStep\")*m,drawOutOfBound:n.get(\"drawOutOfBound\"),shuffle:!1,shape:n.get(\"shape\")}),u.addEventListener(\"wordclouddrawn\",g),n.layoutInstance&&n.layoutInstance.dispose(),n.layoutInstance={ondraw:null,dispose:function(){u.removeEventListener(\"wordclouddrawn\",g),u.addEventListener(\"wordclouddrawn\",(function(e){e.preventDefault()}))}}}))})),r.registerPreprocessor((function(e){var t=(e||{}).series;!r.util.isArray(t)&&(t=t?[t]:[]);var n=[\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"];function i(e){e&&r.util.each(n,(function(t){e.hasOwnProperty(t)&&(e[\"text\"+r.format.capitalFirst(t)]=e[t])}))}r.util.each(t,(function(e){if(e&&\"wordCloud\"===e.type){var t=e.textStyle||{};i(t.normal),i(t.emphasis)}}))}))},\"0aac\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"a481\"),n(\"7f7f\");var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"500px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\");var e={};function t(e){for(var t,n=[\"北京\",\"天津\",\"河北\",\"山西\",\"内蒙古\",\"辽宁\",\"吉林\",\"黑龙江\",\"上海\",\"江苏\",\"浙江\",\"安徽\",\"福建\",\"江西\",\"山东\",\"河南\",\"湖北\",\"湖南\",\"广东\",\"广西\",\"海南\",\"重庆\",\"四川\",\"贵州\",\"云南\",\"西藏\",\"陕西\",\"甘肃\",\"青海\",\"宁夏\",\"新疆\"],r=2002;r<=2011;r++){var i=0,a=0;t=e[r];for(var o=0,s=t.length;o<s;o++)i=Math.max(i,t[o]),a+=t[o],e[r][o]={name:n[o],value:t[o]};e[r+\"max\"]=100*Math.floor(i/100),e[r+\"sum\"]=a}return e}e.dataGDP=t({2011:[16251.93,11307.28,24515.76,11237.55,14359.88,22226.7,10568.83,12582,19195.69,49110.27,32318.85,15300.65,17560.18,11702.82,45361.85,26931.03,19632.26,19669.56,53210.28,11720.87,2522.66,10011.37,21026.68,5701.84,8893.12,605.83,12512.3,5020.37,1670.44,2102.21,6610.05],2010:[14113.58,9224.46,20394.26,9200.86,11672,18457.27,8667.58,10368.6,17165.98,41425.48,27722.31,12359.33,14737.12,9451.26,39169.92,23092.36,15967.61,16037.96,46013.06,9569.85,2064.5,7925.58,17185.48,4602.16,7224.18,507.46,10123.48,4120.75,1350.43,1689.65,5437.47],2009:[12153.03,7521.85,17235.48,7358.31,9740.25,15212.49,7278.75,8587,15046.45,34457.3,22990.35,10062.82,12236.53,7655.18,33896.65,19480.46,12961.1,13059.69,39482.56,7759.16,1654.21,6530.01,14151.28,3912.68,6169.75,441.36,8169.8,3387.56,1081.27,1353.31,4277.05],2008:[11115,6719.01,16011.97,7315.4,8496.2,13668.58,6426.1,8314.37,14069.87,30981.98,21462.69,8851.66,10823.01,6971.05,30933.28,18018.53,11328.92,11555,36796.71,7021,1503.06,5793.66,12601.23,3561.56,5692.12,394.85,7314.58,3166.82,1018.62,1203.92,4183.21],2007:[9846.81,5252.76,13607.32,6024.45,6423.18,11164.3,5284.69,7104,12494.01,26018.48,18753.73,7360.92,9248.53,5800.25,25776.91,15012.46,9333.4,9439.6,31777.01,5823.41,1254.17,4676.13,10562.39,2884.11,4772.52,341.43,5757.29,2703.98,797.35,919.11,3523.16],2006:[8117.78,4462.74,11467.6,4878.61,4944.25,9304.52,4275.12,6211.8,10572.24,21742.05,15718.47,6112.5,7583.85,4820.53,21900.19,12362.79,7617.47,7688.67,26587.76,4746.16,1065.67,3907.23,8690.24,2338.98,3988.14,290.76,4743.61,2277.35,648.5,725.9,3045.26],2005:[6969.52,3905.64,10012.11,4230.53,3905.03,8047.26,3620.27,5513.7,9247.66,18598.69,13417.68,5350.17,6554.69,4056.76,18366.87,10587.42,6590.19,6596.1,22557.37,3984.1,918.75,3467.72,7385.1,2005.42,3462.73,248.8,3933.72,1933.98,543.32,612.61,2604.19],2004:[6033.21,3110.97,8477.63,3571.37,3041.07,6672,3122.01,4750.6,8072.83,15003.6,11648.7,4759.3,5763.35,3456.7,15021.84,8553.79,5633.24,5641.94,18864.62,3433.5,819.66,3034.58,6379.63,1677.8,3081.91,220.34,3175.58,1688.49,466.1,537.11,2209.09],2003:[5007.21,2578.03,6921.29,2855.23,2388.38,6002.54,2662.08,4057.4,6694.23,12442.87,9705.02,3923.11,4983.67,2807.41,12078.15,6867.7,4757.45,4659.99,15844.64,2821.11,713.96,2555.72,5333.09,1426.34,2556.02,185.09,2587.72,1399.83,390.2,445.36,1886.35],2002:[4315,2150.76,6018.28,2324.8,1940.94,5458.22,2348.54,3637.2,5741.03,10606.85,8003.67,3519.72,4467.55,2450.48,10275.5,6035.48,4212.82,4151.54,13502.42,2523.73,642.73,2232.86,4725.01,1243.43,2312.82,162.04,2253.39,1232.03,340.65,377.16,1612.6]}),e.dataPI=t({2011:[136.27,159.72,2905.73,641.42,1306.3,1915.57,1277.44,1701.5,124.94,3064.78,1583.04,2015.31,1612.24,1391.07,3973.85,3512.24,2569.3,2768.03,2665.2,2047.23,659.23,844.52,2983.51,726.22,1411.01,74.47,1220.9,678.75,155.08,184.14,1139.03],2010:[124.36,145.58,2562.81,554.48,1095.28,1631.08,1050.15,1302.9,114.15,2540.1,1360.56,1729.02,1363.67,1206.98,3588.28,3258.09,2147,2325.5,2286.98,1675.06,539.83,685.38,2482.89,625.03,1108.38,68.72,988.45,599.28,134.92,159.29,1078.63],2009:[118.29,128.85,2207.34,477.59,929.6,1414.9,980.57,1154.33,113.82,2261.86,1163.08,1495.45,1182.74,1098.66,3226.64,2769.05,1795.9,1969.69,2010.27,1458.49,462.19,606.8,2240.61,550.27,1067.6,63.88,789.64,497.05,107.4,127.25,759.74],2008:[112.83,122.58,2034.59,313.58,907.95,1302.02,916.72,1088.94,111.8,2100.11,1095.96,1418.09,1158.17,1060.38,3002.65,2658.78,1780,1892.4,1973.05,1453.75,436.04,575.4,2216.15,539.19,1020.56,60.62,753.72,462.27,105.57,118.94,691.07],2007:[101.26,110.19,1804.72,311.97,762.1,1133.42,783.8,915.38,101.84,1816.31,986.02,1200.18,1002.11,905.77,2509.14,2217.66,1378,1626.48,1695.57,1241.35,361.07,482.39,2032,446.38,837.35,54.89,592.63,387.55,83.41,97.89,628.72],2006:[88.8,103.35,1461.81,276.77,634.94,939.43,672.76,750.14,93.81,1545.05,925.1,1011.03,865.98,786.14,2138.9,1916.74,1140.41,1272.2,1532.17,1032.47,323.48,386.38,1595.48,382.06,724.4,50.9,484.81,334,67.55,79.54,527.8],2005:[88.68,112.38,1400,262.42,589.56,882.41,625.61,684.6,90.26,1461.51,892.83,966.5,827.36,727.37,1963.51,1892.01,1082.13,1100.65,1428.27,912.5,300.75,463.4,1481.14,368.94,661.69,48.04,435.77,308.06,65.34,72.07,509.99],2004:[87.36,105.28,1370.43,276.3,522.8,798.43,568.69,605.79,83.45,1367.58,814.1,950.5,786.84,664.5,1778.45,1649.29,1020.09,1022.45,1248.59,817.88,278.76,428.05,1379.93,334.5,607.75,44.3,387.88,286.78,60.7,65.33,461.26],2003:[84.11,89.91,1064.05,215.19,420.1,615.8,488.23,504.8,81.02,1162.45,717.85,749.4,692.94,560,1480.67,1198.7,798.35,886.47,1072.91,658.78,244.29,339.06,1128.61,298.69,494.6,40.7,302.66,237.91,48.47,55.63,412.9],2002:[82.44,84.21,956.84,197.8,374.69,590.2,446.17,474.2,79.68,1110.44,685.2,783.66,664.78,535.98,1390,1288.36,707,847.25,1015.08,601.99,222.89,317.87,1047.95,281.1,463.44,39.75,282.21,215.51,47.31,52.95,305]}),e.dataSI=t({2011:[3752.48,5928.32,13126.86,6635.26,8037.69,12152.15,5611.48,5962.41,7927.89,25203.28,16555.58,8309.38,9069.2,6390.55,24017.11,15427.08,9815.94,9361.99,26447.38,5675.32,714.5,5543.04,11029.13,2194.33,3780.32,208.79,6935.59,2377.83,975.18,1056.15,3225.9],2010:[3388.38,4840.23,10707.68,5234,6367.69,9976.82,4506.31,5025.15,7218.32,21753.93,14297.93,6436.62,7522.83,5122.88,21238.49,13226.38,7767.24,7343.19,23014.53,4511.68,571,4359.12,8672.18,1800.06,3223.49,163.92,5446.1,1984.97,744.63,827.91,2592.15],2009:[2855.55,3987.84,8959.83,3993.8,5114,7906.34,3541.92,4060.72,6001.78,18566.37,11908.49,4905.22,6005.3,3919.45,18901.83,11010.5,6038.08,5687.19,19419.7,3381.54,443.43,3448.77,6711.87,1476.62,2582.53,136.63,4236.42,1527.24,575.33,662.32,1929.59],2008:[2626.41,3709.78,8701.34,4242.36,4376.19,7158.84,3097.12,4319.75,6085.84,16993.34,11567.42,4198.93,5318.44,3554.81,17571.98,10259.99,5082.07,5028.93,18502.2,3037.74,423.55,3057.78,5823.39,1370.03,2452.75,115.56,3861.12,1470.34,557.12,609.98,2070.76],2007:[2509.4,2892.53,7201.88,3454.49,3193.67,5544.14,2475.45,3695.58,5571.06,14471.26,10154.25,3370.96,4476.42,2975.53,14647.53,8282.83,4143.06,3977.72,16004.61,2425.29,364.26,2368.53,4648.79,1124.79,2038.39,98.48,2986.46,1279.32,419.03,455.04,1647.55],2006:[2191.43,2457.08,6110.43,2755.66,2374.96,4566.83,1915.29,3365.31,4969.95,12282.89,8511.51,2711.18,3695.04,2419.74,12574.03,6724.61,3365.08,3187.05,13469.77,1878.56,308.62,1871.65,3775.14,967.54,1705.83,80.1,2452.44,1043.19,331.91,351.58,1459.3],2005:[2026.51,2135.07,5271.57,2357.04,1773.21,3869.4,1580.83,2971.68,4381.2,10524.96,7164.75,2245.9,3175.92,1917.47,10478.62,5514.14,2852.12,2612.57,11356.6,1510.68,240.83,1564,3067.23,821.16,1426.42,63.52,1951.36,838.56,264.61,281.05,1164.79],2004:[1853.58,1685.93,4301.73,1919.4,1248.27,3061.62,1329.68,2487.04,3892.12,8437.99,6250.38,1844.9,2770.49,1566.4,8478.69,4182.1,2320.6,2190.54,9280.73,1253.7,205.6,1376.91,2489.4,681.5,1281.63,52.74,1553.1,713.3,211.7,244.05,914.47],2003:[1487.15,1337.31,3417.56,1463.38,967.49,2898.89,1098.37,2084.7,3209.02,6787.11,5096.38,1535.29,2340.82,1204.33,6485.05,3310.14,1956.02,1777.74,7592.78,984.08,175.82,1135.31,2014.8,569.37,1047.66,47.64,1221.17,572.02,171.92,194.27,719.54],2002:[1249.99,1069.08,2911.69,1134.31,754.78,2609.85,943.49,1843.6,2622.45,5604.49,4090.48,1337.04,2036.97,941.77,5184.98,2768.75,1709.89,1523.5,6143.4,846.89,148.88,958.87,1733.38,481.96,934.88,32.72,1007.56,501.69,144.51,153.06,603.15]}),e.dataTI=t({2011:[12363.18,5219.24,8483.17,3960.87,5015.89,8158.98,3679.91,4918.09,11142.86,20842.21,14180.23,4975.96,6878.74,3921.2,17370.89,7991.72,7247.02,7539.54,24097.7,3998.33,1148.93,3623.81,7014.04,2781.29,3701.79,322.57,4355.81,1963.79,540.18,861.92,2245.12],2010:[10600.84,4238.65,7123.77,3412.38,4209.03,6849.37,3111.12,4040.55,9833.51,17131.45,12063.82,4193.69,5850.62,3121.4,14343.14,6607.89,6053.37,6369.27,20711.55,3383.11,953.67,2881.08,6030.41,2177.07,2892.31,274.82,3688.93,1536.5,470.88,702.45,1766.69],2009:[9179.19,3405.16,6068.31,2886.92,3696.65,5891.25,2756.26,3371.95,8930.85,13629.07,9918.78,3662.15,5048.49,2637.07,11768.18,5700.91,5127.12,5402.81,18052.59,2919.13,748.59,2474.44,5198.8,1885.79,2519.62,240.85,3143.74,1363.27,398.54,563.74,1587.72],2008:[8375.76,2886.65,5276.04,2759.46,3212.06,5207.72,2412.26,2905.68,7872.23,11888.53,8799.31,3234.64,4346.4,2355.86,10358.64,5099.76,4466.85,4633.67,16321.46,2529.51,643.47,2160.48,4561.69,1652.34,2218.81,218.67,2699.74,1234.21,355.93,475,1421.38],2007:[7236.15,2250.04,4600.72,2257.99,2467.41,4486.74,2025.44,2493.04,6821.11,9730.91,7613.46,2789.78,3770,1918.95,8620.24,4511.97,3812.34,3835.4,14076.83,2156.76,528.84,1825.21,3881.6,1312.94,1896.78,188.06,2178.2,1037.11,294.91,366.18,1246.89],2006:[5837.55,1902.31,3895.36,1846.18,1934.35,3798.26,1687.07,2096.35,5508.48,7914.11,6281.86,2390.29,3022.83,1614.65,7187.26,3721.44,3111.98,3229.42,11585.82,1835.12,433.57,1649.2,3319.62,989.38,1557.91,159.76,1806.36,900.16,249.04,294.78,1058.16],2005:[4854.33,1658.19,3340.54,1611.07,1542.26,3295.45,1413.83,1857.42,4776.2,6612.22,5360.1,2137.77,2551.41,1411.92,5924.74,3181.27,2655.94,2882.88,9772.5,1560.92,377.17,1440.32,2836.73,815.32,1374.62,137.24,1546.59,787.36,213.37,259.49,929.41],2004:[4092.27,1319.76,2805.47,1375.67,1270,2811.95,1223.64,1657.77,4097.26,5198.03,4584.22,1963.9,2206.02,1225.8,4764.7,2722.4,2292.55,2428.95,8335.3,1361.92,335.3,1229.62,2510.3,661.8,1192.53,123.3,1234.6,688.41,193.7,227.73,833.36],2003:[3435.95,1150.81,2439.68,1176.65,1000.79,2487.85,1075.48,1467.9,3404.19,4493.31,3890.79,1638.42,1949.91,1043.08,4112.43,2358.86,2003.08,1995.78,7178.94,1178.25,293.85,1081.35,2189.68,558.28,1013.76,96.76,1063.89,589.91,169.81,195.46,753.91],2002:[2982.57,997.47,2149.75,992.69,811.47,2258.17,958.88,1319.4,3038.9,3891.92,3227.99,1399.02,1765.8,972.73,3700.52,1978.37,1795.93,1780.79,6343.94,1074.85,270.96,956.12,1943.68,480.37,914.5,89.56,963.62,514.83,148.83,171.14,704.5]}),e.dataEstate=t({2011:[1074.93,411.46,918.02,224.91,384.76,876.12,238.61,492.1,1019.68,2747.89,1677.13,634.92,911.16,402.51,1838.14,987,634.67,518.04,3321.31,465.68,208.71,396.28,620.62,160.3,222.31,17.44,398.03,134.25,29.05,79.01,176.22],2010:[1006.52,377.59,697.79,192,309.25,733.37,212.32,391.89,1002.5,2600.95,1618.17,532.17,679.03,340.56,1622.15,773.23,564.41,464.21,2813.95,405.79,188.33,266.38,558.56,139.64,223.45,14.54,315.95,110.02,25.41,60.53,143.44],2009:[1062.47,308.73,612.4,173.31,286.65,605.27,200.14,301.18,1237.56,2025.39,1316.84,497.94,656.61,305.9,1329.59,622.98,546.11,400.11,2470.63,348.98,121.76,229.09,548.14,136.15,205.14,13.28,239.92,101.37,23.05,47.56,115.23],2008:[844.59,227.88,513.81,166.04,273.3,500.81,182.7,244.47,939.34,1626.13,1052.03,431.27,506.98,281.96,1104.95,512.42,526.88,340.07,2057.45,282.96,95.6,191.21,453.63,104.81,195.48,15.08,193.27,93.8,19.96,38.85,89.79],2007:[821.5,183.44,467.97,134.12,191.01,410.43,153.03,225.81,958.06,1365.71,981.42,366.57,511.5,225.96,953.69,447.44,409.65,301.8,2029.77,239.45,67.19,196.06,376.84,93.19,193.59,13.24,153.98,83.52,16.98,29.49,91.28],2006:[658.3,156.64,397.14,117.01,136.5,318.54,131.01,194.7,773.61,1017.91,794.41,281.98,435.22,184.67,786.51,348.7,294.73,254.81,1722.07,192.2,44.45,158.2,336.2,80.24,165.92,11.92,125.2,73.21,15.17,25.53,68.9],2005:[493.73,122.67,330.87,106,98.75,256.77,112.29,163.34,715.97,799.73,688.86,231.66,331.8,171.88,664.9,298.19,217.17,215.63,1430.37,165.05,38.2,143.88,286.23,76.38,148.69,10.02,108.62,63.78,14.1,22.97,55.79],2004:[436.11,106.14,231.08,95.1,73.81,203.1,97.93,137.74,666.3,534.17,587.83,188.28,248.44,167.2,473.27,236.44,204.8,191.5,1103.75,122.52,30.64,129.12,264.3,68.3,116.54,5.8,95.9,56.84,13,20.78,53.55],2003:[341.88,92.31,185.19,78.73,61.05,188.49,91.99,127.2,487.82,447.47,473.16,162.63,215.84,138.02,418.21,217.58,176.8,186.49,955.66,100.93,25.14,113.69,231.72,59.86,103.79,4.35,83.9,48.09,11.41,16.85,47.84],2002:[298.02,73.04,140.89,65.83,51.48,130.94,76.11,118.7,384.86,371.09,360.63,139.18,188.09,125.27,371.13,199.31,145.17,165.29,808.16,82.83,21.45,90.48,210.82,53.49,95.68,3.42,77.68,41.52,9.74,13.46,43.04]}),e.dataFinancial=t({2011:[2215.41,756.5,746.01,519.32,447.46,755.57,207.65,370.78,2277.4,2600.11,2730.29,503.85,862.41,357.44,1640.41,868.2,674.57,501.09,2916.13,445.37,105.24,704.66,868.15,297.27,456.23,31.7,432.11,145.05,62.56,134.18,288.77],2010:[1863.61,572.99,615.42,448.3,346.44,639.27,190.12,304.59,1950.96,2105.92,2326.58,396.17,767.58,241.49,1361.45,697.68,561.27,463.16,2658.76,384.53,78.12,496.56,654.7,231.51,375.08,27.08,384.75,100.54,54.53,97.87,225.2],2009:[1603.63,461.2,525.67,361.64,291.1,560.2,180.83,227.54,1804.28,1596.98,1899.33,359.6,612.2,165.1,1044.9,499.92,479.11,402.57,2283.29,336.82,65.73,389.97,524.63,194.44,351.74,23.17,336.21,88.27,45.63,75.54,198.87],2008:[1519.19,368.1,420.74,290.91,219.09,455.07,147.24,177.43,1414.21,1298.48,1653.45,313.81,497.65,130.57,880.28,413.83,393.05,334.32,1972.4,249.01,47.33,303.01,411.14,151.55,277.66,22.42,287.16,72.49,36.54,64.8,171.97],2007:[1302.77,288.17,347.65,218.73,148.3,386.34,126.03,155.48,1209.08,1054.25,1251.43,223.85,385.84,101.34,734.9,302.31,337.27,260.14,1705.08,190.73,34.43,247.46,359.11,122.25,168.55,11.51,231.03,61.6,27.67,51.05,149.22],2006:[982.37,186.87,284.04,169.63,108.21,303.41,100.75,74.17,825.2,653.25,906.37,166.01,243.9,79.75,524.94,219.72,174.99,204.72,899.91,129.14,16.37,213.7,299.5,89.43,143.62,6.44,152.25,50.51,23.69,36.99,99.25],2005:[840.2,147.4,213.47,135.07,72.52,232.85,83.63,35.03,675.12,492.4,686.32,127.05,186.12,69.55,448.36,181.74,127.32,162.37,661.81,91.93,13.16,185.18,262.26,73.67,130.5,7.57,127.58,44.73,20.36,32.25,80.34],2004:[713.79,136.97,209.1,110.29,55.89,188.04,77.17,32.2,612.45,440.5,523.49,94.1,171,65.1,343.37,170.82,118.85,118.64,602.68,74,11.56,162.38,236.5,60.3,118.4,5.4,90.1,42.99,19,27.92,70.3],2003:[635.56,112.79,199.87,118.48,55.89,145.38,73.15,32.2,517.97,392.11,451.54,87.45,150.09,64.31,329.71,165.11,107.31,99.35,534.28,61.59,10.68,147.04,206.24,48.01,105.48,4.74,77.87,42.31,17.98,24.8,64.92],2002:[561.91,76.86,179.6,124.1,48.39,137.18,75.45,31.6,485.25,368.86,347.53,81.85,138.28,76.51,310.07,158.77,96.95,92.43,454.65,35.86,10.08,134.52,183.13,41.45,102.39,2.81,67.3,42.08,16.75,21.45,52.18]}),this.chart.setOption({baseOption:{timeline:{axisType:\"category\",autoPlay:!0,playInterval:1e3,data:[\"2002-01-01\",\"2003-01-01\",\"2004-01-01\",{value:\"2005-01-01\",tooltip:{formatter:\"{b} GDP达到一个高度\"},symbol:\"diamond\",symbolSize:16},\"2006-01-01\",\"2007-01-01\",\"2008-01-01\",\"2009-01-01\",\"2010-01-01\",{value:\"2011-01-01\",tooltip:{formatter:function(e){return e.name+\"GDP达到又一个高度\"}},symbol:\"diamond\",symbolSize:18}],label:{formatter:function(e){return new Date(e).getFullYear()}}},title:{subtext:\"数据来自国家统计局\"},tooltip:{},legend:{x:\"right\",data:[\"第一产业\",\"第二产业\",\"第三产业\",\"GDP\",\"金融\",\"房地产\"],selected:{GDP:!1,\"金融\":!1,\"房地产\":!1}},calculable:!0,grid:{top:80,bottom:100,tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\",label:{show:!0,formatter:function(e){return e.value.replace(\"\\n\",\"\")}}}}},xAxis:[{type:\"category\",axisLabel:{interval:0,rotate:45},data:[\"北京\",\"\\n天津\",\"河北\",\"\\n山西\",\"内蒙古\",\"\\n辽宁\",\"吉林\",\"\\n黑龙江\",\"上海\",\"\\n江苏\",\"浙江\",\"\\n安徽\",\"福建\",\"\\n江西\",\"山东\",\"\\n河南\",\"湖北\",\"\\n湖南\",\"广东\",\"\\n广西\",\"海南\",\"\\n重庆\",\"四川\",\"\\n贵州\",\"云南\",\"\\n西藏\",\"陕西\",\"\\n甘肃\",\"青海\",\"\\n宁夏\",\"新疆\"],splitLine:{show:!1}}],yAxis:[{type:\"value\",name:\"GDP（亿元）\"}],series:[{name:\"GDP\",type:\"bar\"},{name:\"金融\",type:\"bar\"},{name:\"房地产\",type:\"bar\"},{name:\"第一产业\",type:\"bar\"},{name:\"第二产业\",type:\"bar\"},{name:\"第三产业\",type:\"bar\"},{name:\"GDP占比\",type:\"pie\",center:[\"75%\",\"35%\"],radius:\"28%\",z:100}]},options:[{title:{text:\"2002全国宏观经济指标\"},series:[{data:e.dataGDP[\"2002\"]},{data:e.dataFinancial[\"2002\"]},{data:e.dataEstate[\"2002\"]},{data:e.dataPI[\"2002\"]},{data:e.dataSI[\"2002\"]},{data:e.dataTI[\"2002\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2002sum\"]},{name:\"第二产业\",value:e.dataSI[\"2002sum\"]},{name:\"第三产业\",value:e.dataTI[\"2002sum\"]}]}]},{title:{text:\"2003全国宏观经济指标\"},series:[{data:e.dataGDP[\"2003\"]},{data:e.dataFinancial[\"2003\"]},{data:e.dataEstate[\"2003\"]},{data:e.dataPI[\"2003\"]},{data:e.dataSI[\"2003\"]},{data:e.dataTI[\"2003\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2003sum\"]},{name:\"第二产业\",value:e.dataSI[\"2003sum\"]},{name:\"第三产业\",value:e.dataTI[\"2003sum\"]}]}]},{title:{text:\"2004全国宏观经济指标\"},series:[{data:e.dataGDP[\"2004\"]},{data:e.dataFinancial[\"2004\"]},{data:e.dataEstate[\"2004\"]},{data:e.dataPI[\"2004\"]},{data:e.dataSI[\"2004\"]},{data:e.dataTI[\"2004\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2004sum\"]},{name:\"第二产业\",value:e.dataSI[\"2004sum\"]},{name:\"第三产业\",value:e.dataTI[\"2004sum\"]}]}]},{title:{text:\"2005全国宏观经济指标\"},series:[{data:e.dataGDP[\"2005\"]},{data:e.dataFinancial[\"2005\"]},{data:e.dataEstate[\"2005\"]},{data:e.dataPI[\"2005\"]},{data:e.dataSI[\"2005\"]},{data:e.dataTI[\"2005\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2005sum\"]},{name:\"第二产业\",value:e.dataSI[\"2005sum\"]},{name:\"第三产业\",value:e.dataTI[\"2005sum\"]}]}]},{title:{text:\"2006全国宏观经济指标\"},series:[{data:e.dataGDP[\"2006\"]},{data:e.dataFinancial[\"2006\"]},{data:e.dataEstate[\"2006\"]},{data:e.dataPI[\"2006\"]},{data:e.dataSI[\"2006\"]},{data:e.dataTI[\"2006\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2006sum\"]},{name:\"第二产业\",value:e.dataSI[\"2006sum\"]},{name:\"第三产业\",value:e.dataTI[\"2006sum\"]}]}]},{title:{text:\"2007全国宏观经济指标\"},series:[{data:e.dataGDP[\"2007\"]},{data:e.dataFinancial[\"2007\"]},{data:e.dataEstate[\"2007\"]},{data:e.dataPI[\"2007\"]},{data:e.dataSI[\"2007\"]},{data:e.dataTI[\"2007\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2007sum\"]},{name:\"第二产业\",value:e.dataSI[\"2007sum\"]},{name:\"第三产业\",value:e.dataTI[\"2007sum\"]}]}]},{title:{text:\"2008全国宏观经济指标\"},series:[{data:e.dataGDP[\"2008\"]},{data:e.dataFinancial[\"2008\"]},{data:e.dataEstate[\"2008\"]},{data:e.dataPI[\"2008\"]},{data:e.dataSI[\"2008\"]},{data:e.dataTI[\"2008\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2008sum\"]},{name:\"第二产业\",value:e.dataSI[\"2008sum\"]},{name:\"第三产业\",value:e.dataTI[\"2008sum\"]}]}]},{title:{text:\"2009全国宏观经济指标\"},series:[{data:e.dataGDP[\"2009\"]},{data:e.dataFinancial[\"2009\"]},{data:e.dataEstate[\"2009\"]},{data:e.dataPI[\"2009\"]},{data:e.dataSI[\"2009\"]},{data:e.dataTI[\"2009\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2009sum\"]},{name:\"第二产业\",value:e.dataSI[\"2009sum\"]},{name:\"第三产业\",value:e.dataTI[\"2009sum\"]}]}]},{title:{text:\"2010全国宏观经济指标\"},series:[{data:e.dataGDP[\"2010\"]},{data:e.dataFinancial[\"2010\"]},{data:e.dataEstate[\"2010\"]},{data:e.dataPI[\"2010\"]},{data:e.dataSI[\"2010\"]},{data:e.dataTI[\"2010\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2010sum\"]},{name:\"第二产业\",value:e.dataSI[\"2010sum\"]},{name:\"第三产业\",value:e.dataTI[\"2010sum\"]}]}]},{title:{text:\"2011全国宏观经济指标\"},series:[{data:e.dataGDP[\"2011\"]},{data:e.dataFinancial[\"2011\"]},{data:e.dataEstate[\"2011\"]},{data:e.dataPI[\"2011\"]},{data:e.dataSI[\"2011\"]},{data:e.dataTI[\"2011\"]},{data:[{name:\"第一产业\",value:e.dataPI[\"2011sum\"]},{name:\"第二产业\",value:e.dataSI[\"2011sum\"]},{name:\"第三产业\",value:e.dataTI[\"2011sum\"]}]}]}]})}}};t.default=o},\"0adb\":function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticStyle:{padding:\"30px\"}},[n(\"el-alert\",{attrs:{closable:!1,title:\"三级菜单2\",type:\"success\"}})],1)},i=[],a=n(\"2877\"),o={},s=Object(a[\"a\"])(o,r,i,!1,null,null,null);t[\"default\"]=s.exports},\"0ba0\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"7851\"),i=n(\"d4ef\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"0c34\":function(e,t,n){},\"0dde\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"e3e9\")),a=r(n(\"d3d8\")),o=r(n(\"8e8c\")),s=r(n(\"1728\")),l=r(n(\"feff\")),u=r(n(\"ce7f\")),c=r(n(\"b9f6\")),d=r(n(\"8db4\")),f=r(n(\"cbcc\")),h=r(n(\"78af\")),p=r(n(\"b2d2\")),m=r(n(\"7a36\")),v=r(n(\"10b4\")),g={name:\"Echarts\",components:{Point:m.default,Category:p.default,Graph:c.default,HeatMap:a.default,RadarChart:i.default,Sunburst:u.default,Gauge:o.default,Rich:s.default,ThemeRiver:l.default,Sankey:d.default,Line3D:h.default,Scatter:f.default,WordCloud:v.default}};t.default=g},\"0e24\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"dashboard-container\"},[n(\"div\",{staticClass:\"dashboard-editor-container\"},[n(\"el-row\",{staticStyle:{background:\"#fff\",padding:\"16px 16px 0\",\"margin-bottom\":\"32px\"}},[n(\"heat-map\")],1),e._v(\" \"),n(\"el-row\",{attrs:{gutter:32}},[n(\"el-col\",{attrs:{xs:24,sm:24,lg:8}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"radar-chart\")],1)]),e._v(\" \"),n(\"el-col\",{attrs:{xs:24,sm:24,lg:8}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"sunburst\")],1)]),e._v(\" \"),n(\"el-col\",{attrs:{xs:24,sm:24,lg:8}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"gauge\")],1)])],1),e._v(\" \"),n(\"el-row\",{attrs:{gutter:12}},[n(\"el-col\",{attrs:{span:12}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"rich\")],1)]),e._v(\" \"),n(\"el-col\",{attrs:{span:12}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"theme-river\")],1)])],1),e._v(\" \"),n(\"el-row\",{attrs:{gutter:32}},[n(\"el-col\",{attrs:{xs:24,sm:24,lg:8}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"graph\")],1)]),e._v(\" \"),n(\"el-col\",{attrs:{xs:24,sm:24,lg:8}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"sankey\")],1)]),e._v(\" \"),n(\"el-col\",{attrs:{xs:24,sm:24,lg:8}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"line3-d\")],1)])],1),e._v(\" \"),n(\"el-row\",{attrs:{gutter:12}},[n(\"el-col\",{attrs:{span:12}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"scatter\")],1)]),e._v(\" \"),n(\"el-col\",{attrs:{span:12}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"point\")],1)])],1),e._v(\" \"),n(\"el-row\",{staticStyle:{background:\"#fff\",padding:\"16px 16px 0\",\"margin-bottom\":\"32px\"}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"word-cloud\")],1)]),e._v(\" \"),n(\"el-row\",{staticStyle:{background:\"#fff\",padding:\"16px 16px 0\",\"margin-bottom\":\"32px\"}},[n(\"div\",{staticClass:\"chart-wrapper\"},[n(\"category\")],1)])],1)])},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"0f40\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"a481\");var r={created:function(){var e=this.$route,t=e.params,n=e.query,r=t.path;this.$router.replace({path:\"/\"+r,query:n})},render:function(e){return e()}};t.default=r},1:function(e,t){},\"10b4\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"a689\"),i=n(\"7ee8\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"10ed\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"e4de\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"121d\":function(e,t,n){},1251:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"输入文件名\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.filename,callback:function(t){e.$set(e.query,\"filename\",t)},expression:\"query.filename\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}},[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"pictures:add\"],expression:\"['admin','pictures:add']\"}],staticClass:\"filter-item\",attrs:{slot:\"left\",type:\"primary\",icon:\"el-icon-upload\"},on:{click:function(t){e.dialog=!0}},slot:\"left\"},[e._v(\"上传\")]),e._v(\" \"),n(\"el-tooltip\",{staticClass:\"item\",attrs:{slot:\"right\",effect:\"dark\",content:\"使用同步功能需要在 https://sm.ms/login 中注册账号，并且在 application.yml 文件中修改 Secret Token\",placement:\"top-start\"},slot:\"right\"},[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"pictures:add\"],expression:\"['admin','pictures:add']\"}],staticClass:\"filter-item\",attrs:{type:\"success\",icon:\"el-icon-refresh\",loading:e.syncLoading},on:{click:e.sync}},[e._v(\"同步\")])],1)],1)],1),e._v(\" \"),n(\"el-dialog\",{attrs:{visible:e.dialog,\"close-on-click-modal\":!1,\"append-to-body\":\"\",width:\"600px\"},on:{\"update:visible\":function(t){e.dialog=t},close:e.doSubmit}},[n(\"el-upload\",{attrs:{\"on-preview\":e.handlePictureCardPreview,\"before-remove\":e.handleBeforeRemove,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,headers:e.headers,\"file-list\":e.fileList,action:e.imagesUploadApi,\"list-type\":\"picture-card\"}},[n(\"i\",{staticClass:\"el-icon-plus\"})]),e._v(\" \"),n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",visible:e.dialogVisible},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[n(\"img\",{attrs:{src:e.dialogImageUrl,width:\"100%\",alt:\"\"}})]),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"filename\")?n(\"el-table-column\",{attrs:{width:\"200\",prop:\"filename\",label:\"文件名\"}}):e._e(),e._v(\" \"),e.columns.visible(\"username\")?n(\"el-table-column\",{attrs:{prop:\"username\",label:\"上传者\"}}):e._e(),e._v(\" \"),e.columns.visible(\"url\")?n(\"el-table-column\",{ref:\"table\",attrs:{\"show-overflow-tooltip\":!0,prop:\"url\",label:\"缩略图\"},scopedSlots:e._u([{key:\"default\",fn:function(e){var t=e.row;return[n(\"el-image\",{staticClass:\"el-avatar\",attrs:{src:t.url,\"preview-src-list\":[t.url],fit:\"contain\",lazy:\"\"}})]}}],null,!1,2873623268)}):e._e(),e._v(\" \"),e.columns.visible(\"size\")?n(\"el-table-column\",{attrs:{prop:\"size\",label:\"文件大小\"}}):e._e(),e._v(\" \"),e.columns.visible(\"height\")?n(\"el-table-column\",{attrs:{prop:\"height\",label:\"高度\"}}):e._e(),e._v(\" \"),e.columns.visible(\"width\")?n(\"el-table-column\",{attrs:{prop:\"width\",label:\"宽度\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e()],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},1358:function(e,t,n){},\"149b\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"1cf4\")),a=n(\"ff97\"),o={mixins:[i.default],props:{appName:{type:String,default:\"\"}},data:function(){return{submitLoading:!1,dialog:!1,history:[],radio:\"\",appNames:\"\",selectIndex:\"\"}},created:function(){var e=this;this.$nextTick((function(){e.init()}))},methods:{beforeInit:function(){return this.url=\"api/deployHistory\",this.deployId=this.$parent.deployId,\"\"!==this.deployId&&(this.sort=\"deployDate,desc\",this.params[\"deployId\"]=this.deployId,!0)},showRow:function(e){this.radio=this.data.indexOf(e),this.selectIndex=e.id},cancel:function(){this.dialog=!1,this.submitLoading=!1},doSubmit:function(){var e=this;\"\"===this.selectIndex?this.$message.error(\"请选择要还原的备份\"):(this.submitLoading=!0,(0,a.reducte)(JSON.stringify(this.data[this.radio])).then((function(t){e.dialog=!1,e.submitLoading=!1,e.appNames=\"\",e.$parent.crud.toQuery()})).catch((function(t){e.submitLoading=!1})))}}};t.default=o},1695:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"del\",(function(){return i})),n.d(t,\"getAllOnlineUser\",(function(){return a}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"auth/online\",method:\"delete\",data:e})}function a(){return Object(r[\"default\"])({url:\"auth/online/getAllOnlineUser\",method:\"get\"})}},\"169d\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"56b3\"));n(\"a7be\"),n(\"b866\"),n(\"ced0\");var a={props:{value:{type:String,required:!0},height:{type:String,required:!0}},data:function(){return{editor:!1}},watch:{value:function(e){var t=this.editor.getValue();e!==t&&this.editor.setValue(this.value)},height:function(e){this.editor.setSize(\"auto\",this.height)}},mounted:function(){var e=this;this.editor=i.default.fromTextArea(this.$refs.textarea,{mode:\"text/x-yaml\",lineNumbers:!0,lint:!0,lineWrapping:!0,tabSize:2,cursorHeight:.9,theme:\"idea\"}),this.editor.setSize(\"auto\",this.height),this.editor.setValue(this.value),this.editor.on(\"change\",(function(t){e.$emit(\"changed\",t.getValue()),e.$emit(\"input\",t.getValue())}))},methods:{getValue:function(){return this.editor.getValue()}}};t.default=a},1728:function(e,t,n){\"use strict\";n.r(t);var r=n(\"9f5e\"),i=n(\"3ecf\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"180b\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.chart.setOption({series:{type:\"sankey\",layout:\"none\",focusNodeAdjacency:\"allEdges\",data:[{name:\"a\"},{name:\"b\"},{name:\"a1\"},{name:\"a2\"},{name:\"b1\"},{name:\"c\"}],links:[{source:\"a\",target:\"a1\",value:5},{source:\"a\",target:\"a2\",value:3},{source:\"b\",target:\"b1\",value:8},{source:\"a\",target:\"b1\",value:3},{source:\"b1\",target:\"a1\",value:1},{source:\"b1\",target:\"c\",value:2}]}})}}};t.default=o},\"18c0\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(\"37a2\"),a=r(n(\"2bb6\")),o=n(\"cea5\"),s=r(n(\"a78e\")),l={name:\"Login\",data:function(){return{codeEnabled:!1,codeUrl:\"\",cookiePass:\"\",loginForm:{username:\"admin\",password:\"123456\",rememberMe:!1,code:\"\",uuid:\"\"},loginRules:{username:[{required:!0,trigger:\"blur\",message:\"用户名不能为空\"}],password:[{required:!0,trigger:\"blur\",message:\"密码不能为空\"}],code:[{required:!0,trigger:\"change\",message:\"验证码不能为空\"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCode(),this.getCookie(),this.point()},methods:{getCode:function(){var e=this;(0,o.getCodeImg)().then((function(t){e.codeEnabled=t.enabled,t.enabled&&(e.codeUrl=t.img,e.loginForm.uuid=t.uuid)}))},getCookie:function(){var e=s.default.get(\"username\"),t=s.default.get(\"password\"),n=s.default.get(\"rememberMe\");this.cookiePass=void 0===t?\"\":t,t=void 0===t?this.loginForm.password:t,this.loginForm={username:void 0===e?this.loginForm.username:e,password:t,rememberMe:void 0!==n&&Boolean(n),code:\"\"}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){var n={username:e.loginForm.username,password:e.loginForm.password,rememberMe:e.loginForm.rememberMe,code:e.loginForm.code,uuid:e.loginForm.uuid};if(n.password!==e.cookiePass&&(n.password=(0,i.encrypt)(n.password)),!t)return!1;e.loading=!0,n.rememberMe?(s.default.set(\"username\",n.username,{expires:a.default.passCookieExpires}),s.default.set(\"password\",n.password,{expires:a.default.passCookieExpires}),s.default.set(\"rememberMe\",n.rememberMe,{expires:a.default.passCookieExpires})):(s.default.remove(\"username\"),s.default.remove(\"password\"),s.default.remove(\"rememberMe\")),e.$store.dispatch(\"Login\",n).then((function(){e.loading=!1,e.$router.push({path:e.redirect||\"/\"})})).catch((function(){e.loading=!1,e.getCode()}))}))},point:function(){var e=void 0!==s.default.get(\"point\");e&&(this.$notify({title:\"提示\",message:\"当前登录状态已过期，请重新登录！\",type:\"warning\",duration:5e3}),s.default.remove(\"point\"))}}};t.default=l},\"1a46\":function(e,t,n){},\"1ab9\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"214f0\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"1b0e\":function(e,t,n){e.exports=n.p+\"static/img/404_cloud.0f4bc32b.png\"},\"1b67\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"738a\"),i=n(\"7b0e\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"383efdb8\",null);t[\"default\"]=s.exports},\"1bf1\":function(e,t,n){},\"1cf4\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"e9e9\"),i=n(\"10ef\"),a=n(\"104a\");t[\"default\"]={data(){return{data:[],sort:[\"id,desc\"],page:0,size:10,total:0,url:\"\",params:{},query:{},time:50,isAdd:!1,downloadLoading:!1,loading:!0,delLoading:!1,delAllLoading:!1,dialog:!1,form:{},resetForm:{},title:\"\"}},methods:{parseTime:i[\"parseTime\"],downloadFile:i[\"downloadFile\"],checkPermission:a[\"a\"],async init(){if(await this.beforeInit())return new Promise((e,t)=>{this.loading=!0,Object(r[\"b\"])(this.url,this.getQueryParame()).then(t=>{this.total=t.totalElements?t.totalElements:t.total,this.data=t.content,setTimeout(()=>{this.loading=!1},this.time),e(t)}).catch(e=>{this.loading=!1,t(e)})})},beforeInit(){return!0},getQueryParame:function(){return{page:this.page,size:this.size,sort:this.sort,...this.query,...this.params}},pageChange(e){this.page=e-1,this.init()},sizeChange(e){this.page=0,this.size=e,this.init()},dleChangePage(e){void 0===e&&(e=1),this.data.length===e&&0!==this.page&&(this.page=this.page-1)},toQuery(){this.page=0,this.init()},submitSuccessNotify(){this.$notify({title:\"提交成功\",type:\"success\",duration:2500})},addSuccessNotify(){this.$notify({title:\"新增成功\",type:\"success\",duration:2500})},editSuccessNotify(){this.$notify({title:\"编辑成功\",type:\"success\",duration:2500})},delSuccessNotify(){this.$notify({title:\"删除成功\",type:\"success\",duration:2500})},notify(e,t){this.$notify({title:e,type:t,duration:2500})},beforeDelMethod(){return!0},delMethod(e){this.beforeDelMethod()&&(this.delLoading=!0,this.crudMethod.del(e).then(()=>{this.delLoading=!1,this.$refs[e].doClose(),this.dleChangePage(),this.delSuccessNotify(),this.afterDelMethod(),this.init()}).catch(()=>{this.delLoading=!1,this.$refs[e].doClose()}))},afterDelMethod(){},beforeDelAllMethod(){this.$confirm(\"你确定删除选中的数据吗？\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(()=>{this.delAllMethod()})},delAllMethod(){this.delAllLoading=!0;const e=this.$refs.table.selection,t=[];for(let n=0;n<e.length;n++)t.push(e[n].id);this.crudMethod.delAll(t).then(()=>{this.delAllLoading=!1,this.dleChangePage(t.length),this.init(),this.$notify({title:\"删除成功\",type:\"success\",duration:2500})}).catch(()=>{this.delAllLoading=!1})},beforeShowAddForm(){},showAddFormDialog(){this.isAdd=!0,this.resetForm=JSON.parse(JSON.stringify(this.form)),this.beforeShowAddForm(),this.dialog=!0},beforeShowEditForm(e){},showEditFormDialog(e=\"\"){this.isAdd=!1,e&&(this.resetForm=JSON.parse(JSON.stringify(this.form)),this.form=JSON.parse(JSON.stringify(e))),this.beforeShowEditForm(e),this.dialog=!0},addMethod(){this.crudMethod.add(this.form).then(()=>{this.addSuccessNotify(),this.loading=!1,this.afterAddMethod(),this.cancel(),this.init()}).catch(()=>{this.loading=!1,this.afterAddErrorMethod()})},afterAddMethod(){},afterAddErrorMethod(){},editMethod(){this.crudMethod.edit(this.form).then(()=>{this.editSuccessNotify(),this.loading=!1,this.afterEditMethod(),this.cancel(),this.init()}).catch(()=>{this.loading=!1})},afterEditMethod(){},beforeSubmitMethod(){return!0},submitMethod(){this.beforeSubmitMethod()&&this.$refs[\"form\"]&&this.$refs[\"form\"].validate(e=>{e&&(this.loading=!0,this.isAdd?this.addMethod():this.editMethod())})},cancel(){this.dialog=!1,this.$refs[\"form\"]&&(this.$refs[\"form\"].clearValidate(),this.form=this.resetForm)},getFormTitle(){return this.isAdd?\"新增\"+this.title:\"编辑\"+this.title},downloadMethod(){this.beforeInit(),this.downloadLoading=!0,Object(r[\"a\"])(this.url+\"/download\",this.params).then(e=>{this.downloadFile(e,this.title+\"数据\",\"xlsx\"),this.downloadLoading=!1}).catch(()=>{this.downloadLoading=!1})}}}},\"1e14\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"1f10\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"9e9d\"),i=n(\"cec3\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"b16c4d04\",null);t[\"default\"]=s.exports},\"1f2d\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"6f86\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"214f0\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"966f\")),a={name:\"Page401\",data:function(){return{errGif:i.default+\"?\"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:\"/dashboard\"}):this.$router.go(-1)}}};t.default=a},2175:function(e,t,n){\"use strict\";n.r(t);var r=n(\"9705\"),i=n(\"4780\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"2eba320a\",null);t[\"default\"]=s.exports},\"21f3\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"30ec\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"220a\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"add\",(function(){return i})),n.d(t,\"del\",(function(){return a})),n.d(t,\"edit\",(function(){return o})),n.d(t,\"testDbConnection\",(function(){return s}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/database\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/database\",method:\"delete\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/database\",method:\"put\",data:e})}function s(e){return Object(r[\"default\"])({url:\"api/database/testConnect\",method:\"post\",data:e})}t[\"default\"]={add:i,edit:o,del:a,testDbConnection:s}},\"2236c\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"67c8\"),i=n(\"c9a9\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"c3b5daec\",null);t[\"default\"]=s.exports},2305:function(e,t,n){\"use strict\";n.r(t);var r=n(\"9ad5\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},2339:function(e,t,n){\"use strict\";n.r(t);var r=n(\"70a5\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"23bc\":function(e,t,n){var r={\"./components/Echarts\":\"8128\",\"./components/Echarts.vue\":\"8128\",\"./components/Editor\":\"c3dd\",\"./components/Editor.vue\":\"c3dd\",\"./components/MarkDown\":\"2236c\",\"./components/MarkDown.vue\":\"2236c\",\"./components/YamlEdit\":\"1f10\",\"./components/YamlEdit.vue\":\"1f10\",\"./components/icons\":\"3cfe\",\"./components/icons/\":\"3cfe\",\"./components/icons/element-icons\":\"9a53\",\"./components/icons/element-icons.js\":\"9a53\",\"./components/icons/iconfont-icons\":\"58d3\",\"./components/icons/iconfont-icons.js\":\"58d3\",\"./components/icons/index\":\"3cfe\",\"./components/icons/index.vue\":\"3cfe\",\"./components/icons/svg-icons\":\"7476\",\"./components/icons/svg-icons.js\":\"7476\",\"./dashboard/LineChart\":\"c63b\",\"./dashboard/LineChart.vue\":\"c63b\",\"./dashboard/PanelGroup\":\"368f\",\"./dashboard/PanelGroup.vue\":\"368f\",\"./dashboard/mixins/resize\":\"b158\",\"./dashboard/mixins/resize.js\":\"b158\",\"./features/401\":\"59d7\",\"./features/401.vue\":\"59d7\",\"./features/404\":\"6abc\",\"./features/404.vue\":\"6abc\",\"./features/redirect\":\"541e\",\"./features/redirect.vue\":\"541e\",\"./generator\":\"f1f9\",\"./generator/\":\"f1f9\",\"./generator/config\":\"0834\",\"./generator/config.vue\":\"0834\",\"./generator/index\":\"f1f9\",\"./generator/index.vue\":\"f1f9\",\"./generator/preview\":\"49e0\",\"./generator/preview.vue\":\"49e0\",\"./home\":\"e8a3\",\"./home.vue\":\"e8a3\",\"./login\":\"45ce\",\"./login.vue\":\"45ce\",\"./mnt/app\":\"8bb7\",\"./mnt/app/\":\"8bb7\",\"./mnt/app/index\":\"8bb7\",\"./mnt/app/index.vue\":\"8bb7\",\"./mnt/database\":\"d7f2\",\"./mnt/database/\":\"d7f2\",\"./mnt/database/execute\":\"d472\",\"./mnt/database/execute.vue\":\"d472\",\"./mnt/database/index\":\"d7f2\",\"./mnt/database/index.vue\":\"d7f2\",\"./mnt/deploy\":\"a108\",\"./mnt/deploy/\":\"a108\",\"./mnt/deploy/deploy\":\"cde8\",\"./mnt/deploy/deploy.vue\":\"cde8\",\"./mnt/deploy/index\":\"a108\",\"./mnt/deploy/index.vue\":\"a108\",\"./mnt/deploy/sysRestore\":\"ed1c\",\"./mnt/deploy/sysRestore.vue\":\"ed1c\",\"./mnt/deployHistory\":\"1b67\",\"./mnt/deployHistory/\":\"1b67\",\"./mnt/deployHistory/index\":\"1b67\",\"./mnt/deployHistory/index.vue\":\"1b67\",\"./mnt/server\":\"fa2a\",\"./mnt/server/\":\"fa2a\",\"./mnt/server/index\":\"fa2a\",\"./mnt/server/index.vue\":\"fa2a\",\"./monitor/log\":\"5a3f\",\"./monitor/log/\":\"5a3f\",\"./monitor/log/errorLog\":\"4343\",\"./monitor/log/errorLog.vue\":\"4343\",\"./monitor/log/index\":\"5a3f\",\"./monitor/log/index.vue\":\"5a3f\",\"./monitor/log/search\":\"0907\",\"./monitor/log/search.vue\":\"0907\",\"./monitor/online\":\"5a74\",\"./monitor/online/\":\"5a74\",\"./monitor/online/index\":\"5a74\",\"./monitor/online/index.vue\":\"5a74\",\"./monitor/server\":\"ef2b\",\"./monitor/server/\":\"ef2b\",\"./monitor/server/index\":\"ef2b\",\"./monitor/server/index.vue\":\"ef2b\",\"./monitor/sql\":\"0ba0\",\"./monitor/sql/\":\"0ba0\",\"./monitor/sql/index\":\"0ba0\",\"./monitor/sql/index.vue\":\"0ba0\",\"./nested/menu1\":\"9016\",\"./nested/menu1/\":\"9016\",\"./nested/menu1/index\":\"9016\",\"./nested/menu1/index.vue\":\"9016\",\"./nested/menu1/menu1-1\":\"362a\",\"./nested/menu1/menu1-1/\":\"362a\",\"./nested/menu1/menu1-1/index\":\"362a\",\"./nested/menu1/menu1-1/index.vue\":\"362a\",\"./nested/menu1/menu1-2\":\"0adb\",\"./nested/menu1/menu1-2/\":\"0adb\",\"./nested/menu1/menu1-2/index\":\"0adb\",\"./nested/menu1/menu1-2/index.vue\":\"0adb\",\"./nested/menu2\":\"5b08\",\"./nested/menu2/\":\"5b08\",\"./nested/menu2/index\":\"5b08\",\"./nested/menu2/index.vue\":\"5b08\",\"./ssologin\":\"3175\",\"./ssologin.vue\":\"3175\",\"./submenu\":\"1d40\",\"./submenu.vue\":\"1d40\",\"./system/timing\":\"3753\",\"./system/timing/\":\"3753\",\"./system/timing/index\":\"3753\",\"./system/timing/index.vue\":\"3753\",\"./system/timing/log\":\"2db1\",\"./system/timing/log.vue\":\"2db1\",\"./system/user/center\":\"dc6c\",\"./system/user/center.vue\":\"dc6c\",\"./system/user/center/updateEmail\":\"2175\",\"./system/user/center/updateEmail.vue\":\"2175\",\"./system/user/center/updatePass\":\"f9e2\",\"./system/user/center/updatePass.vue\":\"f9e2\",\"./tools/aliPay\":\"b6d9\",\"./tools/aliPay/\":\"b6d9\",\"./tools/aliPay/config\":\"cfc2\",\"./tools/aliPay/config.vue\":\"cfc2\",\"./tools/aliPay/index\":\"b6d9\",\"./tools/aliPay/index.vue\":\"b6d9\",\"./tools/aliPay/toPay\":\"a139\",\"./tools/aliPay/toPay.vue\":\"a139\",\"./tools/email\":\"781c\",\"./tools/email/\":\"781c\",\"./tools/email/config\":\"8406\",\"./tools/email/config.vue\":\"8406\",\"./tools/email/index\":\"781c\",\"./tools/email/index.vue\":\"781c\",\"./tools/email/send\":\"b1ca\",\"./tools/email/send.vue\":\"b1ca\",\"./tools/picture\":\"6c33\",\"./tools/picture/\":\"6c33\",\"./tools/picture/index\":\"6c33\",\"./tools/picture/index.vue\":\"6c33\",\"./tools/storage\":\"b5e4\",\"./tools/storage/\":\"b5e4\",\"./tools/storage/index\":\"b5e4\",\"./tools/storage/index.vue\":\"b5e4\",\"./tools/storage/local\":\"664a\",\"./tools/storage/local/\":\"664a\",\"./tools/storage/local/index\":\"664a\",\"./tools/storage/local/index.vue\":\"664a\",\"./tools/storage/qiniu\":\"2d27\",\"./tools/storage/qiniu/\":\"2d27\",\"./tools/storage/qiniu/form\":\"57b0\",\"./tools/storage/qiniu/form.vue\":\"57b0\",\"./tools/storage/qiniu/index\":\"2d27\",\"./tools/storage/qiniu/index.vue\":\"2d27\",\"./tools/swagger\":\"cefe\",\"./tools/swagger/\":\"cefe\",\"./tools/swagger/index\":\"cefe\",\"./tools/swagger/index.vue\":\"cefe\"};function i(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error(\"Cannot find module '\"+e+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}return t}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=\"23bc\"},\"23dd\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"0aac\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"27fa\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"icons-container\"},[e._m(0),e._v(\" \"),n(\"el-tabs\",{attrs:{type:\"border-card\"}},[n(\"el-tab-pane\",{attrs:{label:\"SVG Icons\"}},e._l(e.svgIcons,(function(t){return n(\"div\",{key:t,on:{click:function(n){e.handleClipboard(e.generateIconCode(t),n)}}},[n(\"el-tooltip\",{attrs:{placement:\"top\"}},[n(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[e._v(\"\\n            \"+e._s(e.generateIconCode(t))+\"\\n          \")]),e._v(\" \"),n(\"div\",{staticClass:\"icon-item\"},[n(\"svg-icon\",{attrs:{\"icon-class\":t,\"class-name\":\"disabled\"}}),e._v(\" \"),n(\"span\",[e._v(e._s(t))])],1)])],1)})),0),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"Element-UI Icons\"}},e._l(e.elementIcons,(function(t){return n(\"div\",{key:t,on:{click:function(n){e.handleClipboard(e.generateElementIconCode(t),n)}}},[n(\"el-tooltip\",{attrs:{placement:\"top\"}},[n(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[e._v(\"\\n            \"+e._s(e.generateElementIconCode(t))+\"\\n          \")]),e._v(\" \"),n(\"div\",{staticClass:\"icon-item\"},[n(\"i\",{class:\"el-icon-\"+t}),e._v(\" \"),n(\"span\",[e._v(e._s(t))])])])],1)})),0),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"Iconfont Icons\"}},e._l(e.iconfontIcons.glyphs,(function(t){return n(\"div\",{on:{click:function(n){e.handleClipboard(e.generateIconfontIconCode(t),n)}}},[n(\"el-tooltip\",{attrs:{placement:\"top\"}},[n(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[e._v(\"\\n            \"+e._s(e.generateIconfontIconCode(t))+\"\\n          \")]),e._v(\" \"),n(\"div\",{staticClass:\"icon-item\"},[n(\"i\",{class:e.generateIconfontIconClass(t),staticStyle:{\"font-size\":\"25px\"}}),e._v(\" \"),n(\"span\",[e._v(e._s(t[\"name\"]))])])])],1)})),0)],1)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"aside\",[n(\"a\",{attrs:{href:\"https://panjiachen.github.io/vue-element-admin-site/guide/advanced/icon.html\",target:\"_blank\"}},[e._v(\"Add and use\\n    \")])])}];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"2a56\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"41de\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"2a7b\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-tabs\",{staticStyle:{\"padding-left\":\"8px\"},on:{\"tab-click\":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:\"activeName\"}},[n(\"el-tab-pane\",{attrs:{label:\"本地存储\",name:\"first\"}},[n(\"Local\",{ref:\"local\"})],1),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"七牛云存储\",name:\"second\"}},[n(\"QiNiu\",{ref:\"qiNiu\"})],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"2a8c\":function(e,t,n){\"use strict\";n(\"1358\")},\"2ad3\":function(e,t,n){\"use strict\";n(\"62ad\")},\"2b49\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"e9de\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"2b67\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"af0a\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"2bb6\":function(e,t){e.exports={title:\"EL-ADMIN\",tagsView:!0,fixedHeader:!0,tokenCookieExpires:1,passCookieExpires:1,uniqueOpened:!0,TokenKey:\"EL-ADMIN-TOEKN\",timeout:12e5,sidebarLogo:!0,showFooter:!0,footerTxt:'© 2019 Zheng Jie <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" target=\"_blank\">Apache License 2.0</a>',caseNumber:\"浙ICP备18005431号\"}},\"2d27\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"4543\"),i=n(\"efa6\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"a0b603d8\",null);t[\"default\"]=s.exports},\"2db1\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"58b7\"),i=n(\"4aba\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"2a8c\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"2a277cb0\",null);t[\"default\"]=s.exports},\"2ec1\":function(e,t,n){\"use strict\";n(\"a56a\")},\"2f2f\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"7a3c\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"2f63\":function(e,t,n){},\"30b6\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-form\",{ref:\"form\",staticStyle:{\"margin-top\":\"6px\"},attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"100px\"}},[n(\"el-form-item\",{attrs:{label:\"appID\",prop:\"appID\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.appId,callback:function(t){e.$set(e.form,\"appId\",t)},expression:\"form.appId\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"应用APPID,收款账号既是APPID对应支付宝账号\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"商家账号\",prop:\"sysServiceProviderId\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.sysServiceProviderId,callback:function(t){e.$set(e.form,\"sysServiceProviderId\",t)},expression:\"form.sysServiceProviderId\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"商家账号\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"商户私钥\",prop:\"privateKey\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},attrs:{type:\"password\"},model:{value:e.form.privateKey,callback:function(t){e.$set(e.form,\"privateKey\",t)},expression:\"form.privateKey\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"商户私钥，你的PKCS8格式RSA2私钥\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"支付宝公钥\",prop:\"publicKey\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},attrs:{type:\"password\"},model:{value:e.form.publicKey,callback:function(t){e.$set(e.form,\"publicKey\",t)},expression:\"form.publicKey\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"支付宝公钥\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"回调地址\",prop:\"returnUrl\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.returnUrl,callback:function(t){e.$set(e.form,\"returnUrl\",t)},expression:\"form.returnUrl\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"订单完成后返回的地址\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"异步通知\",prop:\"notifyUrl\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.notifyUrl,callback:function(t){e.$set(e.form,\"notifyUrl\",t)},expression:\"form.notifyUrl\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"支付结果异步通知地址\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"\"}},[n(\"el-button\",{attrs:{loading:e.loading,size:\"medium\",type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"保存配置\")])],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"30ec\":function(e,t,n){\"use strict\";var r=n(\"4ea4\"),i=n(\"dbce\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"ac6a\");var a=n(\"1695\"),o=i(n(\"159b\")),s=r(n(\"f096\")),l=r(n(\"691b\")),u=r(n(\"63f7\")),c=(0,o.default)({url:\"auth/online\",title:\"在线用户\"}),d={name:\"OnlineUser\",components:{pagination:u.default,crudOperation:l.default,rrOperation:s.default},mixins:[(0,o.presenter)(c),(0,o.header)(),(0,o.crud)()],data:function(){return{delLoading:!1,permission:{}}},created:function(){this.crud.msg.del=\"强退成功！\",this.crud.optShow={add:!1,edit:!1,del:!1,download:!0}},methods:{doDelete:function(e){var t=this;this.$confirm(\"确认强退选中的\".concat(e.length,\"个用户?\"),\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){t.delMethod(e)})).catch((function(){}))},delMethod:function(e,t){var n=this,r=[];e instanceof Array?e.forEach((function(e){r.push(e.key)})):r.push(e),this.delLoading=!0,(0,a.del)(r).then((function(){n.delLoading=!1,n.$refs[t]&&n.$refs[t].doClose(),n.crud.dleChangePage(1),n.crud.delSuccessNotify(),n.crud.toQuery()})).catch((function(){n.delLoading=!1,n.$refs[t]&&n.$refs[t].doClose()}))}}};t.default=d},3175:function(e,t,n){\"use strict\";n.r(t);var r=n(\"9293\"),i=n(\"a5cc\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"94c8\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"32c4\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"del\",(function(){return i})),n.d(t,\"sync\",(function(){return a}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/pictures\",method:\"delete\",data:e})}function a(){return Object(r[\"default\"])({url:\"api/pictures/synchronize\",method:\"post\"})}t[\"default\"]={del:i,sync:a}},\"331d\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"022f\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"362a\":function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticStyle:{padding:\"30px\"}},[n(\"el-alert\",{attrs:{closable:!1,title:\"三级菜单1\",type:\"success\"}})],1)},i=[],a=n(\"2877\"),o={},s=Object(a[\"a\"])(o,r,i,!1,null,null,null);t[\"default\"]=s.exports},3641:function(e,t,n){\"use strict\";n.r(t);var r=n(\"6765\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"365b\":function(e,t,n){var r=n(\"862d\"),i=n(\"3eba\");i.extendSeriesModel({type:\"series.wordCloud\",visualColorAccessPath:\"textStyle.normal.color\",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var n=r([\"value\"],e.data),a=new i.List(n,this);return a.initData(e.data),a},defaultOption:{maskImage:null,shape:\"circle\",left:\"center\",top:\"center\",width:\"70%\",height:\"80%\",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{normal:{fontWeight:\"normal\"}}}})},\"368f\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"92d4\"),i=n(\"5e94\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"6766\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"07875049\",null);t[\"default\"]=s.exports},3753:function(e,t,n){\"use strict\";n.r(t);var r=n(\"afa5\"),i=n(\"d312\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"38cde\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"fe65\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"396a\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"b924\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"3a5a\":function(e,t,n){},\"3c3f\":function(e){e.exports={id:\"1850149\",name:\"指标管理平台\",font_family:\"iconfont\",css_prefix_text:\"icon-\",description:\"\",glyphs:[{icon_id:\"14843438\",name:\"订单管理\",font_class:\"dingdanguanli\",unicode:\"e636\",unicode_decimal:58934},{icon_id:\"14843439\",name:\"概括总览\",font_class:\"gaikuozonglan\",unicode:\"e637\",unicode_decimal:58935},{icon_id:\"14843440\",name:\"交易\",font_class:\"jiaoyi\",unicode:\"e638\",unicode_decimal:58936},{icon_id:\"14843441\",name:\"权限\",font_class:\"quanxian\",unicode:\"e639\",unicode_decimal:58937},{icon_id:\"14843443\",name:\"操作设置\",font_class:\"caozuoshezhi\",unicode:\"e63a\",unicode_decimal:58938},{icon_id:\"14843444\",name:\"收益ICON\",font_class:\"shouyiICON\",unicode:\"e63b\",unicode_decimal:58939},{icon_id:\"14843445\",name:\"收益管理\",font_class:\"shouyiguanli\",unicode:\"e63c\",unicode_decimal:58940},{icon_id:\"14843446\",name:\"设置1\",font_class:\"shezhi1\",unicode:\"e63d\",unicode_decimal:58941},{icon_id:\"14843447\",name:\"财务结算\",font_class:\"caiwujiesuan\",unicode:\"e63e\",unicode_decimal:58942},{icon_id:\"14843448\",name:\"设置\",font_class:\"shezhi\",unicode:\"e63f\",unicode_decimal:58943},{icon_id:\"14843450\",name:\"退出\",font_class:\"tuichu\",unicode:\"e640\",unicode_decimal:58944},{icon_id:\"14843454\",name:\"主播管理\",font_class:\"zhuboguanli\",unicode:\"e641\",unicode_decimal:58945},{icon_id:\"14843455\",name:\"组织管理\",font_class:\"zuzhiguanli\",unicode:\"e642\",unicode_decimal:58946},{icon_id:\"14843456\",name:\"资讯\",font_class:\"zixun\",unicode:\"e643\",unicode_decimal:58947},{icon_id:\"14843457\",name:\"员工\",font_class:\"yuangong\",unicode:\"e644\",unicode_decimal:58948},{icon_id:\"14841186\",name:\"数字11\",font_class:\"shuzi11\",unicode:\"e60b\",unicode_decimal:58891},{icon_id:\"14841187\",name:\"数字13\",font_class:\"shuzi13\",unicode:\"e622\",unicode_decimal:58914},{icon_id:\"14841188\",name:\"数字12\",font_class:\"shuzi12\",unicode:\"e623\",unicode_decimal:58915},{icon_id:\"14841189\",name:\"数字6\",font_class:\"shuzi6\",unicode:\"e624\",unicode_decimal:58916},{icon_id:\"14841190\",name:\"数字9\",font_class:\"shuzi9\",unicode:\"e625\",unicode_decimal:58917},{icon_id:\"14841191\",name:\"数字7\",font_class:\"shuzi7\",unicode:\"e626\",unicode_decimal:58918},{icon_id:\"14841192\",name:\"数字3\",font_class:\"shuzi3\",unicode:\"e627\",unicode_decimal:58919},{icon_id:\"14841193\",name:\"数字1\",font_class:\"shuzi1\",unicode:\"e628\",unicode_decimal:58920},{icon_id:\"14841194\",name:\"减号\",font_class:\"jianhao\",unicode:\"e629\",unicode_decimal:58921},{icon_id:\"14841195\",name:\"加号\",font_class:\"jiahao\",unicode:\"e62a\",unicode_decimal:58922},{icon_id:\"14841196\",name:\"数字10\",font_class:\"shuzi10\",unicode:\"e62b\",unicode_decimal:58923},{icon_id:\"14841197\",name:\"数字4\",font_class:\"shuzi4\",unicode:\"e62c\",unicode_decimal:58924},{icon_id:\"14841198\",name:\"数字5\",font_class:\"shuzi5\",unicode:\"e62d\",unicode_decimal:58925},{icon_id:\"14841199\",name:\"数字8\",font_class:\"shuzi8\",unicode:\"e62e\",unicode_decimal:58926},{icon_id:\"14841200\",name:\"数字15\",font_class:\"shuzi15\",unicode:\"e62f\",unicode_decimal:58927},{icon_id:\"14841201\",name:\"数字16\",font_class:\"shuzi16\",unicode:\"e630\",unicode_decimal:58928},{icon_id:\"14841202\",name:\"数字14\",font_class:\"shuzi14\",unicode:\"e631\",unicode_decimal:58929},{icon_id:\"14841203\",name:\"数字17\",font_class:\"shuzi17\",unicode:\"e632\",unicode_decimal:58930},{icon_id:\"14841204\",name:\"数字0\",font_class:\"shuzi0\",unicode:\"e634\",unicode_decimal:58932},{icon_id:\"14874559\",name:\"数字44\",font_class:\"shuzi44\",unicode:\"e635\",unicode_decimal:58933},{icon_id:\"14928064\",name:\"工作台\",font_class:\"gongzuotai\",unicode:\"e606\",unicode_decimal:58886},{icon_id:\"14934408\",name:\"数据\",font_class:\"shuju\",unicode:\"e607\",unicode_decimal:58887},{icon_id:\"14936641\",name:\"素材库\",font_class:\"sucaiku\",unicode:\"e609\",unicode_decimal:58889},{icon_id:\"14936883\",name:\"数据\",font_class:\"shuju1\",unicode:\"e60a\",unicode_decimal:58890},{icon_id:\"14942928\",name:\"搜索\",font_class:\"sousuo\",unicode:\"e60c\",unicode_decimal:58892},{icon_id:\"14942944\",name:\"静物\",font_class:\"jingwu\",unicode:\"e60d\",unicode_decimal:58893},{icon_id:\"14943076\",name:\"棚拍\",font_class:\"pengpai\",unicode:\"e60e\",unicode_decimal:58894},{icon_id:\"14943135\",name:\"详情\",font_class:\"xiangqing\",unicode:\"e611\",unicode_decimal:58897},{icon_id:\"14943254\",name:\"+号\",font_class:\"hao\",unicode:\"e616\",unicode_decimal:58902},{icon_id:\"14943346\",name:\"模板\",font_class:\"moban\",unicode:\"e617\",unicode_decimal:58903},{icon_id:\"14943428\",name:\"关闭\",font_class:\"guanbi\",unicode:\"e618\",unicode_decimal:58904},{icon_id:\"14943499\",name:\"批量下载\",font_class:\"piliangxiazai\",unicode:\"e619\",unicode_decimal:58905},{icon_id:\"14979166\",name:\"jwd-icon-caiji\",font_class:\"jwd-icon-caiji\",unicode:\"e608\",unicode_decimal:58888},{icon_id:\"14979175\",name:\"jwd-icon-draft\",font_class:\"jwd-icon-draft\",unicode:\"e60f\",unicode_decimal:58895},{icon_id:\"14979176\",name:\"jwd-icon-gongchangjianmo\",font_class:\"jwd-icon-gongchangjianmo\",unicode:\"e610\",unicode_decimal:58896},{icon_id:\"14979177\",name:\"jwd-icon-home\",font_class:\"jwd-icon-home\",unicode:\"e612\",unicode_decimal:58898},{icon_id:\"14979180\",name:\"jwd-icon-icon-add\",font_class:\"jwd-icon-icon-add\",unicode:\"e613\",unicode_decimal:58899},{icon_id:\"14979182\",name:\"jwd-icon-jiankong\",font_class:\"jwd-icon-jiankong\",unicode:\"e614\",unicode_decimal:58900},{icon_id:\"14979183\",name:\"jwd-icon-gongchang\",font_class:\"jwd-icon-gongchang\",unicode:\"e615\",unicode_decimal:58901},{icon_id:\"14979184\",name:\"jwd-icon-chejian\",font_class:\"jwd-icon-chejian\",unicode:\"e61a\",unicode_decimal:58906},{icon_id:\"14979191\",name:\"jwd-icon-passWord\",font_class:\"jwd-icon-passWord\",unicode:\"e61b\",unicode_decimal:58907},{icon_id:\"14979200\",name:\"jwd-icon-shebeiyunwei\",font_class:\"jwd-icon-shebeiyunwei\",unicode:\"e61c\",unicode_decimal:58908},{icon_id:\"14979201\",name:\"jwd-icon-shengchanshuju\",font_class:\"jwd-icon-shengchanshuju\",unicode:\"e61d\",unicode_decimal:58909},{icon_id:\"14979202\",name:\"jwd-icon-shengChan\",font_class:\"jwd-icon-shengChan\",unicode:\"e61e\",unicode_decimal:58910},{icon_id:\"14979203\",name:\"jwd-icon-shengchanzhihang\",font_class:\"jwd-icon-shengchanzhihang\",unicode:\"e61f\",unicode_decimal:58911},{icon_id:\"14979204\",name:\"jwd-icon-unread\",font_class:\"jwd-icon-unread\",unicode:\"e620\",unicode_decimal:58912},{icon_id:\"14979208\",name:\"jwd-icon-wuliaoguanli\",font_class:\"jwd-icon-wuliaoguanli\",unicode:\"e621\",unicode_decimal:58913},{icon_id:\"14979164\",name:\"jwd-icon-aps\",font_class:\"jwd-icon-aps\",unicode:\"e601\",unicode_decimal:58881},{icon_id:\"14979165\",name:\"jwd-icon-baobiao\",font_class:\"jwd-icon-baobiao\",unicode:\"e602\",unicode_decimal:58882},{icon_id:\"14979167\",name:\"jwd-icon-data\",font_class:\"jwd-icon-data\",unicode:\"e603\",unicode_decimal:58883},{icon_id:\"14979168\",name:\"jwd-icon-daochu\",font_class:\"jwd-icon-daochu\",unicode:\"e604\",unicode_decimal:58884},{icon_id:\"14979169\",name:\"jwd-icon-daoru\",font_class:\"jwd-icon-daoru\",unicode:\"e605\",unicode_decimal:58885},{icon_id:\"8776631\",name:\"view\",font_class:\"icon-test\",unicode:\"e633\",unicode_decimal:58931}]}},\"3cfe\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"27fa\"),i=n(\"de79\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"2ec1\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"4b05a1e2\",null);t[\"default\"]=s.exports},\"3e3a\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"567c\")),a=r(n(\"7476\")),o=r(n(\"9a53\")),s=r(n(\"58d3\")),l={name:\"Icons\",data:function(){return{svgIcons:a.default,elementIcons:o.default}},computed:{iconfontIcons:function(){return s.default}},mounted:function(){},methods:{generateIconCode:function(e){return'<svg-icon icon-class=\"'.concat(e,'\" />')},generateElementIconCode:function(e){return'<i class=\"el-icon-'.concat(e,'\" />')},generateIconfontIconCode:function(e){return'<i class=\"icon '.concat(s.default[\"font_family\"],\" \").concat(s.default[\"css_prefix_text\"]).concat(e[\"font_class\"],'\" />')},generateIconfontIconClass:function(e){return\"\".concat(s.default[\"font_family\"],\" \").concat(s.default[\"css_prefix_text\"]).concat(e[\"font_class\"])},handleClipboard:function(e,t){(0,i.default)(e,t)}}};t.default=l},\"3e7b\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"el-form\",{ref:\"form\",staticStyle:{\"margin-top\":\"6px\"},attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"100px\"}},[n(\"el-form-item\",{attrs:{label:\"邮件标题\",prop:\"subject\"}},[n(\"el-input\",{staticStyle:{width:\"646px\"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,\"subject\",t)},expression:\"form.subject\"}})],1),e._v(\" \"),e._l(e.tos,(function(t,r){return n(\"el-form-item\",{key:t.key,attrs:{label:\"收件邮箱\"+(0===r?\"\":r)}},[n(\"el-input\",{staticStyle:{width:\"550px\"},model:{value:t.value,callback:function(n){e.$set(t,\"value\",n)},expression:\"domain.value\"}}),e._v(\" \"),n(\"el-button\",{attrs:{icon:\"el-icon-plus\"},on:{click:e.addDomain}}),e._v(\" \"),n(\"el-button\",{staticStyle:{\"margin-left\":\"0\"},attrs:{icon:\"el-icon-minus\"},on:{click:function(n){return n.preventDefault(),e.removeDomain(t)}}})],1)})),e._v(\" \"),n(\"div\",{ref:\"editor\",staticClass:\"editor\"}),e._v(\" \"),n(\"el-button\",{staticStyle:{\"margin-left\":\"1.6%\"},attrs:{loading:e.loading,size:\"medium\",type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"发送邮件\")])],2)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"3ecf\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"b5d1\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},4165:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[n(\"Search\"),e._v(\" \"),n(\"crudOperation\",[n(\"el-button\",{staticClass:\"filter-item\",attrs:{slot:\"left\",type:\"danger\",icon:\"el-icon-delete\",loading:e.crud.delAllLoading},on:{click:function(t){return e.confirmDelAll()}},slot:\"left\"},[e._v(\"\\n        清空\\n      \")]),e._v(\" v-if=\\\"columns.visible('username')\\\"\\n    \")],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"expand\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-form\",{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",inline:\"\"}},[n(\"el-form-item\",{attrs:{label:\"请求方法\"}},[n(\"span\",[e._v(e._s(t.row.method))])]),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"请求参数\"}},[n(\"span\",[e._v(e._s(t.row.params))])])],1)]}}])}),e._v(\" \"),e.columns.visible(\"username\")?n(\"el-table-column\",{attrs:{prop:\"username\",label:\"用户名\"}}):e._e(),e._v(\" \"),e.columns.visible(\"requestIp\")?n(\"el-table-column\",{attrs:{prop:\"requestIp\",label:\"IP\"}}):e._e(),e._v(\" \"),e.columns.visible(\"description\")?n(\"el-table-column\",{attrs:{prop:\"description\",label:\"描述\"}}):e._e(),e._v(\" \"),e.columns.visible(\"browser\")?n(\"el-table-column\",{attrs:{prop:\"browser\",label:\"浏览器\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"异常详情\",width:\"100px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{attrs:{type:\"text\"},on:{click:function(n){return e.info(t.row.id)}}},[e._v(\"查看详情\")])]}}])})],1),e._v(\" \"),n(\"el-dialog\",{attrs:{visible:e.dialog,title:\"异常详情\",\"append-to-body\":\"\",top:\"30px\",width:\"85%\"},on:{\"update:visible\":function(t){e.dialog=t}}},[n(\"pre\",{directives:[{name:\"highlightjs\",rawName:\"v-highlightjs\",value:e.errorInfo,expression:\"errorInfo\"}]},[n(\"code\",{staticClass:\"java\"})])]),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"417e\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"41de\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"ded3\")),a=n(\"2f62\"),o=n(\"d0c1\"),s={props:{databaseInfo:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,dialog:!1,headers:{Authorization:(0,o.getToken)()},rules:{}}},computed:(0,i.default)({},(0,a.mapGetters)([\"databaseUploadApi\"])),mounted:function(){},methods:{cancel:function(){this.dialog=!1},handleSuccess:function(e,t,n){\"success\"===e?this.$notify({title:\"执行成功\",type:\"success\",duration:2500}):this.$notify({title:e,type:\"error\",duration:0})},handleError:function(e,t,n){var r=JSON.parse(e.message);this.$notify({title:r.message,type:\"error\",duration:0})}}};t.default=s},4334:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"全表模糊搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.filter,callback:function(t){e.$set(e.query,\"filter\",t)},expression:\"query.filter\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",[n(\"el-button\",{staticClass:\"filter-item\",attrs:{slot:\"left\",type:\"danger\",icon:\"el-icon-delete\",loading:e.delLoading,disabled:0===e.crud.selections.length},on:{click:function(t){return e.doDelete(e.crud.selections)}},slot:\"left\"},[e._v(\"\\n        强退\\n      \")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"userName\")?n(\"el-table-column\",{attrs:{prop:\"userName\",label:\"用户名\"}}):e._e(),e._v(\" \"),e.columns.visible(\"nickName\")?n(\"el-table-column\",{attrs:{prop:\"nickName\",label:\"用户昵称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"dept\")?n(\"el-table-column\",{attrs:{prop:\"dept\",label:\"机构\"}}):e._e(),e._v(\" \"),e.columns.visible(\"ip\")?n(\"el-table-column\",{attrs:{prop:\"ip\",label:\"登录IP\"}}):e._e(),e._v(\" \"),e.columns.visible(\"browser\")?n(\"el-table-column\",{attrs:{prop:\"browser\",label:\"浏览器\"}}):e._e(),e._v(\" \"),e.columns.visible(\"loginTime\")?n(\"el-table-column\",{attrs:{prop:\"loginTime\",label:\"登录时间\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}],null,!1,748727857)}):e._e(),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"操作\",width:\"100px\",fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-popover\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\"],expression:\"['admin']\"}],ref:t.$index,attrs:{placement:\"top\",width:\"180\"}},[n(\"p\",[e._v(\"确定强制退出该用户吗？\")]),e._v(\" \"),n(\"div\",{staticStyle:{\"text-align\":\"right\",margin:\"0\"}},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:function(n){e.$refs[t.$index].doClose()}}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:e.delLoading,type:\"primary\"},on:{click:function(n){return e.delMethod(t.row.key,t.$index)}}},[e._v(\"确定\")])],1),e._v(\" \"),n(\"el-button\",{attrs:{slot:\"reference\",type:\"text\"},slot:\"reference\"},[e._v(\"强退\")])],1)]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},4343:function(e,t,n){\"use strict\";n.r(t);var r=n(\"4165\"),i=n(\"cd08\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"bf4a\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"eaa3d256\",null);t[\"default\"]=s.exports},4366:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"43b0\":function(e,t,n){\"use strict\";var r=n(\"4ea4\"),i=n(\"dbce\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=r(n(\"9523\"));n(\"7f7f\"),n(\"ac6a\");var o,s=r(n(\"ded3\")),l=r(n(\"88f5\")),u=r(n(\"cde8\")),c=r(n(\"ed1c\")),d=i(n(\"159b\")),f=r(n(\"f096\")),h=r(n(\"691b\")),p=r(n(\"a363\")),m=r(n(\"63f7\")),v=(0,d.default)({title:\"部署\",url:\"api/deploy\",crudMethod:(0,s.default)({},l.default)}),g={id:null,app:{id:null},deploys:[]},_={components:{dForm:u.default,fForm:c.default,pagination:m.default,crudOperation:h.default,rrOperation:f.default,udOperation:p.default},mixins:[(0,d.presenter)(v),(0,d.header)(),(0,d.form)(g),(0,d.crud)()],data:function(){return{currentRow:{},selectIndex:\"\",appName:\"\",urlHistory:\"\",times:0,appId:\"\",deployId:\"\",apps:[],servers:[],permission:{add:[\"admin\",\"deploy:add\"],edit:[\"admin\",\"deploy:edit\"],del:[\"admin\",\"deploy:del\"]},rules:{\"app.id\":[{required:!0,message:\"应用不能为空\",trigger:\"blur\",type:\"number\"}],deploys:[{required:!0,message:\"服务器不能为空\",trigger:\"blur\"}]}}},methods:(o={},(0,a.default)(o,d.default.HOOK.beforeRefresh,(function(){return this.selectIndex=\"\",!0})),(0,a.default)(o,d.default.HOOK.beforeToCU,(function(e,t){this.initSelect();var n=[];t.deploys.forEach((function(e,t){n.push(e.id)})),this.form.deploys=n})),(0,a.default)(o,d.default.HOOK.beforeSubmit,(function(){var e=[];return this.form.deploys.forEach((function(t,n){var r={id:t};e.push(r)})),this.form.deploys=e,!0})),(0,a.default)(o,\"deploy\",(function(){this.$refs.deploy.dialog=!0,this.$refs.deploy.deployInfo=this.currentRow})),(0,a.default)(o,\"sysRestore\",(function(){this.$refs.sysRestore.dialog=!0})),(0,a.default)(o,\"handleCurrentChange\",(function(e){this.currentRow=e,this.selectIndex=e?e.id:null,this.appName=e?e.app.name:null,this.times=this.times+!e?0:1,this.appId=e?e.appId:null,this.deployId=e?e.id:null})),(0,a.default)(o,\"startServer\",(function(){l.default.startServer(JSON.stringify(this.currentRow)).then((function(e){})).catch((function(e){}))})),(0,a.default)(o,\"stopServer\",(function(){l.default.stopServer(JSON.stringify(this.currentRow)).then((function(e){})).catch((function(e){}))})),(0,a.default)(o,\"serverStatus\",(function(){l.default.serverStatus(JSON.stringify(this.currentRow)).then((function(e){})).catch((function(e){}))})),(0,a.default)(o,\"initSelect\",(function(){var e=this;l.default.getApps().then((function(t){e.apps=t.content})),l.default.getServers().then((function(t){e.servers=t.content}))})),o)};t.default=_},\"44ec\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"add\",(function(){return i})),n.d(t,\"del\",(function(){return a})),n.d(t,\"edit\",(function(){return o}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/app\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/app\",method:\"delete\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/app\",method:\"put\",data:e})}t[\"default\"]={add:i,edit:o,del:a}},4543:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\",staticStyle:{padding:\"8px\"}},[n(\"eForm\",{ref:\"form\"}),e._v(\" \"),n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"输入文件名称搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.toQuery(t)}},model:{value:e.query.key,callback:function(t){e.$set(e.query,\"key\",t)},expression:\"query.key\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.c,callback:function(t){e.$set(e.query,\"c\",t)},expression:\"query.c\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}},[n(\"template\",{slot:\"left\"},[n(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"primary\",icon:\"el-icon-upload\"},on:{click:function(t){e.dialog=!0}}},[e._v(\"上传\")]),e._v(\" \"),n(\"el-button\",{staticClass:\"filter-item\",attrs:{icon:e.icon,type:\"warning\"},on:{click:e.synchronize}},[e._v(\"同步\")]),e._v(\" \"),n(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"success\",icon:\"el-icon-s-tools\"},on:{click:e.doConfig}},[e._v(\"配置\")])],1)],2),e._v(\" \"),n(\"el-dialog\",{attrs:{visible:e.dialog,\"close-on-click-modal\":!1,\"append-to-body\":\"\",width:\"500px\"},on:{\"update:visible\":function(t){e.dialog=t},close:e.doSubmit}},[n(\"el-upload\",{staticClass:\"upload-demo\",attrs:{\"before-remove\":e.handleBeforeRemove,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,\"file-list\":e.fileList,headers:e.headers,action:e.qiNiuUploadApi,multiple:\"\"}},[n(\"el-button\",{attrs:{size:\"small\",type:\"primary\"}},[e._v(\"点击上传\")]),e._v(\" \"),n(\"div\",{staticClass:\"el-upload__tip\",staticStyle:{display:\"block\"},attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\"请勿上传违法文件，且文件不超过15M\")])],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"name\")?n(\"el-table-column\",{attrs:{prop:\"name\",\"show-overflow-tooltip\":!0,label:\"文件名\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"a\",{staticClass:\"el-link el-link--primary\",attrs:{href:\"JavaScript:\",target:\"_blank\",type:\"primary\"},on:{click:function(n){return e.download(t.row.id)}}},[e._v(e._s(t.row.key))])]}}],null,!1,1080970150)}):e._e(),e._v(\" \"),e.columns.visible(\"suffix\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"suffix\",label:\"文件类型\"},on:{\"selection-change\":e.crud.selectionChangeHandler}}):e._e(),e._v(\" \"),e.columns.visible(\"bucket\")?n(\"el-table-column\",{attrs:{prop:\"bucket\",label:\"空间名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"size\")?n(\"el-table-column\",{attrs:{prop:\"size\",label:\"文件大小\"}}):e._e(),e._v(\" \"),e.columns.visible(\"type\")?n(\"el-table-column\",{attrs:{prop:\"type\",label:\"空间类型\"}}):e._e(),e._v(\" \"),e.columns.visible(\"updateTime\")?n(\"el-table-column\",{attrs:{prop:\"updateTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.updateTime)))])]}}],null,!1,1337858563)}):e._e()],1),e._v(\" \"),n(\"pagination\")],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"45ce\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"beb8\"),i=n(\"02fe\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"0260\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"45fb\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"ded3\")),a=n(\"2f62\"),o=r(n(\"00b0\")),s={name:\"Sql\",components:{elFrame:o.default},computed:(0,i.default)({},(0,a.mapGetters)([\"sqlApi\"]))};t.default=s},4662:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"87a1\"),n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\");var e=[{name:\"花鸟市场\",value:1446},{name:\"汽车\",value:928},{name:\"视频\",value:906},{name:\"电视\",value:825},{name:\"Lover Boy\",value:514},{name:\"动漫\",value:486},{name:\"音乐\",value:53},{name:\"直播\",value:163},{name:\"广播电台\",value:86},{name:\"戏曲曲艺\",value:17},{name:\"演出票务\",value:6},{name:\"给陌生的你听\",value:1},{name:\"资讯\",value:1437},{name:\"商业财经\",value:422},{name:\"娱乐八卦\",value:353},{name:\"军事\",value:331},{name:\"科技资讯\",value:313},{name:\"社会时政\",value:307},{name:\"时尚\",value:43},{name:\"网络奇闻\",value:15},{name:\"旅游出行\",value:438},{name:\"景点类型\",value:957},{name:\"国内游\",value:927},{name:\"远途出行方式\",value:908},{name:\"酒店\",value:693},{name:\"关注景点\",value:611},{name:\"旅游网站偏好\",value:512},{name:\"出国游\",value:382}];this.chart.setOption({backgroundColor:\"#fff\",tooltip:{show:!1},series:[{type:\"wordCloud\",gridSize:1,sizeRange:[12,55],rotationRange:[-45,0,45,90],textStyle:{normal:{color:function(){return\"rgb(\"+Math.round(255*Math.random())+\", \"+Math.round(255*Math.random())+\", \"+Math.round(255*Math.random())+\")\"}}},left:\"center\",top:\"center\",right:null,bottom:null,data:e}]})}}};t.default=o},\"476f\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},4780:function(e,t,n){\"use strict\";n.r(t);var r=n(\"cf64\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},4909:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",placeholder:\"输入名称或IP搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.id,callback:function(t){e.$set(e.query,\"id\",t)},expression:\"query.id\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}})],1),e._v(\" \"),n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,\"before-close\":e.crud.cancelCU,visible:e.crud.status.cu>0,title:e.crud.status.title,width:\"470px\"},on:{\"update:visible\":function(t){return e.$set(e.crud.status,\"cu > 0\",t)}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"55px\"}},[n(\"el-form-item\",{attrs:{label:\"名称\",prop:\"name\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"IP\",prop:\"ip\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:e.form.ip,callback:function(t){e.$set(e.form,\"ip\",t)},expression:\"form.ip\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"端口\",prop:\"port\"}},[n(\"el-input-number\",{staticStyle:{width:\"370px\"},attrs:{\"controls-position\":\"right\"},model:{value:e.form.port,callback:function(t){e.$set(e.form,\"port\",e._n(t))},expression:\"form.port\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"账号\",prop:\"account\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:e.form.account,callback:function(t){e.$set(e.form,\"account\",t)},expression:\"form.account\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"密码\",prop:\"password\"}},[n(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{type:\"password\"},model:{value:e.form.password,callback:function(t){e.$set(e.form,\"password\",t)},expression:\"form.password\"}}),e._v(\" \"),n(\"el-button\",{staticStyle:{align:\"right\"},attrs:{loading:e.loading,type:\"success\"},on:{click:e.testConnectServer}},[e._v(\"测试连接\")])],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.crud.cancelCU}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:2===e.crud.cu,type:\"primary\"},on:{click:e.crud.submitCU}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"name\")?n(\"el-table-column\",{attrs:{prop:\"name\",label:\"名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"ip\")?n(\"el-table-column\",{attrs:{prop:\"ip\",label:\"IP\"}}):e._e(),e._v(\" \"),e.columns.visible(\"port\")?n(\"el-table-column\",{attrs:{prop:\"port\",label:\"端口\"}}):e._e(),e._v(\" \"),e.columns.visible(\"account\")?n(\"el-table-column\",{attrs:{prop:\"account\",label:\"账号\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),e._v(\" \"),n(\"el-table-column\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"serverDeploy:edit\",\"serverDeploy:del\"],expression:\"['admin','serverDeploy:edit','serverDeploy:del']\"}],attrs:{label:\"操作\",width:\"150px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"udOperation\",{attrs:{data:t.row,permission:e.permission}})]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"49e0\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"ddc1\"),i=n(\"f326\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"4a54\":function(e,t,n){e.exports=n.p+\"static/img/404.a57b6f31.png\"},\"4aba\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"f46f\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"4ba6\":function(e,t,n){(function(e){e(n(\"56b3\"))})((function(e){\"use strict\";function t(e,t,n,r,i,a){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=a}function n(e,n,r,i){var a=e.indented;return e.context&&\"statement\"==e.context.type&&\"statement\"!=r&&(a=e.context.indented),e.context=new t(a,n,r,i,null,e.context)}function r(e){var t=e.context.type;return\")\"!=t&&\"]\"!=t&&\"}\"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function i(e,t,n){return\"variable\"==t.prevToken||\"type\"==t.prevToken||(!!/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function a(e){for(;;){if(!e||\"top\"==e.type)return!0;if(\"}\"==e.type&&\"namespace\"!=e.prev.info)return!1;e=e.prev}}function o(e){for(var t={},n=e.split(\" \"),r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t){return\"function\"===typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode(\"clike\",(function(o,l){var u,c,d=o.indentUnit,f=l.statementIndentUnit||d,h=l.dontAlignCalls,p=l.keywords||{},m=l.types||{},v=l.builtin||{},g=l.blockKeywords||{},_=l.defKeywords||{},y=l.atoms||{},x=l.hooks||{},b=l.multiLineStrings,w=!1!==l.indentStatements,A=!1!==l.indentSwitch,T=l.namespaceSeparator,S=l.isPunctuationChar||/[\\[\\]{}\\(\\),;\\:\\.]/,E=l.numberStart||/[\\d\\.]/,C=l.number||/^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,M=l.isOperatorChar||/[+\\-*&%=<>!?|\\/]/,D=l.isIdentifierChar||/[\\w\\$_\\xa1-\\uffff]/,N=l.isReservedIdentifier||!1;function L(e,t){var n=e.next();if(x[n]){var r=x[n](e,t);if(!1!==r)return r}if('\"'==n||\"'\"==n)return t.tokenize=I(n),t.tokenize(e,t);if(E.test(n)){if(e.backUp(1),e.match(C))return\"number\";e.next()}if(S.test(n))return u=n,null;if(\"/\"==n){if(e.eat(\"*\"))return t.tokenize=P,P(e,t);if(e.eat(\"/\"))return e.skipToEnd(),\"comment\"}if(M.test(n)){while(!e.match(/^\\/[\\/*]/,!1)&&e.eat(M));return\"operator\"}if(e.eatWhile(D),T)while(e.match(T))e.eatWhile(D);var i=e.current();return s(p,i)?(s(g,i)&&(u=\"newstatement\"),s(_,i)&&(c=!0),\"keyword\"):s(m,i)?\"type\":s(v,i)||N&&N(i)?(s(g,i)&&(u=\"newstatement\"),\"builtin\"):s(y,i)?\"atom\":\"variable\"}function I(e){return function(t,n){var r,i=!1,a=!1;while(null!=(r=t.next())){if(r==e&&!i){a=!0;break}i=!i&&\"\\\\\"==r}return(a||!i&&!b)&&(n.tokenize=null),\"string\"}}function P(e,t){var n,r=!1;while(n=e.next()){if(\"/\"==n&&r){t.tokenize=null;break}r=\"*\"==n}return\"comment\"}function O(e,t){l.typeFirstDefinitions&&e.eol()&&a(t.context)&&(t.typeAtEndOfLine=i(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-d,0,\"top\",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var o=t.context;if(e.sol()&&(null==o.align&&(o.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return O(e,t),null;u=c=null;var s=(t.tokenize||L)(e,t);if(\"comment\"==s||\"meta\"==s)return s;if(null==o.align&&(o.align=!0),\";\"==u||\":\"==u||\",\"==u&&e.match(/^\\s*(?:\\/\\/.*)?$/,!1))while(\"statement\"==t.context.type)r(t);else if(\"{\"==u)n(t,e.column(),\"}\");else if(\"[\"==u)n(t,e.column(),\"]\");else if(\"(\"==u)n(t,e.column(),\")\");else if(\"}\"==u){while(\"statement\"==o.type)o=r(t);\"}\"==o.type&&(o=r(t));while(\"statement\"==o.type)o=r(t)}else u==o.type?r(t):w&&((\"}\"==o.type||\"top\"==o.type)&&\";\"!=u||\"statement\"==o.type&&\"newstatement\"==u)&&n(t,e.column(),\"statement\",e.current());if(\"variable\"==s&&(\"def\"==t.prevToken||l.typeFirstDefinitions&&i(e,t,e.start)&&a(t.context)&&e.match(/^\\s*\\(/,!1))&&(s=\"def\"),x.token){var d=x.token(e,t,s);void 0!==d&&(s=d)}return\"def\"==s&&!1===l.styleDefs&&(s=\"variable\"),t.startOfLine=!1,t.prevToken=c?\"def\":s||u,O(e,t),s},indent:function(t,n){if(t.tokenize!=L&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,i=n&&n.charAt(0),a=i==r.type;if(\"statement\"==r.type&&\"}\"==i&&(r=r.prev),l.dontIndentStatements)while(\"statement\"==r.type&&l.dontIndentStatements.test(r.info))r=r.prev;if(x.indent){var o=x.indent(t,r,n,d);if(\"number\"==typeof o)return o}var s=r.prev&&\"switch\"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(i)){while(\"top\"!=r.type&&\"}\"!=r.type)r=r.prev;return r.indented}return\"statement\"==r.type?r.indented+(\"{\"==i?0:f):!r.align||h&&\")\"==r.type?\")\"!=r.type||a?r.indented+(a?0:d)+(a||!s||/^(?:case|default)\\b/.test(n)?0:d):r.indented+f:r.column+(a?0:1)},electricInput:A?/^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/:/^\\s*[{}]$/,blockCommentStart:\"/*\",blockCommentEnd:\"*/\",blockCommentContinue:\" * \",lineComment:\"//\",fold:\"brace\"}}));var l=\"auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran\",u=\"alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq\",c=\"bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\",d=\"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\",f=o(\"int long char short double float unsigned signed void bool\"),h=o(\"SEL instancetype id Class Protocol BOOL\");function p(e){return s(f,e)||/.+_t$/.test(e)}function m(e){return p(e)||s(h,e)}var v=\"case do else for if switch while struct enum union\",g=\"struct enum union\";function _(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if(\"\\\\\"==n&&e.match(/^.$/)){r=_;break}if(\"/\"==n&&e.match(/^\\/[\\/\\*]/,!1))break;e.next()}return t.tokenize=r,\"meta\"}function y(e,t){return\"type\"==t.prevToken&&\"type\"}function x(e){return!(!e||e.length<2)&&(\"_\"==e[0]&&(\"_\"==e[1]||e[1]!==e[1].toLowerCase()))}function b(e){return e.eatWhile(/[\\w\\.']/),\"number\"}function w(e,t){if(e.backUp(1),e.match(/^(?:R|u8R|uR|UR|LR)/)){var n=e.match(/^\"([^\\s\\\\()]{0,16})\\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=S,S(e,t))}return e.match(/^(?:u8|u|U|L)/)?!!e.match(/^[\"']/,!1)&&\"string\":(e.next(),!1)}function A(e){var t=/(\\w+)::~?(\\w+)$/.exec(e);return t&&t[1]==t[2]}function T(e,t){var n;while(null!=(n=e.next()))if('\"'==n&&!e.eat('\"')){t.tokenize=null;break}return\"string\"}function S(e,t){var n=t.cpp11RawStringDelim.replace(/[^\\w\\s]/g,\"\\\\$&\"),r=e.match(new RegExp(\".*?\\\\)\"+n+'\"'));return r?t.tokenize=null:e.skipToEnd(),\"string\"}function E(t,n){\"string\"==typeof t&&(t=[t]);var r=[];function i(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}i(n.keywords),i(n.types),i(n.builtin),i(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper(\"hintWords\",t[0],r));for(var a=0;a<t.length;++a)e.defineMIME(t[a],n)}function C(e,t){var n=!1;while(!e.eol()){if(!n&&e.match('\"\"\"')){t.tokenize=null;break}n=\"\\\\\"==e.next()&&!n}return\"string\"}function M(e){return function(t,n){var r;while(r=t.next()){if(\"*\"==r&&t.eat(\"/\")){if(1==e){n.tokenize=null;break}return n.tokenize=M(e-1),n.tokenize(t,n)}if(\"/\"==r&&t.eat(\"*\"))return n.tokenize=M(e+1),n.tokenize(t,n)}return\"comment\"}}function D(e){return function(t,n){var r,i=!1,a=!1;while(!t.eol()){if(!e&&!i&&t.match('\"')){a=!0;break}if(e&&t.match('\"\"\"')){a=!0;break}r=t.next(),!i&&\"$\"==r&&t.match(\"{\")&&t.skipTo(\"}\"),i=!i&&\"\\\\\"==r&&!e}return!a&&e||(n.tokenize=null),\"string\"}}E([\"text/x-csrc\",\"text/x-c\",\"text/x-chdr\"],{name:\"clike\",keywords:o(l),types:p,blockKeywords:o(v),defKeywords:o(g),typeFirstDefinitions:!0,atoms:o(\"NULL true false\"),isReservedIdentifier:x,hooks:{\"#\":_,\"*\":y},modeProps:{fold:[\"brace\",\"include\"]}}),E([\"text/x-c++src\",\"text/x-c++hdr\"],{name:\"clike\",keywords:o(l+\" \"+u),types:p,blockKeywords:o(v+\" class try catch\"),defKeywords:o(g+\" class namespace\"),typeFirstDefinitions:!0,atoms:o(\"true false NULL nullptr\"),dontIndentStatements:/^template$/,isIdentifierChar:/[\\w\\$_~\\xa1-\\uffff]/,isReservedIdentifier:x,hooks:{\"#\":_,\"*\":y,u:w,U:w,L:w,R:w,0:b,1:b,2:b,3:b,4:b,5:b,6:b,7:b,8:b,9:b,token:function(e,t,n){if(\"variable\"==n&&\"(\"==e.peek()&&(\";\"==t.prevToken||null==t.prevToken||\"}\"==t.prevToken)&&A(e.current()))return\"def\"}},namespaceSeparator:\"::\",modeProps:{fold:[\"brace\",\"include\"]}}),E(\"text/x-java\",{name:\"clike\",keywords:o(\"abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface\"),types:o(\"byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void\"),blockKeywords:o(\"catch class do else finally for if switch try while\"),defKeywords:o(\"class interface enum @interface\"),typeFirstDefinitions:!0,atoms:o(\"true false null\"),number:/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,hooks:{\"@\":function(e){return!e.match(\"interface\",!1)&&(e.eatWhile(/[\\w\\$_]/),\"meta\")}},modeProps:{fold:[\"brace\",\"import\"]}}),E(\"text/x-csharp\",{name:\"clike\",keywords:o(\"abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield\"),types:o(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong\"),blockKeywords:o(\"catch class do else finally for foreach if struct switch try while\"),defKeywords:o(\"class interface namespace struct var\"),typeFirstDefinitions:!0,atoms:o(\"true false null\"),hooks:{\"@\":function(e,t){return e.eat('\"')?(t.tokenize=T,T(e,t)):(e.eatWhile(/[\\w\\$_]/),\"meta\")}}}),E(\"text/x-scala\",{name:\"clike\",keywords:o(\"abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble\"),types:o(\"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"),multiLineStrings:!0,blockKeywords:o(\"catch class enum do else finally for forSome if match switch try while\"),defKeywords:o(\"class enum def object package trait type val var\"),atoms:o(\"true false null\"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\\-*&%=<>!?|\\/#:@]/,hooks:{\"@\":function(e){return e.eatWhile(/[\\w\\$_]/),\"meta\"},'\"':function(e,t){return!!e.match('\"\"')&&(t.tokenize=C,t.tokenize(e,t))},\"'\":function(e){return e.eatWhile(/[\\w\\$_\\xa1-\\uffff]/),\"atom\"},\"=\":function(e,n){var r=n.context;return!(\"}\"!=r.type||!r.align||!e.eat(\">\"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),\"operator\")},\"/\":function(e,t){return!!e.eat(\"*\")&&(t.tokenize=M(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}\"\"',triples:'\"'}}}),E(\"text/x-kotlin\",{name:\"clike\",keywords:o(\"package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value\"),types:o(\"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:o(\"catch class do else finally for if where try while enum\"),defKeywords:o(\"class val var object interface fun\"),atoms:o(\"true false null this\"),hooks:{\"@\":function(e){return e.eatWhile(/[\\w\\$_]/),\"meta\"},\"*\":function(e,t){return\".\"==t.prevToken?\"variable\":\"operator\"},'\"':function(e,t){return t.tokenize=D(e.match('\"\"')),t.tokenize(e,t)},\"/\":function(e,t){return!!e.eat(\"*\")&&(t.tokenize=M(1),t.tokenize(e,t))},indent:function(e,t,n,r){var i=n&&n.charAt(0);return\"}\"!=e.prevToken&&\")\"!=e.prevToken||\"\"!=n?\"operator\"==e.prevToken&&\"}\"!=n&&\"}\"!=e.context.type||\"variable\"==e.prevToken&&\".\"==i||(\"}\"==e.prevToken||\")\"==e.prevToken)&&\".\"==i?2*r+t.indented:t.align&&\"}\"==t.type?t.indented+(e.context.type==(n||\"\").charAt(0)?0:r):void 0:e.indented}},modeProps:{closeBrackets:{triples:'\"'}}}),E([\"x-shader/x-vertex\",\"x-shader/x-fragment\"],{name:\"clike\",keywords:o(\"sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout\"),types:o(\"float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4\"),blockKeywords:o(\"for while do if else struct\"),builtin:o(\"radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4\"),atoms:o(\"true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers\"),indentSwitch:!1,hooks:{\"#\":_},modeProps:{fold:[\"brace\",\"include\"]}}),E(\"text/x-nesc\",{name:\"clike\",keywords:o(l+\" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends\"),types:p,blockKeywords:o(v),atoms:o(\"null true false\"),hooks:{\"#\":_},modeProps:{fold:[\"brace\",\"include\"]}}),E(\"text/x-objectivec\",{name:\"clike\",keywords:o(l+\" \"+c),types:m,builtin:o(d),blockKeywords:o(v+\" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),defKeywords:o(g+\" @interface @implementation @protocol @class\"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:o(\"YES NO NULL Nil nil true false nullptr\"),isReservedIdentifier:x,hooks:{\"#\":_,\"*\":y},modeProps:{fold:[\"brace\",\"include\"]}}),E(\"text/x-objectivec++\",{name:\"clike\",keywords:o(l+\" \"+c+\" \"+u),types:m,builtin:o(d),blockKeywords:o(v+\" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),defKeywords:o(g+\" @interface @implementation @protocol @class class namespace\"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:o(\"YES NO NULL Nil nil true false nullptr\"),isReservedIdentifier:x,hooks:{\"#\":_,\"*\":y,u:w,U:w,L:w,R:w,0:b,1:b,2:b,3:b,4:b,5:b,6:b,7:b,8:b,9:b,token:function(e,t,n){if(\"variable\"==n&&\"(\"==e.peek()&&(\";\"==t.prevToken||null==t.prevToken||\"}\"==t.prevToken)&&A(e.current()))return\"def\"}},namespaceSeparator:\"::\",modeProps:{fold:[\"brace\",\"include\"]}}),E(\"text/x-squirrel\",{name:\"clike\",keywords:o(\"base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static\"),types:p,blockKeywords:o(\"case catch class else for foreach if switch try while\"),defKeywords:o(\"function local class\"),typeFirstDefinitions:!0,atoms:o(\"true false null\"),hooks:{\"#\":_},modeProps:{fold:[\"brace\",\"include\"]}});var N=null;function L(e){return function(t,n){var r,i=!1,a=!1;while(!t.eol()){if(!i&&t.match('\"')&&(\"single\"==e||t.match('\"\"'))){a=!0;break}if(!i&&t.match(\"``\")){N=L(e),a=!0;break}r=t.next(),i=\"single\"==e&&!i&&\"\\\\\"==r}return a&&(n.tokenize=null),\"string\"}}E(\"text/x-ceylon\",{name:\"clike\",keywords:o(\"abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while\"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:o(\"case catch class dynamic else finally for function if interface module new object switch try while\"),defKeywords:o(\"class dynamic function interface module object package value\"),builtin:o(\"abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable\"),isPunctuationChar:/[\\[\\]{}\\(\\),;\\:\\.`]/,isOperatorChar:/[+\\-*&%=<>!?|^~:\\/]/,numberStart:/[\\d#$]/,number:/^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:o(\"true false null larger smaller equal empty finished\"),indentSwitch:!1,styleDefs:!1,hooks:{\"@\":function(e){return e.eatWhile(/[\\w\\$_]/),\"meta\"},'\"':function(e,t){return t.tokenize=L(e.match('\"\"')?\"triple\":\"single\"),t.tokenize(e,t)},\"`\":function(e,t){return!(!N||!e.match(\"`\"))&&(t.tokenize=N,N=null,t.tokenize(e,t))},\"'\":function(e){return e.eatWhile(/[\\w\\$_\\xa1-\\uffff]/),\"atom\"},token:function(e,t,n){if((\"variable\"==n||\"type\"==n)&&\".\"==t.prevToken)return\"variable-2\"}},modeProps:{fold:[\"brace\",\"import\"],closeBrackets:{triples:'\"'}}})}))},\"4c6c\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"c19c\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"4d0b\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"get\",(function(){return i})),n.d(t,\"update\",(function(){return a})),n.d(t,\"toAliPay\",(function(){return o}));var r=n(\"c7be\");function i(){return Object(r[\"default\"])({url:\"api/aliPay\",method:\"get\"})}function a(e){return Object(r[\"default\"])({url:\"api/aliPay\",data:e,method:\"put\"})}function o(e,t){return Object(r[\"default\"])({url:\"api/\"+e,data:t,method:\"post\"})}},\"50f7\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"testDbConnect\",(function(){return i})),n.d(t,\"testServerConnect\",(function(){return a}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/database/testConnect\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/serverDeploy/testConnect\",method:\"post\",data:e})}},\"517e\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",placeholder:\"输入名称搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.name,callback:function(t){e.$set(e.query,\"name\",t)},expression:\"query.name\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}},[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"app:add\"],expression:\"['admin','app:add']\"}],staticClass:\"filter-item\",attrs:{slot:\"left\",disabled:!e.currentRow,type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.copy},slot:\"left\"},[e._v(\"复制\")])],1)],1),e._v(\" \"),n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,\"before-close\":e.crud.cancelCU,visible:e.crud.status.cu>0,title:e.crud.status.title,width:\"800px\"},on:{\"update:visible\":function(t){return e.$set(e.crud.status,\"cu > 0\",t)}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"100px\"}},[n(\"el-form-item\",{attrs:{label:\"应用名称\",prop:\"name\"}},[n(\"el-input\",{staticStyle:{width:\"670px\"},attrs:{placeholder:\"部署后的文件或者目录名称，用于备份\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"应用端口\",prop:\"port\"}},[n(\"el-input-number\",{attrs:{placeholder:\"例如：8080\"},model:{value:e.form.port,callback:function(t){e.$set(e.form,\"port\",e._n(t))},expression:\"form.port\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"上传目录\",prop:\"uploadPath\"}},[n(\"el-input\",{staticStyle:{width:\"670px\"},attrs:{placeholder:\"例如: /opt/upload\"},model:{value:e.form.uploadPath,callback:function(t){e.$set(e.form,\"uploadPath\",t)},expression:\"form.uploadPath\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"部署目录\",prop:\"deployPath\"}},[n(\"el-input\",{staticStyle:{width:\"670px\"},attrs:{placeholder:\"例如: /opt/app\"},model:{value:e.form.deployPath,callback:function(t){e.$set(e.form,\"deployPath\",t)},expression:\"form.deployPath\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"备份目录\",prop:\"backupPath\"}},[n(\"el-input\",{staticStyle:{width:\"670px\"},attrs:{placeholder:\"例如: /opt/backup\"},model:{value:e.form.backupPath,callback:function(t){e.$set(e.form,\"backupPath\",t)},expression:\"form.backupPath\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"部署脚本\",prop:\"deployScript\"}},[n(\"el-input\",{staticStyle:{width:\"670px\"},attrs:{rows:3,type:\"textarea\",autosize:\"\",placeholder:\"\"},model:{value:e.form.deployScript,callback:function(t){e.$set(e.form,\"deployScript\",t)},expression:\"form.deployScript\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"启动脚本\",prop:\"startScript\"}},[n(\"el-input\",{staticStyle:{width:\"670px\"},attrs:{rows:3,type:\"textarea\",autosize:\"\",placeholder:\"\"},model:{value:e.form.startScript,callback:function(t){e.$set(e.form,\"startScript\",t)},expression:\"form.startScript\"}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.crud.cancelCU}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:2===e.crud.cu,type:\"primary\"},on:{click:e.crud.submitCU}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data,\"highlight-current-row\":\"\"},on:{\"selection-change\":e.crud.selectionChangeHandler,\"current-change\":e.handleCurrentChange}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"name\")?n(\"el-table-column\",{attrs:{prop:\"name\",label:\"应用名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"port\")?n(\"el-table-column\",{attrs:{prop:\"port\",label:\"端口号\"}}):e._e(),e._v(\" \"),e.columns.visible(\"uploadPath\")?n(\"el-table-column\",{attrs:{prop:\"uploadPath\",label:\"上传目录\"}}):e._e(),e._v(\" \"),e.columns.visible(\"deployPath\")?n(\"el-table-column\",{attrs:{prop:\"deployPath\",label:\"部署目录\"}}):e._e(),e._v(\" \"),e.columns.visible(\"backupPath\")?n(\"el-table-column\",{attrs:{prop:\"backupPath\",label:\"备份目录\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),e._v(\" \"),n(\"el-table-column\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"app:edit\",\"app:del\"],expression:\"['admin','app:edit','app:del']\"}],attrs:{label:\"操作\",width:\"150px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"udOperation\",{attrs:{data:t.row,permission:e.permission}})]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"51e1\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"b9e1\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"541e\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"80c5\");for(var i in r)\"default\"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a,o,s=n(\"2877\"),l=Object(s[\"a\"])(r[\"default\"],a,o,!1,null,null,null);t[\"default\"]=l.exports},5470:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"输入名称或者服务地址\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.blurry,callback:function(t){e.$set(e.query,\"blurry\",t)},expression:\"query.blurry\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}})],1),e._v(\" \"),n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,\"before-close\":e.crud.cancelCU,visible:e.crud.status.cu>0,title:e.crud.status.title,width:\"500px\"},on:{\"update:visible\":function(t){return e.$set(e.crud.status,\"cu > 0\",t)}}},[n(\"el-form\",{ref:\"form\",attrs:{inline:!0,model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"80px\"}},[n(\"el-form-item\",{attrs:{label:\"名称\",prop:\"name\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"地址\",prop:\"address\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:e.form.address,callback:function(t){e.$set(e.form,\"address\",t)},expression:\"form.address\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"端口\",prop:\"port\"}},[n(\"el-input-number\",{model:{value:e.form.port,callback:function(t){e.$set(e.form,\"port\",e._n(t))},expression:\"form.port\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"排序\",prop:\"sort\"}},[n(\"el-input-number\",{model:{value:e.form.sort,callback:function(t){e.$set(e.form,\"sort\",e._n(t))},expression:\"form.sort\"}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.crud.cancelCU}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:2===e.crud.cu,type:\"primary\"},on:{click:e.crud.submitCU}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"state\")?n(\"el-table-column\",{attrs:{prop:\"state\",label:\"状态\",width:\"50px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-tag\",{attrs:{type:\"1\"===t.row.state?\"success\":\"info\",\"disable-transitions\":\"\"}},[\"1\"===t.row.state?n(\"i\",{staticClass:\"el-icon-success\"}):e._e(),e._v(\" \"),\"0\"===t.row.state?n(\"i\",{staticClass:\"el-icon-error\"}):e._e()])]}}],null,!1,1551995807)}):e._e(),e._v(\" \"),e.columns.visible(\"name\")?n(\"el-table-column\",{attrs:{prop:\"name\",label:\"名称\",width:\"135px\"}}):e._e(),e._v(\" \"),e.columns.visible(\"address\")?n(\"el-table-column\",{attrs:{prop:\"address\",label:\"地址\",width:\"80px\"}}):e._e(),e._v(\" \"),e.columns.visible(\"port\")?n(\"el-table-column\",{attrs:{prop:\"port\",label:\"端口\",width:\"80px\",align:\"center\"}}):e._e(),e._v(\" \"),e.columns.visible(\"cpuRate\")?n(\"el-table-column\",{attrs:{formatter:e.formatCpuRate,prop:\"cpuRate\",label:\"CPU使用率\",width:\"100px\",align:\"center\"}}):e._e(),e._v(\" \"),e.columns.visible(\"cpuCore\")?n(\"el-table-column\",{attrs:{prop:\"cpuCore\",label:\"CPU内核数\",width:\"100px\",align:\"center\"}}):e._e(),e._v(\" \"),e.columns.visible(\"memTotal\")?n(\"el-table-column\",{attrs:{prop:\"memTotal\",label:\"物理内存\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-row\",[n(\"el-col\",{attrs:{span:24}},[e._v(e._s(e.formatMem(t.row)))])],1),e._v(\" \"),n(\"el-row\",[n(\"el-col\",{attrs:{span:24}},[n(\"el-progress\",{attrs:{percentage:e.percentNumber(t.row.memUsed,t.row.memTotal),status:e.percentStatus(t.row.memUsed,t.row.memTotal),\"show-text\":!1}})],1)],1)]}}],null,!1,3374473148)}):e._e(),e._v(\" \"),e.columns.visible(\"diskTotal\")?n(\"el-table-column\",{attrs:{prop:\"diskTotal\",formatter:e.formatDisk,label:\"磁盘使用情况\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-row\",[n(\"el-col\",{attrs:{span:24}},[e._v(e._s(e.formatDisk(t.row)))])],1),e._v(\" \"),n(\"el-row\",[n(\"el-col\",{attrs:{span:24}},[n(\"el-progress\",{attrs:{percentage:e.percentNumber(t.row.diskUsed,t.row.diskTotal),status:e.percentStatus(t.row.diskUsed,t.row.diskTotal),\"show-text\":!1}})],1)],1)]}}],null,!1,3797798284)}):e._e(),e._v(\" \"),e.columns.visible(\"swapTotal\")?n(\"el-table-column\",{attrs:{prop:\"swapTotal\",label:\"交换空间\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-row\",[n(\"el-col\",{attrs:{span:24}},[e._v(e._s(e.formatSwap(t.row)))])],1),e._v(\" \"),n(\"el-row\",[n(\"el-col\",{attrs:{span:24}},[n(\"el-progress\",{attrs:{percentage:e.percentNumber(t.row.swapUsed,t.row.swapTotal),status:e.percentStatus(t.row.swapUsed,t.row.swapTotal),\"show-text\":!1}})],1)],1)]}}],null,!1,831735468)}):e._e(),e._v(\" \"),n(\"el-table-column\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"server:edit\",\"server:del\"],expression:\"['admin','server:edit','server:del']\"}],attrs:{label:\"操作\",width:\"150px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"udOperation\",{attrs:{data:t.row,permission:e.permission}})]}}])},[e._v(\"\\n      v-if=\\\"columns.visible('name')\\\"\\n    \")])],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"54ff\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"upload\",(function(){return o}));var r=n(\"bc3a\"),i=n.n(r),a=n(\"d0c1\");function o(e,t){var n=new FormData;n.append(\"file\",t);const r={headers:{Authorization:Object(a[\"getToken\"])()}};return i.a.post(e,n,r)}},\"567c\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return l}));var r=n(\"2b0e\"),i=n(\"b311\"),a=n.n(i);function o(){r[\"default\"].prototype.$message({message:\"Copy successfully\",type:\"success\",duration:1500})}function s(){r[\"default\"].prototype.$message({message:\"Copy failed\",type:\"error\"})}function l(e,t){const n=new a.a(t.target,{text:()=>e});n.on(\"success\",()=>{o(),n.off(\"error\"),n.off(\"success\"),n.destroy()}),n.on(\"error\",()=>{s(),n.off(\"error\"),n.off(\"success\"),n.destroy()}),n.onClick(t)}},\"56b3\":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){\"use strict\";var e=navigator.userAgent,t=navigator.platform,n=/gecko\\/\\d/i.test(e),r=/MSIE \\d/.test(e),i=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(e),a=/Edge\\/(\\d+)/.exec(e),o=r||i||a,s=o&&(r?document.documentMode||6:+(a||i)[1]),l=!a&&/WebKit\\//.test(e),u=l&&/Qt\\/\\d+\\.\\d+/.test(e),c=!a&&/Chrome\\//.test(e),d=/Opera\\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(e),p=/PhantomJS/.test(e),m=f&&(/Mobile\\/\\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),g=m||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),_=m||/Mac/.test(t),y=/\\bCrOS\\b/.test(e),x=/win/i.test(t),b=d&&e.match(/Version\\/(\\d*\\.\\d*)/);b&&(b=Number(b[1])),b&&b>=15&&(d=!1,l=!0);var w=_&&(u||d&&(null==b||b<12.11)),A=n||o&&s>=9;function T(e){return new RegExp(\"(^|\\\\s)\"+e+\"(?:$|\\\\s)\\\\s*\")}var S,E=function(e,t){var n=e.className,r=T(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:\"\")}};function C(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function M(e,t){return C(e).appendChild(t)}function D(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),\"string\"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function N(e,t,n,r){var i=D(e,t,n,r);return i.setAttribute(\"role\",\"presentation\"),i}function L(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var e;try{e=document.activeElement}catch(t){e=document.body||null}while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e}function P(e,t){var n=e.className;T(t).test(n)||(e.className+=(n?\" \":\"\")+t)}function O(e,t){for(var n=e.split(\" \"),r=0;r<n.length;r++)n[r]&&!T(n[r]).test(t)&&(t+=\" \"+n[r]);return t}S=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd(\"character\",n),r.moveStart(\"character\",t),r};var R=function(e){e.select()};function k(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function B(e,t,n,r,i){null==t&&(t=e.search(/[^\\s\\u00a0]/),-1==t&&(t=e.length));for(var a=r||0,o=i||0;;){var s=e.indexOf(\"\\t\",a);if(s<0||s>=t)return o+(t-a);o+=s-a,o+=n-o%n,a=s+1}}m?R=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:o&&(R=function(e){try{e.select()}catch(t){}});var z=function(){this.id=null,this.f=null,this.time=0,this.handler=k(this.onTimeout,this)};function H(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}z.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},z.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var U=50,G={toString:function(){return\"CodeMirror.Pass\"}},j={scroll:!1},V={origin:\"*mouse\"},W={origin:\"+move\"};function $(e,t,n){for(var r=0,i=0;;){var a=e.indexOf(\"\\t\",r);-1==a&&(a=e.length);var o=a-r;if(a==e.length||i+o>=t)return r+Math.min(o,t-i);if(i+=a-r,i+=n-i%n,r=a+1,i>=t)return r}}var q=[\"\"];function Y(e){while(q.length<=e)q.push(X(q)+\" \");return q[e]}function X(e){return e[e.length-1]}function Q(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function K(e,t,n){var r=0,i=n(t);while(r<e.length&&n(e[r])<=i)r++;e.splice(r,0,t)}function Z(){}function J(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&F(t,n),n}var ee=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function te(e){return/\\w/.test(e)||e>\"\"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf(\"\\\\w\")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function ae(e){return e.charCodeAt(0)>=768&&ie.test(e)}function oe(e,t,n){while((n<0?t>0:t<e.length)&&ae(e.charAt(t)))t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,a=r<0?Math.ceil(i):Math.floor(i);if(a==t)return e(a)?t:n;e(a)?n=a:t=a+r}}function le(e,t,n,r){if(!e)return r(t,n,\"ltr\",0);for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<n&&o.to>t||t==n&&o.to==t)&&(r(Math.max(o.from,t),Math.min(o.to,n),1==o.level?\"rtl\":\"ltr\",a),i=!0)}i||r(t,n,\"ltr\")}var ue=null;function ce(e,t,n){var r;ue=null;for(var i=0;i<e.length;++i){var a=e[i];if(a.from<t&&a.to>t)return i;a.to==t&&(a.from!=a.to&&\"before\"==n?r=i:ue=i),a.from==t&&(a.from!=a.to&&\"before\"!=n?r=i:ue=i)}return null!=r?r:ue}var de=function(){var e=\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\",t=\"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?\"R\":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?\"r\":8192<=n&&n<=8203?\"w\":8204==n?\"b\":\"L\"}var r=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,i=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u=\"ltr\"==t?\"L\":\"R\";if(0==e.length||\"ltr\"==t&&!r.test(e))return!1;for(var c=e.length,d=[],f=0;f<c;++f)d.push(n(e.charCodeAt(f)));for(var h=0,p=u;h<c;++h){var m=d[h];\"m\"==m?d[h]=p:p=m}for(var v=0,g=u;v<c;++v){var _=d[v];\"1\"==_&&\"r\"==g?d[v]=\"n\":a.test(_)&&(g=_,\"r\"==_&&(d[v]=\"R\"))}for(var y=1,x=d[0];y<c-1;++y){var b=d[y];\"+\"==b&&\"1\"==x&&\"1\"==d[y+1]?d[y]=\"1\":\",\"!=b||x!=d[y+1]||\"1\"!=x&&\"n\"!=x||(d[y]=x),x=b}for(var w=0;w<c;++w){var A=d[w];if(\",\"==A)d[w]=\"N\";else if(\"%\"==A){var T=void 0;for(T=w+1;T<c&&\"%\"==d[T];++T);for(var S=w&&\"!\"==d[w-1]||T<c&&\"1\"==d[T]?\"1\":\"N\",E=w;E<T;++E)d[E]=S;w=T-1}}for(var C=0,M=u;C<c;++C){var D=d[C];\"L\"==M&&\"1\"==D?d[C]=\"L\":a.test(D)&&(M=D)}for(var N=0;N<c;++N)if(i.test(d[N])){var L=void 0;for(L=N+1;L<c&&i.test(d[L]);++L);for(var I=\"L\"==(N?d[N-1]:u),P=\"L\"==(L<c?d[L]:u),O=I==P?I?\"L\":\"R\":u,R=N;R<L;++R)d[R]=O;N=L-1}for(var k,F=[],B=0;B<c;)if(o.test(d[B])){var z=B;for(++B;B<c&&o.test(d[B]);++B);F.push(new l(0,z,B))}else{var H=B,U=F.length,G=\"rtl\"==t?1:0;for(++B;B<c&&\"L\"!=d[B];++B);for(var j=H;j<B;)if(s.test(d[j])){H<j&&(F.splice(U,0,new l(1,H,j)),U+=G);var V=j;for(++j;j<B&&s.test(d[j]);++j);F.splice(U,0,new l(2,V,j)),U+=G,H=j}else++j;H<B&&F.splice(U,0,new l(1,H,B))}return\"ltr\"==t&&(1==F[0].level&&(k=e.match(/^\\s+/))&&(F[0].from=k[0].length,F.unshift(new l(0,0,k[0].length))),1==X(F).level&&(k=e.match(/\\s+$/))&&(X(F).to-=k[0].length,F.push(new l(0,c-k[0].length,c)))),\"rtl\"==t?F.reverse():F}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var he=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent(\"on\"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||he).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||he}function ve(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent(\"on\"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var a=H(i,n);a>-1&&(r[t]=i.slice(0,a).concat(i.slice(a+1)))}}}function ge(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function _e(e,t,n){return\"string\"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ge(e,n||t.type,e,t),Te(t)||t.codemirrorIgnore}function ye(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==H(n,t[r])&&n.push(t[r])}function xe(e,t){return me(e,t).length>0}function be(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){ve(this,e,t)}}function we(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ae(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Te(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){we(e),Ae(e)}function Ee(e){return e.target||e.srcElement}function Ce(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),_&&e.ctrlKey&&1==t&&(t=3),t}var Me,De,Ne=function(){if(o&&s<9)return!1;var e=D(\"div\");return\"draggable\"in e||\"dragDrop\"in e}();function Le(e){if(null==Me){var t=D(\"span\",\"​\");M(e,D(\"span\",[t,document.createTextNode(\"x\")])),0!=e.firstChild.offsetHeight&&(Me=t.offsetWidth<=1&&t.offsetHeight>2&&!(o&&s<8))}var n=Me?D(\"span\",\"​\"):D(\"span\",\" \",null,\"display: inline-block; width: 1px; margin-right: -1px\");return n.setAttribute(\"cm-text\",\"\"),n}function Ie(e){if(null!=De)return De;var t=M(e,document.createTextNode(\"AخA\")),n=S(t,0,1).getBoundingClientRect(),r=S(t,1,2).getBoundingClientRect();return C(e),!(!n||n.left==n.right)&&(De=r.right-n.right<3)}var Pe=3!=\"\\n\\nb\".split(/\\n/).length?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf(\"\\n\",t);-1==i&&(i=e.length);var a=e.slice(t,\"\\r\"==e.charAt(i-1)?i-1:i),o=a.indexOf(\"\\r\");-1!=o?(n.push(a.slice(0,o)),t+=o+1):(n.push(a),t=i+1)}return n}:function(e){return e.split(/\\r\\n?|\\n/)},Oe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints(\"StartToEnd\",t)},Re=function(){var e=D(\"div\");return\"oncopy\"in e||(e.setAttribute(\"oncopy\",\"return;\"),\"function\"==typeof e.oncopy)}(),ke=null;function Fe(e){if(null!=ke)return ke;var t=M(e,D(\"span\",\"x\")),n=t.getBoundingClientRect(),r=S(t,0,1).getBoundingClientRect();return ke=Math.abs(n.left-r.left)>1}var Be={},ze={};function He(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Be[e]=t}function Ue(e,t){ze[e]=t}function Ge(e){if(\"string\"==typeof e&&ze.hasOwnProperty(e))e=ze[e];else if(e&&\"string\"==typeof e.name&&ze.hasOwnProperty(e.name)){var t=ze[e.name];\"string\"==typeof t&&(t={name:t}),e=J(t,e),e.name=t.name}else{if(\"string\"==typeof e&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(e))return Ge(\"application/xml\");if(\"string\"==typeof e&&/^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(e))return Ge(\"application/json\")}return\"string\"==typeof e?{name:e}:e||{name:\"null\"}}function je(e,t){t=Ge(t);var n=Be[t.name];if(!n)return je(e,\"text/plain\");var r=n(e,t);if(Ve.hasOwnProperty(t.name)){var i=Ve[t.name];for(var a in i)i.hasOwnProperty(a)&&(r.hasOwnProperty(a)&&(r[\"_\"+a]=r[a]),r[a]=i[a])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)r[o]=t.modeProps[o];return r}var Ve={};function We(e,t){var n=Ve.hasOwnProperty(e)?Ve[e]:Ve[e]={};F(t,n)}function $e(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function qe(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Qe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error(\"There is no line \"+(t+e.first)+\" in the document.\");var n=e;while(!n.lines)for(var r=0;;++r){var i=n.children[r],a=i.chunkSize();if(t<a){n=i;break}t-=a}return n.lines[t]}function Ke(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var a=e.text;i==n.line&&(a=a.slice(0,n.ch)),i==t.line&&(a=a.slice(t.ch)),r.push(a),++i})),r}function Ze(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Je(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=H(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],a=i.height;if(t<a){e=i;continue e}t-=a,n+=i.chunkSize()}return n}while(!e.lines);for(var o=0;o<e.lines.length;++o){var s=e.lines[o],l=s.height;if(t<l)break;t-=l}return n+o}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function at(e,t){return e.line-t.line||e.ch-t.ch}function ot(e,t){return e.sticky==t.sticky&&0==at(e,t)}function st(e){return it(e.line,e.ch)}function lt(e,t){return at(e,t)<0?t:e}function ut(e,t){return at(e,t)<0?e:t}function ct(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,Qe(e,n).text.length):ft(t,Qe(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}function ht(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t=\"string\"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},Xe.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},Xe.prototype.eatSpace=function(){var e=this.pos;while(/[\\s\\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if(\"string\"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);if(i(a)==i(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function vt(e,t,n,r){var i=[e.state.modeGen],a={};St(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),a,r);for(var o=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,St(e,t.text,s.mode,n,(function(e,t){var n=l;while(u<e){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,\"overlay \"+t),l=n+2;else for(;n<l;n+=2){var a=i[n+1];i[n+1]=(a?a+\" \":\"\")+\"overlay \"+t}}),a),n.state=o,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:a.bgClass||a.textClass?a:null}}function gt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=_t(e,et(t)),i=t.text.length>e.options.maxHighlightLength&&$e(e.doc.mode,r.state),a=vt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function _t(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new mt(r,!0,t);var a=Et(e,t,n),o=a>r.first&&Qe(r,a-1).stateAfter,s=o?mt.fromSaved(r,o,a):new mt(r,Ye(r.mode),a);return r.iter(a,t,(function(n){yt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function yt(e,t,n,r){var i=e.doc.mode,a=new Xe(t,e.options.tabSize,n);a.start=a.pos=r||0,\"\"==t&&xt(i,n.state);while(!a.eol())bt(i,a,n.state),a.start=a.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=qe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function bt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=qe(e,n).mode);var a=e.token(t,n);if(t.pos>t.start)return a}throw new Error(\"Mode \"+e.name+\" failed to advance stream.\")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,\"\"),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,n){return t instanceof pt?new mt(e,$e(e.mode,t.state),n,t.lookAhead):new mt(e,$e(e.mode,t),n)},mt.prototype.save=function(e){var t=!1!==e?$e(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var wt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function At(e,t,n,r){var i,a=e.doc,o=a.mode;t=dt(a,t);var s,l=Qe(a,t.line),u=_t(e,t.line,n),c=new Xe(l.text,e.options.tabSize,u);r&&(s=[]);while((r||c.pos<t.ch)&&!c.eol())c.start=c.pos,i=bt(o,c,u.state),r&&s.push(new wt(c,i,$e(a.mode,u.state)));return r?s:new wt(c,i,u.state)}function Tt(e,t){if(e)for(;;){var n=e.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?\"bgClass\":\"textClass\";null==t[r]?t[r]=n[2]:new RegExp(\"(?:^|\\\\s)\"+n[2]+\"(?:$|\\\\s)\").test(t[r])||(t[r]+=\" \"+n[2])}return e}function St(e,t,n,r,i,a,o){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new Xe(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];\"\"==t&&Tt(xt(n,r.state),a);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&yt(e,t,r,d.pos),d.pos=t.length,l=null):l=Tt(bt(n,d,r.state,f),a),f){var h=f[0].name;h&&(l=\"m-\"+(l?h+\" \"+l:h))}if(!s||c!=l){while(u<d.start)u=Math.min(d.start,u+5e3),i(u,c);c=l}d.start=d.pos}while(u<d.pos){var p=Math.min(d.pos,u+5e3);i(p,c),u=p}}function Et(e,t,n){for(var r,i,a=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=Qe(a,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof pt?u.lookAhead:0)<=a.modeFrontier))return s;var c=B(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function Ct(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Qe(e,r).stateAfter;if(i&&(!(i instanceof pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Mt=!1,Dt=!1;function Nt(){Mt=!0}function Lt(){Dt=!0}function It(e,t,n){this.marker=e,this.from=t,this.to=n}function Pt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Ot(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Rt(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function kt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&\"bookmark\"==o.type&&(!n||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(r||(r=[])).push(new It(o,a.from,l?null:a.to))}}return r}function Ft(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&\"bookmark\"==o.type&&(!n||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(r||(r=[])).push(new It(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return r}function Bt(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&Qe(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&Qe(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,a=t.to.ch,o=0==at(t.from,t.to),s=kt(n,i,o),l=Ft(r,a,o),u=1==t.text.length,c=X(t.text).length+(u?i:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var h=Pt(l,f.marker);h?u&&(f.to=null==h.to?null:h.to+c):f.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=c),null==m.from){var v=Pt(s,m.marker);v||(m.from=c,u&&(s||(s=[])).push(m))}else m.from+=c,u&&(s||(s=[])).push(m)}s&&(s=zt(s)),l&&l!=s&&(l=zt(l));var g=[s];if(!u){var _,y=t.text.length-2;if(y>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(_||(_=[])).push(new It(s[x].marker,null,null));for(var b=0;b<y;++b)g.push(_);g.push(l)}return g}function zt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ht(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=H(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],a=0;a<r.length;++a)for(var o=r[a],s=o.find(0),l=0;l<i.length;++l){var u=i[l];if(!(at(u.to,s.from)<0||at(u.from,s.to)>0)){var c=[l,1],d=at(u.from,s.from),f=at(u.to,s.to);(d<0||!o.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(f>0||!o.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function Ut(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Gt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function jt(e){return e.inclusiveLeft?-1:0}function Vt(e){return e.inclusiveRight?1:0}function Wt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),a=at(r.from,i.from)||jt(e)-jt(t);if(a)return-a;var o=at(r.to,i.to)||Vt(e)-Vt(t);return o||t.id-e.id}function $t(e,t){var n,r=Dt&&e.markedSpans;if(r)for(var i=void 0,a=0;a<r.length;++a)i=r[a],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Wt(n,i.marker)<0)&&(n=i.marker);return n}function qt(e){return $t(e,!0)}function Yt(e){return $t(e,!1)}function Xt(e,t){var n,r=Dt&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var a=r[i];a.marker.collapsed&&(null==a.from||a.from<t)&&(null==a.to||a.to>t)&&(!n||Wt(n,a.marker)<0)&&(n=a.marker)}return n}function Qt(e,t,n,r,i){var a=Qe(e,t),o=Dt&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=at(u.from,n)||jt(l.marker)-jt(i),d=at(u.to,r)||Vt(l.marker)-Vt(i);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.to,n)>=0:at(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.from,r)<=0:at(u.from,r)<0)))return!0}}}function Kt(e){var t;while(t=qt(e))e=t.find(-1,!0).line;return e}function Zt(e){var t;while(t=Yt(e))e=t.find(1,!0).line;return e}function Jt(e){var t,n;while(t=Yt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=Qe(e,t),r=Kt(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=Qe(e,t);if(!nn(e,r))return t;while(n=Yt(r))r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=Dt&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,Pt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,a=0;a<t.markedSpans.length;++a)if(i=t.markedSpans[a],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,i))return!0}function an(e){e=Kt(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var a=n.parent;a;n=a,a=n.parent)for(var o=0;o<a.children.length;++o){var s=a.children[o];if(s==n)break;t+=s.height}return t}function on(e){if(0==e.height)return 0;var t,n=e.text.length,r=e;while(t=qt(r)){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}r=e;while(t=Yt(r)){var a=t.find(0,!0);n-=r.text.length-a.from.ch,r=a.to.line,n+=r.text.length-a.to.ch}return n}function sn(e){var t=e.display,n=e.doc;t.maxLine=Qe(n,n.first),t.maxLineLength=on(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=on(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var ln=function(e,t,n){this.text=e,Gt(this,t),this.height=n?n(this):1};function un(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ut(e),Gt(e,n);var i=r?r(e):1;i!=e.height&&Je(e,i)}function cn(e){e.parent=null,Ut(e)}ln.prototype.lineNo=function(){return et(this)},be(ln);var dn={},fn={};function hn(e,t){if(!e||/^\\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\\S+/g,\"cm-$&\"))}function pn(e,t){var n=N(\"span\",null,null,l?\"padding-right: .1px\":null),r={pre:N(\"pre\",[n],\"CodeMirror-line\"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption(\"lineWrapping\")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a=i?t.rest[i-1]:t.line,o=void 0;r.pos=0,r.addToken=vn,Ie(e.display.measure)&&(o=fe(a,e.doc.direction))&&(r.addToken=_n(r.addToken,o)),r.map=[];var s=t!=e.display.externalMeasured&&et(a);xn(a,r,gt(e,a,s)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=O(a.styleClasses.bgClass,r.bgClass||\"\")),a.styleClasses.textClass&&(r.textClass=O(a.styleClasses.textClass,r.textClass||\"\"))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Le(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var u=r.content.lastChild;(/\\bcm-tab\\b/.test(u.className)||u.querySelector&&u.querySelector(\".cm-tab\"))&&(r.content.className=\"cm-tab-wrap-hack\")}return ge(e,\"renderLine\",e,t.line,r.pre),r.pre.className&&(r.textClass=O(r.pre.className,r.textClass||\"\")),r}function mn(e){var t=D(\"span\",\"•\",\"cm-invalidchar\");return t.title=\"\\\\u\"+e.charCodeAt(0).toString(16),t.setAttribute(\"aria-label\",t.title),t}function vn(e,t,n,r,i,a,l){if(t){var u,c=e.splitSpaces?gn(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){u=document.createDocumentFragment();var h=0;while(1){d.lastIndex=h;var p=d.exec(t),m=p?p.index-h:t.length-h;if(m){var v=document.createTextNode(c.slice(h,h+m));o&&s<9?u.appendChild(D(\"span\",[v])):u.appendChild(v),e.map.push(e.pos,e.pos+m,v),e.col+=m,e.pos+=m}if(!p)break;h+=m+1;var g=void 0;if(\"\\t\"==p[0]){var _=e.cm.options.tabSize,y=_-e.col%_;g=u.appendChild(D(\"span\",Y(y),\"cm-tab\")),g.setAttribute(\"role\",\"presentation\"),g.setAttribute(\"cm-text\",\"\\t\"),e.col+=y}else\"\\r\"==p[0]||\"\\n\"==p[0]?(g=u.appendChild(D(\"span\",\"\\r\"==p[0]?\"␍\":\"␤\",\"cm-invalidchar\")),g.setAttribute(\"cm-text\",p[0]),e.col+=1):(g=e.cm.options.specialCharPlaceholder(p[0]),g.setAttribute(\"cm-text\",p[0]),o&&s<9?u.appendChild(D(\"span\",[g])):u.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),o&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||f||a||l){var x=n||\"\";r&&(x+=r),i&&(x+=i);var b=D(\"span\",[u],x,a);if(l)for(var w in l)l.hasOwnProperty(w)&&\"style\"!=w&&\"class\"!=w&&b.setAttribute(w,l[w]);return e.content.appendChild(b)}e.content.appendChild(u)}}function gn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r=\"\",i=0;i<e.length;i++){var a=e.charAt(i);\" \"!=a||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(a=\" \"),r+=a,n=\" \"==a}return r}function _n(e,t){return function(n,r,i,a,o,s,l){i=i?i+\" cm-force-border\":\"cm-force-border\";for(var u=n.pos,c=u+r.length;;){for(var d=void 0,f=0;f<t.length;f++)if(d=t[f],d.to>u&&d.from<=u)break;if(d.to>=c)return e(n,r,i,a,o,s,l);e(n,r.slice(0,d.to-u),i,a,null,s,l),a=null,r=r.slice(d.to-u),u=d.to}}}function yn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement(\"span\"))),i.setAttribute(\"cm-marker\",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function xn(e,t,n){var r=e.markedSpans,i=e.text,a=0;if(r)for(var o,s,l,u,c,d,f,h=i.length,p=0,m=1,v=\"\",g=0;;){if(g==p){l=u=c=s=\"\",f=null,d=null,g=1/0;for(var _=[],y=void 0,x=0;x<r.length;++x){var b=r[x],w=b.marker;if(\"bookmark\"==w.type&&b.from==p&&w.widgetNode)_.push(w);else if(b.from<=p&&(null==b.to||b.to>p||w.collapsed&&b.to==p&&b.from==p)){if(null!=b.to&&b.to!=p&&g>b.to&&(g=b.to,u=\"\"),w.className&&(l+=\" \"+w.className),w.css&&(s=(s?s+\";\":\"\")+w.css),w.startStyle&&b.from==p&&(c+=\" \"+w.startStyle),w.endStyle&&b.to==g&&(y||(y=[])).push(w.endStyle,b.to),w.title&&((f||(f={})).title=w.title),w.attributes)for(var A in w.attributes)(f||(f={}))[A]=w.attributes[A];w.collapsed&&(!d||Wt(d.marker,w)<0)&&(d=b)}else b.from>p&&g>b.from&&(g=b.from)}if(y)for(var T=0;T<y.length;T+=2)y[T+1]==g&&(u+=\" \"+y[T]);if(!d||d.from==p)for(var S=0;S<_.length;++S)yn(t,0,_[S]);if(d&&(d.from||0)==p){if(yn(t,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=h)break;var E=Math.min(h,g);while(1){if(v){var C=p+v.length;if(!d){var M=C>E?v.slice(0,E-p):v;t.addToken(t,M,o?o+l:l,c,p+M.length==g?u:\"\",s,f)}if(C>=E){v=v.slice(E-p),p=E;break}p=C,c=\"\"}v=i.slice(a,a=n[m++]),o=hn(n[m++],t.cm.options)}}else for(var D=1;D<n.length;D+=2)t.addToken(t,i.slice(a,a=n[D]),hn(n[D+1],t.cm.options))}function bn(e,t,n){this.line=t,this.rest=Jt(t),this.size=this.rest?et(X(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function wn(e,t,n){for(var r,i=[],a=t;a<n;a=r){var o=new bn(e.doc,Qe(e.doc,a),a);r=a+o.size,i.push(o)}return i}var An=null;function Tn(e){An?An.ops.push(e):e.ownsGroup=An={ops:[e],delayedCallbacks:[]}}function Sn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)while(i.cursorActivityCalled<i.cursorActivityHandlers.length)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function En(e,t){var n=e.ownsGroup;if(n)try{Sn(n)}finally{An=null,t(n)}}var Cn=null;function Mn(e,t){var n=me(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);An?r=An.delayedCallbacks:Cn?r=Cn:(r=Cn=[],setTimeout(Dn,0));for(var a=function(e){r.push((function(){return n[e].apply(null,i)}))},o=0;o<n.length;++o)a(o)}}function Dn(){var e=Cn;Cn=null;for(var t=0;t<e.length;++t)e[t]()}function Nn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];\"text\"==a?On(e,t):\"gutter\"==a?kn(e,t,n,r):\"class\"==a?Rn(e,t):\"widget\"==a&&Fn(e,t,r)}t.changes=null}function Ln(e){return e.node==e.text&&(e.node=D(\"div\",null,null,\"position: relative\"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),o&&s<8&&(e.node.style.zIndex=2)),e.node}function In(e,t){var n=t.bgClass?t.bgClass+\" \"+(t.line.bgClass||\"\"):t.line.bgClass;if(n&&(n+=\" CodeMirror-linebackground\"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Ln(t);t.background=r.insertBefore(D(\"div\",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Pn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):pn(e,t)}function On(e,t){var n=t.text.className,r=Pn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Rn(e,t)):n&&(t.text.className=n)}function Rn(e,t){In(e,t),t.line.wrapClass?Ln(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=\"\");var n=t.textClass?t.textClass+\" \"+(t.line.textClass||\"\"):t.line.textClass;t.text.className=n||\"\"}function kn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Ln(t);t.gutterBackground=D(\"div\",null,\"CodeMirror-gutter-background \"+t.line.gutterClass,\"left: \"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\"px; width: \"+r.gutterTotalWidth+\"px\"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var o=Ln(t),s=t.gutter=D(\"div\",null,\"CodeMirror-gutter-wrapper\",\"left: \"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\"px\");if(s.setAttribute(\"aria-hidden\",\"true\"),e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=\" \"+t.line.gutterClass),!e.options.lineNumbers||a&&a[\"CodeMirror-linenumbers\"]||(t.lineNumber=s.appendChild(D(\"div\",rt(e.options,n),\"CodeMirror-linenumber CodeMirror-gutter-elt\",\"left: \"+r.gutterLeft[\"CodeMirror-linenumbers\"]+\"px; width: \"+e.display.lineNumInnerWidth+\"px\"))),a)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=a.hasOwnProperty(u)&&a[u];c&&s.appendChild(D(\"div\",[c],\"CodeMirror-gutter-elt\",\"left: \"+r.gutterLeft[u]+\"px; width: \"+r.gutterWidth[u]+\"px\"))}}}function Fn(e,t,n){t.alignable&&(t.alignable=null);for(var r=T(\"CodeMirror-linewidget\"),i=t.node.firstChild,a=void 0;i;i=a)a=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);zn(e,t,n)}function Bn(e,t,n,r){var i=Pn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Rn(e,t),kn(e,t,n,r),zn(e,t,r),t.node}function zn(e,t,n){if(Hn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Hn(e,t.rest[r],t,n,!1)}function Hn(e,t,n,r,i){if(t.widgets)for(var a=Ln(n),o=0,s=t.widgets;o<s.length;++o){var l=s[o],u=D(\"div\",[l.node],\"CodeMirror-linewidget\"+(l.className?\" \"+l.className:\"\"));l.handleMouseEvents||u.setAttribute(\"cm-ignore-events\",\"true\"),Un(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?a.insertBefore(u,n.gutter||n.text):a.appendChild(u),Mn(l,\"redraw\")}}function Un(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+\"px\",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+\"px\"),t.style.width=i+\"px\"}e.coverGutter&&(t.style.zIndex=5,t.style.position=\"relative\",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+\"px\"))}function Gn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!L(document.body,e.node)){var n=\"position: relative;\";e.coverGutter&&(n+=\"margin-left: -\"+t.display.gutters.offsetWidth+\"px;\"),e.noHScroll&&(n+=\"width: \"+t.display.wrapper.clientWidth+\"px;\"),M(t.display.measure,D(\"div\",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function jn(e,t){for(var n=Ee(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&\"true\"==n.getAttribute(\"cm-ignore-events\")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Vn(e){return e.lineSpace.offsetTop}function Wn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function $n(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=M(e.measure,D(\"pre\",\"x\",\"CodeMirror-line-like\")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function qn(e){return U-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-qn(e)-e.display.barWidth}function Xn(e){return e.display.scroller.clientHeight-qn(e)-e.display.barHeight}function Qn(e,t,n){var r=e.options.lineWrapping,i=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=i){var a=t.measure.heights=[];if(r){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&a.push((l.bottom+u.top)/2-n.top)}}a.push(n.bottom-n.top)}}function Kn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(et(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Zn(e,t){t=Kt(t);var n=et(t),r=e.display.externalMeasured=new bn(e.doc,t,n);r.lineN=n;var i=r.built=pn(e,r);return r.text=i.pre,M(e.display.lineMeasure,i.pre),r}function Jn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Rr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(Nn(e,r,n,Nr(e)),e.curOp.forceUpdate=!0),r||(r=Zn(e,t));var i=Kn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function nr(e,t,n,r,i){t.before&&(n=-1);var a,o=n+(r||\"\");return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Qn(e,t.view,t.rect),t.hasHeights=!0),a=sr(e,t,n,r),a.bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}var rr,ir={left:0,right:0,top:0,bottom:0};function ar(e,t,n){for(var r,i,a,o,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,a=1,o=\"left\"):t<l?(i=t-s,a=i+1):(u==e.length-3||t==l&&e[u+3]>t)&&(a=l-s,i=a-1,t>=l&&(o=\"right\")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?\"left\":\"right\")&&(o=n),\"left\"==n&&0==i)while(u&&e[u-2]==e[u-3]&&e[u-1].insertLeft)r=e[2+(u-=3)],o=\"left\";if(\"right\"==n&&i==l-s)while(u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft)r=e[(u+=3)+2],o=\"right\";break}return{node:r,start:i,end:a,collapse:o,coverStart:s,coverEnd:l}}function or(e,t){var n=ir;if(\"left\"==t){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var i=e.length-1;i>=0;i--)if((n=e[i]).left!=n.right)break;return n}function sr(e,t,n,r){var i,a=ar(t.map,n,r),l=a.node,u=a.start,c=a.end,d=a.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){while(u&&ae(t.line.text.charAt(a.coverStart+u)))--u;while(a.coverStart+c<a.coverEnd&&ae(t.line.text.charAt(a.coverStart+c)))++c;if(i=o&&s<9&&0==u&&c==a.coverEnd-a.coverStart?l.parentNode.getBoundingClientRect():or(S(l,u,c).getClientRects(),r),i.left||i.right||0==u)break;c=u,u-=1,d=\"right\"}o&&s<11&&(i=lr(e.display.measure,i))}else{var h;u>0&&(d=r=\"right\"),i=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h[\"right\"==r?h.length-1:0]:l.getBoundingClientRect()}if(o&&s<9&&!u&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Dr(e.display),top:p.top,bottom:p.bottom}:ir}for(var m=i.top-t.rect.top,v=i.bottom-t.rect.top,g=(m+v)/2,_=t.view.measure.heights,y=0;y<_.length-1;y++)if(g<_[y])break;var x=y?_[y-1]:0,b=_[y],w={left:(\"right\"==d?i.right:i.left)-t.rect.left,right:(\"left\"==d?i.left:i.right)-t.rect.left,top:x,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=v),w}function lr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Fe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function ur(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function cr(e){e.display.externalMeasure=null,C(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ur(e.display.view[t])}function dr(e){cr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return c&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hr(){return c&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function pr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Gn(e.widgets[n]));return t}function mr(e,t,n,r,i){if(!i){var a=pr(t);n.top+=a,n.bottom+=a}if(\"line\"==r)return n;r||(r=\"local\");var o=an(t);if(\"local\"==r?o+=Vn(e.display):o-=e.display.viewOffset,\"page\"==r||\"window\"==r){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+(\"window\"==r?0:hr());var l=s.left+(\"window\"==r?0:fr());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function vr(e,t,n){if(\"div\"==n)return t;var r=t.left,i=t.top;if(\"page\"==n)r-=fr(),i-=hr();else if(\"local\"==n||!n){var a=e.display.sizer.getBoundingClientRect();r+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function gr(e,t,n,r,i){return r||(r=Qe(e.doc,t.line)),mr(e,r,Jn(e,r,t.ch,i),n)}function _r(e,t,n,r,i,a){function o(t,o){var s=nr(e,i,t,o?\"right\":\"left\",a);return o?s.left=s.right:s.right=s.left,mr(e,r,s,n)}r=r||Qe(e.doc,t.line),i||(i=tr(e,r));var s=fe(r,e.doc.direction),l=t.ch,u=t.sticky;if(l>=r.text.length?(l=r.text.length,u=\"before\"):l<=0&&(l=0,u=\"after\"),!s)return o(\"before\"==u?l-1:l,\"before\"==u);function c(e,t,n){var r=s[t],i=1==r.level;return o(n?e-1:e,i!=n)}var d=ce(s,l,u),f=ue,h=c(l,d,\"before\"==u);return null!=f&&(h.other=c(l,f,\"before\"!=u)),h}function yr(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=Dr(e.display)*t.ch);var r=Qe(e.doc,t.line),i=an(r)+Vn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function xr(e,t,n,r,i){var a=it(e,t,n);return a.xRel=i,r&&(a.outside=r),a}function br(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return xr(r.first,0,null,-1,-1);var i=tt(r,n),a=r.first+r.size-1;if(i>a)return xr(r.first+r.size-1,Qe(r,a).text.length,null,1,1);t<0&&(t=0);for(var o=Qe(r,i);;){var s=Sr(e,o,i,t,n),l=Xt(o,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;o=Qe(r,i=u.line)}}function wr(e,t,n,r){r-=pr(t);var i=t.text.length,a=se((function(t){return nr(e,n,t-1).bottom<=r}),i,0);return i=se((function(t){return nr(e,n,t).top>r}),a,i),{begin:a,end:i}}function Ar(e,t,n,r){n||(n=tr(e,t));var i=mr(e,t,nr(e,n,r),\"line\").top;return wr(e,t,n,i)}function Tr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Sr(e,t,n,r,i){i-=an(t);var a=tr(e,t),o=pr(t),s=0,l=t.text.length,u=!0,c=fe(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?Cr:Er)(e,t,n,a,c,r,i);u=1!=d.level,s=u?d.from:d.to-1,l=u?d.to:d.from-1}var f,h,p=null,m=null,v=se((function(t){var n=nr(e,a,t);return n.top+=o,n.bottom+=o,!!Tr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)}),s,l),g=!1;if(m){var _=r-m.left<m.right-r,y=_==u;v=p+(y?0:1),h=y?\"after\":\"before\",f=_?m.left:m.right}else{u||v!=l&&v!=s||v++,h=0==v?\"after\":v==t.text.length?\"before\":nr(e,a,v-(u?1:0)).bottom+o<=i==u?\"after\":\"before\";var x=_r(e,it(n,v,h),\"line\",t,a);f=x.left,g=i<x.top?-1:i>=x.bottom?1:0}return v=oe(t.text,v,1),xr(n,v,h,g,r-f)}function Er(e,t,n,r,i,a,o){var s=se((function(s){var l=i[s],u=1!=l.level;return Tr(_r(e,it(n,u?l.to:l.from,u?\"before\":\"after\"),\"line\",t,r),a,o,!0)}),0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=_r(e,it(n,u?l.from:l.to,u?\"after\":\"before\"),\"line\",t,r);Tr(c,a,o,!0)&&c.top>o&&(l=i[s-1])}return l}function Cr(e,t,n,r,i,a,o){var s=wr(e,t,r,o),l=s.begin,u=s.end;/\\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,f=0;f<i.length;f++){var h=i[f];if(!(h.from>=u||h.to<=l)){var p=1!=h.level,m=nr(e,r,p?Math.min(u,h.to)-1:Math.max(l,h.from)).right,v=m<a?a-m+1e9:m-a;(!c||d>v)&&(c=h,d=v)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Mr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=D(\"pre\",null,\"CodeMirror-line-like\");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode(\"x\")),rr.appendChild(D(\"br\"));rr.appendChild(document.createTextNode(\"x\"))}M(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),C(e.measure),n||1}function Dr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=D(\"span\",\"xxxxxxxxxx\"),n=D(\"pre\",[t],\"CodeMirror-line-like\");M(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Nr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var s=e.display.gutterSpecs[o].className;n[s]=a.offsetLeft+a.clientLeft+i,r[s]=a.clientWidth}return{fixedPos:Lr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Lr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ir(e){var t=Mr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Dr(e.display)-3);return function(i){if(nn(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return n?a+(Math.ceil(i.text.length/r)||1)*t:a+t}}function Pr(e){var t=e.doc,n=Ir(e);t.iter((function(e){var t=n(e);t!=e.height&&Je(e,t)}))}function Or(e,t,n,r){var i=e.display;if(!n&&\"true\"==Ee(t).getAttribute(\"cm-not-content\"))return null;var a,o,s=i.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,o=t.clientY-s.top}catch(d){return null}var l,u=br(e,a,o);if(r&&u.xRel>0&&(l=Qe(e.doc,u.line).text).length==u.ch){var c=B(l,l.length,e.options.tabSize)-l.length;u=it(u.line,Math.max(0,Math.round((a-$n(e.display).left)/Dr(e.display))-c))}return u}function Rr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function kr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Dt&&en(e.doc,t)<i.viewTo&&Br(e);else if(n<=i.viewFrom)Dt&&tn(e.doc,n+r)>i.viewFrom?Br(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Br(e);else if(t<=i.viewFrom){var a=zr(e,n,n+r,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=r):Br(e)}else if(n>=i.viewTo){var o=zr(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Br(e)}else{var s=zr(e,t,t,-1),l=zr(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(wn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Br(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function Fr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var a=r.view[Rr(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==H(o,n)&&o.push(n)}}}function Br(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function zr(e,t,n,r){var i,a=Rr(e,t),o=e.display.view;if(!Dt||n==e.doc.first+e.doc.size)return{index:a,lineN:n};for(var s=e.display.viewFrom,l=0;l<a;l++)s+=o[l].size;if(s!=t){if(r>0){if(a==o.length-1)return null;i=s+o[a].size-t,a++}else i=s-t;t+=i,n+=i}while(en(e.doc,n)!=n){if(a==(r<0?0:o.length-1))return null;n+=r*o[a-(r<0?1:0)].size,a+=r}return{index:a,lineN:n}}function Hr(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=wn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=wn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Rr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(wn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Rr(e,n)))),r.viewTo=n}function Ur(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Gr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function jr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),a=r.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t||o!=n.sel.primIndex){var s=n.sel.ranges[o];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Vr(e,s.head,i),l||$r(e,s,a)}}return r}function Vr(e,t,n){var r=_r(e,t,\"div\",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(D(\"div\",\" \",\"CodeMirror-cursor\"));if(i.style.left=r.left+\"px\",i.style.top=r.top+\"px\",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+\"px\",r.other){var a=n.appendChild(D(\"div\",\" \",\"CodeMirror-cursor CodeMirror-secondarycursor\"));a.style.display=\"\",a.style.left=r.other.left+\"px\",a.style.top=r.other.top+\"px\",a.style.height=.85*(r.other.bottom-r.other.top)+\"px\"}}function Wr(e,t){return e.top-t.top||e.left-t.left}function $r(e,t,n){var r=e.display,i=e.doc,a=document.createDocumentFragment(),o=$n(e.display),s=o.left,l=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-o.right,u=\"ltr\"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),a.appendChild(D(\"div\",null,\"CodeMirror-selected\",\"position: absolute; left: \"+e+\"px;\\n                             top: \"+t+\"px; width: \"+(null==n?l-e:n)+\"px;\\n                             height: \"+(r-t)+\"px\"))}function d(t,n,r){var a,o,d=Qe(i,t),f=d.text.length;function h(n,r){return gr(e,it(t,n),\"div\",d,r)}function p(t,n,r){var i=Ar(e,d,null,t),a=\"ltr\"==n==(\"after\"==r)?\"left\":\"right\",o=\"after\"==r?i.begin:i.end-(/\\s/.test(d.text.charAt(i.end-1))?2:1);return h(o,a)[a]}var m=fe(d,i.direction);return le(m,n||0,null==r?f:r,(function(e,t,i,d){var v=\"ltr\"==i,g=h(e,v?\"left\":\"right\"),_=h(t-1,v?\"right\":\"left\"),y=null==n&&0==e,x=null==r&&t==f,b=0==d,w=!m||d==m.length-1;if(_.top-g.top<=3){var A=(u?y:x)&&b,T=(u?x:y)&&w,S=A?s:(v?g:_).left,E=T?l:(v?_:g).right;c(S,g.top,E-S,g.bottom)}else{var C,M,D,N;v?(C=u&&y&&b?s:g.left,M=u?l:p(e,i,\"before\"),D=u?s:p(t,i,\"after\"),N=u&&x&&w?l:_.right):(C=u?p(e,i,\"before\"):s,M=!u&&y&&b?l:g.right,D=!u&&x&&w?s:_.left,N=u?p(t,i,\"after\"):l),c(C,g.top,M-C,g.bottom),g.bottom<_.top&&c(s,g.bottom,null,_.top),c(D,_.top,N-D,_.bottom)}(!a||Wr(g,a)<0)&&(a=g),Wr(_,a)<0&&(a=_),(!o||Wr(g,o)<0)&&(o=g),Wr(_,o)<0&&(o=_)})),{start:a,end:o}}var f=t.from(),h=t.to();if(f.line==h.line)d(f.line,f.ch,h.ch);else{var p=Qe(i,f.line),m=Qe(i,h.line),v=Kt(p)==Kt(m),g=d(f.line,f.ch,v?p.text.length+1:null).end,_=d(h.line,v?0:null,h.ch).start;v&&(g.top<_.top-2?(c(g.right,g.top,null,g.bottom),c(s,_.top,_.left,_.bottom)):c(g.right,g.top,_.left-g.right,g.bottom)),g.bottom<_.top&&c(s,g.bottom,null,_.top)}n.appendChild(a)}function qr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility=\"\",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Kr(e),t.cursorDiv.style.visibility=(n=!n)?\"\":\"hidden\"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility=\"hidden\")}}function Yr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qr(e))}function Xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Kr(e))}),100)}function Qr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),\"nocursor\"!=e.options.readOnly&&(e.state.focused||(ge(e,\"focus\",e,t),e.state.focused=!0,P(e.display.wrapper,\"CodeMirror-focused\"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),qr(e))}function Kr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ge(e,\"blur\",e,t),e.state.focused=!1,E(e.display.wrapper,\"CodeMirror-focused\")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Zr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],a=e.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(o&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-n,n=c}else{var d=i.node.getBoundingClientRect();l=d.bottom-d.top,!a&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-l;if((f>.005||f<-.005)&&(Je(i.line,l),Jr(i.line),i.rest))for(var h=0;h<i.rest.length;h++)Jr(i.rest[h]);if(u>e.display.sizerWidth){var p=Math.ceil(u/Dr(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Jr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ei(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Vn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,a=tt(t,r),o=tt(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<a?(a=s,o=tt(t,an(Qe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(a=tt(t,an(Qe(t,l))-e.wrapper.clientHeight),o=l)}return{from:a,to:Math.max(o,a+1)}}function ti(e,t){if(!_e(e,\"scrollCursorIntoView\")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var a=D(\"div\",\"​\",null,\"position: absolute;\\n                         top: \"+(t.top-n.viewOffset-Vn(e.display))+\"px;\\n                         height: \"+(t.bottom-t.top+qn(e)+n.barHeight)+\"px;\\n                         left: \"+t.left+\"px; width: \"+Math.max(2,t.right-t.left)+\"px;\");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function ni(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n=\"before\"==t.sticky?it(t.line,t.ch+1,\"before\"):t,t=t.ch?it(t.line,\"before\"==t.sticky?t.ch-1:t.ch,\"after\"):t);for(var a=0;a<5;a++){var o=!1,s=_r(e,t),l=n&&n!=t?_r(e,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var u=ii(e,i),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(di(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=u.scrollLeft&&(hi(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(o=!0)),!o)break}return i}function ri(e,t){var n=ii(e,t);null!=n.scrollTop&&di(e,n.scrollTop),null!=n.scrollLeft&&hi(e,n.scrollLeft)}function ii(e,t){var n=e.display,r=Mr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,a=Xn(e),o={};t.bottom-t.top>a&&(t.bottom=t.top+a);var s=e.doc.height+Wn(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)o.scrollTop=l?0:t.top;else if(t.bottom>i+a){var c=Math.min(t.top,(u?s:t.bottom)-a);c!=i&&(o.scrollTop=c)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,h=Yn(e)-n.gutters.offsetWidth,p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?o.scrollLeft=0:t.left<f?o.scrollLeft=Math.max(0,t.left+d-(p?0:10)):t.right>h+f-3&&(o.scrollLeft=t.right+(p?0:10)-h),o}function ai(e,t){null!=t&&(ui(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function oi(e){ui(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function si(e,t,n){null==t&&null==n||ui(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function li(e,t){ui(e),e.curOp.scrollToPos=t}function ui(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=yr(e,t.from),r=yr(e,t.to);ci(e,n,r,t.margin)}}function ci(e,t,n,r){var i=ii(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});si(e,i.scrollLeft,i.scrollTop)}function di(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Gi(e,{top:t}),fi(e,t,!0),n&&Gi(e),Oi(e,100))}function fi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,$i(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function pi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Wn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+qn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var mi=function(e,t,n){this.cm=n;var r=this.vert=D(\"div\",[D(\"div\",null,null,\"min-width: 1px\")],\"CodeMirror-vscrollbar\"),i=this.horiz=D(\"div\",[D(\"div\",null,null,\"height: 100%; min-height: 1px\")],\"CodeMirror-hscrollbar\");r.tabIndex=i.tabIndex=-1,e(r),e(i),pe(r,\"scroll\",(function(){r.clientHeight&&t(r.scrollTop,\"vertical\")})),pe(i,\"scroll\",(function(){i.clientWidth&&t(i.scrollLeft,\"horizontal\")})),this.checkedZeroWidth=!1,o&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth=\"18px\")};mi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display=\"block\",this.vert.style.bottom=t?r+\"px\":\"0\";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+\"px\"}else this.vert.style.display=\"\",this.vert.firstChild.style.height=\"0\";if(t){this.horiz.style.display=\"block\",this.horiz.style.right=n?r+\"px\":\"0\",this.horiz.style.left=e.barLeft+\"px\";var a=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+a)+\"px\"}else this.horiz.style.display=\"\",this.horiz.firstChild.style.width=\"0\";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},mi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,\"horiz\")},mi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,\"vert\")},mi.prototype.zeroWidthHack=function(){var e=_&&!h?\"12px\":\"18px\";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents=\"none\",this.disableHoriz=new z,this.disableVert=new z},mi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),a=\"vert\"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);a!=e?e.style.pointerEvents=\"none\":t.set(1e3,r)}e.style.pointerEvents=\"auto\",t.set(1e3,r)},mi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var vi=function(){};function gi(e,t){t||(t=pi(e));var n=e.display.barWidth,r=e.display.barHeight;_i(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Zr(e),_i(e,pi(e)),n=e.display.barWidth,r=e.display.barHeight}function _i(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+\"px\",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+\"px\",n.heightForcer.style.borderBottom=r.bottom+\"px solid transparent\",r.right&&r.bottom?(n.scrollbarFiller.style.display=\"block\",n.scrollbarFiller.style.height=r.bottom+\"px\",n.scrollbarFiller.style.width=r.right+\"px\"):n.scrollbarFiller.style.display=\"\",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display=\"block\",n.gutterFiller.style.height=r.bottom+\"px\",n.gutterFiller.style.width=t.gutterWidth+\"px\"):n.gutterFiller.style.display=\"\"}vi.prototype.update=function(){return{bottom:0,right:0}},vi.prototype.setScrollLeft=function(){},vi.prototype.setScrollTop=function(){},vi.prototype.clear=function(){};var yi={native:mi,null:vi};function xi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new yi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,\"mousedown\",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute(\"cm-not-content\",\"true\")}),(function(t,n){\"horizontal\"==n?hi(e,t):di(e,t)}),e),e.display.scrollbars.addClass&&P(e.display.wrapper,e.display.scrollbars.addClass)}var bi=0;function wi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++bi,markArrays:null},Tn(e.curOp)}function Ai(e){var t=e.curOp;t&&En(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Ti(e)}))}function Ti(e){for(var t=e.ops,n=0;n<t.length;n++)Si(t[n]);for(var r=0;r<t.length;r++)Ei(t[r]);for(var i=0;i<t.length;i++)Ci(t[i]);for(var a=0;a<t.length;a++)Mi(t[a]);for(var o=0;o<t.length;o++)Di(t[o])}function Si(e){var t=e.cm,n=t.display;Fi(t),e.updateMaxLine&&sn(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ki(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ei(e){e.updatedDisplay=e.mustUpdate&&Hi(e.cm,e.update)}function Ci(e){var t=e.cm,n=t.display;e.updatedDisplay&&Zr(t),e.barMeasure=pi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Jn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Mi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+\"px\",e.maxScrollLeft<t.doc.scrollLeft&&hi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&gi(t,e.barMeasure),e.updatedDisplay&&Wi(t,e.barMeasure),e.selectionChanged&&qr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function Di(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Ui(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&hi(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=ni(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin);ti(t,i)}var a=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(a)for(var s=0;s<a.length;++s)a[s].lines.length||ge(a[s],\"hide\");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&ge(o[l],\"unhide\");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ge(t,\"changes\",t,e.changeObjs),e.update&&e.update.finish()}function Ni(e,t){if(e.curOp)return t();wi(e);try{return t()}finally{Ai(e)}}function Li(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wi(e);try{return t.apply(e,arguments)}finally{Ai(e)}}}function Ii(e){return function(){if(this.curOp)return e.apply(this,arguments);wi(this);try{return e.apply(this,arguments)}finally{Ai(this)}}}function Pi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wi(t);try{return e.apply(this,arguments)}finally{Ai(t)}}}function Oi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,k(Ri,e))}function Ri(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=_t(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(a){if(r.line>=e.display.viewFrom){var o=a.styles,s=a.text.length>e.options.maxHighlightLength?$e(t.mode,r.state):null,l=vt(e,a,r,!0);s&&(r.state=s),a.styles=l.styles;var u=a.styleClasses,c=l.classes;c?a.styleClasses=c:u&&(a.styleClasses=null);for(var d=!o||o.length!=a.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!d&&f<o.length;++f)d=o[f]!=a.styles[f];d&&i.push(r.line),a.stateAfter=r.save(),r.nextLine()}else a.text.length<=e.options.maxHighlightLength&&yt(e,a.text,r),a.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Oi(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Ni(e,(function(){for(var t=0;t<i.length;t++)Fr(e,i[t],\"text\")}))}}var ki=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ei(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Nr(e),this.events=[]};function Fi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qn(e)+\"px\",t.sizer.style.marginBottom=-t.nativeBarWidth+\"px\",t.sizer.style.borderRightWidth=qn(e)+\"px\",t.scrollbarsClipped=!0)}function Bi(e){if(e.hasFocus())return null;var t=I();if(!t||!L(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&L(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function zi(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&L(document.body,e.anchorNode)&&L(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Hi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Br(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ur(e))return!1;qi(e)&&(Br(e),t.dims=Nr(e));var i=r.first+r.size,a=Math.max(t.visible.from-e.options.viewportMargin,r.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(r.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(i,n.viewTo)),Dt&&(a=en(e.doc,a),o=tn(e.doc,o));var s=a!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Hr(e,a,o),n.viewOffset=an(Qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+\"px\";var l=Ur(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Bi(e);return l>4&&(n.lineDiv.style.display=\"none\"),ji(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=\"\"),n.renderedView=n.view,zi(u),C(n.cursorDiv),C(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Oi(e,400)),n.updateLineNumbers=null,!0}function Ui(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=ei(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Wn(e.display)-Xn(e),n.top)}),t.visible=ei(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Hi(e,t))break;Zr(e);var i=pi(e);Gr(e),gi(e,i),Wi(e,i),t.force=!1}t.signal(e,\"update\",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,\"viewportChange\",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Gi(e,t){var n=new ki(e,t);if(Hi(e,n)){Zr(e),Ui(e,n);var r=pi(e);Gr(e),gi(e,r),Wi(e,r),n.finish()}}function ji(e,t,n){var r=e.display,i=e.options.lineNumbers,a=r.lineDiv,o=a.firstChild;function s(t){var n=t.nextSibling;return l&&_&&e.display.currentWheelTarget==t?t.style.display=\"none\":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==a){while(o!=f.node)o=s(o);var h=i&&null!=t&&t<=c&&f.lineNumber;f.changes&&(H(f.changes,\"gutter\")>-1&&(h=!1),Nn(e,f,c,n)),h&&(C(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(rt(e.options,c)))),o=f.node.nextSibling}else{var p=Bn(e,f,c,n);a.insertBefore(p,o)}c+=f.size}while(o)o=s(o)}function Vi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+\"px\",Mn(e,\"gutterChanged\",e)}function Wi(e,t){e.display.sizer.style.minHeight=t.docHeight+\"px\",e.display.heightForcer.style.top=t.docHeight+\"px\",e.display.gutters.style.height=t.docHeight+e.display.barHeight+qn(e)+\"px\"}function $i(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Lr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=r+\"px\",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&(n[o].gutter&&(n[o].gutter.style.left=a),n[o].gutterBackground&&(n[o].gutterBackground.style.left=a));var s=n[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=r+i+\"px\")}}function qi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(D(\"div\",[D(\"div\",n)],\"CodeMirror-linenumber CodeMirror-gutter-elt\")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return r.lineGutter.style.width=\"\",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-o)+1,r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+\"px\",Vi(e.display),!0}return!1}function Yi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var a=e[i],o=null;if(\"string\"!=typeof a&&(o=a.style,a=a.className),\"CodeMirror-linenumbers\"==a){if(!t)continue;r=!0}n.push({className:a,style:o})}return t&&!r&&n.push({className:\"CodeMirror-linenumbers\",style:null}),n}function Xi(e){var t=e.gutters,n=e.gutterSpecs;C(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],a=i.className,o=i.style,s=t.appendChild(D(\"div\",null,\"CodeMirror-gutter \"+a));o&&(s.style.cssText=o),\"CodeMirror-linenumbers\"==a&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+\"px\")}t.style.display=n.length?\"\":\"none\",Vi(e)}function Qi(e){Xi(e.display),kr(e),$i(e)}function Ki(e,t,r,i){var a=this;this.input=r,a.scrollbarFiller=D(\"div\",null,\"CodeMirror-scrollbar-filler\"),a.scrollbarFiller.setAttribute(\"cm-not-content\",\"true\"),a.gutterFiller=D(\"div\",null,\"CodeMirror-gutter-filler\"),a.gutterFiller.setAttribute(\"cm-not-content\",\"true\"),a.lineDiv=N(\"div\",null,\"CodeMirror-code\"),a.selectionDiv=D(\"div\",null,null,\"position: relative; z-index: 1\"),a.cursorDiv=D(\"div\",null,\"CodeMirror-cursors\"),a.measure=D(\"div\",null,\"CodeMirror-measure\"),a.lineMeasure=D(\"div\",null,\"CodeMirror-measure\"),a.lineSpace=N(\"div\",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,\"position: relative; outline: none\");var u=N(\"div\",[a.lineSpace],\"CodeMirror-lines\");a.mover=D(\"div\",[u],null,\"position: relative\"),a.sizer=D(\"div\",[a.mover],\"CodeMirror-sizer\"),a.sizerWidth=null,a.heightForcer=D(\"div\",null,null,\"position: absolute; height: \"+U+\"px; width: 1px;\"),a.gutters=D(\"div\",null,\"CodeMirror-gutters\"),a.lineGutter=null,a.scroller=D(\"div\",[a.sizer,a.heightForcer,a.gutters],\"CodeMirror-scroll\"),a.scroller.setAttribute(\"tabIndex\",\"-1\"),a.wrapper=D(\"div\",[a.scrollbarFiller,a.gutterFiller,a.scroller],\"CodeMirror\"),o&&s<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),l||n&&g||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Yi(i.gutters,i.lineNumbers),Xi(a),r.init(a)}ki.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},ki.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ge.apply(null,this.events[e])};var Zi=0,Ji=null;function ea(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ta(e){var t=ea(e);return t.x*=Ji,t.y*=Ji,t}function na(e,t){var r=ea(t),i=r.x,a=r.y,o=e.display,s=o.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||a&&c){if(a&&_&&l)e:for(var f=t.target,h=o.view;f!=s;f=f.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!d&&null!=Ji)return a&&c&&di(e,Math.max(0,s.scrollTop+a*Ji)),hi(e,Math.max(0,s.scrollLeft+i*Ji)),(!a||a&&c)&&we(t),void(o.wheelStartX=null);if(a&&null!=Ji){var m=a*Ji,v=e.doc.scrollTop,g=v+o.wrapper.clientHeight;m<0?v=Math.max(0,v+m-50):g=Math.min(e.doc.height,g+m+50),Gi(e,{top:v,bottom:g})}Zi<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=a,setTimeout((function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ji=(Ji*Zi+n)/(Zi+1),++Zi)}}),200)):(o.wheelDX+=i,o.wheelDY+=a))}}o?Ji=-.53:n?Ji=15:c?Ji=-.7:f&&(Ji=-1/3);var ra=function(e,t){this.ranges=e,this.primIndex=t};ra.prototype.primary=function(){return this.ranges[this.primIndex]},ra.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ot(n.anchor,r.anchor)||!ot(n.head,r.head))return!1}return!0},ra.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ia(st(this.ranges[t].anchor),st(this.ranges[t].head));return new ra(e,this.primIndex)},ra.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ra.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(at(t,r.from())>=0&&at(e,r.to())<=0)return n}return-1};var ia=function(e,t){this.anchor=e,this.head=t};function aa(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return at(e.from(),t.from())})),n=H(t,i);for(var a=1;a<t.length;a++){var o=t[a],s=t[a-1],l=at(s.to(),o.from());if(r&&!o.empty()?l>0:l>=0){var u=ut(s.from(),o.from()),c=lt(s.to(),o.to()),d=s.empty()?o.from()==o.head:s.from()==s.head;a<=n&&--n,t.splice(--a,2,new ia(d?c:u,d?u:c))}}return new ra(t,n)}function oa(e,t){return new ra([new ia(e,t||e)],0)}function sa(e){return e.text?it(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function la(e,t){if(at(e,t.from)<0)return e;if(at(e,t.to)<=0)return sa(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=sa(t).ch-t.to.ch),it(n,r)}function ua(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new ia(la(i.anchor,t),la(i.head,t)))}return aa(e.cm,n,e.sel.primIndex)}function ca(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function da(e,t,n){for(var r=[],i=it(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=ca(s.from,i,a),u=ca(sa(s),i,a);if(i=s.to,a=u,\"around\"==n){var c=e.sel.ranges[o],d=at(c.head,c.anchor)<0;r[o]=new ia(d?u:l,d?l:u)}else r[o]=new ia(l,l)}return new ra(r,e.sel.primIndex)}function fa(e){e.doc.mode=je(e.options,e.doc.modeOption),ha(e)}function ha(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Oi(e,100),e.state.modeGen++,e.curOp&&kr(e)}function pa(e,t){return 0==t.from.ch&&0==t.to.ch&&\"\"==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function ma(e,t,n,r){function i(e){return n?n[e]:null}function a(e,n,i){un(e,n,i,r),Mn(e,\"change\",e,t)}function o(e,t){for(var n=[],a=e;a<t;++a)n.push(new ln(u[a],i(a),r));return n}var s=t.from,l=t.to,u=t.text,c=Qe(e,s.line),d=Qe(e,l.line),f=X(u),h=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(pa(e,t)){var m=o(0,u.length-1);a(d,d.text,h),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(c==d)if(1==u.length)a(c,c.text.slice(0,s.ch)+f+c.text.slice(l.ch),h);else{var v=o(1,u.length-1);v.push(new ln(f+c.text.slice(l.ch),h,r)),a(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,v)}else if(1==u.length)a(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{a(c,c.text.slice(0,s.ch)+u[0],i(0)),a(d,f+d.text.slice(l.ch),h);var g=o(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,g)}Mn(e,\"change\",e,t)}function va(e,t,n){function r(e,i,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function ga(e,t){if(t.cm)throw new Error(\"This document is already in use.\");e.doc=t,t.cm=e,Pr(e),fa(e),_a(e),e.options.direction=t.direction,e.options.lineWrapping||sn(e),e.options.mode=t.modeOption,kr(e)}function _a(e){(\"rtl\"==e.doc.direction?P:E)(e.display.lineDiv,\"CodeMirror-rtl\")}function ya(e){Ni(e,(function(){_a(e),kr(e)}))}function xa(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function ba(e,t){var n={from:st(t.from),to:sa(t),text:Ke(e,t.from,t.to)};return Ma(e,n,t.from.line,t.to.line+1),va(e,(function(e){return Ma(e,n,t.from.line,t.to.line+1)}),!0),n}function wa(e){while(e.length){var t=X(e);if(!t.ranges)break;e.pop()}}function Aa(e,t){return t?(wa(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}function Ta(e,t,n,r){var i=e.history;i.undone.length=0;var a,o,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(\"+\"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||\"*\"==t.origin.charAt(0)))&&(a=Aa(i,i.lastOp==r)))o=X(a.changes),0==at(t.from,t.to)&&0==at(t.from,o.to)?o.to=sa(t):a.changes.push(ba(e,t));else{var l=X(i.done);l&&l.ranges||Ca(e.sel,i.done),a={changes:[ba(e,t)],generation:i.generation},i.done.push(a);while(i.done.length>i.undoDepth)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,o||ge(e,\"historyAdded\")}function Sa(e,t,n,r){var i=t.charAt(0);return\"*\"==i||\"+\"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ea(e,t,n,r){var i=e.history,a=r&&r.origin;n==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||Sa(e,a,X(i.done),t))?i.done[i.done.length-1]=t:Ca(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=n,r&&!1!==r.clearRedo&&wa(i.undone)}function Ca(e,t){var n=X(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ma(e,t,n,r){var i=t[\"spans_\"+e.id],a=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t[\"spans_\"+e.id]={}))[a]=n.markedSpans),++a}))}function Da(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Na(e,t){var n=t[\"spans_\"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Da(n[i]));return r}function La(e,t){var n=Na(e,t),r=Bt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var a=n[i],o=r[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<a.length;++u)if(a[u].marker==l.marker)continue e;a.push(l)}else o&&(n[i]=o)}return n}function Ia(e,t,n){for(var r=[],i=0;i<e.length;++i){var a=e[i];if(a.ranges)r.push(n?ra.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];r.push({changes:s});for(var l=0;l<o.length;++l){var u=o[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\\d+)$/))&&H(t,Number(c[1]))>-1&&(X(s)[d]=u[d],delete u[d])}}}return r}function Pa(e,t,n,r){if(r){var i=e.anchor;if(n){var a=at(t,i)<0;a!=at(n,i)<0?(i=t,t=n):a!=at(t,n)<0&&(t=n)}return new ia(i,t)}return new ia(n||t,t)}function Oa(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ha(e,new ra([Pa(e.sel.primary(),t,n,i)],0),r)}function Ra(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)r[a]=Pa(e.sel.ranges[a],t[a],null,i);var o=aa(e.cm,r,e.sel.primIndex);Ha(e,o,n)}function ka(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ha(e,aa(e.cm,i,e.sel.primIndex),r)}function Fa(e,t,n,r){Ha(e,oa(t,n),r)}function Ba(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ia(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return ge(e,\"beforeSelectionChange\",e,r),e.cm&&ge(e.cm,\"beforeSelectionChange\",e.cm,r),r.ranges!=t.ranges?aa(e.cm,r.ranges,r.ranges.length-1):t}function za(e,t,n){var r=e.history.done,i=X(r);i&&i.ranges?(r[r.length-1]=t,Ua(e,t,n)):Ha(e,t,n)}function Ha(e,t,n){Ua(e,t,n),Ea(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ua(e,t,n){(xe(e,\"beforeSelectionChange\")||e.cm&&xe(e.cm,\"beforeSelectionChange\"))&&(t=Ba(e,t,n));var r=n&&n.bias||(at(t.primary().head,e.sel.primary().head)<0?-1:1);Ga(e,Va(e,t,r,!0)),n&&!1===n.scroll||!e.cm||\"nocursor\"==e.cm.getOption(\"readOnly\")||oi(e.cm)}function Ga(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ye(e.cm)),Mn(e,\"cursorActivity\",e))}function ja(e){Ga(e,Va(e,e.sel,null,!1))}function Va(e,t,n,r){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],l=$a(e,o.anchor,s&&s.anchor,n,r),u=$a(e,o.head,s&&s.head,n,r);(i||l!=o.anchor||u!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new ia(l,u))}return i?aa(e.cm,i,t.primIndex):t}function Wa(e,t,n,r,i){var a=Qe(e,t.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var s=a.markedSpans[o],l=s.marker,u=\"selectLeft\"in l?!l.selectLeft:l.inclusiveLeft,c=\"selectRight\"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(ge(l,\"beforeCursorEnter\"),l.explicitlyCleared)){if(a.markedSpans){--o;continue}break}if(!l.atomic)continue;if(n){var d=l.find(r<0?1:-1),f=void 0;if((r<0?c:u)&&(d=qa(e,d,-r,d&&d.line==t.line?a:null)),d&&d.line==t.line&&(f=at(d,n))&&(r<0?f<0:f>0))return Wa(e,d,t,r,i)}var h=l.find(r<0?-1:1);return(r<0?u:c)&&(h=qa(e,h,r,h.line==t.line?a:null)),h?Wa(e,h,t,r,i):null}}return t}function $a(e,t,n,r,i){var a=r||1,o=Wa(e,t,n,a,i)||!i&&Wa(e,t,n,a,!0)||Wa(e,t,n,-a,i)||!i&&Wa(e,t,n,-a,!0);return o||(e.cantEdit=!0,it(e.first,0))}function qa(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,it(t.line-1)):null:n>0&&t.ch==(r||Qe(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function Ya(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),j)}function Xa(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,a){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),i&&(r.text=i),void 0!==a&&(r.origin=a)}),ge(e,\"beforeChange\",e,r),e.cm&&ge(e.cm,\"beforeChange\",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Qa(e,t,n){if(e.cm){if(!e.cm.curOp)return Li(e.cm,Qa)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(xe(e,\"beforeChange\")||e.cm&&xe(e.cm,\"beforeChange\"))||(t=Xa(e,t,!0),t)){var r=Mt&&!n&&Ht(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Ka(e,{from:r[i].from,to:r[i].to,text:i?[\"\"]:t.text,origin:t.origin});else Ka(e,t)}}function Ka(e,t){if(1!=t.text.length||\"\"!=t.text[0]||0!=at(t.from,t.to)){var n=ua(e,t);Ta(e,t,n,e.cm?e.cm.curOp.id:NaN),eo(e,t,n,Bt(e,t));var r=[];va(e,(function(e,n){n||-1!=H(r,e.history)||(ao(e.history,t),r.push(e.history)),eo(e,t,null,Bt(e,t))}))}}function Za(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,a=e.history,o=e.sel,s=\"undo\"==t?a.done:a.undone,l=\"undo\"==t?a.undone:a.done,u=0;u<s.length;u++)if(i=s[u],n?i.ranges&&!i.equals(e.sel):!i.ranges)break;if(u!=s.length){for(a.lastOrigin=a.lastSelOrigin=null;;){if(i=s.pop(),!i.ranges){if(r)return void s.push(i);break}if(Ca(i,l),n&&!i.equals(e.sel))return void Ha(e,i,{clearRedo:!1});o=i}var c=[];Ca(o,l),l.push({changes:c,generation:a.generation}),a.generation=i.generation||++a.maxGeneration;for(var d=xe(e,\"beforeChange\")||e.cm&&xe(e.cm,\"beforeChange\"),f=function(n){var r=i.changes[n];if(r.origin=t,d&&!Xa(e,r,!1))return s.length=0,{};c.push(ba(e,r));var a=n?ua(e,r):X(s);eo(e,r,a,La(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:sa(r)});var o=[];va(e,(function(e,t){t||-1!=H(o,e.history)||(ao(e.history,r),o.push(e.history)),eo(e,r,null,La(e,r))}))},h=i.changes.length-1;h>=0;--h){var p=f(h);if(p)return p.v}}}}function Ja(e,t){if(0!=t&&(e.first+=t,e.sel=new ra(Q(e.sel.ranges,(function(e){return new ia(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){kr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Fr(e.cm,r,\"gutter\")}}function eo(e,t,n,r){if(e.cm&&!e.cm.curOp)return Li(e.cm,eo)(e,t,n,r);if(t.to.line<e.first)Ja(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ja(e,i),t={from:it(e.first,0),to:it(t.to.line+i,t.to.ch),text:[X(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:it(a,Qe(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ke(e,t.from,t.to),n||(n=ua(e,t)),e.cm?to(e.cm,t,r):ma(e,t,r),Ua(e,n,j),e.cantEdit&&$a(e,it(e.firstLine(),0))&&(e.cantEdit=!1)}}function to(e,t,n){var r=e.doc,i=e.display,a=t.from,o=t.to,s=!1,l=a.line;e.options.lineWrapping||(l=et(Kt(Qe(r,a.line))),r.iter(l,o.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ye(e),ma(r,t,n,Ir(e)),e.options.lineWrapping||(r.iter(l,a.line+t.text.length,(function(e){var t=on(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Ct(r,a.line),Oi(e,400);var u=t.text.length-(o.line-a.line)-1;t.full?kr(e):a.line!=o.line||1!=t.text.length||pa(e.doc,t)?kr(e,a.line,o.line+1,u):Fr(e,a.line,\"text\");var c=xe(e,\"changes\"),d=xe(e,\"change\");if(d||c){var f={from:a,to:o,text:t.text,removed:t.removed,origin:t.origin};d&&Mn(e,\"change\",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function no(e,t,n,r,i){var a;r||(r=n),at(r,n)<0&&(a=[r,n],n=a[0],r=a[1]),\"string\"==typeof t&&(t=e.splitLines(t)),Qa(e,{from:n,to:r,text:t,origin:i})}function ro(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function io(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||(a=e[i]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)ro(a.ranges[s].anchor,t,n,r),ro(a.ranges[s].head,t,n,r)}else{for(var l=0;l<a.changes.length;++l){var u=a.changes[l];if(n<u.from.line)u.from=it(u.from.line+r,u.from.ch),u.to=it(u.to.line+r,u.to.ch);else if(t<=u.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function ao(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;io(e.done,n,r,i),io(e.undone,n,r,i)}function oo(e,t,n,r){var i=t,a=t;return\"number\"==typeof t?a=Qe(e,ct(e,t)):i=et(t),null==i?null:(r(a,i)&&e.cm&&Fr(e.cm,i,n),a)}function so(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function lo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}ia.prototype.from=function(){return ut(this.anchor,this.head)},ia.prototype.to=function(){return lt(this.anchor,this.head)},ia.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},so.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,cn(i),Mn(i,\"delete\")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},lo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var a=Math.min(t,i-e),o=r.height;if(r.removeInner(e,a),this.height-=o-r.height,i==a&&(this.children.splice(n--,1),r.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof so))){var s=[];this.collapse(s),this.children=[new so(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var o=i.lines.length%25+25,s=o;s<i.lines.length;){var l=new so(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,o),this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new lo(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=H(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new lo(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(e<a){var o=Math.min(t,a-e);if(i.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var uo=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function co(e,t,n){an(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ai(e,n)}function fo(e,t,n,r){var i=new uo(e,n,r),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),oo(e,t,\"widget\",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,a&&!nn(e,t)){var r=an(t)<e.scrollTop;Je(t,t.height+Gn(i)),r&&ai(a,i.height),a.curOp.forceUpdate=!0}return!0})),a&&Mn(a,\"lineWidgetAdded\",a,i,\"number\"==typeof t?t:et(t)),i}uo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var a=Gn(this);Je(n,Math.max(0,n.height-a)),e&&(Ni(e,(function(){co(e,n,-a),Fr(e,r,\"widget\")})),Mn(e,\"lineWidgetCleared\",e,this,r))}},uo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Gn(this)-t;i&&(nn(this.doc,r)||Je(r,r.height+i),n&&Ni(n,(function(){n.curOp.forceUpdate=!0,co(n,r,i),Mn(n,\"lineWidgetChanged\",n,e,et(r))})))},be(uo);var ho=0,po=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ho};function mo(e,t,n,r,i){if(r&&r.shared)return go(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Li(e.cm,mo)(e,t,n,r,i);var a=new po(e,i),o=at(t,n);if(r&&F(r,a,!1),o>0||0==o&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=N(\"span\",[a.replacedWith],\"CodeMirror-widget\"),r.handleMouseEvents||a.widgetNode.setAttribute(\"cm-ignore-events\",\"true\"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Qt(e,t.line,t,n,a)||t.line!=n.line&&Qt(e,n.line,t,n,a))throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");Lt()}a.addToHistory&&Ta(e,{from:t,to:n,origin:\"markText\"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,(function(r){u&&a.collapsed&&!u.options.lineWrapping&&Kt(r)==u.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&Je(r,0),Rt(r,new It(a,l==t.line?t.ch:null,l==n.line?n.ch:null),e.cm&&e.cm.curOp),++l})),a.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Je(t,0)})),a.clearOnEnter&&pe(a,\"beforeCursorEnter\",(function(){return a.clear()})),a.readOnly&&(Nt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++ho,a.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),a.collapsed)kr(u,t.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var c=t.line;c<=n.line;c++)Fr(u,c,\"text\");a.atomic&&ja(u.doc),Mn(u,\"markerAdded\",u,a)}return a}po.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wi(e),xe(this,\"clear\")){var n=this.find();n&&Mn(this,\"clear\",n.from,n.to)}for(var r=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=Pt(o.markedSpans,this);e&&!this.collapsed?Fr(e,et(o),\"text\"):e&&(null!=s.to&&(i=et(o)),null!=s.from&&(r=et(o))),o.markedSpans=Ot(o.markedSpans,s),null==s.from&&this.collapsed&&!nn(this.doc,o)&&e&&Je(o,Mr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Kt(this.lines[l]),c=on(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&kr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ja(e.doc)),e&&Mn(e,\"markerCleared\",e,this,r,i),t&&Ai(e),this.parent&&this.parent.clear()}},po.prototype.find=function(e,t){var n,r;null==e&&\"bookmark\"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var a=this.lines[i],o=Pt(a.markedSpans,this);if(null!=o.from&&(n=it(t?a:et(a),o.from),-1==e))return n;if(null!=o.to&&(r=it(t?a:et(a),o.to),1==e))return r}return n&&{from:n,to:r}},po.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Ni(r,(function(){var i=t.line,a=et(t.line),o=er(r,a);if(o&&(ur(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=Gn(n)-s;l&&Je(i,i.height+l)}Mn(r,\"markerChanged\",r,e)}))},po.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=H(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},po.prototype.detachLine=function(e){if(this.lines.splice(H(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},be(po);var vo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function go(e,t,n,r,i){r=F(r),r.shared=!1;var a=[mo(e,t,n,r,i)],o=a[0],s=r.widgetNode;return va(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),a.push(mo(e,dt(e,t),dt(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=X(a)})),new vo(a,o)}function _o(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),(function(e){return e.parent}))}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(at(a,o)){var s=mo(e,a,o,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function xo(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];va(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var a=n.markers[i];-1==H(r,a.doc)&&(a.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}vo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Mn(this,\"clear\")}},vo.prototype.find=function(e,t){return this.primary.find(e,t)},be(vo);var bo=0,wo=function(e,t,n,r,i){if(!(this instanceof wo))return new wo(e,t,n,r,i);null==n&&(n=0),lo.call(this,[new so([new ln(\"\",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var a=it(n,0);this.sel=oa(a),this.history=new xa(null),this.id=++bo,this.modeOption=t,this.lineSep=r,this.direction=\"rtl\"==i?\"rtl\":\"ltr\",this.extend=!1,\"string\"==typeof e&&(e=this.splitLines(e)),ma(this,{from:a,to:a,text:e}),Ha(this,oa(a),j)};wo.prototype=J(lo.prototype,{constructor:wo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Pi((function(e){var t=it(this.first,0),n=this.first+this.size-1;Qa(this,{from:t,to:it(n,Qe(this,n).text.length),text:this.splitLines(e),origin:\"setValue\",full:!0},!0),this.cm&&si(this.cm,0,0),Ha(this,oa(t),j)})),replaceRange:function(e,t,n,r){t=dt(this,t),n=n?dt(this,n):t,no(this,e,t,n,r)},getRange:function(e,t,n){var r=Ke(this,dt(this,e),dt(this,t));return!1===n?r:\"\"===n?r.join(\"\"):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Qe(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return\"number\"==typeof e&&(e=Qe(this,e)),Kt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||\"head\"==e?n.head:\"anchor\"==e?n.anchor:\"end\"==e||\"to\"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Pi((function(e,t,n){Fa(this,dt(this,\"number\"==typeof e?it(e,t||0):e),null,n)})),setSelection:Pi((function(e,t,n){Fa(this,dt(this,e),dt(this,t||e),n)})),extendSelection:Pi((function(e,t,n){Oa(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:Pi((function(e,t){Ra(this,ht(this,e),t)})),extendSelectionsBy:Pi((function(e,t){var n=Q(this.sel.ranges,e);Ra(this,ht(this,n),t)})),setSelections:Pi((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new ia(dt(this,e[i].anchor),dt(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ha(this,aa(this.cm,r,t),n)}})),addSelection:Pi((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ia(dt(this,e),dt(this,t||e))),Ha(this,aa(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ke(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ke(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||\"+input\")},replaceSelections:Pi((function(e,t,n){for(var r=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];r[a]={from:o.from(),to:o.to(),text:this.splitLines(e[a]),origin:n}}for(var s=t&&\"end\"!=t&&da(this,r,t),l=r.length-1;l>=0;l--)Qa(this,r[l]);s?za(this,s):this.cm&&oi(this.cm)})),undo:Pi((function(){Za(this,\"undo\")})),redo:Pi((function(){Za(this,\"redo\")})),undoSelection:Pi((function(){Za(this,\"undo\",!0)})),redoSelection:Pi((function(){Za(this,\"redo\",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new xa(this.history),va(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ia(this.history.done),undone:Ia(this.history.undone)}},setHistory:function(e){var t=this.history=new xa(this.history);t.done=Ia(e.done.slice(0),null,!0),t.undone=Ia(e.undone.slice(0),null,!0)},setGutterMarker:Pi((function(e,t,n){return oo(this,e,\"gutter\",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Pi((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&oo(t,n,\"gutter\",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if(\"number\"==typeof e){if(!nt(this,e))return null;if(t=e,e=Qe(this,e),!e)return null}else if(t=et(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Pi((function(e,t,n){return oo(this,e,\"gutter\"==t?\"gutter\":\"class\",(function(e){var r=\"text\"==t?\"textClass\":\"background\"==t?\"bgClass\":\"gutter\"==t?\"gutterClass\":\"wrapClass\";if(e[r]){if(T(n).test(e[r]))return!1;e[r]+=\" \"+n}else e[r]=n;return!0}))})),removeLineClass:Pi((function(e,t,n){return oo(this,e,\"gutter\"==t?\"gutter\":\"class\",(function(e){var r=\"text\"==t?\"textClass\":\"background\"==t?\"bgClass\":\"gutter\"==t?\"gutterClass\":\"wrapClass\",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var a=i.match(T(n));if(!a)return!1;var o=a.index+a[0].length;e[r]=i.slice(0,a.index)+(a.index&&o!=i.length?\" \":\"\")+i.slice(o)||null}return!0}))})),addLineWidget:Pi((function(e,t,n){return fo(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return mo(this,dt(this,e),dt(this,t),n,n&&n.type||\"range\")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=dt(this,e),mo(this,e,e,n,\"bookmark\")},findMarksAt:function(e){e=dt(this,e);var t=[],n=Qe(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var a=i.text.length+r;if(a>e)return t=e,!0;e-=a,++n})),dt(this,it(n,t))},indexFromPos:function(e){e=dt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new wo(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new wo(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],yo(r,_o(this)),r},unlinkDoc:function(e){if(e instanceof ks&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xo(_o(this));break}}if(e.history==this.history){var r=[e.id];va(e,(function(e){return r.push(e.id)}),!0),e.history=new xa(null),e.history.done=Ia(this.history.done,r),e.history.undone=Ia(this.history.undone,r)}},iterLinkedDocs:function(e){va(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pe(e)},lineSeparator:function(){return this.lineSep||\"\\n\"},setDirection:Pi((function(e){\"rtl\"!=e&&(e=\"ltr\"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&ya(this.cm))}))}),wo.prototype.eachLine=wo.prototype.iter;var Ao=0;function To(e){var t=this;if(Co(t),!_e(t,e)&&!jn(t.display,e)){we(e),o&&(Ao=+new Date);var n=Or(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,a=Array(i),s=0,l=function(){++s==i&&Li(t,(function(){n=dt(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(a.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:\"paste\"};Qa(t.doc,e),za(t.doc,oa(dt(t.doc,n),dt(t.doc,sa(e))))}))()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==H(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(e)||(a[n]=e),l()},r.readAsText(e)}},c=0;c<r.length;c++)u(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData(\"Text\");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Ua(t.doc,oa(n,n)),f)for(var h=0;h<f.length;++h)no(t.doc,\"\",f[h].anchor,f[h].head,\"drag\");t.replaceSelection(d,\"around\",\"paste\"),t.display.input.focus()}}catch(p){}}}}function So(e,t){if(o&&(!e.state.draggingText||+new Date-Ao<100))Se(t);else if(!_e(e,t)&&!jn(e.display,t)&&(t.dataTransfer.setData(\"Text\",e.getSelection()),t.dataTransfer.effectAllowed=\"copyMove\",t.dataTransfer.setDragImage&&!f)){var n=D(\"img\",null,null,\"position: fixed; left: 0; top: 0;\");n.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Eo(e,t){var n=Or(e,t);if(n){var r=document.createDocumentFragment();Vr(e,n,r),e.display.dragCursor||(e.display.dragCursor=D(\"div\",null,\"CodeMirror-cursors CodeMirror-dragcursors\"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),M(e.display.dragCursor,r)}}function Co(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Mo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName(\"CodeMirror\"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Do=!1;function No(){Do||(Lo(),Do=!0)}function Lo(){var e;pe(window,\"resize\",(function(){null==e&&(e=setTimeout((function(){e=null,Mo(Io)}),100))})),pe(window,\"blur\",(function(){return Mo(Kr)}))}function Io(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Po={3:\"Pause\",8:\"Backspace\",9:\"Tab\",13:\"Enter\",16:\"Shift\",17:\"Ctrl\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"PrintScrn\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Mod\",92:\"Mod\",93:\"Mod\",106:\"*\",107:\"=\",109:\"-\",110:\".\",111:\"/\",145:\"ScrollLock\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",224:\"Mod\",63232:\"Up\",63233:\"Down\",63234:\"Left\",63235:\"Right\",63272:\"Delete\",63273:\"Home\",63275:\"End\",63276:\"PageUp\",63277:\"PageDown\",63302:\"Insert\"},Oo=0;Oo<10;Oo++)Po[Oo+48]=Po[Oo+96]=String(Oo);for(var Ro=65;Ro<=90;Ro++)Po[Ro]=String.fromCharCode(Ro);for(var ko=1;ko<=12;ko++)Po[ko+111]=Po[ko+63235]=\"F\"+ko;var Fo={};function Bo(e){var t,n,r,i,a=e.split(/-(?!$)/);e=a[a.length-1];for(var o=0;o<a.length-1;o++){var s=a[o];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error(\"Unrecognized modifier name: \"+s);r=!0}}return t&&(e=\"Alt-\"+e),n&&(e=\"Ctrl-\"+e),i&&(e=\"Cmd-\"+e),r&&(e=\"Shift-\"+e),e}function zo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(\"...\"==r){delete e[n];continue}for(var i=Q(n.split(\" \"),Bo),a=0;a<i.length;a++){var o=void 0,s=void 0;a==i.length-1?(s=i.join(\" \"),o=r):(s=i.slice(0,a+1).join(\" \"),o=\"...\");var l=t[s];if(l){if(l!=o)throw new Error(\"Inconsistent bindings for \"+s)}else t[s]=o}delete e[n]}for(var u in t)e[u]=t[u];return e}function Ho(e,t,n,r){t=Vo(t);var i=t.call?t.call(e,r):t[e];if(!1===i)return\"nothing\";if(\"...\"===i)return\"multi\";if(null!=i&&n(i))return\"handled\";if(t.fallthrough){if(\"[object Array]\"!=Object.prototype.toString.call(t.fallthrough))return Ho(e,t.fallthrough,n,r);for(var a=0;a<t.fallthrough.length;a++){var o=Ho(e,t.fallthrough[a],n,r);if(o)return o}}}function Uo(e){var t=\"string\"==typeof e?e:Po[e.keyCode];return\"Ctrl\"==t||\"Alt\"==t||\"Shift\"==t||\"Mod\"==t}function Go(e,t,n){var r=e;return t.altKey&&\"Alt\"!=r&&(e=\"Alt-\"+e),(w?t.metaKey:t.ctrlKey)&&\"Ctrl\"!=r&&(e=\"Ctrl-\"+e),(w?t.ctrlKey:t.metaKey)&&\"Mod\"!=r&&(e=\"Cmd-\"+e),!n&&t.shiftKey&&\"Shift\"!=r&&(e=\"Shift-\"+e),e}function jo(e,t){if(d&&34==e.keyCode&&e[\"char\"])return!1;var n=Po[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Go(n,e,t))}function Vo(e){return\"string\"==typeof e?Fo[e]:e}function Wo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){var a=t(n[i]);while(r.length&&at(a.from,X(r).to)<=0){var o=r.pop();if(at(o.from,a.from)<0){a.from=o.from;break}}r.push(a)}Ni(e,(function(){for(var t=r.length-1;t>=0;t--)no(e.doc,\"\",r[t].from,r[t].to,\"+delete\");oi(e)}))}function $o(e,t,n){var r=oe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function qo(e,t,n){var r=$o(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?\"after\":\"before\")}function Yo(e,t,n,r,i){if(e){\"rtl\"==t.doc.direction&&(i=-i);var a=fe(n,t.doc.direction);if(a){var o,s=i<0?X(a):a[0],l=i<0==(1==s.level),u=l?\"after\":\"before\";if(s.level>0||\"rtl\"==t.doc.direction){var c=tr(t,n);o=i<0?n.text.length-1:0;var d=nr(t,c,o).top;o=se((function(e){return nr(t,c,e).top==d}),i<0==(1==s.level)?s.from:s.to-1,o),\"before\"==u&&(o=$o(n,o,1))}else o=i<0?s.to:s.from;return new it(r,o,u)}}return new it(r,i<0?n.text.length:0,i<0?\"before\":\"after\")}function Xo(e,t,n,r){var i=fe(t,e.doc.direction);if(!i)return qo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky=\"before\"):n.ch<=0&&(n.ch=0,n.sticky=\"after\");var a=ce(i,n.ch,n.sticky),o=i[a];if(\"ltr\"==e.doc.direction&&o.level%2==0&&(r>0?o.to>n.ch:o.from<n.ch))return qo(t,n,r);var s,l=function(e,n){return $o(t,e instanceof it?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||tr(e,t),Ar(e,t,s,n)):{begin:0,end:t.text.length}},c=u(\"before\"==n.sticky?l(n,-1):n.ch);if(\"rtl\"==e.doc.direction||1==o.level){var d=1==o.level==r<0,f=l(n,d?1:-1);if(null!=f&&(d?f<=o.to&&f<=c.end:f>=o.from&&f>=c.begin)){var h=d?\"before\":\"after\";return new it(n.line,f,h)}}var p=function(e,t,r){for(var a=function(e,t){return t?new it(n.line,l(e,1),\"before\"):new it(n.line,e,\"after\")};e>=0&&e<i.length;e+=t){var o=i[e],s=t>0==(1!=o.level),u=s?r.begin:l(r.end,-1);if(o.from<=u&&u<o.to)return a(u,s);if(u=s?o.from:l(o.to,-1),r.begin<=u&&u<r.end)return a(u,s)}},m=p(a+r,r,c);if(m)return m;var v=r>0?c.end:l(c.begin,-1);return null==v||r>0&&v==t.text.length||(m=p(r>0?0:i.length-1,r,u(v)),!m)?null:m}Fo.basic={Left:\"goCharLeft\",Right:\"goCharRight\",Up:\"goLineUp\",Down:\"goLineDown\",End:\"goLineEnd\",Home:\"goLineStartSmart\",PageUp:\"goPageUp\",PageDown:\"goPageDown\",Delete:\"delCharAfter\",Backspace:\"delCharBefore\",\"Shift-Backspace\":\"delCharBefore\",Tab:\"defaultTab\",\"Shift-Tab\":\"indentAuto\",Enter:\"newlineAndIndent\",Insert:\"toggleOverwrite\",Esc:\"singleSelection\"},Fo.pcDefault={\"Ctrl-A\":\"selectAll\",\"Ctrl-D\":\"deleteLine\",\"Ctrl-Z\":\"undo\",\"Shift-Ctrl-Z\":\"redo\",\"Ctrl-Y\":\"redo\",\"Ctrl-Home\":\"goDocStart\",\"Ctrl-End\":\"goDocEnd\",\"Ctrl-Up\":\"goLineUp\",\"Ctrl-Down\":\"goLineDown\",\"Ctrl-Left\":\"goGroupLeft\",\"Ctrl-Right\":\"goGroupRight\",\"Alt-Left\":\"goLineStart\",\"Alt-Right\":\"goLineEnd\",\"Ctrl-Backspace\":\"delGroupBefore\",\"Ctrl-Delete\":\"delGroupAfter\",\"Ctrl-S\":\"save\",\"Ctrl-F\":\"find\",\"Ctrl-G\":\"findNext\",\"Shift-Ctrl-G\":\"findPrev\",\"Shift-Ctrl-F\":\"replace\",\"Shift-Ctrl-R\":\"replaceAll\",\"Ctrl-[\":\"indentLess\",\"Ctrl-]\":\"indentMore\",\"Ctrl-U\":\"undoSelection\",\"Shift-Ctrl-U\":\"redoSelection\",\"Alt-U\":\"redoSelection\",fallthrough:\"basic\"},Fo.emacsy={\"Ctrl-F\":\"goCharRight\",\"Ctrl-B\":\"goCharLeft\",\"Ctrl-P\":\"goLineUp\",\"Ctrl-N\":\"goLineDown\",\"Ctrl-A\":\"goLineStart\",\"Ctrl-E\":\"goLineEnd\",\"Ctrl-V\":\"goPageDown\",\"Shift-Ctrl-V\":\"goPageUp\",\"Ctrl-D\":\"delCharAfter\",\"Ctrl-H\":\"delCharBefore\",\"Alt-Backspace\":\"delWordBefore\",\"Ctrl-K\":\"killLine\",\"Ctrl-T\":\"transposeChars\",\"Ctrl-O\":\"openLine\"},Fo.macDefault={\"Cmd-A\":\"selectAll\",\"Cmd-D\":\"deleteLine\",\"Cmd-Z\":\"undo\",\"Shift-Cmd-Z\":\"redo\",\"Cmd-Y\":\"redo\",\"Cmd-Home\":\"goDocStart\",\"Cmd-Up\":\"goDocStart\",\"Cmd-End\":\"goDocEnd\",\"Cmd-Down\":\"goDocEnd\",\"Alt-Left\":\"goGroupLeft\",\"Alt-Right\":\"goGroupRight\",\"Cmd-Left\":\"goLineLeft\",\"Cmd-Right\":\"goLineRight\",\"Alt-Backspace\":\"delGroupBefore\",\"Ctrl-Alt-Backspace\":\"delGroupAfter\",\"Alt-Delete\":\"delGroupAfter\",\"Cmd-S\":\"save\",\"Cmd-F\":\"find\",\"Cmd-G\":\"findNext\",\"Shift-Cmd-G\":\"findPrev\",\"Cmd-Alt-F\":\"replace\",\"Shift-Cmd-Alt-F\":\"replaceAll\",\"Cmd-[\":\"indentLess\",\"Cmd-]\":\"indentMore\",\"Cmd-Backspace\":\"delWrappedLineLeft\",\"Cmd-Delete\":\"delWrappedLineRight\",\"Cmd-U\":\"undoSelection\",\"Shift-Cmd-U\":\"redoSelection\",\"Ctrl-Up\":\"goDocStart\",\"Ctrl-Down\":\"goDocEnd\",fallthrough:[\"basic\",\"emacsy\"]},Fo[\"default\"]=_?Fo.macDefault:Fo.pcDefault;var Qo={selectAll:Ya,singleSelection:function(e){return e.setSelection(e.getCursor(\"anchor\"),e.getCursor(\"head\"),j)},killLine:function(e){return Wo(e,(function(t){if(t.empty()){var n=Qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Wo(e,(function(t){return{from:it(t.from().line,0),to:dt(e.doc,it(t.to().line+1,0))}}))},delLineLeft:function(e){return Wo(e,(function(e){return{from:it(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Wo(e,(function(t){var n=e.charCoords(t.head,\"div\").top+5,r=e.coordsChar({left:0,top:n},\"div\");return{from:r,to:t.from()}}))},delWrappedLineRight:function(e){return Wo(e,(function(t){var n=e.charCoords(t.head,\"div\").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},\"div\");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Ko(e,t.head.line)}),{origin:\"+move\",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Jo(e,t.head)}),{origin:\"+move\",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Zo(e,t.head.line)}),{origin:\"+move\",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,\"div\").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},\"div\")}),W)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,\"div\").top+5;return e.coordsChar({left:0,top:n},\"div\")}),W)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,\"div\").top+5,r=e.coordsChar({left:0,top:n},\"div\");return r.ch<e.getLine(r.line).search(/\\S/)?Jo(e,t.head):r}),W)},goLineUp:function(e){return e.moveV(-1,\"line\")},goLineDown:function(e){return e.moveV(1,\"line\")},goPageUp:function(e){return e.moveV(-1,\"page\")},goPageDown:function(e){return e.moveV(1,\"page\")},goCharLeft:function(e){return e.moveH(-1,\"char\")},goCharRight:function(e){return e.moveH(1,\"char\")},goColumnLeft:function(e){return e.moveH(-1,\"column\")},goColumnRight:function(e){return e.moveH(1,\"column\")},goWordLeft:function(e){return e.moveH(-1,\"word\")},goGroupRight:function(e){return e.moveH(1,\"group\")},goGroupLeft:function(e){return e.moveH(-1,\"group\")},goWordRight:function(e){return e.moveH(1,\"word\")},delCharBefore:function(e){return e.deleteH(-1,\"codepoint\")},delCharAfter:function(e){return e.deleteH(1,\"char\")},delWordBefore:function(e){return e.deleteH(-1,\"word\")},delWordAfter:function(e){return e.deleteH(1,\"word\")},delGroupBefore:function(e){return e.deleteH(-1,\"group\")},delGroupAfter:function(e){return e.deleteH(1,\"group\")},indentAuto:function(e){return e.indentSelection(\"smart\")},indentMore:function(e){return e.indentSelection(\"add\")},indentLess:function(e){return e.indentSelection(\"subtract\")},insertTab:function(e){return e.replaceSelection(\"\\t\")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var a=n[i].from(),o=B(e.getLine(a.line),a.ch,r);t.push(Y(r-o%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection(\"add\"):e.execCommand(\"insertTab\")},transposeChars:function(e){return Ni(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,a=Qe(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new it(i.line,i.ch-1)),i.ch>0)i=new it(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),it(i.line,i.ch-2),i,\"+transpose\");else if(i.line>e.doc.first){var o=Qe(e.doc,i.line-1).text;o&&(i=new it(i.line,1),e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),it(i.line-1,o.length-1),i,\"+transpose\"))}n.push(new ia(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Ni(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,\"+input\");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);oi(e)}))},openLine:function(e){return e.replaceSelection(\"\\n\",\"start\")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ko(e,t){var n=Qe(e.doc,t),r=Kt(n);return r!=n&&(t=et(r)),Yo(!0,e,r,t,1)}function Zo(e,t){var n=Qe(e.doc,t),r=Zt(n);return r!=n&&(t=et(r)),Yo(!0,e,n,t,-1)}function Jo(e,t){var n=Ko(e,t.line),r=Qe(e.doc,n.line),i=fe(r,e.doc.direction);if(!i||0==i[0].level){var a=Math.max(n.ch,r.text.search(/\\S/)),o=t.line==n.line&&t.ch<=a&&t.ch;return it(n.line,o?0:a,n.sticky)}return n}function es(e,t,n){if(\"string\"==typeof t&&(t=Qo[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=G}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ts(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ho(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Ho(t,e.options.extraKeys,n,e)||Ho(t,e.options.keyMap,n,e)}var ns=new z;function rs(e,t,n,r){var i=e.state.keySeq;if(i){if(Uo(t))return\"handled\";if(/\\'$/.test(t)?e.state.keySeq=null:ns.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),is(e,i+\" \"+t,n,r))return!0}return is(e,t,n,r)}function is(e,t,n,r){var i=ts(e,t,r);return\"multi\"==i&&(e.state.keySeq=t),\"handled\"==i&&Mn(e,\"keyHandled\",e,t,n),\"handled\"!=i&&\"multi\"!=i||(we(n),qr(e)),!!i}function as(e,t){var n=jo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rs(e,\"Shift-\"+n,t,(function(t){return es(e,t,!0)}))||rs(e,n,t,(function(t){if(\"string\"==typeof t?/^go[A-Z]/.test(t):t.motion)return es(e,t)})):rs(e,n,t,(function(t){return es(e,t)})))}function os(e,t,n){return rs(e,\"'\"+n+\"'\",t,(function(t){return es(e,t,!0)}))}var ss=null;function ls(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=I(),!_e(t,e))){o&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=as(t,e);d&&(ss=i?r:null,i||88!=r||Re||!(_?e.metaKey:e.ctrlKey)||t.replaceSelection(\"\",null,\"cut\")),n&&!_&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand(\"cut\"),18!=r||/\\bCodeMirror-crosshair\\b/.test(t.display.lineDiv.className)||us(t)}}function us(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(E(t,\"CodeMirror-crosshair\"),ve(document,\"keyup\",n),ve(document,\"mouseover\",n))}P(t,\"CodeMirror-crosshair\"),pe(document,\"keyup\",n),pe(document,\"mouseover\",n)}function cs(e){16==e.keyCode&&(this.doc.sel.shift=!1),_e(this,e)}function ds(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(jn(t.display,e)||_e(t,e)||e.ctrlKey&&!e.altKey||_&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ss)return ss=null,void we(e);if(!d||e.which&&!(e.which<10)||!as(t,e)){var i=String.fromCharCode(null==r?n:r);\"\\b\"!=i&&(os(t,e,i)||t.display.input.onKeyPress(e))}}}var fs,hs,ps=400,ms=function(e,t,n){this.time=e,this.pos=t,this.button=n};function vs(e,t){var n=+new Date;return hs&&hs.compare(n,e,t)?(fs=hs=null,\"triple\"):fs&&fs.compare(n,e,t)?(hs=new ms(n,e,t),fs=null,\"double\"):(fs=new ms(n,e,t),hs=null,\"single\")}function gs(e){var t=this,n=t.display;if(!(_e(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,jn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Es(t,e)){var r=Or(t,e),i=Ce(e),a=r?vs(r,i):\"single\";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&_s(t,i,r,a,e)||(1==i?r?xs(t,r,a,e):Ee(e)==n.scroller&&we(e):2==i?(r&&Oa(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(A?t.display.input.onContextMenu(e):Xr(t)))}}function _s(e,t,n,r,i){var a=\"Click\";return\"double\"==r?a=\"Double\"+a:\"triple\"==r&&(a=\"Triple\"+a),a=(1==t?\"Left\":2==t?\"Middle\":\"Right\")+a,rs(e,Go(a,i),i,(function(t){if(\"string\"==typeof t&&(t=Qo[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=G}finally{e.state.suppressEdits=!1}return r}))}function ys(e,t,n){var r=e.getOption(\"configureMouse\"),i=r?r(e,t,n):{};if(null==i.unit){var a=y?n.shiftKey&&n.metaKey:n.altKey;i.unit=a?\"rectangle\":\"single\"==t?\"char\":\"double\"==t?\"word\":\"line\"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=_?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(_?n.altKey:n.ctrlKey)),i}function xs(e,t,n,r){o?setTimeout(k(Yr,e),0):e.curOp.focus=I();var i,a=ys(e,n,r),s=e.doc.sel;e.options.dragDrop&&Ne&&!e.isReadOnly()&&\"single\"==n&&(i=s.contains(t))>-1&&(at((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(at(i.to(),t)>0||t.xRel<0)?bs(e,r,t,a):As(e,r,t,a)}function bs(e,t,n,r){var i=e.display,a=!1,u=Li(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Xr(e)),ve(i.wrapper.ownerDocument,\"mouseup\",u),ve(i.wrapper.ownerDocument,\"mousemove\",c),ve(i.scroller,\"dragstart\",d),ve(i.scroller,\"drop\",u),a||(we(t),r.addNew||Oa(e.doc,n,null,null,r.extend),l&&!f||o&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){a=a||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return a=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,pe(i.wrapper.ownerDocument,\"mouseup\",u),pe(i.wrapper.ownerDocument,\"mousemove\",c),pe(i.scroller,\"dragstart\",d),pe(i.scroller,\"drop\",u),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function ws(e,t,n){if(\"char\"==n)return new ia(t,t);if(\"word\"==n)return e.findWordAt(t);if(\"line\"==n)return new ia(it(t.line,0),dt(e.doc,it(t.line+1,0)));var r=n(e,t);return new ia(r.from,r.to)}function As(e,t,n,r){o&&Xr(e);var i=e.display,a=e.doc;we(t);var s,l,u=a.sel,c=u.ranges;if(r.addNew&&!r.extend?(l=a.sel.contains(n),s=l>-1?c[l]:new ia(n,n)):(s=a.sel.primary(),l=a.sel.primIndex),\"rectangle\"==r.unit)r.addNew||(s=new ia(n,n)),n=Or(e,t,!0,!0),l=-1;else{var d=ws(e,n,r.unit);s=r.extend?Pa(s,d.anchor,d.head,r.extend):d}r.addNew?-1==l?(l=c.length,Ha(a,aa(e,c.concat([s]),l),{scroll:!1,origin:\"*mouse\"})):c.length>1&&c[l].empty()&&\"char\"==r.unit&&!r.extend?(Ha(a,aa(e,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:\"*mouse\"}),u=a.sel):ka(a,l,s,V):(l=0,Ha(a,new ra([s],0),V),u=a.sel);var f=n;function h(t){if(0!=at(f,t))if(f=t,\"rectangle\"==r.unit){for(var i=[],o=e.options.tabSize,c=B(Qe(a,n.line).text,n.ch,o),d=B(Qe(a,t.line).text,t.ch,o),h=Math.min(c,d),p=Math.max(c,d),m=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=v;m++){var g=Qe(a,m).text,_=$(g,h,o);h==p?i.push(new ia(it(m,_),it(m,_))):g.length>_&&i.push(new ia(it(m,_),it(m,$(g,p,o))))}i.length||i.push(new ia(n,n)),Ha(a,aa(e,u.ranges.slice(0,l).concat(i),l),{origin:\"*mouse\",scroll:!1}),e.scrollIntoView(t)}else{var y,x=s,b=ws(e,t,r.unit),w=x.anchor;at(b.anchor,w)>0?(y=b.head,w=ut(x.from(),b.anchor)):(y=b.anchor,w=lt(x.to(),b.head));var A=u.ranges.slice(0);A[l]=Ts(e,new ia(dt(a,w),y)),Ha(a,aa(e,A,l),V)}}var p=i.wrapper.getBoundingClientRect(),m=0;function v(t){var n=++m,o=Or(e,t,!0,\"rectangle\"==r.unit);if(o)if(0!=at(o,f)){e.curOp.focus=I(),h(o);var s=ei(i,a);(o.line>=s.to||o.line<s.from)&&setTimeout(Li(e,(function(){m==n&&v(t)})),150)}else{var l=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;l&&setTimeout(Li(e,(function(){m==n&&(i.scroller.scrollTop+=l,v(t))})),50)}}function g(t){e.state.selectingText=!1,m=1/0,t&&(we(t),i.input.focus()),ve(i.wrapper.ownerDocument,\"mousemove\",_),ve(i.wrapper.ownerDocument,\"mouseup\",y),a.history.lastSelOrigin=null}var _=Li(e,(function(e){0!==e.buttons&&Ce(e)?v(e):g(e)})),y=Li(e,g);e.state.selectingText=y,pe(i.wrapper.ownerDocument,\"mousemove\",_),pe(i.wrapper.ownerDocument,\"mouseup\",y)}function Ts(e,t){var n=t.anchor,r=t.head,i=Qe(e.doc,n.line);if(0==at(n,r)&&n.sticky==r.sticky)return t;var a=fe(i);if(!a)return t;var o=ce(a,n.ch,n.sticky),s=a[o];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,u=o+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==a.length)return t;if(r.line!=n.line)l=(r.line-n.line)*(\"ltr\"==e.doc.direction?1:-1)>0;else{var c=ce(a,r.ch,r.sticky),d=c-o||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?d<0:d>0}var f=a[u+(l?-1:0)],h=l==(1==f.level),p=h?f.from:f.to,m=h?\"after\":\"before\";return n.ch==p&&n.sticky==m?t:new ia(new it(n.line,p,m),r)}function Ss(e,t,n,r){var i,a;if(t.touches)i=t.touches[0].clientX,a=t.touches[0].clientY;else try{i=t.clientX,a=t.clientY}catch(f){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&we(t);var o=e.display,s=o.lineDiv.getBoundingClientRect();if(a>s.bottom||!xe(e,n))return Te(t);a-=s.top-o.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=o.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=tt(e.doc,a),d=e.display.gutterSpecs[l];return ge(e,n,e,c,d.className,t),Te(t)}}}function Es(e,t){return Ss(e,t,\"gutterClick\",!0)}function Cs(e,t){jn(e.display,t)||Ms(e,t)||_e(e,t,\"contextmenu\")||A||e.display.input.onContextMenu(t)}function Ms(e,t){return!!xe(e,\"gutterContextMenu\")&&Ss(e,t,\"gutterContextMenu\",!1)}function Ds(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,\"\")+e.options.theme.replace(/(^|\\s)\\s*/g,\" cm-s-\"),dr(e)}ms.prototype.compare=function(e,t,n){return this.time+ps>e&&0==at(t,this.pos)&&n==this.button};var Ns={toString:function(){return\"CodeMirror.Init\"}},Ls={},Is={};function Ps(e){var t=e.optionHandlers;function n(n,r,i,a){e.defaults[n]=r,i&&(t[n]=a?function(e,t,n){n!=Ns&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Ns,n(\"value\",\"\",(function(e,t){return e.setValue(t)}),!0),n(\"mode\",null,(function(e,t){e.doc.modeOption=t,fa(e)}),!0),n(\"indentUnit\",2,fa,!0),n(\"indentWithTabs\",!1),n(\"smartIndent\",!0),n(\"tabSize\",4,(function(e){ha(e),dr(e),kr(e)}),!0),n(\"lineSeparator\",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var a=e.text.indexOf(t,i);if(-1==a)break;i=a+t.length,n.push(it(r,a))}r++}));for(var i=n.length-1;i>=0;i--)no(e.doc,t,n[i],it(n[i].line,n[i].ch+t.length))}})),n(\"specialChars\",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test(\"\\t\")?\"\":\"|\\t\"),\"g\"),n!=Ns&&e.refresh()})),n(\"specialCharPlaceholder\",mn,(function(e){return e.refresh()}),!0),n(\"electricChars\",!0),n(\"inputStyle\",g?\"contenteditable\":\"textarea\",(function(){throw new Error(\"inputStyle can not (yet) be changed in a running editor\")}),!0),n(\"spellcheck\",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n(\"autocorrect\",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n(\"autocapitalize\",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n(\"rtlMoveVisually\",!x),n(\"wholeLineUpdateBefore\",!0),n(\"theme\",\"default\",(function(e){Ds(e),Qi(e)}),!0),n(\"keyMap\",\"default\",(function(e,t,n){var r=Vo(t),i=n!=Ns&&Vo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n(\"extraKeys\",null),n(\"configureMouse\",null),n(\"lineWrapping\",!1,Rs,!0),n(\"gutters\",[],(function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers),Qi(e)}),!0),n(\"fixedGutter\",!0,(function(e,t){e.display.gutters.style.left=t?Lr(e.display)+\"px\":\"0\",e.refresh()}),!0),n(\"coverGutterNextToScrollbar\",!1,(function(e){return gi(e)}),!0),n(\"scrollbarStyle\",\"native\",(function(e){xi(e),gi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n(\"lineNumbers\",!1,(function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t),Qi(e)}),!0),n(\"firstLineNumber\",1,Qi,!0),n(\"lineNumberFormatter\",(function(e){return e}),Qi,!0),n(\"showCursorWhenSelecting\",!1,Gr,!0),n(\"resetSelectionOnContextMenu\",!0),n(\"lineWiseCopyCut\",!0),n(\"pasteLinesPerSelection\",!0),n(\"selectionsMayTouch\",!1),n(\"readOnly\",!1,(function(e,t){\"nocursor\"==t&&(Kr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n(\"screenReaderLabel\",null,(function(e,t){t=\"\"===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n(\"disableInput\",!1,(function(e,t){t||e.display.input.reset()}),!0),n(\"dragDrop\",!0,Os),n(\"allowDropFileTypes\",null),n(\"cursorBlinkRate\",530),n(\"cursorScrollMargin\",0),n(\"cursorHeight\",1,Gr,!0),n(\"singleCursorHeightPerLine\",!0,Gr,!0),n(\"workTime\",100),n(\"workDelay\",100),n(\"flattenSpans\",!0,ha,!0),n(\"addModeClass\",!1,ha,!0),n(\"pollInterval\",100),n(\"undoDepth\",200,(function(e,t){return e.doc.history.undoDepth=t})),n(\"historyEventDelay\",1250),n(\"viewportMargin\",10,(function(e){return e.refresh()}),!0),n(\"maxHighlightLength\",1e4,ha,!0),n(\"moveInputWithCursor\",!0,(function(e,t){t||e.display.input.resetPosition()})),n(\"tabindex\",null,(function(e,t){return e.display.input.getField().tabIndex=t||\"\"})),n(\"autofocus\",null),n(\"direction\",\"ltr\",(function(e,t){return e.doc.setDirection(t)}),!0),n(\"phrases\",null)}function Os(e,t,n){var r=n&&n!=Ns;if(!t!=!r){var i=e.display.dragFunctions,a=t?pe:ve;a(e.display.scroller,\"dragstart\",i.start),a(e.display.scroller,\"dragenter\",i.enter),a(e.display.scroller,\"dragover\",i.over),a(e.display.scroller,\"dragleave\",i.leave),a(e.display.scroller,\"drop\",i.drop)}}function Rs(e){e.options.lineWrapping?(P(e.display.wrapper,\"CodeMirror-wrap\"),e.display.sizer.style.minWidth=\"\",e.display.sizerWidth=null):(E(e.display.wrapper,\"CodeMirror-wrap\"),sn(e)),Pr(e),kr(e),dr(e),setTimeout((function(){return gi(e)}),100)}function ks(e,t){var n=this;if(!(this instanceof ks))return new ks(e,t);this.options=t=t?F(t):{},F(Ls,t,!1);var r=t.value;\"string\"==typeof r?r=new wo(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new ks.inputStyles[t.inputStyle](this),a=this.display=new Ki(e,r,i,t);for(var u in a.wrapper.CodeMirror=this,Ds(this),t.lineWrapping&&(this.display.wrapper.className+=\" CodeMirror-wrap\"),xi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!g&&a.input.focus(),o&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Fs(this),No(),wi(this),this.curOp.forceUpdate=!0,ga(this,r),t.autofocus&&!g||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Qr(n)}),20):Kr(this),Is)Is.hasOwnProperty(u)&&Is[u](this,t[u],Ns);qi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Bs.length;++c)Bs[c](this);Ai(this),l&&t.lineWrapping&&\"optimizelegibility\"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering=\"auto\")}function Fs(e){var t=e.display;pe(t.scroller,\"mousedown\",Li(e,gs)),pe(t.scroller,\"dblclick\",o&&s<11?Li(e,(function(t){if(!_e(e,t)){var n=Or(e,t);if(n&&!Es(e,t)&&!jn(e.display,t)){we(t);var r=e.findWordAt(n);Oa(e.doc,r.anchor,r.head)}}})):function(t){return _e(e,t)||we(t)}),pe(t.scroller,\"contextmenu\",(function(t){return Cs(e,t)})),pe(t.input.getField(),\"contextmenu\",(function(n){t.scroller.contains(n.target)||Cs(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),r=t.activeTouch,r.end=+new Date)}function a(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}pe(t.scroller,\"touchstart\",(function(i){if(!_e(e,i)&&!a(i)&&!Es(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),pe(t.scroller,\"touchmove\",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),pe(t.scroller,\"touchend\",(function(n){var r=t.activeTouch;if(r&&!jn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,o=e.coordsChar(t.activeTouch,\"page\");a=!r.prev||l(r,r.prev)?new ia(o,o):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(o):new ia(it(o.line,0),dt(e.doc,it(o.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),we(n)}i()})),pe(t.scroller,\"touchcancel\",i),pe(t.scroller,\"scroll\",(function(){t.scroller.clientHeight&&(di(e,t.scroller.scrollTop),hi(e,t.scroller.scrollLeft,!0),ge(e,\"scroll\",e))})),pe(t.scroller,\"mousewheel\",(function(t){return na(e,t)})),pe(t.scroller,\"DOMMouseScroll\",(function(t){return na(e,t)})),pe(t.wrapper,\"scroll\",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){_e(e,t)||Se(t)},over:function(t){_e(e,t)||(Eo(e,t),Se(t))},start:function(t){return So(e,t)},drop:Li(e,To),leave:function(t){_e(e,t)||Co(e)}};var u=t.input.getField();pe(u,\"keyup\",(function(t){return cs.call(e,t)})),pe(u,\"keydown\",Li(e,ls)),pe(u,\"keypress\",Li(e,ds)),pe(u,\"focus\",(function(t){return Qr(e,t)})),pe(u,\"blur\",(function(t){return Kr(e,t)}))}ks.defaults=Ls,ks.optionHandlers=Is;var Bs=[];function zs(e,t,n,r){var i,a=e.doc;null==n&&(n=\"add\"),\"smart\"==n&&(a.mode.indent?i=_t(e,t).state:n=\"prev\");var o=e.options.tabSize,s=Qe(a,t),l=B(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\\s*/)[0];if(r||/\\S/.test(s.text)){if(\"smart\"==n&&(u=a.mode.indent(i,s.text.slice(c.length),s.text),u==G||u>150)){if(!r)return;n=\"prev\"}}else u=0,n=\"not\";\"prev\"==n?u=t>a.first?B(Qe(a,t-1).text,null,o):0:\"add\"==n?u=l+e.options.indentUnit:\"subtract\"==n?u=l-e.options.indentUnit:\"number\"==typeof n&&(u=l+n),u=Math.max(0,u);var d=\"\",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(u/o);h;--h)f+=o,d+=\"\\t\";if(f<u&&(d+=Y(u-f)),d!=c)return no(a,d,it(t,0),it(t,c.length),\"+input\"),s.stateAfter=null,!0;for(var p=0;p<a.sel.ranges.length;p++){var m=a.sel.ranges[p];if(m.head.line==t&&m.head.ch<c.length){var v=it(t,c.length);ka(a,p,new ia(v,v));break}}}ks.defineInitHook=function(e){return Bs.push(e)};var Hs=null;function Us(e){Hs=e}function Gs(e,t,n,r,i){var a=e.doc;e.display.shift=!1,r||(r=a.sel);var o=+new Date-200,s=\"paste\"==i||e.state.pasteIncoming>o,l=Pe(t),u=null;if(s&&r.ranges.length>1)if(Hs&&Hs.text.join(\"\\n\")==t){if(r.ranges.length%Hs.text.length==0){u=[];for(var c=0;c<Hs.text.length;c++)u.push(a.splitLines(Hs.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=Q(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var h=r.ranges[f],p=h.from(),m=h.to();h.empty()&&(n&&n>0?p=it(p.line,p.ch-n):e.state.overwrite&&!s?m=it(m.line,Math.min(Qe(a,m.line).text.length,m.ch+X(l).length)):s&&Hs&&Hs.lineWise&&Hs.text.join(\"\\n\")==l.join(\"\\n\")&&(p=m=it(p.line,0)));var v={from:p,to:m,text:u?u[f%u.length]:l,origin:i||(s?\"paste\":e.state.cutIncoming>o?\"cut\":\"+input\")};Qa(e.doc,v),Mn(e,\"inputRead\",e,v)}t&&!s&&Vs(e,t),oi(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function js(e,t){var n=e.clipboardData&&e.clipboardData.getData(\"Text\");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ni(t,(function(){return Gs(t,n,0,null,\"paste\")})),!0}function Vs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var a=e.getModeAt(i.head),o=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){o=zs(e,i.head.line,\"smart\");break}}else a.electricInput&&a.electricInput.test(Qe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=zs(e,i.head.line,\"smart\"));o&&Mn(e,\"electricInput\",e,i.head.line)}}}function Ws(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,a={anchor:it(i,0),head:it(i+1,0)};n.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:n}}function $s(e,t,n,r){e.setAttribute(\"autocorrect\",n?\"\":\"off\"),e.setAttribute(\"autocapitalize\",r?\"\":\"off\"),e.setAttribute(\"spellcheck\",!!t)}function qs(){var e=D(\"textarea\",null,null,\"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\"),t=D(\"div\",[e],null,\"overflow: hidden; position: relative; width: 3px; height: 0px;\");return l?e.style.width=\"1000px\":e.setAttribute(\"wrap\",\"off\"),m&&(e.style.border=\"1px solid black\"),$s(e),t}function Ys(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&\"mode\"!=e||(r[e]=n,t.hasOwnProperty(e)&&Li(this,t[e])(this,n,i),ge(this,\"optionChange\",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?\"push\":\"unshift\"](Vo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ii((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error(\"Overlays may not be stateful.\");K(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,kr(this)})),removeOverlay:Ii((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||\"string\"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void kr(this)}})),indentLine:Ii((function(e,t,n){\"string\"!=typeof t&&\"number\"!=typeof t&&(t=null==t?this.options.smartIndent?\"smart\":\"prev\":t?\"add\":\"subtract\"),nt(this.doc,e)&&zs(this,e,t,n)})),indentSelection:Ii((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(zs(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&oi(this));else{var a=i.from(),o=i.to(),s=Math.max(n,a.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;l<n;++l)zs(this,l,e);var u=this.doc.sel.ranges;0==a.ch&&t.length==u.length&&u[r].from().ch>0&&ka(this.doc,r,new ia(a,u[r].to()),j)}}})),getTokenAt:function(e,t){return At(this,e,t)},getLineTokens:function(e,t){return At(this,it(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=gt(this,Qe(this.doc,e.line)),r=0,i=(n.length-1)/2,a=e.ch;if(0==a)t=n[2];else for(;;){var o=r+i>>1;if((o?n[2*o-1]:0)>=a)i=o;else{if(!(n[2*o+1]<a)){t=n[2*o+2];break}r=o+1}}var s=t?t.indexOf(\"overlay \"):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],a=this.getModeAt(e);if(\"string\"==typeof a[t])i[a[t]]&&r.push(i[a[t]]);else if(a[t])for(var o=0;o<a[t].length;o++){var s=i[a[t][o]];s&&r.push(s)}else a.helperType&&i[a.helperType]?r.push(i[a.helperType]):i[a.name]&&r.push(i[a.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(a,this)&&-1==H(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=ct(n,null==e?n.first+n.size-1:e),_t(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:\"object\"==typeof e?dt(this.doc,e):e?r.from():r.to(),_r(this,n,t||\"page\")},charCoords:function(e,t){return gr(this,dt(this.doc,e),t||\"page\")},coordsChar:function(e,t){return e=vr(this,e,t||\"page\"),br(this,e.left,e.top)},lineAtHeight:function(e,t){return e=vr(this,{top:e,left:0},t||\"page\").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if(\"number\"==typeof e){var a=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>a&&(e=a,i=!0),r=Qe(this.doc,e)}else r=e;return mr(this,r,{top:0,left:0},t||\"page\",n||i).top+(i?this.doc.height-an(r):0)},defaultTextHeight:function(){return Mr(this.display)},defaultCharWidth:function(){return Dr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var a=this.display;e=_r(this,dt(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position=\"absolute\",t.setAttribute(\"cm-ignore-events\",\"true\"),this.display.input.setUneditable(t),a.sizer.appendChild(t),\"over\"==r)o=e.top;else if(\"above\"==r||\"near\"==r){var l=Math.max(a.wrapper.clientHeight,this.doc.height),u=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);(\"above\"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=o+\"px\",t.style.left=t.style.right=\"\",\"right\"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right=\"0px\"):(\"left\"==i?s=0:\"middle\"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+\"px\"),n&&ri(this,{left:s,top:o,right:s+t.offsetWidth,bottom:o+t.offsetHeight})},triggerOnKeyDown:Ii(ls),triggerOnKeyPress:Ii(ds),triggerOnKeyUp:cs,triggerOnMouseDown:Ii(gs),execCommand:function(e){if(Qo.hasOwnProperty(e))return Qo[e].call(null,this)},triggerElectric:Ii((function(e){Vs(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var a=dt(this.doc,e),o=0;o<t;++o)if(a=Xs(this.doc,a,i,n,r),a.hitSide)break;return a},moveH:Ii((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Xs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),W)})),deleteH:Ii((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection(\"\",null,\"+delete\"):Wo(this,(function(n){var i=Xs(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,a=r;t<0&&(i=-1,t=-t);for(var o=dt(this.doc,e),s=0;s<t;++s){var l=_r(this,o,\"div\");if(null==a?a=l.left:l.left=a,o=Qs(this,l,i,n),o.hitSide)break}return o},moveV:Ii((function(e,t){var n=this,r=this.doc,i=[],a=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(o){if(a)return e<0?o.from():o.to();var s=_r(n,o.head,\"div\");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=Qs(n,s,e,t);return\"page\"==t&&o==r.sel.primary()&&ai(n,gr(n,l,\"div\").top-s.top),l}),W),i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]})),findWordAt:function(e){var t=this.doc,n=Qe(t,e.line).text,r=e.ch,i=e.ch;if(n){var a=this.getHelper(e,\"wordChars\");\"before\"!=e.sticky&&i!=n.length||!r?++i:--r;var o=n.charAt(r),s=ne(o,a)?function(e){return ne(e,a)}:/\\s/.test(o)?function(e){return/\\s/.test(e)}:function(e){return!/\\s/.test(e)&&!ne(e)};while(r>0&&s(n.charAt(r-1)))--r;while(i<n.length&&s(n.charAt(i)))++i}return new ia(it(e.line,r),it(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,\"CodeMirror-overwrite\"):E(this.display.cursorDiv,\"CodeMirror-overwrite\"),ge(this,\"overwriteToggle\",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ii((function(e,t){si(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qn(this)-this.display.barHeight,width:e.scrollWidth-qn(this)-this.display.barWidth,clientHeight:Xn(this),clientWidth:Yn(this)}},scrollIntoView:Ii((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):\"number\"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?li(this,e):ci(this,e.from,e.to,e.margin)})),setSize:Ii((function(e,t){var n=this,r=function(e){return\"number\"==typeof e||/^\\d+$/.test(String(e))?e+\"px\":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&cr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Fr(n,i,\"widget\");break}++i})),this.curOp.forceUpdate=!0,ge(this,\"refresh\",this)})),operation:function(e){return Ni(this,e)},startOperation:function(){return wi(this)},endOperation:function(){return Ai(this)},refresh:Ii((function(){var e=this.display.cachedTextHeight;kr(this),this.curOp.forceUpdate=!0,dr(this),si(this,this.doc.scrollLeft,this.doc.scrollTop),Vi(this.display),(null==e||Math.abs(e-Mr(this.display))>.5||this.options.lineWrapping)&&Pr(this),ge(this,\"refresh\",this)})),swapDoc:Ii((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),ga(this,e),dr(this),this.display.input.reset(),si(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Mn(this,\"swapDoc\",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},be(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,a){e.registerHelper(t,r,a),n[t]._global.push({pred:i,val:a})}}function Xs(e,t,n,r,i){var a=t,o=n,s=Qe(e,t.line),l=i&&\"rtl\"==e.direction?-n:n;function u(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new it(n,t.ch,t.sticky),s=Qe(e,n))}function c(a){var o;if(\"codepoint\"==r){var c=s.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(c))o=null;else{var d=n>0?c>=55296&&c<56320:c>=56320&&c<57343;o=new it(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(d?2:1))),-n)}}else o=i?Xo(e.cm,s,t,n):qo(s,t,n);if(null==o){if(a||!u())return!1;t=Yo(i,e.cm,s,t.line,l)}else t=o;return!0}if(\"char\"==r||\"codepoint\"==r)c();else if(\"column\"==r)c(!0);else if(\"word\"==r||\"group\"==r)for(var d=null,f=\"group\"==r,h=e.cm&&e.cm.getHelper(t,\"wordChars\"),p=!0;;p=!1){if(n<0&&!c(!p))break;var m=s.text.charAt(t.ch)||\"\\n\",v=ne(m,h)?\"w\":f&&\"\\n\"==m?\"n\":!f||/\\s/.test(m)?null:\"p\";if(!f||p||v||(v=\"s\"),d&&d!=v){n<0&&(n=1,c(),t.sticky=\"after\");break}if(v&&(d=v),n>0&&!c(!p))break}var g=$a(e,t,a,o,!0);return ot(a,g)&&(g.hitSide=!0),g}function Qs(e,t,n,r){var i,a,o=e.doc,s=t.left;if(\"page\"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Mr(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else\"line\"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){if(a=br(e,s,i),!a.outside)break;if(n<0?i<=0:i>=o.height){a.hitSide=!0;break}i+=5*n}return a}var Ks=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Zs(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=Qe(e.doc,t.line),i=Kn(n,r,t.line),a=fe(r,e.doc.direction),o=\"left\";if(a){var s=ce(a,t.ch);o=s%2?\"right\":\"left\"}var l=ar(i.map,t.ch,o);return l.offset=\"right\"==l.collapse?l.end:l.start,l}function Js(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function el(e,t){return t&&(e.bad=!0),e}function tl(e,t,n,r,i){var a=\"\",o=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){o&&(a+=s,l&&(a+=s),o=l=!1)}function d(e){e&&(c(),a+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute(\"cm-text\");if(n)return void d(n);var a,h=t.getAttribute(\"cm-marker\");if(h){var p=e.findMarks(it(r,0),it(i+1,0),u(+h));return void(p.length&&(a=p[0].find(0))&&d(Ke(e.doc,a.from,a.to).join(s)))}if(\"false\"==t.getAttribute(\"contenteditable\"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var v=0;v<t.childNodes.length;v++)f(t.childNodes[v]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(o=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\\u200b/g,\"\").replace(/\\u00a0/g,\" \"))}for(;;){if(f(t),t==n)break;t=t.nextSibling,l=!1}return a}function nl(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return el(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==r)return rl(a,t,n)}}function rl(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!L(r,t))return el(it(et(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var a=e.rest?X(e.rest):e.line;return el(it(et(a),a.text.length),i)}var o=3==t.nodeType?t:null,s=t;o||1!=t.childNodes.length||3!=t.firstChild.nodeType||(o=t.firstChild,n&&(n=o.nodeValue.length));while(s.parentNode!=r)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var a=i<0?l.map:u[i],o=0;o<a.length;o+=3){var s=a[o+2];if(s==t||s==n){var c=et(i<0?e.line:e.rest[i]),d=a[o]+r;return(r<0||s!=t)&&(d=a[o+(r?1:0)]),it(c,d)}}}var d=c(o,s,n);if(d)return el(d,i);for(var f=s.nextSibling,h=o?o.nodeValue.length-n:0;f;f=f.nextSibling){if(d=c(f,f.firstChild,0),d)return el(it(d.line,d.ch-h),i);h+=f.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(d=c(p,p.firstChild,-1),d)return el(it(d.line,d.ch+m),i);m+=p.textContent.length}}Ks.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function a(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(t.className))break}return!1}function o(e){if(a(e)&&!_e(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()}),\"cut\"==e.type&&r.replaceSelection(\"\",null,\"cut\");else{if(!r.options.lineWiseCopyCut)return;var t=Ws(r);Us({lineWise:!0,text:t.text}),\"cut\"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,j),r.replaceSelection(\"\",null,\"cut\")}))}if(e.clipboardData){e.clipboardData.clearData();var o=Hs.text.join(\"\\n\");if(e.clipboardData.setData(\"Text\",o),e.clipboardData.getData(\"Text\")==o)return void e.preventDefault()}var s=qs(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=Hs.text.join(\"\\n\");var u=I();R(l),setTimeout((function(){r.display.lineSpace.removeChild(s),u.focus(),u==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,$s(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,\"paste\",(function(e){!a(e)||_e(r,e)||js(e,r)||s<=11&&setTimeout(Li(r,(function(){return t.updateFromDOM()})),20)})),pe(i,\"compositionstart\",(function(e){t.composing={data:e.data,done:!1}})),pe(i,\"compositionupdate\",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),pe(i,\"compositionend\",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),pe(i,\"touchstart\",(function(){return n.forceCompositionEnd()})),pe(i,\"input\",(function(){t.composing||t.readFromDOMSoon()})),pe(i,\"copy\",o),pe(i,\"cut\",o)},Ks.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute(\"aria-label\",e):this.div.removeAttribute(\"aria-label\")},Ks.prototype.prepareSelection=function(){var e=jr(this.cm,!1);return e.focus=I()==this.div,e},Ks.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ks.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ks.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),a=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||a.line<t.display.viewFrom)e.removeAllRanges();else{var o=nl(t,e.anchorNode,e.anchorOffset),s=nl(t,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=at(ut(o,s),i)||0!=at(lt(o,s),a)){var l=t.display.view,u=i.line>=t.display.viewFrom&&Zs(t,i)||{node:l[0].measure.map[2],offset:0},c=a.line<t.display.viewTo&&Zs(t,a);if(!c){var d=l[l.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var h,p=e.rangeCount&&e.getRangeAt(0);try{h=S(u.node,u.offset,c.offset,c.node)}catch(m){}h&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ks.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ks.prototype.showMultipleSelections=function(e){M(this.cm.display.cursorDiv,e.cursors),M(this.cm.display.selectionDiv,e.selection)},Ks.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ks.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return L(this.div,t)},Ks.prototype.focus=function(){\"nocursor\"!=this.cm.options.readOnly&&(this.selectionInEditor()&&I()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ks.prototype.blur=function(){this.div.blur()},Ks.prototype.getField=function(){return this.div},Ks.prototype.supportsTouch=function(){return!0},Ks.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Ni(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Ks.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ks.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&c&&this.cm.display.gutterSpecs.length&&Js(e.anchorNode))return this.cm.triggerOnKeyDown({type:\"keydown\",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=nl(t,e.anchorNode,e.anchorOffset),r=nl(t,e.focusNode,e.focusOffset);n&&r&&Ni(t,(function(){Ha(t.doc,oa(n,r),j),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ks.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,a=r.doc.sel.primary(),o=a.from(),s=a.to();if(0==o.ch&&o.line>r.firstLine()&&(o=it(o.line-1,Qe(r.doc,o.line-1).length)),s.ch==Qe(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=it(s.line+1,0)),o.line<i.viewFrom||s.line>i.viewTo-1)return!1;o.line==i.viewFrom||0==(e=Rr(r,o.line))?(t=et(i.view[0].line),n=i.view[0].node):(t=et(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,u,c=Rr(r,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=et(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;var d=r.doc.splitLines(tl(r,n,u,t,l)),f=Ke(r.doc,it(t,0),it(l,Qe(r.doc,l).text.length));while(d.length>1&&f.length>1)if(X(d)==X(f))d.pop(),f.pop(),l--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}var h=0,p=0,m=d[0],v=f[0],g=Math.min(m.length,v.length);while(h<g&&m.charCodeAt(h)==v.charCodeAt(h))++h;var _=X(d),y=X(f),x=Math.min(_.length-(1==d.length?h:0),y.length-(1==f.length?h:0));while(p<x&&_.charCodeAt(_.length-p-1)==y.charCodeAt(y.length-p-1))++p;if(1==d.length&&1==f.length&&t==o.line)while(h&&h>o.ch&&_.charCodeAt(_.length-p-1)==y.charCodeAt(y.length-p-1))h--,p++;d[d.length-1]=_.slice(0,_.length-p).replace(/^\\u200b+/,\"\"),d[0]=d[0].slice(h).replace(/\\u200b+$/,\"\");var b=it(t,h),w=it(l,f.length?X(f).length-p:0);return d.length>1||d[0]||at(b,w)?(no(r.doc,d,b,w,\"+input\"),!0):void 0},Ks.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ks.prototype.reset=function(){this.forceCompositionEnd()},Ks.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ks.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ks.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ni(this.cm,(function(){return kr(e.cm)}))},Ks.prototype.setUneditable=function(e){e.contentEditable=\"false\"},Ks.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Li(this.cm,Gs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ks.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(\"nocursor\"!=e)},Ks.prototype.onContextMenu=function(){},Ks.prototype.resetPosition=function(){},Ks.prototype.needsContentAttribute=!0;var il=function(e){this.cm=e,this.prevInput=\"\",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};function al(e,t){if(t=t?F(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=I();t.autofocus=n==e||null!=e.getAttribute(\"autofocus\")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(pe(e.form,\"submit\",r),!t.leaveSubmitMethodAlone)){var a=e.form;i=a.submit;try{var o=a.submit=function(){r(),a.submit=i,a.submit(),a.submit=o}}catch(l){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display=\"\",e.form&&(ve(e.form,\"submit\",r),t.leaveSubmitMethodAlone||\"function\"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display=\"none\";var s=ks((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function ol(e){e.off=ve,e.on=pe,e.wheelEventPixels=ta,e.Doc=wo,e.splitLines=Pe,e.countColumn=B,e.findColumn=$,e.isWordChar=te,e.Pass=G,e.signal=ge,e.Line=ln,e.changeEnd=sa,e.scrollbarModel=yi,e.Pos=it,e.cmpPos=at,e.modes=Be,e.mimeModes=ze,e.resolveMode=Ge,e.getMode=je,e.modeExtensions=Ve,e.extendMode=We,e.copyState=$e,e.startState=Ye,e.innerMode=qe,e.commands=Qo,e.keyMap=Fo,e.keyName=jo,e.isModifierKey=Uo,e.lookupKey=Ho,e.normalizeKeyMap=zo,e.StringStream=Xe,e.SharedTextMarker=vo,e.TextMarker=po,e.LineWidget=uo,e.e_preventDefault=we,e.e_stopPropagation=Ae,e.e_stop=Se,e.addClass=P,e.contains=L,e.rmClass=E,e.keyNames=Po}il.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function a(e){if(!_e(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ws(r);Us({lineWise:!0,text:t.text}),\"cut\"==e.type?r.setSelections(t.ranges,null,j):(n.prevInput=\"\",i.value=t.text.join(\"\\n\"),R(i))}\"cut\"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width=\"0px\"),pe(i,\"input\",(function(){o&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),pe(i,\"paste\",(function(e){_e(r,e)||js(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pe(i,\"cut\",a),pe(i,\"copy\",a),pe(e.scroller,\"paste\",(function(t){if(!jn(e,t)&&!_e(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var a=new Event(\"paste\");a.clipboardData=t.clipboardData,i.dispatchEvent(a)}})),pe(e.lineSpace,\"selectstart\",(function(t){jn(e,t)||we(t)})),pe(i,\"compositionstart\",(function(){var e=r.getCursor(\"from\");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor(\"to\"),{className:\"CodeMirror-composing\"})}})),pe(i,\"compositionend\",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},il.prototype.createField=function(e){this.wrapper=qs(),this.textarea=this.wrapper.firstChild},il.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute(\"aria-label\",e):this.textarea.removeAttribute(\"aria-label\")},il.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=jr(e);if(e.options.moveInputWithCursor){var i=_r(e,n.sel.primary().head,\"div\"),a=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-a.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-a.left))}return r},il.prototype.showSelection=function(e){var t=this.cm,n=t.display;M(n.cursorDiv,e.cursors),M(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+\"px\",this.wrapper.style.left=e.teLeft+\"px\")},il.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput=\"\";var n=t.getSelection();this.textarea.value=n,t.state.focused&&R(this.textarea),o&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value=\"\",o&&s>=9&&(this.hasSelection=null))}},il.prototype.getField=function(){return this.textarea},il.prototype.supportsTouch=function(){return!1},il.prototype.focus=function(){if(\"nocursor\"!=this.cm.options.readOnly&&(!g||I()!=this.textarea))try{this.textarea.focus()}catch(e){}},il.prototype.blur=function(){this.textarea.blur()},il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},il.prototype.receivedFocus=function(){this.slowPoll()},il.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},il.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},il.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Oe(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(o&&s>=9&&this.hasSelection===i||_&&/[\\uf700-\\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var a=i.charCodeAt(0);if(8203!=a||r||(r=\"​\"),8666==a)return this.reset(),this.cm.execCommand(\"undo\")}var l=0,u=Math.min(r.length,i.length);while(l<u&&r.charCodeAt(l)==i.charCodeAt(l))++l;return Ni(t,(function(){Gs(t,i.slice(l),r.length-l,null,e.composing?\"*compose\":null),i.length>1e3||i.indexOf(\"\\n\")>-1?n.value=e.prevInput=\"\":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor(\"to\"),{className:\"CodeMirror-composing\"}))})),!0},il.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},il.prototype.onKeyPress=function(){o&&s>=9&&(this.hasSelection=null),this.fastPoll()},il.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var a=Or(n,e),u=r.scroller.scrollTop;if(a&&!d){var c=n.options.resetSelectionOnContextMenu;c&&-1==n.doc.sel.contains(a)&&Li(n,Ha)(n.doc,oa(a),j);var f,h=i.style.cssText,p=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText=\"position: static\",i.style.cssText=\"position: absolute; width: 30px; height: 30px;\\n      top: \"+(e.clientY-m.top-5)+\"px; left: \"+(e.clientX-m.left-5)+\"px;\\n      z-index: 1000; background: \"+(o?\"rgba(255, 255, 255, .05)\":\"transparent\")+\";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\",l&&(f=window.scrollY),r.input.focus(),l&&window.scrollTo(null,f),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=\" \"),t.contextMenuPending=_,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),o&&s>=9&&g(),A){Se(e);var v=function(){ve(window,\"mouseup\",v),setTimeout(_,20)};pe(window,\"mouseup\",v)}else setTimeout(_,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),a=\"​\"+(e?i.value:\"\");i.value=\"⇚\",i.value=a,t.prevInput=e?\"\":\"​\",i.selectionStart=1,i.selectionEnd=a.length,r.selForContextMenu=n.doc.sel}}function _(){if(t.contextMenuPending==_&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=h,o&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!o||o&&s<9)&&g();var e=0,a=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&\"​\"==t.prevInput?Li(n,Ya)(n):e++<10?r.detectingSelectAll=setTimeout(a,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(a,200)}}},il.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=\"nocursor\"==e,this.textarea.readOnly=!!e},il.prototype.setUneditable=function(){},il.prototype.needsContentAttribute=!1,Ps(ks),Ys(ks);var sl=\"iter insert remove copy getEditor constructor\".split(\" \");for(var ll in wo.prototype)wo.prototype.hasOwnProperty(ll)&&H(sl,ll)<0&&(ks.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(wo.prototype[ll]));return be(wo),ks.inputStyles={textarea:il,contenteditable:Ks},ks.defineMode=function(e){ks.defaults.mode||\"null\"==e||(ks.defaults.mode=e),He.apply(this,arguments)},ks.defineMIME=Ue,ks.defineMode(\"null\",(function(){return{token:function(e){return e.skipToEnd()}}})),ks.defineMIME(\"text/plain\",\"null\"),ks.defineExtension=function(e,t){ks.prototype[e]=t},ks.defineDocExtension=function(e,t){wo.prototype[e]=t},ks.fromTextArea=al,ol(ks),ks.version=\"5.62.0\",ks}))},\"56b9\":function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"ded3\")),o=i(n(\"d5c8\")),s=i(n(\"2db1\")),l=r(n(\"159b\")),u=i(n(\"f096\")),c=i(n(\"691b\")),d=i(n(\"63f7\")),f=(0,l.default)({title:\"定时任务\",url:\"api/jobs\",crudMethod:(0,a.default)({},o.default)}),h={id:null,jobName:null,beanName:null,methodName:null,params:null,cronExpression:null,isPause:!1,remark:null},p={name:\"Timing\",components:{Log:s.default,pagination:d.default,crudOperation:c.default,rrOperation:u.default},mixins:[(0,l.presenter)(f),(0,l.header)(),(0,l.form)(h),(0,l.crud)()],data:function(){return{delLoading:!1,permission:{add:[\"admin\",\"timing:add\"],edit:[\"admin\",\"timing:edit\"],del:[\"admin\",\"timing:del\"]},rules:{jobName:[{required:!0,message:\"请输入任务名称\",trigger:\"blur\"}],beanName:[{required:!0,message:\"请输入Bean名称\",trigger:\"blur\"}],methodName:[{required:!0,message:\"请输入方法名称\",trigger:\"blur\"}],cronExpression:[{required:!0,message:\"请输入Cron表达式\",trigger:\"blur\"}]}}},methods:{execute:function(e){var t=this;o.default.execution(e).then((function(e){t.crud.notify(\"执行成功\",l.default.NOTIFICATION_TYPE.SUCCESS)})).catch((function(e){}))},updateStatus:function(e,t){var n=this;o.default.updateIsPause(e).then((function(e){n.crud.toQuery(),n.crud.notify(t+\"成功\",l.default.NOTIFICATION_TYPE.SUCCESS)})).catch((function(e){}))},delMethod:function(e){var t=this;this.delLoading=!0,o.default.del([e]).then((function(){t.delLoading=!1,t.$refs[e].doClose(),t.crud.dleChangePage(1),t.crud.delSuccessNotify(),t.crud.toQuery()})).catch((function(){t.delLoading=!1,t.$refs[e].doClose()}))},doLog:function(){this.$refs.log.dialog=!0,this.$refs.log.doInit()},checkboxT:function(e,t){return 1!==e.id}}};t.default=p},\"56d5\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r={name:\"Page404\",computed:{message:function(){return\"该页面不存在或您没有访问这个页面的权限......\"},location:function(){return this.$route.redirectedFrom||document.location}}};t.default=r},\"57b0\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"cf19\"),i=n(\"fb4c\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"5dc59ff5\",null);t[\"default\"]=s.exports},\"58b7\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-dialog\",{attrs:{visible:e.dialog,\"append-to-body\":\"\",title:\"执行日志\",width:\"88%\"},on:{\"update:visible\":function(t){e.dialog=t}}},[n(\"div\",{staticClass:\"head-container\"},[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"输入任务名称搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.toQuery(t)}},model:{value:e.query.jobName,callback:function(t){e.$set(e.query,\"jobName\",t)},expression:\"query.jobName\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"el-select\",{staticClass:\"filter-item\",staticStyle:{width:\"110px\"},attrs:{placeholder:\"日志状态\",clearable:\"\",size:\"small\"},on:{change:e.toQuery},model:{value:e.query.isSuccess,callback:function(t){e.$set(e.query,\"isSuccess\",t)},expression:\"query.isSuccess\"}},e._l(e.enabledTypeOptions,(function(e){return n(\"el-option\",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1),e._v(\" \"),n(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"success\",icon:\"el-icon-search\"},on:{click:e.toQuery}},[e._v(\"搜索\")]),e._v(\" \"),n(\"div\",{staticStyle:{display:\"inline-block\"}},[n(\"el-button\",{staticClass:\"filter-item\",attrs:{loading:e.downloadLoading,type:\"warning\",icon:\"el-icon-download\"},on:{click:e.downloadMethod}},[e._v(\"导出\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticStyle:{width:\"100%\",\"margin-top\":\"-10px\"},attrs:{data:e.data}},[n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"jobName\",label:\"任务名称\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"beanName\",label:\"Bean名称\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"methodName\",label:\"执行方法\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"params\",width:\"120px\",label:\"参数\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"cronExpression\",label:\"cron表达式\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"异常详情\",width:\"110px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.row.exceptionDetail,expression:\"scope.row.exceptionDetail\"}],attrs:{type:\"text\"},on:{click:function(n){return e.info(t.row.exceptionDetail)}}},[e._v(\"查看详情\")])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,align:\"center\",prop:\"time\",width:\"100px\",label:\"耗时(毫秒)\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{align:\"center\",prop:\"isSuccess\",width:\"80px\",label:\"状态\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-tag\",{attrs:{type:t.row.isSuccess?\"success\":\"danger\"}},[e._v(e._s(t.row.isSuccess?\"成功\":\"失败\"))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),e._v(\" \"),n(\"el-dialog\",{attrs:{visible:e.errorDialog,\"append-to-body\":\"\",title:\"异常详情\",width:\"85%\"},on:{\"update:visible\":function(t){e.errorDialog=t}}},[n(\"pre\",{directives:[{name:\"highlightjs\",rawName:\"v-highlightjs\",value:e.errorInfo,expression:\"errorInfo\"}]},[n(\"code\",{staticClass:\"java\"})])]),e._v(\" \"),n(\"el-pagination\",{staticStyle:{\"margin-top\":\"8px\"},attrs:{total:e.total,\"current-page\":e.page+1,\"page-size\":6,layout:\"total, prev, pager, next\"},on:{\"size-change\":e.sizeChange,\"current-change\":e.pageChange}})],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"58d3\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"3c3f\");t[\"default\"]=r},\"59bc\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\");var e=[[[28604,77,17096869,\"Australia\",1990],[31163,77.4,27662440,\"Canada\",1990],[1516,68,1154605773,\"China\",1990],[13670,74.7,10582082,\"Cuba\",1990],[28599,75,4986705,\"Finland\",1990],[29476,77.1,56943299,\"France\",1990],[31476,75.4,78958237,\"Germany\",1990],[28666,78.1,254830,\"Iceland\",1990],[1777,57.7,870601776,\"India\",1990],[29550,79.1,122249285,\"Japan\",1990],[2076,67.9,20194354,\"North Korea\",1990],[12087,72,42972254,\"South Korea\",1990],[24021,75.4,3397534,\"New Zealand\",1990],[43296,76.8,4240375,\"Norway\",1990],[10088,70.8,38195258,\"Poland\",1990],[19349,69.6,147568552,\"Russia\",1990],[10670,67.3,53994605,\"Turkey\",1990],[26424,75.7,57110117,\"United Kingdom\",1990],[37062,75.4,252847810,\"United States\",1990]],[[44056,81.8,23968973,\"Australia\",2015],[43294,81.7,35939927,\"Canada\",2015],[13334,76.9,1376048943,\"China\",2015],[21291,78.5,11389562,\"Cuba\",2015],[38923,80.8,5503457,\"Finland\",2015],[37599,81.9,64395345,\"France\",2015],[44053,81.1,80688545,\"Germany\",2015],[42182,82.8,329425,\"Iceland\",2015],[5903,66.8,1311050527,\"India\",2015],[36162,83.5,126573481,\"Japan\",2015],[1390,71.4,25155317,\"North Korea\",2015],[34644,80.7,50293439,\"South Korea\",2015],[34186,80.6,4528526,\"New Zealand\",2015],[64304,81.6,5210967,\"Norway\",2015],[24787,77.3,38611794,\"Poland\",2015],[23038,73.13,143456918,\"Russia\",2015],[19360,76.5,78665830,\"Turkey\",2015],[38225,81.4,64715810,\"United Kingdom\",2015],[53354,79.1,321773631,\"United States\",2015]]];this.chart.setOption({title:{text:\"1990 与 2015 年各国家人均寿命与 GDP\"},legend:{right:10,data:[\"1990\",\"2015\"]},xAxis:{splitLine:{lineStyle:{type:\"dashed\"}}},yAxis:{splitLine:{lineStyle:{type:\"dashed\"}},scale:!0},series:[{name:\"1990\",data:e[0],type:\"scatter\",symbolSize:function(e){return Math.sqrt(e[2])/500},label:{emphasis:{show:!0,formatter:function(e){return e.data[3]},position:\"top\"}},itemStyle:{normal:{shadowBlur:10,shadowColor:\"rgba(120, 36, 50, 0.5)\",shadowOffsetY:5,color:new i.default.graphic.RadialGradient(.4,.3,1,[{offset:0,color:\"rgb(251, 118, 123)\"},{offset:1,color:\"rgb(204, 46, 72)\"}])}}},{name:\"2015\",data:e[1],type:\"scatter\",symbolSize:function(e){return Math.sqrt(e[2])/500},label:{emphasis:{show:!0,formatter:function(e){return e.data[3]},position:\"top\"}},itemStyle:{normal:{shadowBlur:10,shadowColor:\"rgba(25, 100, 150, 0.5)\",shadowOffsetY:5,color:new i.default.graphic.RadialGradient(.4,.3,1,[{offset:0,color:\"rgb(129, 227, 238)\"},{offset:1,color:\"rgb(25, 183, 207)\"}])}}}]})}}};t.default=o},\"59d7\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"0939\"),i=n(\"1ab9\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"97af\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"483f4304\",null);t[\"default\"]=s.exports},\"5a31\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"8147\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"5a3f\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"90aa\"),i=n(\"1f2d\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"fcc2\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"5a74\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"4334\"),i=n(\"21f3\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"5b08\":function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticStyle:{padding:\"30px\"}},[n(\"el-alert\",{attrs:{closable:!1,title:\"二级菜单\"}})],1)},i=[],a=n(\"2877\"),o={},s=Object(a[\"a\"])(o,r,i,!1,null,null,null);t[\"default\"]=s.exports},\"5c62\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"d84b\"),i=n(\"b9dd\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"ad11\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"049f0580\",null);t[\"default\"]=s.exports},\"5e94\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"cb16\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"5f0c\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"a28b\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},6022:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"el-row\",{attrs:{gutter:15}},[n(\"el-col\",{staticStyle:{\"margin-bottom\":\"10px\"}},[n(\"el-card\",{staticClass:\"box-card\",attrs:{shadow:\"never\"}},[n(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[n(\"span\",{staticClass:\"role-span\"},[e._v(\"字段配置：\"+e._s(e.tableName))]),e._v(\" \"),n(\"el-button\",{staticStyle:{float:\"right\",padding:\"6px 9px\"},attrs:{loading:e.genLoading,icon:\"el-icon-s-promotion\",type:\"success\"},on:{click:e.toGen}},[e._v(\"保存&生成\\n          \")]),e._v(\" \"),n(\"el-button\",{staticStyle:{float:\"right\",padding:\"6px 9px\",\"margin-right\":\"9px\"},attrs:{loading:e.columnLoading,icon:\"el-icon-check\",type:\"primary\"},on:{click:e.saveColumnConfig}},[e._v(\"保存\\n          \")]),e._v(\" \"),n(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"数据库中表字段变动时使用该功能\",placement:\"top-start\"}},[n(\"el-button\",{staticStyle:{float:\"right\",padding:\"6px 9px\"},attrs:{loading:e.syncLoading,icon:\"el-icon-refresh\",type:\"info\"},on:{click:e.sync}},[e._v(\"同步\\n            \")])],1)],1),e._v(\" \"),n(\"el-form\",{attrs:{size:\"small\",\"label-width\":\"90px\"}},[n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticStyle:{width:\"100%\",\"margin-bottom\":\"15px\"},attrs:{data:e.data,\"max-height\":e.tableHeight,size:\"small\"}},[n(\"el-table-column\",{attrs:{prop:\"columnName\",label:\"字段名称\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"columnType\",label:\"字段类型\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"remark\",label:\"字段描述\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-input\",{staticClass:\"edit-input\",model:{value:e.data[t.$index].remark,callback:function(n){e.$set(e.data[t.$index],\"remark\",n)},expression:\"data[scope.$index].remark\"}})]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{align:\"center\",label:\"必填\",width:\"70px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-checkbox\",{model:{value:e.data[t.$index].notNull,callback:function(n){e.$set(e.data[t.$index],\"notNull\",n)},expression:\"data[scope.$index].notNull\"}})]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{align:\"center\",label:\"列表\",width:\"70px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-checkbox\",{model:{value:e.data[t.$index].listShow,callback:function(n){e.$set(e.data[t.$index],\"listShow\",n)},expression:\"data[scope.$index].listShow\"}})]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{align:\"center\",label:\"表单\",width:\"70px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-checkbox\",{model:{value:e.data[t.$index].formShow,callback:function(n){e.$set(e.data[t.$index],\"formShow\",n)},expression:\"data[scope.$index].formShow\"}})]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"表单类型\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-select\",{staticClass:\"edit-input\",attrs:{filterable:\"\",clearable:\"\",placeholder:\"请选择\"},model:{value:e.data[t.$index].formType,callback:function(n){e.$set(e.data[t.$index],\"formType\",n)},expression:\"data[scope.$index].formType\"}},[n(\"el-option\",{attrs:{label:\"文本框\",value:\"Input\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"文本域\",value:\"Textarea\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"单选框\",value:\"Radio\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"下拉框\",value:\"Select\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"日期框\",value:\"Date\"}})],1)]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"查询方式\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-select\",{staticClass:\"edit-input\",attrs:{filterable:\"\",clearable:\"\",placeholder:\"请选择\"},model:{value:e.data[t.$index].queryType,callback:function(n){e.$set(e.data[t.$index],\"queryType\",n)},expression:\"data[scope.$index].queryType\"}},[n(\"el-option\",{attrs:{label:\"=\",value:\"=\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"!=\",value:\"!=\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\">=\",value:\">=\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"<=\",value:\"<=\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"Like\",value:\"Like\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"NotNull\",value:\"NotNull\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"BetWeen\",value:\"BetWeen\"}})],1)]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"日期注解\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-select\",{staticClass:\"edit-input\",attrs:{filterable:\"\",clearable:\"\",placeholder:\"请选择\"},model:{value:e.data[t.$index].dateAnnotation,callback:function(n){e.$set(e.data[t.$index],\"dateAnnotation\",n)},expression:\"data[scope.$index].dateAnnotation\"}},[n(\"el-option\",{attrs:{label:\"自动创建时间\",value:\"CreationTimestamp\"}}),e._v(\" \"),n(\"el-option\",{attrs:{label:\"自动更新时间\",value:\"UpdateTimestamp\"}})],1)]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"关联字典\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-select\",{staticClass:\"edit-input\",attrs:{filterable:\"\",clearable:\"\",placeholder:\"请选择\"},model:{value:e.data[t.$index].dictName,callback:function(n){e.$set(e.data[t.$index],\"dictName\",n)},expression:\"data[scope.$index].dictName\"}},e._l(e.dicts,(function(e){return n(\"el-option\",{key:e.id,attrs:{label:\"\"===e.remark?e.name:e.remark,value:e.name}})})),1)]}}])})],1)],1)],1)],1),e._v(\" \"),n(\"el-col\",[n(\"el-card\",{staticClass:\"box-card\",attrs:{shadow:\"never\"}},[n(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[n(\"span\",{staticClass:\"role-span\"},[e._v(\"生成配置\")]),e._v(\" \"),n(\"el-button\",{staticStyle:{float:\"right\",padding:\"6px 9px\"},attrs:{loading:e.configLoading,icon:\"el-icon-check\",type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"保存\\n          \")])],1),e._v(\" \"),n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"78px\"}},[n(\"el-form-item\",{attrs:{label:\"作者名称\",prop:\"author\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.author,callback:function(t){e.$set(e.form,\"author\",t)},expression:\"form.author\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"类上面的作者名称\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"模块名称\",prop:\"moduleName\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.moduleName,callback:function(t){e.$set(e.form,\"moduleName\",t)},expression:\"form.moduleName\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"模块的名称，请选择项目中已存在的模块\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"至于包下\",prop:\"pack\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.pack,callback:function(t){e.$set(e.form,\"pack\",t)},expression:\"form.pack\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"项目包的名称，生成的代码放到哪个包里面\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"接口名称\",prop:\"apiAlias\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.apiAlias,callback:function(t){e.$set(e.form,\"apiAlias\",t)},expression:\"form.apiAlias\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"接口的名称，用于控制器与接口文档中\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"前端路径\",prop:\"path\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.path,callback:function(t){e.$set(e.form,\"path\",t)},expression:\"form.path\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"输入views文件夹下的目录，不存在即创建\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"去表前缀\",prop:\"prefix\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},attrs:{placeholder:\"默认不去除表前缀\"},model:{value:e.form.prefix,callback:function(t){e.$set(e.form,\"prefix\",t)},expression:\"form.prefix\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"默认不去除表前缀，可自定义\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"备注\",prop:\"apiAlias\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,\"remark\",t)},expression:\"form.remark\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"接口的描述，默认表描述\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"是否覆盖\",prop:\"cover\"}},[n(\"el-radio-group\",{staticStyle:{width:\"40%\"},model:{value:e.form.cover,callback:function(t){e.$set(e.form,\"cover\",t)},expression:\"form.cover\"}},[n(\"el-radio-button\",{attrs:{label:\"true\"}},[e._v(\"是\")]),e._v(\" \"),n(\"el-radio-button\",{attrs:{label:\"false\"}},[e._v(\"否\")])],1),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"谨防误操作，请慎重选择\")])],1)],1)],1)],1)],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},6099:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=r(n(\"b158\"));n(\"817d\");var o={mixins:[a.default],props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"350px\"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,n=e.actualData;this.chart.setOption({xAxis:{data:[\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\",\"Sun\"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:[\"expected\",\"actual\"]},series:[{name:\"expected\",itemStyle:{normal:{color:\"#FF005A\",lineStyle:{color:\"#FF005A\",width:2}}},smooth:!0,type:\"line\",data:t,animationDuration:2800,animationEasing:\"cubicInOut\"},{name:\"actual\",smooth:!0,type:\"line\",itemStyle:{normal:{color:\"#3888fa\",lineStyle:{color:\"#3888fa\",width:2},areaStyle:{color:\"#f3f8ff\"}}},data:n,animationDuration:2800,animationEasing:\"quadraticOut\"}]})}}};t.default=o},\"617f\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"43b0\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"619c\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"c05b\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"61be\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"a21b\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"62ad\":function(e,t,n){},\"63b1\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"63d5\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"8baa\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},6468:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"add\",(function(){return i})),n.d(t,\"del\",(function(){return a})),n.d(t,\"edit\",(function(){return o}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/serverDeploy\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/serverDeploy\",method:\"delete\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/serverDeploy\",method:\"put\",data:e})}t[\"default\"]={add:i,edit:o,del:a}},\"649a\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"64b4d\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"resetEmail\",(function(){return i})),n.d(t,\"updatePass\",(function(){return a}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/code/resetEmail\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/users/updatePass/\"+e,method:\"get\"})}},6584:function(e,t,n){\"use strict\";n.r(t);var r=n(\"e82a\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"65a9\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"149b\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"664a\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"e02c\"),i=n(\"fa82\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"f410\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"272f3382\",null);t[\"default\"]=s.exports},6765:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"cfc2\")),a=r(n(\"a139\")),o={name:\"AliPay\",components:{Config:i.default,ToPay:a.default},data:function(){return{activeName:\"second\"}}};t.default=o},6766:function(e,t,n){\"use strict\";n(\"0c34\")},\"67c8\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"p\",{staticClass:\"warn-content\"},[e._v(\"\\n    Markdown 基于\\n    \"),n(\"el-link\",{attrs:{type:\"primary\",href:\"https://github.com/hinesboy/mavonEditor\",target:\"_blank\"}},[e._v(\"MavonEditor\")]),e._v(\"\\n    ，图片上传使用 \"),n(\"el-link\",{attrs:{type:\"primary\",href:\"https://sm.ms/\",target:\"_blank\"}},[e._v(\"SM.MS\")])],1),e._v(\" \"),n(\"mavon-editor\",{ref:\"md\",style:\"height:\"+e.height,on:{imgAdd:e.imgAdd}})],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"67d1\":function(e,t,n){},\"67df\":function(e,t,n){\"use strict\";n(\"d2ff\")},6833:function(e,t,n){\"use strict\";n.r(t);var r=n(\"bf64\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"6abc\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"7fc5\"),i=n(\"0341\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"a109\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"f9cf79f8\",null);t[\"default\"]=s.exports},\"6c33\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"1251\"),i=n(\"7f1a\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"a3148dc2\",null);t[\"default\"]=s.exports},\"6d5a\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"ec9e\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"6e6f\":function(e,t,n){\"use strict\";n(\"e50e\")},\"6f86\":function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"0907\")),o=n(\"998b\"),s=r(n(\"159b\")),l=i(n(\"691b\")),u=i(n(\"63f7\")),c=(0,s.default)({title:\"日志\",url:\"api/logs\",sort:\"\"}),d={name:\"Log\",components:{Search:a.default,crudOperation:l.default,pagination:u.default},mixins:[(0,s.presenter)(c)],created:function(){this.crud.optShow={add:!1,edit:!1,del:!1,download:!0}},methods:{confirmDelAll:function(){var e=this;this.$confirm(\"确认清空所有操作日志吗?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){e.crud.delAllLoading=!0,(0,o.delAllInfo)().then((function(t){e.crud.delAllLoading=!1,e.crud.dleChangePage(1),e.crud.delSuccessNotify(),e.crud.toQuery()})).catch((function(t){e.crud.delAllLoading=!1}))})).catch((function(){}))}}};t.default=d},\"6fad\":function(e,t,n){(function(t,n){e.exports=n()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=142)}([function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n,e.exports[\"default\"]=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(143)},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__extends\",(function(){return i})),n.d(t,\"__assign\",(function(){return a})),n.d(t,\"__rest\",(function(){return o})),n.d(t,\"__decorate\",(function(){return s})),n.d(t,\"__param\",(function(){return l})),n.d(t,\"__metadata\",(function(){return u})),n.d(t,\"__awaiter\",(function(){return c})),n.d(t,\"__generator\",(function(){return d})),n.d(t,\"__createBinding\",(function(){return f})),n.d(t,\"__exportStar\",(function(){return h})),n.d(t,\"__values\",(function(){return p})),n.d(t,\"__read\",(function(){return m})),n.d(t,\"__spread\",(function(){return v})),n.d(t,\"__spreadArrays\",(function(){return g})),n.d(t,\"__spreadArray\",(function(){return _})),n.d(t,\"__await\",(function(){return y})),n.d(t,\"__asyncGenerator\",(function(){return x})),n.d(t,\"__asyncDelegator\",(function(){return b})),n.d(t,\"__asyncValues\",(function(){return w})),n.d(t,\"__makeTemplateObject\",(function(){return A})),n.d(t,\"__importStar\",(function(){return S})),n.d(t,\"__importDefault\",(function(){return E})),n.d(t,\"__classPrivateFieldGet\",(function(){return C})),n.d(t,\"__classPrivateFieldSet\",(function(){return M}));\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r[\"throw\"](e))}catch(t){a(t)}}function l(e){e.done?n(e.value):i(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError(\"Generator is already executing.\");while(o)try{if(n=1,r&&(i=2&a[0]?r[\"return\"]:a[0]?r[\"throw\"]||((i=r[\"return\"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)\"default\"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t=\"function\"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&\"number\"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function m(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(r=a.next()).done)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a[\"return\"])&&n.call(a)}finally{if(i)throw i.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function _(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,i=n.apply(e,t||[]),a=[];return r={},o(\"next\"),o(\"throw\"),o(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{l(i[e](t))}catch(n){d(a[0][3],n)}}function l(e){e.value instanceof y?Promise.resolve(e.value.v).then(u,c):d(a[0][2],e)}function u(e){s(\"next\",e)}function c(e){s(\"throw\",e)}function d(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},r(\"next\"),r(\"throw\",(function(e){throw e})),r(\"return\"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:\"return\"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=\"function\"===typeof p?p(e):e[Symbol.iterator](),t={},r(\"next\"),r(\"throw\"),r(\"return\"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){t=e[n](t),i(r,a,t.done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,\"raw\",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e[\"default\"]=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)\"default\"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return T(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if(\"a\"===n&&!r)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"===typeof t?e!==t||!r:!t.has(e))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===n?r:\"a\"===n?r.call(e):r?r.value:t.get(e)}function M(e,t,n,r,i){if(\"m\"===r)throw new TypeError(\"Private method is not writable\");if(\"a\"===r&&!i)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"===typeof t?e!==t||!i:!t.has(e))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(93)),o=r(n(4)),s=r(n(26)),l=r(n(19)),u=r(n(121)),c=r(n(27)),d=r(n(95)),f=r(n(73)),h=r(n(44)),p=r(n(57));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.DomElement=void 0;var m=n(2),v=n(6),g=[];function _(e){var t=document.createElement(\"div\");t.innerHTML=e;var n=t.children;return v.toArray(n)}function y(e){return!!e&&(e instanceof HTMLCollection||e instanceof NodeList)}function x(e){var t=document.querySelectorAll(e);return v.toArray(t)}function b(e){var t=[],n=[];return t=(0,a[\"default\"])(e)?e:e.split(\";\"),(0,o[\"default\"])(t).call(t,(function(e){var t,r=(0,s[\"default\"])(t=e.split(\":\")).call(t,(function(e){return(0,l[\"default\"])(e).call(e)}));2===r.length&&n.push(r[0]+\":\"+r[1])})),n}var w=function(){function e(t){if(this.elems=[],this.length=this.elems.length,this.dataSource=new u[\"default\"],t){if(t instanceof e)return t;var n=[],r=t instanceof Node?t.nodeType:-1;if(this.selector=t,1===r||9===r)n=[t];else if(y(t))n=v.toArray(t);else if(t instanceof Array)n=t;else if(\"string\"===typeof t){var i,a=(0,l[\"default\"])(i=t.replace(\"/\\n/mg\",\"\")).call(i);n=0===(0,c[\"default\"])(a).call(a,\"<\")?_(a):x(a)}var o=n.length;if(!o)return this;for(var s=0;s<o;s++)this.elems.push(n[s]);this.length=o}}return(0,i[\"default\"])(e.prototype,\"id\",{get:function(){return this.elems[0].id},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){for(var t=0;t<this.length;t++){var n=this.elems[t],r=e.call(n,n,t);if(!1===r)break}return this},e.prototype.clone=function(e){var t;void 0===e&&(e=!1);var n=[];return(0,o[\"default\"])(t=this.elems).call(t,(function(t){n.push(t.cloneNode(!!e))})),A(n)},e.prototype.get=function(e){void 0===e&&(e=0);var t=this.length;return e>=t&&(e%=t),A(this.elems[e])},e.prototype.first=function(){return this.get(0)},e.prototype.last=function(){var e=this.length;return this.get(e-1)},e.prototype.on=function(e,t,n){var r;return e?(\"function\"===typeof t&&(n=t,t=\"\"),(0,o[\"default\"])(r=this).call(r,(function(r){if(t){var i=function(e){var r=e.target;r.matches(t)&&n.call(r,e)};r.addEventListener(e,i),g.push({elem:r,selector:t,fn:n,agentFn:i})}else r.addEventListener(e,n)}))):this},e.prototype.off=function(e,t,n){var r;return e?(\"function\"===typeof t&&(n=t,t=\"\"),(0,o[\"default\"])(r=this).call(r,(function(r){if(t){for(var i=-1,a=0;a<g.length;a++){var o=g[a];if(o.selector===t&&o.fn===n&&o.elem===r){i=a;break}}if(-1!==i){var s=(0,d[\"default\"])(g).call(g,i,1)[0].agentFn;r.removeEventListener(e,s)}}else r.removeEventListener(e,n)}))):this},e.prototype.attr=function(e,t){var n;return null==t?this.elems[0].getAttribute(e)||\"\":(0,o[\"default\"])(n=this).call(n,(function(n){n.setAttribute(e,t)}))},e.prototype.removeAttr=function(e){var t;(0,o[\"default\"])(t=this).call(t,(function(t){t.removeAttribute(e)}))},e.prototype.addClass=function(e){var t;return e?(0,o[\"default\"])(t=this).call(t,(function(t){if(t.className){var n=t.className.split(/\\s/);n=(0,f[\"default\"])(n).call(n,(function(e){return!!(0,l[\"default\"])(e).call(e)})),(0,c[\"default\"])(n).call(n,e)<0&&n.push(e),t.className=n.join(\" \")}else t.className=e})):this},e.prototype.removeClass=function(e){var t;return e?(0,o[\"default\"])(t=this).call(t,(function(t){if(t.className){var n=t.className.split(/\\s/);n=(0,f[\"default\"])(n).call(n,(function(t){return t=(0,l[\"default\"])(t).call(t),!(!t||t===e)})),t.className=n.join(\" \")}})):this},e.prototype.hasClass=function(e){if(!e)return!1;var t=this.elems[0];if(!t.className)return!1;var n=t.className.split(/\\s/);return(0,h[\"default\"])(n).call(n,e)},e.prototype.css=function(e,t){var n,r;return r=\"\"==t?\"\":e+\":\"+t+\";\",(0,o[\"default\"])(n=this).call(n,(function(t){var n,i=(0,l[\"default\"])(n=t.getAttribute(\"style\")||\"\").call(n);if(i){var a=b(i);a=(0,s[\"default\"])(a).call(a,(function(t){return 0===(0,c[\"default\"])(t).call(t,e)?r:t})),\"\"!=r&&(0,c[\"default\"])(a).call(a,r)<0&&a.push(r),\"\"==r&&(a=b(a)),t.setAttribute(\"style\",a.join(\"; \"))}else t.setAttribute(\"style\",r)}))},e.prototype.getBoundingClientRect=function(){var e=this.elems[0];return e.getBoundingClientRect()},e.prototype.show=function(){return this.css(\"display\",\"block\")},e.prototype.hide=function(){return this.css(\"display\",\"none\")},e.prototype.children=function(){var e=this.elems[0];return e?A(e.children):null},e.prototype.childNodes=function(){var e=this.elems[0];return e?A(e.childNodes):null},e.prototype.replaceChildAll=function(e){var t=this.getNode(),n=this.elems[0];while(n.hasChildNodes())t.firstChild&&n.removeChild(t.firstChild);this.append(e)},e.prototype.append=function(e){var t;return(0,o[\"default\"])(t=this).call(t,(function(t){(0,o[\"default\"])(e).call(e,(function(e){t.appendChild(e)}))}))},e.prototype.remove=function(){var e;return(0,o[\"default\"])(e=this).call(e,(function(e){if(e.remove)e.remove();else{var t=e.parentElement;t&&t.removeChild(e)}}))},e.prototype.isContain=function(e){var t=this.elems[0],n=e.elems[0];return t.contains(n)},e.prototype.getNodeName=function(){var e=this.elems[0];return e.nodeName},e.prototype.getNode=function(e){var t;return void 0===e&&(e=0),t=this.elems[e],t},e.prototype.find=function(e){var t=this.elems[0];return A(t.querySelectorAll(e))},e.prototype.text=function(e){var t;if(e)return(0,o[\"default\"])(t=this).call(t,(function(t){t.innerHTML=e}));var n=this.elems[0];return n.innerHTML.replace(/<[^>]+>/g,(function(){return\"\"}))},e.prototype.html=function(e){var t=this.elems[0];return e?(t.innerHTML=e,this):t.innerHTML},e.prototype.val=function(){var e,t=this.elems[0];return(0,l[\"default\"])(e=t.value).call(e)},e.prototype.focus=function(){var e;return(0,o[\"default\"])(e=this).call(e,(function(e){e.focus()}))},e.prototype.prev=function(){var e=this.elems[0];return A(e.previousElementSibling)},e.prototype.next=function(){var e=this.elems[0];return A(e.nextElementSibling)},e.prototype.getNextSibling=function(){var e=this.elems[0];return A(e.nextSibling)},e.prototype.parent=function(){var e=this.elems[0];return A(e.parentElement)},e.prototype.parentUntil=function(e,t){var n=t||this.elems[0];if(\"BODY\"===n.nodeName)return null;var r=n.parentElement;return null===r?null:r.matches(e)?A(r):this.parentUntil(e,r)},e.prototype.parentUntilEditor=function(e,t,n){var r=n||this.elems[0];if(A(r).equal(t.$textContainerElem)||A(r).equal(t.$toolbarElem))return null;var i=r.parentElement;return null===i?null:i.matches(e)?A(i):this.parentUntilEditor(e,t,i)},e.prototype.equal=function(t){return t instanceof e?this.elems[0]===t.elems[0]:t instanceof HTMLElement&&this.elems[0]===t},e.prototype.insertBefore=function(e){var t,n=A(e),r=n.elems[0];return r?(0,o[\"default\"])(t=this).call(t,(function(e){var t=r.parentNode;null===t||void 0===t||t.insertBefore(e,r)})):this},e.prototype.insertAfter=function(e){var t,n=A(e),r=n.elems[0],i=r&&r.nextSibling;return r?(0,o[\"default\"])(t=this).call(t,(function(e){var t=r.parentNode;i?t.insertBefore(e,i):t.appendChild(e)})):this},e.prototype.data=function(e,t){if(null==t)return this.dataSource.get(e);this.dataSource.set(e,t)},e.prototype.getNodeTop=function(e){if(this.length<1)return this;var t=this.parent();return e.$textElem.equal(this)||e.$textElem.equal(t)?this:(t.prior=this,t.getNodeTop(e))},e.prototype.getOffsetData=function(){var e=this.elems[0];return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight,parent:e.offsetParent}},e.prototype.scrollTop=function(e){var t=this.elems[0];t.scrollTo({top:e})},e}();function A(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new((0,p[\"default\"])(w).apply(w,m.__spreadArray([void 0],e)))}t.DomElement=w,t[\"default\"]=A},function(e,t,n){e.exports=n(184)},function(e,t,n){\"use strict\";var r=n(8),i=n(74).f,a=n(104),o=n(10),s=n(38),l=n(17),u=n(16),c=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,f,h,p,m,v,g,_,y=e.target,x=e.global,b=e.stat,w=e.proto,A=x?r:b?r[y]:(r[y]||{}).prototype,T=x?o:o[y]||(o[y]={}),S=T.prototype;for(h in t)n=a(x?h:y+(b?\".\":\"#\")+h,e.forced),d=!n&&A&&u(A,h),m=T[h],d&&(e.noTargetGet?(_=i(A,h),v=_&&_.value):v=A[h]),p=d&&v?v:t[h],d&&typeof m===typeof p||(g=e.bind&&d?s(p,r):e.wrap&&d?c(p):w&&\"function\"==typeof p?s(Function.call,p):p,(e.sham||p&&p.sham||m&&m.sham)&&l(g,\"sham\",!0),T[h]=g,w&&(f=y+\"Prototype\",u(o,f)||l(o,f,{}),o[f][h]=p,e.real&&S&&!S[h]&&l(S,h,p)))}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(96)),a=r(n(1)),o=r(n(263)),s=r(n(45)),l=r(n(46)),u=r(n(93)),c=r(n(26));(0,a[\"default\"])(t,\"__esModule\",{value:!0}),t.hexToRgb=t.getRandomCode=t.toArray=t.deepClone=t.isFunction=t.debounce=t.throttle=t.arrForEach=t.forEach=t.replaceSpecialSymbol=t.replaceHtmlSymbol=t.getRandom=t.UA=void 0;var d=n(2),f=function(){function e(){this._ua=navigator.userAgent;var e=this._ua.match(/(Edge?)\\/(\\d+)/);this.isOldEdge=!!(e&&\"Edge\"==e[1]&&(0,o[\"default\"])(e[2])<19),this.isFirefox=!(!/Firefox\\/\\d+/.test(this._ua)||/Seamonkey\\/\\d+/.test(this._ua))}return e.prototype.isIE=function(){return\"ActiveXObject\"in window},e.prototype.isWebkit=function(){return/webkit/i.test(this._ua)},e}();function h(e){var t;return void 0===e&&(e=\"\"),e+(0,s[\"default\"])(t=Math.random().toString()).call(t,2)}function p(e){return e.replace(/</gm,\"&lt;\").replace(/>/gm,\"&gt;\").replace(/\"/gm,\"&quot;\").replace(/(\\r\\n|\\r|\\n)/g,\"<br/>\")}function m(e){return e.replace(/&lt;/gm,\"<\").replace(/&gt;/gm,\">\").replace(/&quot;/gm,'\"')}function v(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=t(n,e[n]);if(!1===r)break}}function g(e,t){var n,r,i,a=e.length||0;for(n=0;n<a;n++)if(r=e[n],i=t.call(e,r,n),!1===i)break}function _(e,t){void 0===t&&(t=200);var n=!1;return function(){for(var r=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];n||(n=!0,(0,l[\"default\"])((function(){n=!1,e.call.apply(e,d.__spreadArray([r],i))}),t))}}function y(e,t){void 0===t&&(t=200);var n=0;return function(){for(var r=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];n&&window.clearTimeout(n),n=(0,l[\"default\"])((function(){n=0,e.call.apply(e,d.__spreadArray([r],i))}),t)}}function x(e){return\"function\"===typeof e}function b(e){if(\"object\"!==(0,i[\"default\"])(e)||\"function\"==typeof e||null===e)return e;var t;for(var n in(0,u[\"default\"])(e)&&(t=[]),(0,u[\"default\"])(e)||(t={}),e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=b(e[n]));return t}function w(e){return(0,s[\"default\"])(Array.prototype).call(e)}function A(){var e;return(0,s[\"default\"])(e=Math.random().toString(36)).call(e,-5)}function T(e){var t=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e);if(null==t)return null;var n=(0,c[\"default\"])(t).call(t,(function(e){return(0,o[\"default\"])(e,16)})),r=n[1],i=n[2],a=n[3];return\"rgb(\"+r+\", \"+i+\", \"+a+\")\"}t.UA=new f,t.getRandom=h,t.replaceHtmlSymbol=p,t.replaceSpecialSymbol=m,t.forEach=v,t.arrForEach=g,t.throttle=_,t.debounce=y,t.isFunction=x,t.deepClone=b,t.toArray=w,t.getRandomCode=A,t.hexToRgb=T},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));function a(){}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.EMPTY_P_REGEX=t.EMPTY_P_LAST_REGEX=t.EMPTY_P=t.urlRegex=t.EMPTY_FN=void 0,t.EMPTY_FN=a,t.urlRegex=/^(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-.,@?^=%&amp;:/~+#]*[\\w\\-@?^=%&amp;/~+#])?/,t.EMPTY_P='<p data-we-empty-p=\"\"><br></p>',t.EMPTY_P_LAST_REGEX=/<p data-we-empty-p=\"\"><br\\/?><\\/p>$/gim,t.EMPTY_P_REGEX=/<p data-we-empty-p=\"\">/gim},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n(\"object\"==typeof globalThis&&globalThis)||n(\"object\"==typeof window&&window)||n(\"object\"==typeof self&&self)||n(\"object\"==typeof t&&t)||function(){return this}()||Function(\"return this\")()}).call(this,n(146))},function(e,t,n){var r=n(10),i=n(16),a=n(97),o=n(18).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t){e.exports={}},function(e,t,n){var r=n(8),i=n(78),a=n(16),o=n(62),s=n(84),l=n(108),u=i(\"wks\"),c=r.Symbol,d=l?c:c&&c.withoutSetter||o;e.exports=function(e){return a(u,e)&&(s||\"string\"==typeof u[e])||(s&&a(c,e)?u[e]=c[e]:u[e]=d(\"Symbol.\"+e)),u[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e){return\"object\"===typeof e?null!==e:\"function\"===typeof e}},function(e,t,n){var r=n(10);e.exports=function(e){return r[e+\"Prototype\"]}},function(e,t,n){var r=n(12);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(25),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},function(e,t,n){var r=n(15),i=n(18),a=n(37);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(15),i=n(103),a=n(20),o=n(60),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(r){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported\");return\"value\"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=n(196)},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(String(e)+\" is not an object\");return e}},function(e,t,n){\"use strict\";var r=function(){var e;return function(){return\"undefined\"===typeof e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e}}(),i=function(){var e={};return function(t){if(\"undefined\"===typeof e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],l=t.base?s[0]+t.base:s[0],u=n[l]||0,c=\"\".concat(l,\" \").concat(u);n[l]=u+1;var d=o(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:c,updater:m(f,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement(\"style\"),r=e.attributes||{};if(\"undefined\"===typeof r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),\"function\"===typeof e.insert)e.insert(t);else{var o=i(e.insert||\"head\");if(!o)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");o.appendChild(t)}return t}function u(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}var c=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join(\"\\n\")}}();function d(e,t,n,r){var i=n?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute(\"media\",i):e.removeAttribute(\"media\"),a&&\"undefined\"!==typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),e.styleSheet)e.styleSheet.cssText=r;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,p=0;function m(e,t){var n,r,i;if(t.singleton){var a=p++;n=h||(h=l(t)),r=d.bind(null,n,a,!1),i=d.bind(null,n,a,!0)}else n=l(t),r=f.bind(null,n,t),i=function(){u(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){t=t||{},t.singleton||\"boolean\"===typeof t.singleton||(t.singleton=r()),e=e||[];var n=s(e,t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=n[r],l=o(i);a[l].references--}for(var u=s(e,t),c=0;c<n.length;c++){var d=n[c],f=o(d);0===a[f].references&&(a[f].updater(),a.splice(f,1))}n=u}}}},function(e,t,n){\"use strict\";function r(e,t){var n=e[1]||\"\",r=e[3];if(!r)return n;if(t&&\"function\"===typeof btoa){var a=i(r),o=r.sources.map((function(e){return\"/*# sourceURL=\".concat(r.sourceRoot||\"\").concat(e,\" */\")}));return[n].concat(o).concat([a]).join(\"\\n\")}return[n].join(\"\\n\")}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(t);return\"/*# \".concat(n,\" */\")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},t.i=function(e,n,r){\"string\"===typeof e&&(e=[[null,e,\"\"]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]=\"\".concat(n,\" and \").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(99)),s=function(e){function t(t,n){return e.call(this,t,n)||this}return a.__extends(t,e),t}(o[\"default\"]);t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(46));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(3)),u=s.__importDefault(n(99)),c=s.__importDefault(n(134)),d=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;r.title=n.i18next.t(\"menus.dropListMenu.\"+r.title);var s,u=\"zh-CN\"===n.config.lang?\"\":\"w-e-drop-list-tl\";\"\"!==u&&\"list\"===r.type&&(0,a[\"default\"])(s=r.list).call(s,(function(e){var t=e.$elem,n=l[\"default\"](t.children());if(n.length>0){var r=null===n||void 0===n?void 0:n.getNodeName();r&&\"I\"===r&&t.addClass(u)}}));var d=new c[\"default\"](i,r);return i.dropList=d,t.on(\"click\",(function(){var e;null!=n.selection.getRange()&&(t.css(\"z-index\",n.zIndex.get(\"menu\")),(0,a[\"default\"])(e=n.txt.eventHooks.dropListMenuHoverEvents).call(e,(function(e){return e()})),d.show())})).on(\"mouseleave\",(function(){t.css(\"z-index\",\"auto\"),d.hideTimeoutId=(0,o[\"default\"])((function(){d.hide()}))})),i}return s.__extends(t,e),t}(u[\"default\"]);t[\"default\"]=d},function(e,t,n){var r=n(49);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports=n(192)},function(e,t,n){e.exports=n(205)},function(e,t,n){var r=n(75),i=n(49);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(10),i=n(8),a=function(e){return\"function\"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(38),i=n(75),a=n(25),o=n(34),s=n(92),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,m,v,g){for(var _,y,x=a(p),b=i(x),w=r(m,v,3),A=o(b.length),T=0,S=g||s,E=t?S(p,A):n||f?S(p,0):void 0;A>T;T++)if((h||T in b)&&(_=b[T],y=w(_,T,x),e))if(t)E[T]=y;else if(y)switch(e){case 3:return!0;case 5:return _;case 6:return T;case 2:l.call(E,_)}else switch(e){case 4:return!1;case 7:l.call(E,_)}return d?-1:u||c?c:E}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},function(e,t,n){e.exports=n(290)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(31)),s=r(n(132));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var l=n(2),u=l.__importDefault(n(3)),c=n(7),d=function(){function e(t,n){this.menu=t,this.conf=n,this.$container=u[\"default\"]('<div class=\"w-e-panel-container\"></div>');var r=t.editor;r.txt.eventHooks.clickEvents.push(e.hideCurAllPanels),r.txt.eventHooks.toolbarClickEvents.push(e.hideCurAllPanels),r.txt.eventHooks.dropListMenuHoverEvents.push(e.hideCurAllPanels)}return e.prototype.create=function(){var t=this,n=this.menu;if(!e.createdMenus.has(n)){var r=this.conf,i=this.$container,s=r.width||300,d=n.editor.$toolbarElem.getBoundingClientRect(),f=n.$elem.getBoundingClientRect(),h=d.height+d.top-f.top,p=(d.width-s)/2+d.left-f.left,m=300;Math.abs(p)>m&&(p=f.left<document.documentElement.clientWidth/2?-f.width/2:-s+f.width/2),i.css(\"width\",s+\"px\").css(\"margin-top\",h+\"px\").css(\"margin-left\",p+\"px\").css(\"z-index\",n.editor.zIndex.get(\"panel\"));var v=u[\"default\"]('<i class=\"w-e-icon-close w-e-panel-close\"></i>');i.append(v),v.on(\"click\",(function(){t.remove()}));var g=u[\"default\"]('<ul class=\"w-e-panel-tab-title\"></ul>'),_=u[\"default\"]('<div class=\"w-e-panel-tab-content\"></div>');i.append(g).append(_);var y=r.height;y&&_.css(\"height\",y+\"px\").css(\"overflow-y\",\"auto\");var x=r.tabs||[],b=[],w=[];(0,a[\"default\"])(x).call(x,(function(e,t){if(e){var n=e.title||\"\",r=e.tpl||\"\",i=u[\"default\"]('<li class=\"w-e-item\">'+n+\"</li>\");g.append(i);var o=u[\"default\"](r);_.append(o),b.push(i),w.push(o),0===t?(i.data(\"active\",!0),i.addClass(\"w-e-active\")):o.hide(),i.on(\"click\",(function(){i.data(\"active\")||((0,a[\"default\"])(b).call(b,(function(e){e.data(\"active\",!1),e.removeClass(\"w-e-active\")})),(0,a[\"default\"])(w).call(w,(function(e){e.hide()})),i.data(\"active\",!0),i.addClass(\"w-e-active\"),o.show())}))}})),i.on(\"click\",(function(e){e.stopPropagation()})),n.$elem.append(i),(0,a[\"default\"])(x).call(x,(function(e,n){if(e){var r=e.events||[];(0,a[\"default\"])(r).call(r,(function(e){var r,i=e.selector,a=e.type,s=e.fn||c.EMPTY_FN,u=w[n],d=null!==(r=e.bindEnter)&&void 0!==r&&r,f=function(e){return l.__awaiter(t,void 0,void 0,(function(){var t;return l.__generator(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),[4,s(e)];case 1:return t=n.sent(),t&&this.remove(),[2]}}))}))};(0,o[\"default\"])(u).call(u,i).on(a,f),d&&\"click\"===a&&u.on(\"keyup\",(function(e){13==e.keyCode&&f(e)}))}))}}));var A=(0,o[\"default\"])(i).call(i,\"input[type=text],textarea\");A.length&&A.get(0).focus(),e.hideCurAllPanels(),n.setPanel(this),e.createdMenus.add(n)}},e.prototype.remove=function(){var t=this.menu,n=this.$container;n&&n.remove(),e.createdMenus[\"delete\"](t)},e.hideCurAllPanels=function(){var t;0!==e.createdMenus.size&&(0,a[\"default\"])(t=e.createdMenus).call(t,(function(e){var t=e.panel;t&&t.remove()}))},e.createdMenus=new s[\"default\"],e}();t[\"default\"]=d},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(String(e)+\" is not a function\");return e}},function(e,t,n){var r=n(64),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(99)),s=function(e){function t(t,n){return e.call(this,t,n)||this}return a.__extends(t,e),t.prototype.setPanel=function(e){this.panel=e},t}(o[\"default\"]);t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(57));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(3)),u=function(){function e(e,t,n){this.editor=e,this.$targetElem=t,this.conf=n,this._show=!1,this._isInsertTextContainer=!1;var r=l[\"default\"](\"<div></div>\");r.addClass(\"w-e-tooltip\"),this.$container=r}return e.prototype.getPositionData=function(){var e=this.$container,t=0,n=0,r=20,i=document.documentElement.scrollTop,a=this.$targetElem.getBoundingClientRect(),o=this.editor.$textElem.getBoundingClientRect(),s=this.$targetElem.getOffsetData(),u=l[\"default\"](s.parent),c=this.editor.$textElem.elems[0].scrollTop;if(this._isInsertTextContainer=u.equal(this.editor.$textContainerElem),this._isInsertTextContainer){var d=u.getBoundingClientRect().height,f=s.top,h=s.left,p=s.height,m=f-c;m>r+5?(t=m-r-15,e.addClass(\"w-e-tooltip-up\")):m+p+r<d?(t=m+p+10,e.addClass(\"w-e-tooltip-down\")):(t=(m>0?m:0)+r+10,e.addClass(\"w-e-tooltip-down\")),n=h<0?0:h}else a.top<r||a.top-o.top<r?(t=a.bottom+i+5,e.addClass(\"w-e-tooltip-down\")):(t=a.top+i-r-15,e.addClass(\"w-e-tooltip-up\")),n=a.left<0?0:a.left;return{top:t,left:n}},e.prototype.appendMenus=function(){var e=this,t=this.conf,n=this.editor,r=this.$targetElem,i=this.$container;(0,a[\"default\"])(t).call(t,(function(t,a){var o=t.$elem,s=l[\"default\"](\"<div></div>\");s.addClass(\"w-e-tooltip-item-wrapper \"),s.append(o),i.append(s),o.on(\"click\",(function(i){i.preventDefault();var a=t.onClick(n,r);a&&e.remove()}))}))},e.prototype.create=function(){var e,t,n=this.editor,r=this.$container;this.appendMenus();var i=this.getPositionData(),a=i.top,s=i.left;r.css(\"top\",a+\"px\"),r.css(\"left\",s+\"px\"),r.css(\"z-index\",n.zIndex.get(\"tooltip\")),this._isInsertTextContainer?this.editor.$textContainerElem.append(r):l[\"default\"](\"body\").append(r),this._show=!0,n.beforeDestroy((0,o[\"default\"])(e=this.remove).call(e,this)),n.txt.eventHooks.onBlurEvents.push((0,o[\"default\"])(t=this.remove).call(t,this))},e.prototype.remove=function(){this.$container.remove(),this._show=!1},(0,i[\"default\"])(e.prototype,\"isShow\",{get:function(){return this._show},enumerable:!1,configurable:!0}),e}();t[\"default\"]=u},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(33);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=!0},function(e,t,n){var r=n(20),i=n(107),a=n(34),o=n(38),s=n(109),l=n(110),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var c,d,f,h,p,m,v,g=n&&n.that,_=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),b=o(t,g,1+_+x),w=function(e){return c&&l(c),new u(!0,e)},A=function(e){return _?(r(e),x?b(e[0],e[1],w):b(e[0],e[1])):x?b(e,w):b(e)};if(y)c=e;else{if(d=s(e),\"function\"!=typeof d)throw TypeError(\"Target is not iterable\");if(i(d)){for(f=0,h=a(e.length);h>f;f++)if(p=A(e[f]),p&&p instanceof u)return p;return new u(!1)}c=d.call(e)}m=c.next;while(!(v=m.call(c)).done){try{p=A(v.value)}catch(T){throw l(c),T}if(\"object\"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},function(e,t){e.exports={}},function(e,t,n){var r=n(85),i=n(18).f,a=n(17),o=n(16),s=n(171),l=n(11),u=l(\"toStringTag\");e.exports=function(e,t,n,l){if(e){var c=n?e:e.prototype;o(c,u)||i(c,u,{configurable:!0,value:t}),l&&!r&&a(c,\"toString\",s)}}},function(e,t,n){var r,i,a,o=n(175),s=n(8),l=n(13),u=n(17),c=n(16),d=n(79),f=n(61),h=n(51),p=\"Object already initialized\",m=s.WeakMap,v=function(e){return a(e)?i(e):r(e,{})},g=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError(\"Incompatible receiver, \"+e+\" required\");return n}};if(o||d.state){var _=d.state||(d.state=new m),y=_.get,x=_.has,b=_.set;r=function(e,t){if(x.call(_,e))throw new TypeError(p);return t.facade=e,b.call(_,e,t),t},i=function(e){return y.call(_,e)||{}},a=function(e){return x.call(_,e)}}else{var w=f(\"state\");h[w]=!0,r=function(e,t){if(c(e,w))throw new TypeError(p);return t.facade=e,u(e,w,t),t},i=function(e){return c(e,w)?e[w]:{}},a=function(e){return c(e,w)}}e.exports={set:r,get:i,has:a,enforce:v,getterFor:g}},function(e,t,n){e.exports=n(217)},function(e,t,n){e.exports=n(268)},function(e,t,n){e.exports=n(272)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.createElementFragment=t.createDocumentFragment=t.createElement=t.insertBefore=t.getEndPoint=t.getStartPoint=t.updateRange=t.filterSelectionNodes=void 0;var o=n(2),s=n(138),l=o.__importDefault(n(3));function u(e){var t=[];return(0,a[\"default\"])(e).call(e,(function(e){var n=e.getNodeName();if(n!==s.ListType.OrderedList&&n!==s.ListType.UnorderedList)t.push(e);else if(e.prior)t.push(e.prior);else{var r=e.children();null===r||void 0===r||(0,a[\"default\"])(r).call(r,(function(e){t.push(l[\"default\"](e))}))}})),t}function c(e,t,n){var r=e.selection,i=document.createRange();t.length>1?(i.setStart(t.elems[0],0),i.setEnd(t.elems[t.length-1],t.elems[t.length-1].childNodes.length)):i.selectNodeContents(t.elems[0]),n&&i.collapse(!1),r.saveRange(i),r.restoreSelection()}function d(e){var t;return e.prior?e.prior:l[\"default\"](null===(t=e.children())||void 0===t?void 0:t.elems[0])}function f(e){var t;return e.prior?e.prior:l[\"default\"](null===(t=e.children())||void 0===t?void 0:t.last().elems[0])}function h(e,t,n){void 0===n&&(n=null),e.parent().elems[0].insertBefore(t,n)}function p(e){return document.createElement(e)}function m(){return document.createDocumentFragment()}function v(e,t,n){return void 0===n&&(n=\"li\"),(0,a[\"default\"])(e).call(e,(function(e){var r=p(n);r.innerHTML=e.html(),t.appendChild(r),e.remove()})),t}t.filterSelectionNodes=u,t.updateRange=c,t.getStartPoint=d,t.getEndPoint=f,t.insertBefore=h,t.createElement=p,t.createDocumentFragment=m,t.createElementFragment=v},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError(\"Can't call method on \"+e);return e}},function(e,t,n){var r=n(105),i=n(83);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports={}},function(e,t,n){var r=n(17);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},function(e,t,n){\"use strict\";var r=n(180).charAt,i=n(43),a=n(89),o=\"String Iterator\",s=i.set,l=i.getterFor(o);a(String,\"String\",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){n(182);var r=n(183),i=n(8),a=n(67),o=n(17),s=n(41),l=n(11),u=l(\"toStringTag\");for(var c in r){var d=i[c],f=d&&d.prototype;f&&a(f)!==u&&o(f,u,c),s[c]=s.Array}},function(e,t,n){var r=n(48);e.exports=Array.isArray||function(e){return\"Array\"==r(e)}},function(e,t,n){var r=n(12),i=n(11),a=n(65),o=i(\"species\");e.exports=function(e){return a>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){e.exports=n(226)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.ListHandle=void 0;var a=n(2),o=a.__importDefault(n(380)),s=function(){function e(e){this.options=e,this.selectionRangeElem=new o[\"default\"]}return e}();t.ListHandle=s},function(e,t,n){\"use strict\";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&\"function\"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if(\"function\"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&\"function\"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t,n){var r=n(78),i=n(62),a=r(\"keys\");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return\"Symbol(\"+String(void 0===e?\"\":e)+\")_\"+(++n+r).toString(36)}},function(e,t,n){var r,i=n(20),a=n(169),o=n(83),s=n(51),l=n(106),u=n(76),c=n(61),d=\">\",f=\"<\",h=\"prototype\",p=\"script\",m=c(\"IE_PROTO\"),v=function(){},g=function(e){return f+p+d+e+f+\"/\"+p+d},_=function(e){e.write(g(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=u(\"iframe\"),n=\"java\"+p+\":\";return t.style.display=\"none\",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g(\"document.F=Object\")),e.close(),e.F},x=function(){try{r=document.domain&&new ActiveXObject(\"htmlfile\")}catch(t){}x=r?_(r):y();var e=o.length;while(e--)delete x[h][o[e]];return x()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[h]=i(e),n=new v,v[h]=null,n[m]=e):n=x(),void 0===t?n:a(n,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r,i,a=n(8),o=n(66),s=a.process,l=s&&s.versions,u=l&&l.v8;u?(r=u.split(\".\"),i=r[0]<4?1:r[0]+r[1]):o&&(r=o.match(/Edge\\/(\\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\\/(\\d+)/),r&&(i=r[1]))),e.exports=i&&+i},function(e,t,n){var r=n(29);e.exports=r(\"navigator\",\"userAgent\")||\"\"},function(e,t,n){var r=n(85),i=n(48),a=n(11),o=a(\"toStringTag\"),s=\"Arguments\"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(n=l(t=Object(e),o))?n:s?i(t):\"Object\"==(r=i(t))&&\"function\"==typeof t.callee?\"Arguments\":r}},function(e,t){},function(e,t,n){\"use strict\";var r=n(33),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError(\"Bad Promise constructor\");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){\"use strict\";var r=n(12);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\"},function(e,t,n){\"use strict\";var r=n(60),i=n(18),a=n(37);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){e.exports=n(213)},function(e,t,n){var r=n(15),i=n(59),a=n(37),o=n(28),s=n(60),l=n(16),u=n(103),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(n){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(12),i=n(48),a=\"\".split;e.exports=r((function(){return!Object(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"==i(e)?a.call(e,\"\"):Object(e)}:Object},function(e,t,n){var r=n(8),i=n(13),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(16),i=n(25),a=n(61),o=n(167),s=a(\"IE_PROTO\"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var r=n(39),i=n(79);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.15.2\",mode:r?\"pure\":\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"})},function(e,t,n){var r=n(8),i=n(166),a=\"__core-js_shared__\",o=r[a]||i(a,{});e.exports=o},function(e,t,n){var r=n(20),i=n(168);e.exports=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set,e.call(n,[]),t=n instanceof Array}catch(a){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(28),i=n(34),a=n(82),o=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(64),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t){e.exports=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"]},function(e,t,n){var r=n(65),i=n(12);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t,n){var r=n(11),i=r(\"toStringTag\"),a={};a[i]=\"z\",e.exports=\"[object z]\"===String(a)},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(\"Incorrect \"+(n?n+\" \":\"\")+\"invocation\");return e}},function(e,t,n){var r=n(48),i=n(8);e.exports=\"process\"==r(i.process)},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){\"use strict\";var r=n(5),i=n(181),a=n(77),o=n(80),s=n(42),l=n(17),u=n(52),c=n(11),d=n(39),f=n(41),h=n(120),p=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,v=c(\"iterator\"),g=\"keys\",_=\"values\",y=\"entries\",x=function(){return this};e.exports=function(e,t,n,c,h,b,w){i(n,t,c);var A,T,S,E=function(e){if(e===h&&L)return L;if(!m&&e in D)return D[e];switch(e){case g:return function(){return new n(this,e)};case _:return function(){return new n(this,e)};case y:return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+\" Iterator\",M=!1,D=e.prototype,N=D[v]||D[\"@@iterator\"]||h&&D[h],L=!m&&N||E(h),I=\"Array\"==t&&D.entries||N;if(I&&(A=a(I.call(new e)),p!==Object.prototype&&A.next&&(d||a(A)===p||(o?o(A,p):\"function\"!=typeof A[v]&&l(A,v,x)),s(A,C,!0,!0),d&&(f[C]=x))),h==_&&N&&N.name!==_&&(M=!0,L=function(){return N.call(this)}),d&&!w||D[v]===L||l(D,v,L),f[t]=L,h)if(T={values:E(_),keys:b?L:E(g),entries:E(y)},w)for(S in T)(m||M||!(S in D))&&u(D,S,T[S]);else r({target:t,proto:!0,forced:m||M},T);return T}},function(e,t){e.exports=function(){}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=n(6),u=o.__importDefault(n(274)),c=o.__importDefault(n(287)),d=o.__importDefault(n(288)),f=o.__importDefault(n(289)),h=o.__importDefault(n(308)),p=o.__importStar(n(424)),m=o.__importDefault(n(425)),v=o.__importDefault(n(426)),g=o.__importDefault(n(427)),_=o.__importStar(n(428)),y=o.__importDefault(n(431)),x=o.__importDefault(n(432)),b=o.__importDefault(n(433)),w=o.__importDefault(n(435)),A=o.__importDefault(n(445)),T=o.__importDefault(n(448)),S=o.__importStar(n(449)),E=o.__importDefault(n(23)),C=o.__importDefault(n(134)),M=o.__importDefault(n(24)),D=o.__importDefault(n(32)),N=o.__importDefault(n(35)),L=o.__importDefault(n(36)),I=1,P=function(){function e(e,t){this.pluginsFunctionList={},this.beforeDestroyHooks=[],this.id=\"wangEditor-\"+I++,this.toolbarSelector=e,this.textSelector=t,p.selectorValidator(this),this.config=l.deepClone(u[\"default\"]),this.$toolbarElem=s[\"default\"](\"<div></div>\"),this.$textContainerElem=s[\"default\"](\"<div></div>\"),this.$textElem=s[\"default\"](\"<div></div>\"),this.toolbarElemId=\"\",this.textElemId=\"\",this.isFocus=!1,this.isComposing=!1,this.isCompatibleMode=!1,this.selection=new c[\"default\"](this),this.cmd=new d[\"default\"](this),this.txt=new f[\"default\"](this),this.menus=new h[\"default\"](this),this.zIndex=new x[\"default\"],this.change=new b[\"default\"](this),this.history=new w[\"default\"](this),this.onSelectionChange=new T[\"default\"](this);var n=A[\"default\"](this),r=n.disable,i=n.enable;this.disable=r,this.enable=i,this.isEnable=!0}return e.prototype.initSelection=function(e){m[\"default\"](this,e)},e.prototype.create=function(){this.zIndex.init(this),this.isCompatibleMode=this.config.compatibleMode(),this.isCompatibleMode||(this.config.onchangeTimeout=30),g[\"default\"](this),p[\"default\"](this),this.txt.init(),this.menus.init(),_[\"default\"](this),this.initSelection(!0),v[\"default\"](this),this.change.observe(),this.history.observe(),S[\"default\"](this)},e.prototype.beforeDestroy=function(e){return this.beforeDestroyHooks.push(e),this},e.prototype.destroy=function(){var e,t=this;(0,a[\"default\"])(e=this.beforeDestroyHooks).call(e,(function(e){return e.call(t)})),this.$toolbarElem.remove(),this.$textContainerElem.remove()},e.prototype.fullScreen=function(){_.setFullScreen(this)},e.prototype.unFullScreen=function(){_.setUnFullScreen(this)},e.prototype.scrollToHead=function(e){y[\"default\"](this,e)},e.registerMenu=function(t,n){n&&\"function\"===typeof n&&(e.globalCustomMenuConstructorList[t]=n)},e.prototype.registerPlugin=function(e,t){S.registerPlugin(e,t,this.pluginsFunctionList)},e.registerPlugin=function(t,n){S.registerPlugin(t,n,e.globalPluginsFunctionList)},e.$=s[\"default\"],e.BtnMenu=E[\"default\"],e.DropList=C[\"default\"],e.DropListMenu=M[\"default\"],e.Panel=D[\"default\"],e.PanelMenu=N[\"default\"],e.Tooltip=L[\"default\"],e.globalCustomMenuConstructorList={},e.globalPluginsFunctionList={},e}();t[\"default\"]=P},function(e,t,n){var r=n(13),i=n(55),a=n(11),o=a(\"species\");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,\"function\"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){e.exports=n(189)},function(e,t,n){var r=n(49),i=n(71),a=\"[\"+i+\"]\",o=RegExp(\"^\"+a+a+\"*\"),s=RegExp(a+a+\"*$\"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,\"\")),2&e&&(n=n.replace(s,\"\")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},function(e,t,n){e.exports=n(209)},function(e,t,n){var r=n(231),i=n(260);function a(t){return\"function\"===typeof r&&\"symbol\"===typeof i?(e.exports=a=function(e){return typeof e},e.exports[\"default\"]=e.exports,e.exports.__esModule=!0):(e.exports=a=function(e){return e&&\"function\"===typeof r&&e.constructor===r&&e!==r.prototype?\"symbol\":typeof e},e.exports[\"default\"]=e.exports,e.exports.__esModule=!0),a(t)}e.exports=a,e.exports[\"default\"]=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(11);t.f=r},function(e,t,n){e.exports=n(313)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(32)),l=function(){function e(e,t){var n=this;this.$elem=e,this.editor=t,this._active=!1,e.on(\"click\",(function(e){var r;s[\"default\"].hideCurAllPanels(),(0,a[\"default\"])(r=t.txt.eventHooks.menuClickEvents).call(r,(function(e){return e()})),e.stopPropagation(),null!=t.selection.getRange()&&n.clickHandler(e)}))}return e.prototype.clickHandler=function(e){},e.prototype.active=function(){this._active=!0,this.$elem.addClass(\"w-e-active\")},e.prototype.unActive=function(){this._active=!1,this.$elem.removeClass(\"w-e-active\")},(0,i[\"default\"])(e.prototype,\"isActive\",{get:function(){return this._active},enumerable:!1,configurable:!0}),e}();t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(57)),o=r(n(4)),s=r(n(27));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var l=n(2),u=n(6),c=l.__importDefault(n(136)),d=l.__importDefault(n(137)),f=function(){function e(e){this.editor=e}return e.prototype.insertImg=function(e,t,n){var r=this.editor,i=r.config,a=\"validate.\",o=function(e,t){return void 0===t&&(t=a),r.i18next.t(t+e)},s=t?'alt=\"'+t+'\" ':\"\",l=n?'data-href=\"'+encodeURIComponent(n)+'\" ':\"\";r.cmd[\"do\"](\"insertHTML\",'<img src=\"'+e+'\" '+s+l+'style=\"max-width:100%;\" contenteditable=\"false\"/>'),i.linkImgCallback(e,t,n);var u=document.createElement(\"img\");u.onload=function(){u=null},u.onerror=function(){i.customAlert(o(\"插入图片错误\"),\"error\",\"wangEditor: \"+o(\"插入图片错误\")+\"，\"+o(\"图片链接\")+' \"'+e+'\"，'+o(\"下载链接失败\")),u=null},u.onabort=function(){return u=null},u.src=e},e.prototype.uploadImg=function(e){var t=this;if(e.length){var n=this.editor,r=n.config,i=\"validate.\",l=function(e){return n.i18next.t(i+e)},f=r.uploadImgServer,h=r.uploadImgShowBase64,p=r.uploadImgMaxSize,m=p/1024/1024,v=r.uploadImgMaxLength,g=r.uploadFileName,_=r.uploadImgParams,y=r.uploadImgParamsWithUrl,x=r.uploadImgHeaders,b=r.uploadImgHooks,w=r.uploadImgTimeout,A=r.withCredentials,T=r.customUploadImg;if(T||f||h){var S=[],E=[];if(u.arrForEach(e,(function(e){var t=e.name||e.type.replace(\"/\",\".\"),r=e.size;if(t&&r){var i=n.config.uploadImgAccept.join(\"|\"),a=\".(\"+i+\")$\",o=new RegExp(a,\"i\");!1!==o.test(t)?p<r?E.push(\"【\"+t+\"】\"+l(\"大于\")+\" \"+m+\"M\"):S.push(e):E.push(\"【\"+t+\"】\"+l(\"不是图片\"))}})),E.length)r.customAlert(l(\"图片验证未通过\")+\": \\n\"+E.join(\"\\n\"),\"warning\");else if(0!==S.length)if(S.length>v)r.customAlert(l(\"一次最多上传\")+v+l(\"张图片\"),\"warning\");else if(T&&\"function\"===typeof T){var C;T(S,(0,a[\"default\"])(C=this.insertImg).call(C,this))}else{var M=new FormData;if((0,o[\"default\"])(S).call(S,(function(e,t){var n=g||e.name;S.length>1&&(n+=t+1),M.append(n,e)})),f){var D=f.split(\"#\");f=D[0];var N=D[1]||\"\";(0,o[\"default\"])(u).call(u,_,(function(e,t){y&&((0,s[\"default\"])(f).call(f,\"?\")>0?f+=\"&\":f+=\"?\",f=f+e+\"=\"+t),M.append(e,t)})),N&&(f+=\"#\"+N);var L=c[\"default\"](f,{timeout:w,formData:M,headers:x,withCredentials:!!A,beforeSend:function(e){if(b.before)return b.before(e,n,S)},onTimeout:function(e){r.customAlert(l(\"上传图片超时\"),\"error\"),b.timeout&&b.timeout(e,n)},onProgress:function(e,t){var r=new d[\"default\"](n);t.lengthComputable&&(e=t.loaded/t.total,r.show(e))},onError:function(e){r.customAlert(l(\"上传图片错误\"),\"error\",l(\"上传图片错误\")+\"，\"+l(\"服务器返回状态\")+\": \"+e.status),b.error&&b.error(e,n)},onFail:function(e,t){r.customAlert(l(\"上传图片失败\"),\"error\",l(\"上传图片返回结果错误\")+\"，\"+l(\"返回结果\")+\": \"+t),b.fail&&b.fail(e,n,t)},onSuccess:function(e,i){if(b.customInsert){var s;b.customInsert((0,a[\"default\"])(s=t.insertImg).call(s,t),i,n)}else{if(\"0\"!=i.errno)return r.customAlert(l(\"上传图片失败\"),\"error\",l(\"上传图片返回结果错误\")+\"，\"+l(\"返回结果\")+\" errno=\"+i.errno),void(b.fail&&b.fail(e,n,i));var u=i.data;(0,o[\"default\"])(u).call(u,(function(e){\"string\"===typeof e?t.insertImg(e):t.insertImg(e.url,e.alt,e.href)})),b.success&&b.success(e,n,i)}}});\"string\"===typeof L&&r.customAlert(L,\"error\")}else h&&u.arrForEach(e,(function(e){var n=t,r=new FileReader;r.readAsDataURL(e),r.onload=function(){if(this.result){var e=this.result.toString();n.insertImg(e,e)}}}))}else r.customAlert(l(\"传入的文件不合法\"),\"warning\")}}},e}();t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(418)),o=r(n(4)),s=r(n(45));function l(e){return!!e.length&&\"w-e-todo\"===e.attr(\"class\")}function u(e){var t=e.selection.getSelectionRangeTopNodes();if(0!==t.length)return(0,a[\"default\"])(t).call(t,(function(e){return l(e)}))}function c(e,t,n){var r;if(e.hasChildNodes()){var i=e.cloneNode(),a=!1;\"\"===t.nodeValue&&(a=!0);var s=[];return(0,o[\"default\"])(r=e.childNodes).call(r,(function(e){if(!d(e,t)&&a&&(i.appendChild(e.cloneNode(!0)),\"BR\"!==e.nodeName&&s.push(e)),d(e,t)){if(1===e.nodeType){var r=c(e,t,n);r&&\"\"!==r.textContent&&(null===i||void 0===i||i.appendChild(r))}if(3===e.nodeType&&t.isEqualNode(e)){var o=f(e,n);i.textContent=o}a=!0}})),(0,o[\"default\"])(s).call(s,(function(e){var t=e;t.remove()})),i}}function d(e,t){return 3===e.nodeType?e.nodeValue===t.nodeValue:e.contains(t)}function f(e,t,n){void 0===n&&(n=!0);var r=e.nodeValue,i=null===r||void 0===r?void 0:(0,s[\"default\"])(r).call(r,0,t);if(r=null===r||void 0===r?void 0:(0,s[\"default\"])(r).call(r,t),!n){var a=r;r=i,i=a}return e.nodeValue=i,r}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.dealTextNode=t.isAllTodo=t.isTodo=t.getCursorNextNode=void 0,t.isTodo=l,t.isAllTodo=u,t.getCursorNextNode=c,t.dealTextNode=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(438),o=function(){function e(e){this.maxSize=e,this.isRe=!1,this.data=new a.CeilStack(e),this.revokeData=new a.CeilStack(e)}return(0,i[\"default\"])(e.prototype,\"size\",{get:function(){return[this.data.size,this.revokeData.size]},enumerable:!1,configurable:!0}),e.prototype.resetMaxSize=function(e){this.data.resetMax(e),this.revokeData.resetMax(e)},e.prototype.save=function(e){return this.isRe&&(this.revokeData.clear(),this.isRe=!1),this.data.instack(e),this},e.prototype.revoke=function(e){!this.isRe&&(this.isRe=!0);var t=this.data.outstack();return!!t&&(this.revokeData.instack(t),e(t),!0)},e.prototype.restore=function(e){!this.isRe&&(this.isRe=!0);var t=this.revokeData.outstack();return!!t&&(this.data.instack(t),e(t),!0)},e}();t[\"default\"]=o},function(e,t,n){var r=n(15),i=n(12),a=n(76);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a(\"div\"),\"a\",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(12),i=/#|\\.prototype\\./,a=function(e,t){var n=s[o(e)];return n==u||n!=l&&(\"function\"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,\".\").toLowerCase()},s=a.data={},l=a.NATIVE=\"N\",u=a.POLYFILL=\"P\";e.exports=a},function(e,t,n){var r=n(16),i=n(28),a=n(81).indexOf,o=n(51);e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(o,n)&&r(s,n)&&u.push(n);while(t.length>l)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var r=n(29);e.exports=r(\"document\",\"documentElement\")},function(e,t,n){var r=n(11),i=n(41),a=r(\"iterator\"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){var r=n(84);e.exports=r&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator},function(e,t,n){var r=n(67),i=n(41),a=n(11),o=a(\"iterator\");e.exports=function(e){if(void 0!=e)return e[o]||e[\"@@iterator\"]||i[r(e)]}},function(e,t,n){var r=n(20);e.exports=function(e){var t=e[\"return\"];if(void 0!==t)return r(t.call(e)).value}},function(e,t,n){var r=n(8);e.exports=r.Promise},function(e,t,n){var r=n(52);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},function(e,t,n){\"use strict\";var r=n(29),i=n(18),a=n(11),o=n(15),s=a(\"species\");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(79),i=Function.toString;\"function\"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(11),i=r(\"iterator\"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},function(e,t,n){var r=n(20),i=n(33),a=n(11),o=a(\"species\");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,a,o=n(8),s=n(12),l=n(38),u=n(106),c=n(76),d=n(118),f=n(87),h=o.location,p=o.setImmediate,m=o.clearImmediate,v=o.process,g=o.MessageChannel,_=o.Dispatch,y=0,x={},b=\"onreadystatechange\",w=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},A=function(e){return function(){w(e)}},T=function(e){w(e.data)},S=function(e){o.postMessage(e+\"\",h.protocol+\"//\"+h.host)};p&&m||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return x[++y]=function(){(\"function\"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},m=function(e){delete x[e]},f?r=function(e){v.nextTick(A(e))}:_&&_.now?r=function(e){_.now(A(e))}:g&&!d?(i=new g,a=i.port2,i.port1.onmessage=T,r=l(a.postMessage,a,1)):o.addEventListener&&\"function\"==typeof postMessage&&!o.importScripts&&h&&\"file:\"!==h.protocol&&!s(S)?(r=S,o.addEventListener(\"message\",T,!1)):r=b in c(\"script\")?function(e){u.appendChild(c(\"script\"))[b]=function(){u.removeChild(this),w(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:p,clear:m}},function(e,t,n){var r=n(66);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(20),i=n(13),a=n(69);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},function(e,t,n){\"use strict\";var r,i,a,o=n(12),s=n(77),l=n(17),u=n(16),c=n(11),d=n(39),f=c(\"iterator\"),h=!1,p=function(){return this};[].keys&&(a=[].keys(),\"next\"in a?(i=s(s(a)),i!==Object.prototype&&(r=i)):h=!0);var m=void 0==r||o((function(){var e={};return r[f].call(e)!==e}));m&&(r={}),d&&!m||u(r,f)||l(r,f,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){e.exports=n(201)},function(e,t,n){\"use strict\";var r=n(5),i=n(8),a=n(123),o=n(12),s=n(17),l=n(40),u=n(86),c=n(13),d=n(42),f=n(18).f,h=n(30).forEach,p=n(15),m=n(43),v=m.set,g=m.getterFor;e.exports=function(e,t,n){var m,_=-1!==e.indexOf(\"Map\"),y=-1!==e.indexOf(\"Weak\"),x=_?\"set\":\"add\",b=i[e],w=b&&b.prototype,A={};if(p&&\"function\"==typeof b&&(y||w.forEach&&!o((function(){(new b).entries().next()})))){m=t((function(t,n){v(u(t,m,e),{type:e,collection:new b}),void 0!=n&&l(n,t[x],{that:t,AS_ENTRIES:_})}));var T=g(e);h([\"add\",\"clear\",\"delete\",\"forEach\",\"get\",\"has\",\"set\",\"keys\",\"values\",\"entries\"],(function(e){var t=\"add\"==e||\"set\"==e;!(e in w)||y&&\"clear\"==e||s(m.prototype,e,(function(n,r){var i=T(this).collection;if(!t&&y&&!c(n))return\"get\"==e&&void 0;var a=i[e](0===n?0:n,r);return t?this:a}))})),y||f(m.prototype,\"size\",{configurable:!0,get:function(){return T(this).collection.size}})}else m=n.getConstructor(t,e,_,x),a.REQUIRED=!0;return d(m,e,!1,!0),A[e]=m,r({global:!0,forced:!0},A),y||n.setStrong(m,e,_),m}},function(e,t,n){var r=n(51),i=n(13),a=n(16),o=n(18).f,s=n(62),l=n(204),u=s(\"meta\"),c=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,u,{value:{objectID:\"O\"+c++,weakData:{}}})},h=function(e,t){if(!i(e))return\"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!a(e,u)){if(!d(e))return\"F\";if(!t)return\"E\";f(e)}return e[u].objectID},p=function(e,t){if(!a(e,u)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},m=function(e){return l&&v.REQUIRED&&d(e)&&!a(e,u)&&f(e),e},v=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:m};r[u]=!0},function(e,t,n){\"use strict\";var r=n(18).f,i=n(63),a=n(112),o=n(38),s=n(86),l=n(40),u=n(89),c=n(113),d=n(15),f=n(123).fastKey,h=n(43),p=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=r&&l(r,e[u],{that:e,AS_ENTRIES:n})})),h=m(t),v=function(e,t,n){var r,i,a=h(e),o=g(e,t);return o?o.value=n:(a.last=o={index:i=f(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),d?a.size++:e.size++,\"F\"!==i&&(a.index[i]=o)),e},g=function(e,t){var n,r=h(e),i=f(t);if(\"F\"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(c.prototype,{clear:function(){var e=this,t=h(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=g(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),d?n.size--:t.size--}return!!r},forEach:function(e){var t,n=h(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),a(c.prototype,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&r(c.prototype,\"size\",{get:function(){return h(this).size}}),c},setStrong:function(e,t,n){var r=t+\" Iterator\",i=m(t),a=m(r);u(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?\"keys\"==t?{value:n.key,done:!1}:\"values\"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?\"entries\":\"values\",!n,!0),c(t)}}},function(e,t,n){var r=n(105),i=n(83),a=i.concat(\"length\",\"prototype\");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(9);r(\"iterator\")},function(e,t,n){e.exports=n(275)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]={zIndex:1e4}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]={focus:!0,height:300,placeholder:\"请输入正文\",zIndexFullScreen:10002,showFullScreen:!0}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.getPasteImgs=t.getPasteHtml=t.getPasteText=void 0;var o=n(2),s=n(6),l=o.__importDefault(n(299));function u(e){var t=e.clipboardData,n=\"\";return n=null==t?window.clipboardData&&window.clipboardData.getData(\"text\"):t.getData(\"text/plain\"),s.replaceHtmlSymbol(n)}function c(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var r=e.clipboardData,i=\"\";if(r&&(i=r.getData(\"text/html\")),!i){var a=u(e);if(!a)return\"\";i=\"<p>\"+a+\"</p>\"}return i=i.replace(/<(\\d)/gm,(function(e,t){return\"&lt;\"+t})),i=i.replace(/<(\\/?meta.*?)>/gim,\"\"),i=l[\"default\"](i,t,n),i}function d(e){var t,n=[],r=u(e);if(r)return n;var i=null===(t=e.clipboardData)||void 0===t?void 0:t.items;return i?((0,a[\"default\"])(s).call(s,i,(function(e,t){var r=t.type;/image/i.test(r)&&n.push(t.getAsFile())})),n):n}t.getPasteText=u,t.getPasteHtml=c,t.getPasteImgs=d},function(e,t,n){e.exports=n(301)},function(e,t,n){e.exports=n(317)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(46));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(3)),u=n(7),c=function(){function e(e,t){var n=this;this.hideTimeoutId=0,this.menu=e,this.conf=t;var r=l[\"default\"]('<div class=\"w-e-droplist\"></div>'),i=l[\"default\"](\"<p>\"+t.title+\"</p>\");i.addClass(\"w-e-dp-title\"),r.append(i);var s=t.list||[],c=t.type||\"list\",d=t.clickHandler||u.EMPTY_FN,f=l[\"default\"]('<ul class=\"'+(\"list\"===c?\"w-e-list\":\"w-e-block\")+'\"></ul>');(0,a[\"default\"])(s).call(s,(function(e){var t=e.$elem,r=e.value,i=l[\"default\"]('<li class=\"w-e-item\"></li>');t&&(i.append(t),f.append(i),i.on(\"click\",(function(e){d(r),e.stopPropagation(),n.hideTimeoutId=(0,o[\"default\"])((function(){n.hide()}))})))})),r.append(f),r.on(\"mouseleave\",(function(){n.hideTimeoutId=(0,o[\"default\"])((function(){n.hide()}))})),this.$container=r,this.rendered=!1,this._show=!1}return e.prototype.show=function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var e=this.menu,t=e.$elem,n=this.$container;if(!this._show){if(this.rendered)n.show();else{var r=t.getBoundingClientRect().height||0,i=this.conf.width||100;n.css(\"margin-top\",r+\"px\").css(\"width\",i+\"px\"),t.append(n),this.rendered=!0}this._show=!0}},e.prototype.hide=function(){var e=this.$container;this._show&&(e.hide(),this._show=!1)},(0,i[\"default\"])(e.prototype,\"isShow\",{get:function(){return this._show},enumerable:!1,configurable:!0}),e}();t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));function a(e){var t=e.selection.getSelectionContainerElem();return!!(null===t||void 0===t?void 0:t.length)&&\"A\"===t.getNodeName()}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(96)),a=r(n(1)),o=r(n(4));(0,a[\"default\"])(t,\"__esModule\",{value:!0});var s=n(6);function l(e,t){var n=new XMLHttpRequest;if(n.open(\"POST\",e),n.timeout=t.timeout||1e4,n.ontimeout=function(){console.error(\"wangEditor - 请求超时\"),t.onTimeout&&t.onTimeout(n)},n.upload&&(n.upload.onprogress=function(e){var n=e.loaded/e.total;t.onProgress&&t.onProgress(n,e)}),t.headers&&(0,o[\"default\"])(s).call(s,t.headers,(function(e,t){n.setRequestHeader(e,t)})),n.withCredentials=!!t.withCredentials,t.beforeSend){var r=t.beforeSend(n);if(r&&\"object\"===(0,i[\"default\"])(r)&&r.prevent)return r.msg}return n.onreadystatechange=function(){if(4===n.readyState){var e=n.status;if(!(e<200)&&!(e>=300&&e<400)){if(e>=400)return console.error(\"wangEditor - XHR 报错，状态码 \"+e),void(t.onError&&t.onError(n));var r,a=n.responseText;if(\"object\"!==(0,i[\"default\"])(a))try{r=JSON.parse(a)}catch(o){return console.error(\"wangEditor - 返回结果不是 JSON 格式\",a),void(t.onFail&&t.onFail(n,a))}else r=a;t.onSuccess(n,r)}}},n.send(t.formData||null),n}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(349)),o=r(n(46));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(3)),u=function(){function e(e){this.editor=e,this.$textContainer=e.$textContainerElem,this.$bar=l[\"default\"]('<div class=\"w-e-progress\"></div>'),this.isShow=!1,this.time=0,this.timeoutId=0}return e.prototype.show=function(e){var t=this;if(!this.isShow){this.isShow=!0;var n=this.$bar,r=this.$textContainer;r.append(n),(0,a[\"default\"])()-this.time>100&&e<=1&&(n.css(\"width\",100*e+\"%\"),this.time=(0,a[\"default\"])());var i=this.timeoutId;i&&clearTimeout(i),this.timeoutId=(0,o[\"default\"])((function(){t.hide()}),500)}},e.prototype.hide=function(){var e=this.$bar;e.remove(),this.isShow=!1,this.time=0,this.timeoutId=0},e}();t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.ListType=void 0;var a,o=n(2),s=o.__importDefault(n(3)),l=o.__importDefault(n(24)),u=n(47),c=o.__importStar(n(378));(function(e){e[\"OrderedList\"]=\"OL\",e[\"UnorderedList\"]=\"UL\"})(a=t.ListType||(t.ListType={}));var d=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"序列\">\\n                <i class=\"w-e-icon-list2\"></i>\\n            </div>'),i={width:130,title:\"序列\",type:\"list\",list:[{$elem:s[\"default\"]('\\n                        <p>\\n                            <i class=\"w-e-icon-list2 w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.list.无序列表\")+\"\\n                        <p>\"),value:a.UnorderedList},{$elem:s[\"default\"]('<p>\\n                            <i class=\"w-e-icon-list-numbered w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.list.有序列表\")+\"\\n                        <p>\"),value:a.OrderedList}],clickHandler:function(e){n.command(e)}};return n=e.call(this,r,t,i)||this,n}return o.__extends(t,e),t.prototype.command=function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();void 0!==n&&(this.handleSelectionRangeNodes(e),this.tryChangeActive())},t.prototype.validator=function(e,t,n){return!(!e.length||!t.length||n.equal(e)||n.equal(t))},t.prototype.handleSelectionRangeNodes=function(e){var t=this.editor,n=t.selection,r=e.toLowerCase(),i=n.getSelectionContainerElem(),a=n.getSelectionStartElem().getNodeTop(t),o=n.getSelectionEndElem().getNodeTop(t);if(this.validator(a,o,t.$textElem)){var s=n.getRange(),l=null===s||void 0===s?void 0:s.collapsed;t.$textElem.equal(i)||(i=i.getNodeTop(t));var d,f={editor:t,listType:e,listTarget:r,$selectionElem:i,$startElem:a,$endElem:o};d=this.isOrderElem(i)?c.ClassType.Wrap:this.isOrderElem(a)&&this.isOrderElem(o)?c.ClassType.Join:this.isOrderElem(a)?c.ClassType.StartJoin:this.isOrderElem(o)?c.ClassType.EndJoin:c.ClassType.Other;var h=new c[\"default\"](c.createListHandle(d,f,s));u.updateRange(t,h.getSelectionRangeElem(),!!l)}},t.prototype.isOrderElem=function(e){var t=e.getNodeName();return t===a.OrderedList||t===a.UnorderedList},t.prototype.tryChangeActive=function(){},t}(l[\"default\"]);t[\"default\"]=d},function(e,t,n){e.exports=n(402)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));function a(e){var t=e.selection.getSelectionContainerElem();return!!(null===t||void 0===t?void 0:t.length)&&!(\"CODE\"!=t.getNodeName()&&\"PRE\"!=t.getNodeName()&&\"CODE\"!=t.parent().getNodeName()&&\"PRE\"!=t.parent().getNodeName()&&!/hljs/.test(t.parent().attr(\"class\")))}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(31));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.todo=void 0;var o=n(2),s=o.__importDefault(n(3)),l=function(){function e(e){var t;this.template='<ul class=\"w-e-todo\"><li><span contenteditable=\"false\"><input type=\"checkbox\"></span></li></ul>',this.checked=!1,this.$todo=s[\"default\"](this.template),this.$child=null===(t=null===e||void 0===e?void 0:e.childNodes())||void 0===t?void 0:t.clone(!0)}return e.prototype.init=function(){var e=this.$child,t=this.getInputContainer();e&&e.insertAfter(t)},e.prototype.getInput=function(){var e=this.$todo,t=(0,a[\"default\"])(e).call(e,\"input\");return t},e.prototype.getInputContainer=function(){var e=this.getInput().parent();return e},e.prototype.getTodo=function(){return this.$todo},e}();function u(e){var t=new l(e);return t.init(),t}t.todo=l,t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2);n(147),n(149),n(153),n(155),n(157),n(159),n(161);var o=a.__importDefault(n(91));a.__exportStar(n(450),t);try{document}catch(s){throw new Error(\"请在浏览器环境下运行\")}t[\"default\"]=o[\"default\"]},function(e,t,n){var r=n(144);e.exports=r},function(e,t,n){n(145);var r=n(10),i=r.Object,a=e.exports=function(e,t,n){return i.defineProperty(e,t,n)};i.defineProperty.sham&&(a.sham=!0)},function(e,t,n){var r=n(5),i=n(15),a=n(18);r({target:\"Object\",stat:!0,forced:!i,sham:!i},{defineProperty:a.f})},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(r){\"object\"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(21),i=n(148);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,'.w-e-toolbar,\\n.w-e-text-container,\\n.w-e-menu-panel {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n  background-color: #fff;\\n  /*表情菜单样式*/\\n  /*分割线样式*/\\n}\\n.w-e-toolbar h1,\\n.w-e-text-container h1,\\n.w-e-menu-panel h1 {\\n  font-size: 32px !important;\\n}\\n.w-e-toolbar h2,\\n.w-e-text-container h2,\\n.w-e-menu-panel h2 {\\n  font-size: 24px !important;\\n}\\n.w-e-toolbar h3,\\n.w-e-text-container h3,\\n.w-e-menu-panel h3 {\\n  font-size: 18.72px !important;\\n}\\n.w-e-toolbar h4,\\n.w-e-text-container h4,\\n.w-e-menu-panel h4 {\\n  font-size: 16px !important;\\n}\\n.w-e-toolbar h5,\\n.w-e-text-container h5,\\n.w-e-menu-panel h5 {\\n  font-size: 13.28px !important;\\n}\\n.w-e-toolbar p,\\n.w-e-text-container p,\\n.w-e-menu-panel p {\\n  font-size: 16px !important;\\n}\\n.w-e-toolbar .eleImg,\\n.w-e-text-container .eleImg,\\n.w-e-menu-panel .eleImg {\\n  cursor: pointer;\\n  display: inline-block;\\n  font-size: 18px;\\n  padding: 0 3px;\\n}\\n.w-e-toolbar *,\\n.w-e-text-container *,\\n.w-e-menu-panel * {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n}\\n.w-e-toolbar hr,\\n.w-e-text-container hr,\\n.w-e-menu-panel hr {\\n  cursor: pointer;\\n  display: block;\\n  height: 0px;\\n  border: 0;\\n  border-top: 3px solid #ccc;\\n  margin: 20px 0;\\n}\\n.w-e-clear-fix:after {\\n  content: \"\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-drop-list-item {\\n  position: relative;\\n  top: 1px;\\n  padding-right: 7px;\\n  color: #333 !important;\\n}\\n.w-e-drop-list-tl {\\n  padding-left: 10px;\\n  text-align: left;\\n}\\n',\"\"]),e.exports=t},function(e,t,n){var r=n(21),i=n(150);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22),i=n(151),a=n(152);t=r(!1);var o=i(a);t.push([e.i,\"@font-face {\\n  font-family: 'w-e-icon';\\n  src: url(\"+o+') format(\\'truetype\\');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n[class^=\"w-e-icon-\"],\\n[class*=\" w-e-icon-\"] {\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: \\'w-e-icon\\' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.w-e-icon-close:before {\\n  content: \"\\\\f00d\";\\n}\\n.w-e-icon-upload2:before {\\n  content: \"\\\\e9c6\";\\n}\\n.w-e-icon-trash-o:before {\\n  content: \"\\\\f014\";\\n}\\n.w-e-icon-header:before {\\n  content: \"\\\\f1dc\";\\n}\\n.w-e-icon-pencil2:before {\\n  content: \"\\\\e906\";\\n}\\n.w-e-icon-paint-brush:before {\\n  content: \"\\\\f1fc\";\\n}\\n.w-e-icon-image:before {\\n  content: \"\\\\e90d\";\\n}\\n.w-e-icon-play:before {\\n  content: \"\\\\e912\";\\n}\\n.w-e-icon-location:before {\\n  content: \"\\\\e947\";\\n}\\n.w-e-icon-undo:before {\\n  content: \"\\\\e965\";\\n}\\n.w-e-icon-redo:before {\\n  content: \"\\\\e966\";\\n}\\n.w-e-icon-quotes-left:before {\\n  content: \"\\\\e977\";\\n}\\n.w-e-icon-list-numbered:before {\\n  content: \"\\\\e9b9\";\\n}\\n.w-e-icon-list2:before {\\n  content: \"\\\\e9bb\";\\n}\\n.w-e-icon-link:before {\\n  content: \"\\\\e9cb\";\\n}\\n.w-e-icon-happy:before {\\n  content: \"\\\\e9df\";\\n}\\n.w-e-icon-bold:before {\\n  content: \"\\\\ea62\";\\n}\\n.w-e-icon-underline:before {\\n  content: \"\\\\ea63\";\\n}\\n.w-e-icon-italic:before {\\n  content: \"\\\\ea64\";\\n}\\n.w-e-icon-strikethrough:before {\\n  content: \"\\\\ea65\";\\n}\\n.w-e-icon-table2:before {\\n  content: \"\\\\ea71\";\\n}\\n.w-e-icon-paragraph-left:before {\\n  content: \"\\\\ea77\";\\n}\\n.w-e-icon-paragraph-center:before {\\n  content: \"\\\\ea78\";\\n}\\n.w-e-icon-paragraph-right:before {\\n  content: \"\\\\ea79\";\\n}\\n.w-e-icon-paragraph-justify:before {\\n  content: \"\\\\ea7a\";\\n}\\n.w-e-icon-terminal:before {\\n  content: \"\\\\f120\";\\n}\\n.w-e-icon-page-break:before {\\n  content: \"\\\\ea68\";\\n}\\n.w-e-icon-cancel-circle:before {\\n  content: \"\\\\ea0d\";\\n}\\n.w-e-icon-font:before {\\n  content: \"\\\\ea5c\";\\n}\\n.w-e-icon-text-heigh:before {\\n  content: \"\\\\ea5f\";\\n}\\n.w-e-icon-paint-format:before {\\n  content: \"\\\\e90c\";\\n}\\n.w-e-icon-indent-increase:before {\\n  content: \"\\\\ea7b\";\\n}\\n.w-e-icon-indent-decrease:before {\\n  content: \"\\\\ea7c\";\\n}\\n.w-e-icon-row-height:before {\\n  content: \"\\\\e9be\";\\n}\\n.w-e-icon-fullscreen_exit:before {\\n  content: \"\\\\e900\";\\n}\\n.w-e-icon-fullscreen:before {\\n  content: \"\\\\e901\";\\n}\\n.w-e-icon-split-line:before {\\n  content: \"\\\\ea0b\";\\n}\\n.w-e-icon-checkbox-checked:before {\\n  content: \"\\\\ea52\";\\n}\\n',\"\"]),e.exports=t},function(e,t,n){\"use strict\";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,\"string\"!==typeof e?e:(/^['\"].*['\"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/[\"'() \\t\\n]/.test(e)||t.needQuotes?'\"'.concat(e.replace(/\"/g,'\\\\\"').replace(/\\n/g,\"\\\\n\"),'\"'):e)}},function(e,t,n){\"use strict\";n.r(t),t[\"default\"]=\"data:font/woff;base64,d09GRgABAAAAABskAAsAAAAAGtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPFWNtYXAAAAFoAAABHAAAARz2mfAgZ2FzcAAAAoQAAAAIAAAACAAAABBnbHlmAAACjAAAFXwAABV8IH7+mGhlYWQAABgIAAAANgAAADYb6gumaGhlYQAAGEAAAAAkAAAAJAkjBWlobXR4AAAYZAAAAKQAAACkmYcEbmxvY2EAABkIAAAAVAAAAFReAmKYbWF4cAAAGVwAAAAgAAAAIAA0ALZuYW1lAAAZfAAAAYYAAAGGmUoJ+3Bvc3QAABsEAAAAIAAAACAAAwAAAAMD7wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAQAAAAA8ACAABAAcAAEAIOkB6QbpDekS6UfpZul36bnpu+m+6cbpy+nf6gvqDepS6lzqX+pl6nHqfPAN8BTxIPHc8fz//f//AAAAAAAg6QDpBukM6RLpR+ll6Xfpuem76b7pxunL6d/qC+oN6lLqXOpf6mLqcep38A3wFPEg8dzx/P/9//8AAf/jFwQXABb7FvcWwxamFpYWVRZUFlIWSxZHFjQWCRYIFcQVuxW5FbcVrBWnEBcQEQ8GDksOLAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAEEAAQO/A38ABQALABEAFwAAATMVIREzAxEhFSMVATUzESE1ETUhESM1Av/A/sJ+fgE+wP4Cfv7CAT5+Ar9+AT78ggE+fsACvsD+wn7+An7+wsAAAAAABABBAAEDvwN/AAUACwARABcAAAEhESM1IxM1MxEhNQERIRUjFREVMxUhEQKBAT5+wMB+/sL9wAE+wMD+wgN//sLA/X7A/sJ+AcIBPn7A/v7AfgE+AAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAAAgAA/8AEAAOAACkALQAAAREjNTQmIyEiBh0BFBYzITI2PQEzESEVIyIGFREUFjsBMjY1ETQmKwE1ASE1IQQAwCYa/UAaJiYaAsAaJoD9wCANExMNgA0TEw0gAUD9QALAAYABgEAaJiYawBomJhpA/wCAEw3+wA0TEw0BQA0TQAGAQAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAADgAPAAAASYnLgEnJiMiBw4BBwYHBgcOAQcGFRQXHgEXFhcWFx4BFxYzMjc+ATc2NzY3PgE3NjU0Jy4BJyYnARENAQPVNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBws2ODl2PD0/Pz08djk4NgsHCAsDAwMDCwgHC/2rAUD+wAMgCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKikIBgYIAgICAggGBggpKipZLS4vLy4tWSoqKf3gAYDAwAAAAAACAMD/wANAA8AAGwAnAAABIgcOAQcGFRQXHgEXFjEwNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGAgBCOzpXGRkyMngyMjIyeDIyGRlXOjtCUHBwUFBwcAPAGRlXOjtCeH19zEFBQUHMfX14Qjs6VxkZ/gBwUFBwcFBQcAAAAQAAAAAEAAOAACsAAAEiBw4BBwYHJxEhJz4BMzIXHgEXFhUUBw4BBwYHFzY3PgE3NjU0Jy4BJyYjAgA1MjJcKSkjlgGAkDWLUFBFRmkeHgkJIhgYHlUoICAtDAwoKIteXWoDgAoLJxscI5b+gJA0PB4eaUZFUCsoKUkgIRpgIysrYjY2OWpdXosoKAABAAAAAAQAA4AAKgAAExQXHgEXFhc3JicuAScmNTQ3PgE3NjMyFhcHIREHJicuAScmIyIHDgEHBgAMDC0gIChVHhgYIgkJHh5pRkVQUIs1kAGAliMpKVwyMjVqXV6LKCgBgDk2NmIrKyNgGiEgSSkoK1BFRmkeHjw0kAGAliMcGycLCigoi15dAAAAAAIAAABABAEDAAAmAE0AABMyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+ASEyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+AeEuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICSS4pKT0REhIRPSkpLi4pKT0REgEjI3pSUV1AdS0JEAcIEgIAEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBAAAGAED/wAQAA8AAAwAHAAsAEQAdACkAACUhFSERIRUhESEVIScRIzUjNRMVMxUjNTc1IzUzFRURIzUzNSM1MzUjNQGAAoD9gAKA/YACgP2AwEBAQIDAgIDAwICAgICAgAIAgAIAgMD/AMBA/fIyQJI8MkCS7v7AQEBAQEAABgAA/8AEAAPAAAMABwALABcAIwAvAAABIRUhESEVIREhFSEBNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYBgAKA/YACgP2AAoD9gP6ASzU1S0s1NUtLNTVLSzU1S0s1NUtLNTVLA4CA/wCA/wCAA0A1S0s1NUtL/rU1S0s1NUtL/rU1S0s1NUtLAAUAAABABWADAAADAAcACwAOABEAABMhFSEVIRUhFSEVIQEXNzUnBwADgPyAA4D8gAOA/IAD4MDAwMADAMBAwEDAAUDAwEDAwAAAAAADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAEAAAFABAACQAAPAAATFRQWMyEyNj0BNCYjISIGABMNA8ANExMN/EANEwIgwA0TEw3ADRMTAAAAAwAA/8AEAAPAABsANwBDAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBhMHJwcXBxc3FzcnNwIAal1eiygoKCiLXl1qal1eiygoKCiLXl1qVkxMcSAhISBxTExWVkxMcSAhISBxTExKoKBgoKBgoKBgoKADwCgoi15dampdXosoKCgoi15dampdXosoKPxgISBxTExWVkxMcSAhISBxTExWVkxMcSAhAqCgoGCgoGCgoGCgoAACAAD/wAQAA8AADwAVAAABISIGFREUFjMhMjY1ETQmASc3FwEXA4D9ADVLSzUDADVLS/4L7VqTATNaA8BLNf0ANUtLNQMANUv85e5akgEyWgAAAAABAGX/wAObA8AAKQAAASImIyIHDgEHBhUUFjMuATU0NjcwBwYCBwYHFSETMzcjNx4BMzI2Nw4BAyBEaEZxU1RtGhtJSAYNZUoQEEs8PFkBPWzGLNc0LVUmLlAYHT0DsBAeHWE+P0FNOwsmN5lvA31+/sWPkCMZAgCA9gkPN2sJBwAAAAACAAAAAAQAA4AACQAXAAAlMwcnMxEjNxcjJREnIxEzFSE1MxEjBxEDgICgoICAoKCA/wBAwID+gIDAQMDAwAIAwMDA/wCA/UBAQALAgAEAAAMAwAAAA0ADgAAWAB8AKAAAAT4BNTQnLgEnJiMhESEyNz4BNzY1NCYBMzIWFRQGKwETIxEzMhYVFAYCxBwgFBRGLi81/sABgDUvLkYUFET+hGUqPDwpZp+fnyw+PgHbIlQvNS8uRhQU/IAUFEYuLzVGdAFGSzU1S/6AAQBLNTVLAAAAAAIAwAAAA0ADgAAfACMAAAEzERQHDgEHBiMiJy4BJyY1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgBkZVzo7QkI7OlcZGYAbGBxJKChJHBgb/gACgP2AA4D+YDw0NU4WFxcWTjU0PAGg/mAeOBcYGxsYFzge/qCAAAAAAAEAgAAAA4ADgAALAAABFSMBMxUhNTMBIzUDgID+wID+QIABQIADgED9AEBAAwBAAAEAAAAABAADgAA9AAABFSMeARUUBgcOASMiJicuATUzFBYzMjY1NCYjITUhLgEnLgE1NDY3PgEzMhYXHgEVIzQmIyIGFRQWMzIWFwQA6xUWNTAscT4+cSwwNYByTk5yck7+AAEsAgQBMDU1MCxxPj5xLDA1gHJOTnJyTjtuKwHAQB1BIjViJCEkJCEkYjU0TEw0NExAAQMBJGI1NWIkISQkISRiNTRMTDQ0TCEfAAAACgAAAAAEAAOAAAMABwALAA8AEwAXABsAHwAjACcAABMRIREBNSEVHQEhNQEVITUjFSE1ESEVISUhFSERNSEVASEVISE1IRUABAD9gAEA/wABAP8AQP8AAQD/AAKAAQD/AAEA/IABAP8AAoABAAOA/IADgP3AwMBAwMACAMDAwMD/AMDAwAEAwMD+wMDAwAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRUhFSERIRUhESEVIREhFSEABAD8AAKA/YACgP2ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFyEVIREhFSEDIRUhESEVIQAEAPwAwAKA/YACgP2AwAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEFIRUhESEVIQEhFSERIRUhAAQA/AABgAKA/YACgP2A/oAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhFSEVIRUhFSEVIRUhAAQA/AAEAPwABAD8AAQA/AAEAPwAA4CAQIBAgECAQIAAAAAGAAAAAAQAA4AAAwAHAAsADwATABYAABMhFSEFIRUhFSEVIRUhFSEFIRUhGQEFAAQA/AABgAKA/YACgP2AAoD9gP6ABAD8AAEAA4CAQIBAgECAQIABAAGAwAAAAAYAAAAABAADgAADAAcACwAPABMAFgAAEyEVIQUhFSEVIRUhFSEVIQUhFSEBESUABAD8AAGAAoD9gAKA/YACgP2A/oAEAPwAAQD/AAOAgECAQIBAgECAAoD+gMAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAAIWwaoFfDzz1AAsEAAAAAADbteOZAAAAANu145kAAP+3BWADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAFgAAA//8FYAABAAAAAAAAAAAAAAAAAAAAKQQAAAAAAAAAAAAAAAIAAAAEAABBBAAAQQQAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAFgAAABAAAAAQAAB4EAAAABAAAAAQAAAAEAAAABAAAZQQAAAAEAADABAAAwAQAAIAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBKAHYApADmAS4BkgHQAhYCXALQAw4DWAN+A6gEPgTeBPoFZAWOBdAF+AY6BnYGjgbmBy4HVgd+B6gHzgf8CCoIbgkmCXAKYgq+AAEAAAApALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"},function(e,t,n){var r=n(21),i=n(154);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,'.w-e-toolbar {\\n  display: flex;\\n  padding: 0 6px;\\n  flex-wrap: wrap;\\n  position: relative;\\n  /* 单个菜单 */\\n}\\n.w-e-toolbar .w-e-menu {\\n  position: relative;\\n  display: flex;\\n  width: 40px;\\n  height: 40px;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n  cursor: pointer;\\n}\\n.w-e-toolbar .w-e-menu i {\\n  color: #999;\\n}\\n.w-e-toolbar .w-e-menu:hover {\\n  background-color: #F6F6F6;\\n}\\n.w-e-toolbar .w-e-menu:hover i {\\n  color: #333;\\n}\\n.w-e-toolbar .w-e-active i {\\n  color: #1e88e5;\\n}\\n.w-e-toolbar .w-e-active:hover i {\\n  color: #1e88e5;\\n}\\n.w-e-menu-tooltip {\\n  position: absolute;\\n  display: flex;\\n  color: #f1f1f1;\\n  background-color: rgba(0, 0, 0, 0.75);\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\\n  border-radius: 4px;\\n  padding: 4px 5px 6px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.w-e-menu-tooltip-up::after {\\n  content: \"\";\\n  position: absolute;\\n  top: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-top-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-menu-tooltip-down::after {\\n  content: \"\";\\n  position: absolute;\\n  bottom: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-menu-tooltip-item-wrapper {\\n  font-size: 14px;\\n  margin: 0 5px;\\n}\\n',\"\"]),e.exports=t},function(e,t,n){var r=n(21),i=n(156);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,'.w-e-text-container {\\n  position: relative;\\n  height: 100%;\\n}\\n.w-e-text-container .w-e-progress {\\n  position: absolute;\\n  background-color: #1e88e5;\\n  top: 0;\\n  left: 0;\\n  height: 1px;\\n}\\n.w-e-text-container .placeholder {\\n  color: #D4D4D4;\\n  position: absolute;\\n  font-size: 11pt;\\n  line-height: 22px;\\n  left: 10px;\\n  top: 10px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  z-index: -1;\\n}\\n.w-e-text {\\n  padding: 0 10px;\\n  overflow-y: auto;\\n}\\n.w-e-text p,\\n.w-e-text h1,\\n.w-e-text h2,\\n.w-e-text h3,\\n.w-e-text h4,\\n.w-e-text h5,\\n.w-e-text table,\\n.w-e-text pre {\\n  margin: 10px 0;\\n  line-height: 1.5;\\n}\\n.w-e-text ul,\\n.w-e-text ol {\\n  margin: 10px 0 10px 20px;\\n}\\n.w-e-text blockquote {\\n  display: block;\\n  border-left: 8px solid #d0e5f2;\\n  padding: 5px 10px;\\n  margin: 10px 0;\\n  line-height: 1.4;\\n  font-size: 100%;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text code {\\n  display: inline-block;\\n  background-color: #f1f1f1;\\n  border-radius: 3px;\\n  padding: 3px 5px;\\n  margin: 0 3px;\\n}\\n.w-e-text pre code {\\n  display: block;\\n}\\n.w-e-text table {\\n  border-top: 1px solid #ccc;\\n  border-left: 1px solid #ccc;\\n}\\n.w-e-text table td,\\n.w-e-text table th {\\n  border-bottom: 1px solid #ccc;\\n  border-right: 1px solid #ccc;\\n  padding: 3px 5px;\\n  min-height: 30px;\\n}\\n.w-e-text table th {\\n  border-bottom: 2px solid #ccc;\\n  text-align: center;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text:focus {\\n  outline: none;\\n}\\n.w-e-text img {\\n  cursor: pointer;\\n}\\n.w-e-text img:hover {\\n  box-shadow: 0 0 5px #333;\\n}\\n.w-e-text .w-e-todo {\\n  margin: 0 0 0 20px;\\n}\\n.w-e-text .w-e-todo li {\\n  list-style: none;\\n  font-size: 1em;\\n}\\n.w-e-text .w-e-todo li span:nth-child(1) {\\n  position: relative;\\n  left: -18px;\\n}\\n.w-e-text .w-e-todo li span:nth-child(1) input {\\n  position: absolute;\\n  margin-right: 3px;\\n}\\n.w-e-text .w-e-todo li span:nth-child(1) input[type=checkbox] {\\n  top: 50%;\\n  margin-top: -6px;\\n}\\n.w-e-tooltip {\\n  position: absolute;\\n  display: flex;\\n  color: #f1f1f1;\\n  background-color: rgba(0, 0, 0, 0.75);\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\\n  border-radius: 4px;\\n  padding: 4px 5px 6px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.w-e-tooltip-up::after {\\n  content: \"\";\\n  position: absolute;\\n  top: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-top-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-down::after {\\n  content: \"\";\\n  position: absolute;\\n  bottom: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-item-wrapper {\\n  cursor: pointer;\\n  font-size: 14px;\\n  margin: 0 5px;\\n}\\n.w-e-tooltip-item-wrapper:hover {\\n  color: #ccc;\\n  text-decoration: underline;\\n}\\n',\"\"]),e.exports=t},function(e,t,n){var r=n(21),i=n(158);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,'.w-e-menu .w-e-panel-container {\\n  position: absolute;\\n  top: 0;\\n  left: 50%;\\n  border: 1px solid #ccc;\\n  border-top: 0;\\n  box-shadow: 1px 1px 2px #ccc;\\n  color: #333;\\n  background-color: #fff;\\n  text-align: left;\\n  /* 为 emotion panel 定制的样式 */\\n  /* 上传图片、上传视频的 panel 定制样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  padding: 5px;\\n  margin: 2px 5px 0 0;\\n  cursor: pointer;\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close:hover {\\n  color: #333;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title {\\n  list-style: none;\\n  display: flex;\\n  font-size: 14px;\\n  margin: 2px 10px 0 10px;\\n  border-bottom: 1px solid #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {\\n  padding: 3px 5px;\\n  color: #999;\\n  cursor: pointer;\\n  margin: 0 3px;\\n  position: relative;\\n  top: 1px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {\\n  color: #333;\\n  border-bottom: 1px solid #333;\\n  cursor: default;\\n  font-weight: 700;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content {\\n  padding: 10px 15px 10px 15px;\\n  font-size: 16px;\\n  /* 输入框的样式 */\\n  /* 按钮的样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {\\n  outline: none;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  padding: 5px;\\n  margin-top: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {\\n  border-color: #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {\\n  border: none;\\n  border-bottom: 1px solid #ccc;\\n  font-size: 14px;\\n  height: 20px;\\n  color: #333;\\n  text-align: left;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {\\n  width: 30px;\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {\\n  display: block;\\n  width: 100%;\\n  margin: 10px 0;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {\\n  border-bottom: 2px solid #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {\\n  font-size: 14px;\\n  color: #1e88e5;\\n  border: none;\\n  padding: 5px 10px;\\n  background-color: #fff;\\n  cursor: pointer;\\n  border-radius: 3px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {\\n  float: left;\\n  margin-right: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {\\n  float: right;\\n  margin-left: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {\\n  color: #c24f4a;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {\\n  content: \"\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {\\n  cursor: pointer;\\n  font-size: 18px;\\n  padding: 0 3px;\\n  display: inline-block;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container,\\n.w-e-menu .w-e-panel-container .w-e-up-video-container {\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn,\\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn {\\n  display: inline-block;\\n  color: #999;\\n  cursor: pointer;\\n  font-size: 60px;\\n  line-height: 1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover,\\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn:hover {\\n  color: #333;\\n}\\n',\"\"]),e.exports=t},function(e,t,n){var r=n(21),i=n(160);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,\".w-e-toolbar .w-e-droplist {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #fff;\\n  border: 1px solid #f1f1f1;\\n  border-right-color: #ccc;\\n  border-bottom-color: #ccc;\\n}\\n.w-e-toolbar .w-e-droplist .w-e-dp-title {\\n  text-align: center;\\n  color: #999;\\n  line-height: 2;\\n  border-bottom: 1px solid #f1f1f1;\\n  font-size: 13px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list {\\n  list-style: none;\\n  line-height: 1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {\\n  color: #333;\\n  padding: 5px 0;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block {\\n  list-style: none;\\n  text-align: left;\\n  padding: 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {\\n  display: inline-block;\\n  padding: 3px 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";var r=n(0),i=r(n(162));Element.prototype.matches||(Element.prototype.matches=function(e){var t=this.ownerDocument.querySelectorAll(e),n=t.length;for(n;n>=0;n--)if(t.item(n)===this)break;return n>-1}),i[\"default\"]||(window.Promise=i[\"default\"])},function(e,t,n){e.exports=n(163)},function(e,t,n){var r=n(164);e.exports=r},function(e,t,n){n(165),n(68),n(170),n(177),n(178),n(179),n(53),n(54);var r=n(10);e.exports=r.Promise},function(e,t,n){\"use strict\";var r=n(5),i=n(77),a=n(80),o=n(63),s=n(17),l=n(37),u=n(40),c=function(e,t){var n=this;if(!(n instanceof c))return new c(e,t);a&&(n=a(new Error(void 0),i(n))),void 0!==t&&s(n,\"message\",String(t));var r=[];return u(e,r.push,{that:r}),s(n,\"errors\",r),n};c.prototype=o(Error.prototype,{constructor:l(5,c),message:l(5,\"\"),name:l(5,\"AggregateError\")}),r({global:!0},{AggregateError:c})},function(e,t,n){var r=n(8),i=n(17);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(12);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError(\"Can't set \"+String(e)+\" as a prototype\");return e}},function(e,t,n){var r=n(15),i=n(18),a=n(20),o=n(50);e.exports=r?Object.defineProperties:function(e,t){a(e);var n,r=o(t),s=r.length,l=0;while(s>l)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){\"use strict\";var r,i,a,o,s=n(5),l=n(39),u=n(8),c=n(29),d=n(111),f=n(52),h=n(112),p=n(80),m=n(42),v=n(113),g=n(13),_=n(33),y=n(86),x=n(114),b=n(40),w=n(115),A=n(116),T=n(117).set,S=n(172),E=n(119),C=n(174),M=n(69),D=n(88),N=n(43),L=n(104),I=n(11),P=n(176),O=n(87),R=n(65),k=I(\"species\"),F=\"Promise\",B=N.get,z=N.set,H=N.getterFor(F),U=d&&d.prototype,G=d,j=U,V=u.TypeError,W=u.document,$=u.process,q=M.f,Y=q,X=!!(W&&W.createEvent&&u.dispatchEvent),Q=\"function\"==typeof PromiseRejectionEvent,K=\"unhandledrejection\",Z=\"rejectionhandled\",J=0,ee=1,te=2,ne=1,re=2,ie=!1,ae=L(F,(function(){var e=x(G),t=e!==String(G);if(!t&&66===R)return!0;if(l&&!j[\"finally\"])return!0;if(R>=51&&/native code/.test(e))return!1;var n=new G((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};return i[k]=r,ie=n.then((function(){}))instanceof r,!ie||!t&&P&&!Q})),oe=ae||!w((function(e){G.all(e)[\"catch\"]((function(){}))})),se=function(e){var t;return!(!g(e)||\"function\"!=typeof(t=e.then))&&t},le=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){var r=e.value,i=e.state==ee,a=0;while(n.length>a){var o,s,l,u=n[a++],c=i?u.ok:u.fail,d=u.resolve,f=u.reject,h=u.domain;try{c?(i||(e.rejection===re&&fe(e),e.rejection=ne),!0===c?o=r:(h&&h.enter(),o=c(r),h&&(h.exit(),l=!0)),o===u.promise?f(V(\"Promise-chain cycle\")):(s=se(o))?s.call(o,d,f):d(o)):f(r)}catch(p){h&&!l&&h.exit(),f(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ce(e)}))}},ue=function(e,t,n){var r,i;X?(r=W.createEvent(\"Event\"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!Q&&(i=u[\"on\"+e])?i(r):e===K&&C(\"Unhandled promise rejection\",n)},ce=function(e){T.call(u,(function(){var t,n=e.facade,r=e.value,i=de(e);if(i&&(t=D((function(){O?$.emit(\"unhandledRejection\",r,n):ue(K,n,r)})),e.rejection=O||de(e)?re:ne,t.error))throw t.value}))},de=function(e){return e.rejection!==ne&&!e.parent},fe=function(e){T.call(u,(function(){var t=e.facade;O?$.emit(\"rejectionHandled\",t):ue(Z,t,e.value)}))},he=function(e,t,n){return function(r){e(t,r,n)}},pe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=te,le(e,!0))},me=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw V(\"Promise can't be resolved itself\");var r=se(t);r?S((function(){var n={done:!1};try{r.call(t,he(me,n,e),he(pe,n,e))}catch(i){pe(n,i,e)}})):(e.value=t,e.state=ee,le(e,!1))}catch(i){pe({done:!1},i,e)}}};if(ae&&(G=function(e){y(this,G,F),_(e),r.call(this);var t=B(this);try{e(he(me,t),he(pe,t))}catch(n){pe(t,n)}},j=G.prototype,r=function(e){z(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},r.prototype=h(j,{then:function(e,t){var n=H(this),r=q(A(this,G));return r.ok=\"function\"!=typeof e||e,r.fail=\"function\"==typeof t&&t,r.domain=O?$.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=J&&le(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=B(e);this.promise=e,this.resolve=he(me,t),this.reject=he(pe,t)},M.f=q=function(e){return e===G||e===a?new i(e):Y(e)},!l&&\"function\"==typeof d&&U!==Object.prototype)){o=U.then,ie||(f(U,\"then\",(function(e,t){var n=this;return new G((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),f(U,\"catch\",j[\"catch\"],{unsafe:!0}));try{delete U.constructor}catch(ve){}p&&p(U,j)}s({global:!0,wrap:!0,forced:ae},{Promise:G}),m(G,F,!1,!0),v(F),a=c(F),s({target:F,stat:!0,forced:ae},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:F,stat:!0,forced:l||ae},{resolve:function(e){return E(l&&this===a?G:this,e)}}),s({target:F,stat:!0,forced:oe},{all:function(e){var t=this,n=q(t),r=n.resolve,i=n.reject,a=D((function(){var n=_(t.resolve),a=[],o=0,s=1;b(e,(function(e){var l=o++,u=!1;a.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,a[l]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,i=D((function(){var i=_(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){\"use strict\";var r=n(85),i=n(67);e.exports=r?{}.toString:function(){return\"[object \"+i(this)+\"]\"}},function(e,t,n){var r,i,a,o,s,l,u,c,d=n(8),f=n(74).f,h=n(117).set,p=n(118),m=n(173),v=n(87),g=d.MutationObserver||d.WebKitMutationObserver,_=d.document,y=d.process,x=d.Promise,b=f(d,\"queueMicrotask\"),w=b&&b.value;w||(r=function(){var e,t;v&&(e=y.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},p||v||m||!g||!_?x&&x.resolve?(u=x.resolve(void 0),u.constructor=x,c=u.then,o=function(){c.call(u,r)}):o=v?function(){y.nextTick(r)}:function(){h.call(d,r)}:(s=!0,l=_.createTextNode(\"\"),new g(r).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),e.exports=w||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(66);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){var r=n(8),i=n(114),a=r.WeakMap;e.exports=\"function\"===typeof a&&/native code/.test(i(a))},function(e,t){e.exports=\"object\"==typeof window},function(e,t,n){\"use strict\";var r=n(5),i=n(33),a=n(69),o=n(88),s=n(40);r({target:\"Promise\",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,u=o((function(){var n=i(t.resolve),a=[],o=0,l=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),l++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:\"fulfilled\",value:e},--l||r(a))}),(function(e){s||(s=!0,a[i]={status:\"rejected\",reason:e},--l||r(a))}))})),--l||r(a)}));return u.error&&l(u.value),n.promise}})},function(e,t,n){\"use strict\";var r=n(5),i=n(33),a=n(29),o=n(69),s=n(88),l=n(40),u=\"No one promise resolved\";r({target:\"Promise\",stat:!0},{any:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,d=s((function(){var n=i(t.resolve),o=[],s=0,d=1,f=!1;l(e,(function(e){var i=s++,l=!1;o.push(void 0),d++,n.call(t,e).then((function(e){l||f||(f=!0,r(e))}),(function(e){l||f||(l=!0,o[i]=e,--d||c(new(a(\"AggregateError\"))(o,u)))}))})),--d||c(new(a(\"AggregateError\"))(o,u))}));return d.error&&c(d.value),n.promise}})},function(e,t,n){\"use strict\";var r=n(5),i=n(39),a=n(111),o=n(12),s=n(29),l=n(116),u=n(119),c=n(52),d=!!a&&o((function(){a.prototype[\"finally\"].call({then:function(){}},(function(){}))}));if(r({target:\"Promise\",proto:!0,real:!0,forced:d},{finally:function(e){var t=l(this,s(\"Promise\")),n=\"function\"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&\"function\"==typeof a){var f=s(\"Promise\").prototype[\"finally\"];a.prototype[\"finally\"]!==f&&c(a.prototype,\"finally\",f,{unsafe:!0})}},function(e,t,n){var r=n(64),i=n(49),a=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?\"\":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){\"use strict\";var r=n(120).IteratorPrototype,i=n(63),a=n(37),o=n(42),s=n(41),l=function(){return this};e.exports=function(e,t,n){var u=t+\" Iterator\";return e.prototype=i(r,{next:a(1,n)}),o(e,u,!1,!0),s[u]=l,e}},function(e,t,n){\"use strict\";var r=n(28),i=n(90),a=n(41),o=n(43),s=n(89),l=\"Array Iterator\",u=o.set,c=o.getterFor(l);e.exports=s(Array,\"Array\",(function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):\"keys\"==n?{value:r,done:!1}:\"values\"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),\"values\"),a.Arguments=a.Array,i(\"keys\"),i(\"values\"),i(\"entries\")},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){n(54);var r=n(185),i=n(67),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===a||e instanceof Array&&t===a.forEach||o.hasOwnProperty(i(e))?r:t}},function(e,t,n){var r=n(186);e.exports=r},function(e,t,n){n(187);var r=n(14);e.exports=r(\"Array\").forEach},function(e,t,n){\"use strict\";var r=n(5),i=n(188);r({target:\"Array\",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){\"use strict\";var r=n(30).forEach,i=n(70),a=i(\"forEach\");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(190);e.exports=r},function(e,t,n){n(191);var r=n(10);e.exports=r.Array.isArray},function(e,t,n){var r=n(5),i=n(55);r({target:\"Array\",stat:!0},{isArray:i})},function(e,t,n){var r=n(193);e.exports=r},function(e,t,n){var r=n(194),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?r:t}},function(e,t,n){n(195);var r=n(14);e.exports=r(\"Array\").map},function(e,t,n){\"use strict\";var r=n(5),i=n(30).map,a=n(56),o=a(\"map\");r({target:\"Array\",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(197);e.exports=r},function(e,t,n){var r=n(198),i=String.prototype;e.exports=function(e){var t=e.trim;return\"string\"===typeof e||e===i||e instanceof String&&t===i.trim?r:t}},function(e,t,n){n(199);var r=n(14);e.exports=r(\"String\").trim},function(e,t,n){\"use strict\";var r=n(5),i=n(94).trim,a=n(200);r({target:\"String\",proto:!0,forced:a(\"trim\")},{trim:function(){return i(this)}})},function(e,t,n){var r=n(12),i=n(71),a=\"​᠎\";e.exports=function(e){return r((function(){return!!i[e]()||a[e]()!=a||i[e].name!==e}))}},function(e,t,n){var r=n(202);e.exports=r},function(e,t,n){n(203),n(68),n(53),n(54);var r=n(10);e.exports=r.Map},function(e,t,n){\"use strict\";var r=n(122),i=n(124);e.exports=r(\"Map\",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){var r=n(12);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(206);e.exports=r},function(e,t,n){var r=n(207),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?r:t}},function(e,t,n){n(208);var r=n(14);e.exports=r(\"Array\").indexOf},function(e,t,n){\"use strict\";var r=n(5),i=n(81).indexOf,a=n(70),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=a(\"indexOf\");r({target:\"Array\",proto:!0,forced:s||!l},{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(210);e.exports=r},function(e,t,n){var r=n(211),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||e instanceof Array&&t===i.splice?r:t}},function(e,t,n){n(212);var r=n(14);e.exports=r(\"Array\").splice},function(e,t,n){\"use strict\";var r=n(5),i=n(82),a=n(64),o=n(34),s=n(25),l=n(92),u=n(72),c=n(56),d=c(\"splice\"),f=Math.max,h=Math.min,p=9007199254740991,m=\"Maximum allowed length exceeded\";r({target:\"Array\",proto:!0,forced:!d},{splice:function(e,t){var n,r,c,d,v,g,_=s(this),y=o(_.length),x=i(e,y),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=y-x):(n=b-2,r=h(f(a(t),0),y-x)),y+n-r>p)throw TypeError(m);for(c=l(_,r),d=0;d<r;d++)v=x+d,v in _&&u(c,d,_[v]);if(c.length=r,n<r){for(d=x;d<y-r;d++)v=d+r,g=d+n,v in _?_[g]=_[v]:delete _[g];for(d=y;d>y-r+n;d--)delete _[d-1]}else if(n>r)for(d=y-r;d>x;d--)v=d+r-1,g=d+n-1,v in _?_[g]=_[v]:delete _[g];for(d=0;d<n;d++)_[d+x]=arguments[d+2];return _.length=y-r+n,c}})},function(e,t,n){var r=n(214);e.exports=r},function(e,t,n){var r=n(215),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?r:t}},function(e,t,n){n(216);var r=n(14);e.exports=r(\"Array\").filter},function(e,t,n){\"use strict\";var r=n(5),i=n(30).filter,a=n(56),o=a(\"filter\");r({target:\"Array\",proto:!0,forced:!o},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(218);e.exports=r},function(e,t,n){var r=n(219),i=n(221),a=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===a||e instanceof Array&&t===a.includes?r:\"string\"===typeof e||e===o||e instanceof String&&t===o.includes?i:t}},function(e,t,n){n(220);var r=n(14);e.exports=r(\"Array\").includes},function(e,t,n){\"use strict\";var r=n(5),i=n(81).includes,a=n(90);r({target:\"Array\",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(\"includes\")},function(e,t,n){n(222);var r=n(14);e.exports=r(\"String\").includes},function(e,t,n){\"use strict\";var r=n(5),i=n(223),a=n(49),o=n(225);r({target:\"String\",proto:!0,forced:!o(\"includes\")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(224);e.exports=function(e){if(r(e))throw TypeError(\"The method doesn't accept regular expressions\");return e}},function(e,t,n){var r=n(13),i=n(48),a=n(11),o=a(\"match\");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:\"RegExp\"==i(e))}},function(e,t,n){var r=n(11),i=r(\"match\");e.exports=function(e){var t=/./;try{\"/./\"[e](t)}catch(n){try{return t[i]=!1,\"/./\"[e](t)}catch(r){}}return!1}},function(e,t,n){var r=n(227);e.exports=r},function(e,t,n){var r=n(228),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?r:t}},function(e,t,n){n(229);var r=n(14);e.exports=r(\"Function\").bind},function(e,t,n){var r=n(5),i=n(230);r({target:\"Function\",proto:!0},{bind:i})},function(e,t,n){\"use strict\";var r=n(33),i=n(13),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]=\"a[\"+i+\"]\";o[t]=Function(\"C,a\",\"return new C(\"+r.join(\",\")+\")\")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t,n){e.exports=n(232)},function(e,t,n){var r=n(233);n(253),n(254),n(255),n(256),n(257),n(258),n(259),e.exports=r},function(e,t,n){n(234),n(68),n(235),n(237),n(238),n(239),n(240),n(127),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252);var r=n(10);e.exports=r.Symbol},function(e,t,n){\"use strict\";var r=n(5),i=n(12),a=n(55),o=n(13),s=n(25),l=n(34),u=n(72),c=n(92),d=n(56),f=n(11),h=n(65),p=f(\"isConcatSpreadable\"),m=9007199254740991,v=\"Maximum allowed index exceeded\",g=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),_=d(\"concat\"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},x=!g||!_;r({target:\"Array\",proto:!0,forced:x},{concat:function(e){var t,n,r,i,a,o=s(this),d=c(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],y(a)){if(i=l(a.length),f+i>m)throw TypeError(v);for(n=0;n<i;n++,f++)n in a&&u(d,f,a[n])}else{if(f>=m)throw TypeError(v);u(d,f++,a)}return d.length=f,d}})},function(e,t,n){\"use strict\";var r=n(5),i=n(8),a=n(29),o=n(39),s=n(15),l=n(84),u=n(108),c=n(12),d=n(16),f=n(55),h=n(13),p=n(20),m=n(25),v=n(28),g=n(60),_=n(37),y=n(63),x=n(50),b=n(125),w=n(236),A=n(126),T=n(74),S=n(18),E=n(59),C=n(17),M=n(52),D=n(78),N=n(61),L=n(51),I=n(62),P=n(11),O=n(97),R=n(9),k=n(42),F=n(43),B=n(30).forEach,z=N(\"hidden\"),H=\"Symbol\",U=\"prototype\",G=P(\"toPrimitive\"),j=F.set,V=F.getterFor(H),W=Object[U],$=i.Symbol,q=a(\"JSON\",\"stringify\"),Y=T.f,X=S.f,Q=w.f,K=E.f,Z=D(\"symbols\"),J=D(\"op-symbols\"),ee=D(\"string-to-symbol-registry\"),te=D(\"symbol-to-string-registry\"),ne=D(\"wks\"),re=i.QObject,ie=!re||!re[U]||!re[U].findChild,ae=s&&c((function(){return 7!=y(X({},\"a\",{get:function(){return X(this,\"a\",{value:7}).a}})).a}))?function(e,t,n){var r=Y(W,t);r&&delete W[t],X(e,t,n),r&&e!==W&&X(W,t,r)}:X,oe=function(e,t){var n=Z[e]=y($[U]);return j(n,{type:H,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return\"symbol\"==typeof e}:function(e){return Object(e)instanceof $},le=function(e,t,n){e===W&&le(J,t,n),p(e);var r=g(t,!0);return p(n),d(Z,r)?(n.enumerable?(d(e,z)&&e[z][r]&&(e[z][r]=!1),n=y(n,{enumerable:_(0,!1)})):(d(e,z)||X(e,z,_(1,{})),e[z][r]=!0),ae(e,r,n)):X(e,r,n)},ue=function(e,t){p(e);var n=v(t),r=x(n).concat(pe(n));return B(r,(function(t){s&&!de.call(n,t)||le(e,t,n[t])})),e},ce=function(e,t){return void 0===t?y(e):ue(y(e),t)},de=function(e){var t=g(e,!0),n=K.call(this,t);return!(this===W&&d(Z,t)&&!d(J,t))&&(!(n||!d(this,t)||!d(Z,t)||d(this,z)&&this[z][t])||n)},fe=function(e,t){var n=v(e),r=g(t,!0);if(n!==W||!d(Z,r)||d(J,r)){var i=Y(n,r);return!i||!d(Z,r)||d(n,z)&&n[z][r]||(i.enumerable=!0),i}},he=function(e){var t=Q(v(e)),n=[];return B(t,(function(e){d(Z,e)||d(L,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=Q(t?J:v(e)),r=[];return B(n,(function(e){!d(Z,e)||t&&!d(W,e)||r.push(Z[e])})),r};if(l||($=function(){if(this instanceof $)throw TypeError(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===W&&n.call(J,e),d(this,z)&&d(this[z],t)&&(this[z][t]=!1),ae(this,t,_(1,e))};return s&&ie&&ae(W,t,{configurable:!0,set:n}),oe(t,e)},M($[U],\"toString\",(function(){return V(this).tag})),M($,\"withoutSetter\",(function(e){return oe(I(e),e)})),E.f=de,S.f=le,T.f=fe,b.f=w.f=he,A.f=pe,O.f=function(e){return oe(P(e),e)},s&&(X($[U],\"description\",{configurable:!0,get:function(){return V(this).description}}),o||M(W,\"propertyIsEnumerable\",de,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:$}),B(x(ne),(function(e){R(e)})),r({target:H,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var n=$(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+\" is not a symbol\");if(d(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:\"Object\",stat:!0,forced:!l,sham:!s},{create:ce,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:\"Object\",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:\"Object\",stat:!0,forced:c((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(m(e))}}),q){var me=!l||c((function(){var e=$();return\"[null]\"!=q([e])||\"{}\"!=q({a:e})||\"{}\"!=q(Object(e))}));r({target:\"JSON\",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=t,(h(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if(\"function\"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,q.apply(null,i)}})}$[U][G]||C($[U],G,$[U].valueOf),k($,H),L[z]=!0},function(e,t,n){var r=n(28),i=n(125).f,a={}.toString,o=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&\"[object Window]\"==a.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(9);r(\"asyncIterator\")},function(e,t){},function(e,t,n){var r=n(9);r(\"hasInstance\")},function(e,t,n){var r=n(9);r(\"isConcatSpreadable\")},function(e,t,n){var r=n(9);r(\"match\")},function(e,t,n){var r=n(9);r(\"matchAll\")},function(e,t,n){var r=n(9);r(\"replace\")},function(e,t,n){var r=n(9);r(\"search\")},function(e,t,n){var r=n(9);r(\"species\")},function(e,t,n){var r=n(9);r(\"split\")},function(e,t,n){var r=n(9);r(\"toPrimitive\")},function(e,t,n){var r=n(9);r(\"toStringTag\")},function(e,t,n){var r=n(9);r(\"unscopables\")},function(e,t,n){var r=n(8),i=n(42);i(r.JSON,\"JSON\",!0)},function(e,t){},function(e,t){},function(e,t,n){var r=n(9);r(\"asyncDispose\")},function(e,t,n){var r=n(9);r(\"dispose\")},function(e,t,n){var r=n(9);r(\"matcher\")},function(e,t,n){var r=n(9);r(\"metadata\")},function(e,t,n){var r=n(9);r(\"observable\")},function(e,t,n){var r=n(9);r(\"patternMatch\")},function(e,t,n){var r=n(9);r(\"replaceAll\")},function(e,t,n){e.exports=n(261)},function(e,t,n){var r=n(262);e.exports=r},function(e,t,n){n(127),n(53),n(54);var r=n(97);e.exports=r.f(\"iterator\")},function(e,t,n){e.exports=n(264)},function(e,t,n){var r=n(265);e.exports=r},function(e,t,n){n(266);var r=n(10);e.exports=r.parseInt},function(e,t,n){var r=n(5),i=n(267);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){var r=n(8),i=n(94).trim,a=n(71),o=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==o(a+\"08\")||22!==o(a+\"0x16\");e.exports=l?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){var r=n(269);e.exports=r},function(e,t,n){var r=n(270),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},function(e,t,n){n(271);var r=n(14);e.exports=r(\"Array\").slice},function(e,t,n){\"use strict\";var r=n(5),i=n(13),a=n(55),o=n(82),s=n(34),l=n(28),u=n(72),c=n(11),d=n(56),f=d(\"slice\"),h=c(\"species\"),p=[].slice,m=Math.max;r({target:\"Array\",proto:!0,forced:!f},{slice:function(e,t){var n,r,c,d=l(this),f=s(d.length),v=o(e,f),g=o(void 0===t?f:t,f);if(a(d)&&(n=d.constructor,\"function\"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(d,v,g);for(r=new(void 0===n?Array:n)(m(g-v,0)),c=0;v<g;v++,c++)v in d&&u(r,c,d[v]);return r.length=c,r}})},function(e,t,n){n(273);var r=n(10);e.exports=r.setTimeout},function(e,t,n){var r=n(5),i=n(8),a=n(66),o=[].slice,s=/MSIE .\\./.test(a),l=function(e){return function(t,n){var r=arguments.length>2,i=r?o.call(arguments,2):void 0;return e(r?function(){(\"function\"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:s},{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(128));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(279)),l=o.__importDefault(n(280)),u=o.__importDefault(n(129)),c=o.__importDefault(n(281)),d=o.__importDefault(n(282)),f=o.__importDefault(n(283)),h=o.__importDefault(n(130)),p=o.__importDefault(n(284)),m=o.__importDefault(n(285)),v=o.__importDefault(n(286)),g=(0,a[\"default\"])({},s[\"default\"],l[\"default\"],u[\"default\"],d[\"default\"],c[\"default\"],f[\"default\"],h[\"default\"],p[\"default\"],m[\"default\"],v[\"default\"],{linkCheck:function(e,t){return!0}});t[\"default\"]=g},function(e,t,n){var r=n(276);e.exports=r},function(e,t,n){n(277);var r=n(10);e.exports=r.Object.assign},function(e,t,n){var r=n(5),i=n(278);r({target:\"Object\",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){\"use strict\";var r=n(15),i=n(12),a=n(50),o=n(126),s=n(59),l=n(25),u=n(75),c=Object.assign,d=Object.defineProperty;e.exports=!c||i((function(){if(r&&1!==c({b:1},c(d({},\"a\",{enumerable:!0,get:function(){d(this,\"b\",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i=\"abcdefghijklmnopqrst\";return e[n]=7,i.split(\"\").forEach((function(e){t[e]=e})),7!=c({},e)[n]||a(c({},t)).join(\"\")!=i}))?function(e,t){var n=l(e),i=arguments.length,c=1,d=o.f,f=s.f;while(i>c){var h,p=u(arguments[c++]),m=d?a(p).concat(d(p)):a(p),v=m.length,g=0;while(v>g)h=m[g++],r&&!f.call(p,h)||(n[h]=p[h])}return n}:c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]={menus:[\"head\",\"bold\",\"fontSize\",\"fontName\",\"italic\",\"underline\",\"strikeThrough\",\"indent\",\"lineHeight\",\"foreColor\",\"backColor\",\"link\",\"list\",\"todo\",\"justify\",\"quote\",\"emoticon\",\"image\",\"video\",\"table\",\"code\",\"splitLine\",\"undo\",\"redo\"],fontNames:[\"黑体\",\"仿宋\",\"楷体\",\"标楷体\",\"华文仿宋\",\"华文楷体\",\"宋体\",\"微软雅黑\",\"Arial\",\"Tahoma\",\"Verdana\",\"Times New Roman\",\"Courier New\"],fontSizes:{\"x-small\":{name:\"10px\",value:\"1\"},small:{name:\"13px\",value:\"2\"},normal:{name:\"16px\",value:\"3\"},large:{name:\"18px\",value:\"4\"},\"x-large\":{name:\"24px\",value:\"5\"},\"xx-large\":{name:\"32px\",value:\"6\"},\"xxx-large\":{name:\"48px\",value:\"7\"}},colors:[\"#000000\",\"#ffffff\",\"#eeece0\",\"#1c487f\",\"#4d80bf\",\"#c24f4a\",\"#8baa4a\",\"#7b5ba1\",\"#46acc8\",\"#f9963b\"],languageType:[\"Bash\",\"C\",\"C#\",\"C++\",\"CSS\",\"Java\",\"JavaScript\",\"JSON\",\"TypeScript\",\"Plain text\",\"Html\",\"XML\",\"SQL\",\"Go\",\"Kotlin\",\"Lua\",\"Markdown\",\"PHP\",\"Python\",\"Shell Session\",\"Ruby\"],languageTab:\"　　　　\",emotions:[{title:\"表情\",type:\"emoji\",content:\"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣\".split(/\\s/)},{title:\"手势\",type:\"emoji\",content:\"👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏\".split(/\\s/)}],lineHeights:[\"1\",\"1.15\",\"1.6\",\"2\",\"2.5\",\"3\"],undoLimit:20,indentation:\"2em\",showMenuTooltips:!0,menuTooltipPosition:\"up\"}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(7);function o(e,t,n){window.alert(e),n&&console.error(\"wangEditor: \"+n)}t[\"default\"]={onchangeTimeout:200,onchange:null,onfocus:a.EMPTY_FN,onblur:a.EMPTY_FN,onCatalogChange:null,customAlert:o}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]={pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(e){return e}}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]={styleWithCSS:!1}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(7);t[\"default\"]={linkImgCheck:function(e,t,n){return!0},showLinkImg:!0,showLinkImgAlt:!0,showLinkImgHref:!0,linkImgCallback:a.EMPTY_FN,uploadImgAccept:[\"jpg\",\"jpeg\",\"png\",\"gif\",\"bmp\"],uploadImgServer:\"\",uploadImgShowBase64:!1,uploadImgMaxSize:5242880,uploadImgMaxLength:100,uploadFileName:\"\",uploadImgParams:{},uploadImgParamsWithUrl:!1,uploadImgHeaders:{},uploadImgHooks:{},uploadImgTimeout:1e4,withCredentials:!1,customUploadImg:null,uploadImgFromMedia:null}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]={lang:\"zh-CN\",languages:{\"zh-CN\":{wangEditor:{\"重置\":\"重置\",\"插入\":\"插入\",\"默认\":\"默认\",\"创建\":\"创建\",\"修改\":\"修改\",\"如\":\"如\",\"请输入正文\":\"请输入正文\",menus:{title:{\"标题\":\"标题\",\"加粗\":\"加粗\",\"字号\":\"字号\",\"字体\":\"字体\",\"斜体\":\"斜体\",\"下划线\":\"下划线\",\"删除线\":\"删除线\",\"缩进\":\"缩进\",\"行高\":\"行高\",\"文字颜色\":\"文字颜色\",\"背景色\":\"背景色\",\"链接\":\"链接\",\"序列\":\"序列\",\"对齐\":\"对齐\",\"引用\":\"引用\",\"表情\":\"表情\",\"图片\":\"图片\",\"视频\":\"视频\",\"表格\":\"表格\",\"代码\":\"代码\",\"分割线\":\"分割线\",\"恢复\":\"恢复\",\"撤销\":\"撤销\",\"全屏\":\"全屏\",\"取消全屏\":\"取消全屏\",\"待办事项\":\"待办事项\"},dropListMenu:{\"设置标题\":\"设置标题\",\"背景颜色\":\"背景颜色\",\"文字颜色\":\"文字颜色\",\"设置字号\":\"设置字号\",\"设置字体\":\"设置字体\",\"设置缩进\":\"设置缩进\",\"对齐方式\":\"对齐方式\",\"设置行高\":\"设置行高\",\"序列\":\"序列\",head:{\"正文\":\"正文\"},indent:{\"增加缩进\":\"增加缩进\",\"减少缩进\":\"减少缩进\"},justify:{\"靠左\":\"靠左\",\"居中\":\"居中\",\"靠右\":\"靠右\",\"两端\":\"两端\"},list:{\"无序列表\":\"无序列表\",\"有序列表\":\"有序列表\"}},panelMenus:{emoticon:{\"默认\":\"默认\",\"新浪\":\"新浪\",emoji:\"emoji\",\"手势\":\"手势\"},image:{\"上传图片\":\"上传图片\",\"网络图片\":\"网络图片\",\"图片地址\":\"图片地址\",\"图片文字说明\":\"图片文字说明\",\"跳转链接\":\"跳转链接\"},link:{\"链接\":\"链接\",\"链接文字\":\"链接文字\",\"取消链接\":\"取消链接\",\"查看链接\":\"查看链接\"},video:{\"插入视频\":\"插入视频\",\"上传视频\":\"上传视频\"},table:{\"行\":\"行\",\"列\":\"列\",\"的\":\"的\",\"表格\":\"表格\",\"添加行\":\"添加行\",\"删除行\":\"删除行\",\"添加列\":\"添加列\",\"删除列\":\"删除列\",\"设置表头\":\"设置表头\",\"取消表头\":\"取消表头\",\"插入表格\":\"插入表格\",\"删除表格\":\"删除表格\"},code:{\"删除代码\":\"删除代码\",\"修改代码\":\"修改代码\",\"插入代码\":\"插入代码\"}}},validate:{\"张图片\":\"张图片\",\"大于\":\"大于\",\"图片链接\":\"图片链接\",\"不是图片\":\"不是图片\",\"返回结果\":\"返回结果\",\"上传图片超时\":\"上传图片超时\",\"上传图片错误\":\"上传图片错误\",\"上传图片失败\":\"上传图片失败\",\"插入图片错误\":\"插入图片错误\",\"一次最多上传\":\"一次最多上传\",\"下载链接失败\":\"下载链接失败\",\"图片验证未通过\":\"图片验证未通过\",\"服务器返回状态\":\"服务器返回状态\",\"上传图片返回结果错误\":\"上传图片返回结果错误\",\"请替换为支持的图片类型\":\"请替换为支持的图片类型\",\"您插入的网络图片无法识别\":\"您插入的网络图片无法识别\",\"您刚才插入的图片链接未通过编辑器校验\":\"您刚才插入的图片链接未通过编辑器校验\",\"插入视频错误\":\"插入视频错误\",\"视频链接\":\"视频链接\",\"不是视频\":\"不是视频\",\"视频验证未通过\":\"视频验证未通过\",\"个视频\":\"个视频\",\"上传视频超时\":\"上传视频超时\",\"上传视频错误\":\"上传视频错误\",\"上传视频失败\":\"上传视频失败\",\"上传视频返回结果错误\":\"上传视频返回结果错误\"}}},en:{wangEditor:{\"重置\":\"reset\",\"插入\":\"insert\",\"默认\":\"default\",\"创建\":\"create\",\"修改\":\"edit\",\"如\":\"like\",\"请输入正文\":\"please enter the text\",menus:{title:{\"标题\":\"head\",\"加粗\":\"bold\",\"字号\":\"font size\",\"字体\":\"font family\",\"斜体\":\"italic\",\"下划线\":\"underline\",\"删除线\":\"strikethrough\",\"缩进\":\"indent\",\"行高\":\"line heihgt\",\"文字颜色\":\"font color\",\"背景色\":\"background\",\"链接\":\"link\",\"序列\":\"numbered list\",\"对齐\":\"align\",\"引用\":\"quote\",\"表情\":\"emoticons\",\"图片\":\"image\",\"视频\":\"media\",\"表格\":\"table\",\"代码\":\"code\",\"分割线\":\"split line\",\"恢复\":\"undo\",\"撤销\":\"redo\",\"全屏\":\"fullscreen\",\"取消全屏\":\"cancel fullscreen\",\"待办事项\":\"todo\"},dropListMenu:{\"设置标题\":\"title\",\"背景颜色\":\"background\",\"文字颜色\":\"font color\",\"设置字号\":\"font size\",\"设置字体\":\"font family\",\"设置缩进\":\"indent\",\"对齐方式\":\"align\",\"设置行高\":\"line heihgt\",\"序列\":\"list\",head:{\"正文\":\"text\"},indent:{\"增加缩进\":\"indent\",\"减少缩进\":\"outdent\"},justify:{\"靠左\":\"left\",\"居中\":\"center\",\"靠右\":\"right\",\"两端\":\"justify\"},list:{\"无序列表\":\"unordered\",\"有序列表\":\"ordered\"}},panelMenus:{emoticon:{\"表情\":\"emoji\",\"手势\":\"gesture\"},image:{\"上传图片\":\"upload image\",\"网络图片\":\"network image\",\"图片地址\":\"image link\",\"图片文字说明\":\"image alt\",\"跳转链接\":\"hyperlink\"},link:{\"链接\":\"link\",\"链接文字\":\"link text\",\"取消链接\":\"unlink\",\"查看链接\":\"view links\"},video:{\"插入视频\":\"insert video\",\"上传视频\":\"upload local video\"},table:{\"行\":\"rows\",\"列\":\"columns\",\"的\":\" \",\"表格\":\"table\",\"添加行\":\"insert row\",\"删除行\":\"delete row\",\"添加列\":\"insert column\",\"删除列\":\"delete column\",\"设置表头\":\"set header\",\"取消表头\":\"cancel header\",\"插入表格\":\"insert table\",\"删除表格\":\"delete table\"},code:{\"删除代码\":\"delete code\",\"修改代码\":\"edit code\",\"插入代码\":\"insert code\"}}},validate:{\"张图片\":\"images\",\"大于\":\"greater than\",\"图片链接\":\"image link\",\"不是图片\":\"is not image\",\"返回结果\":\"return results\",\"上传图片超时\":\"upload image timeout\",\"上传图片错误\":\"upload image error\",\"上传图片失败\":\"upload image failed\",\"插入图片错误\":\"insert image error\",\"一次最多上传\":\"once most at upload\",\"下载链接失败\":\"download link failed\",\"图片验证未通过\":\"image validate failed\",\"服务器返回状态\":\"server return status\",\"上传图片返回结果错误\":\"upload image return results error\",\"请替换为支持的图片类型\":\"please replace with a supported image type\",\"您插入的网络图片无法识别\":\"the network picture you inserted is not recognized\",\"您刚才插入的图片链接未通过编辑器校验\":\"the image link you just inserted did not pass the editor verification\",\"插入视频错误\":\"insert video error\",\"视频链接\":\"video link\",\"不是视频\":\"is not video\",\"视频验证未通过\":\"video validate failed\",\"个视频\":\"videos\",\"上传视频超时\":\"upload video timeout\",\"上传视频错误\":\"upload video error\",\"上传视频失败\":\"upload video failed\",\"上传视频返回结果错误\":\"upload video return results error\"}}}}}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(6);function o(){return!(!a.UA.isIE()&&!a.UA.isOldEdge)}t[\"default\"]={compatibleMode:o,historyMaxSize:30}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(7);t[\"default\"]={onlineVideoCheck:function(e){return!0},onlineVideoCallback:a.EMPTY_FN,showLinkVideo:!0,uploadVideoAccept:[\"mp4\"],uploadVideoServer:\"\",uploadVideoMaxSize:1073741824,uploadVideoName:\"\",uploadVideoParams:{},uploadVideoParamsWithUrl:!1,uploadVideoHeaders:{},uploadVideoHooks:{},uploadVideoTimeout:72e5,withVideoCredentials:!1,customUploadVideo:null,customInsertVideo:null}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(19));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=n(6),u=n(7),c=function(){function e(e){this._currentRange=null,this.editor=e}return e.prototype.getRange=function(){return this._currentRange},e.prototype.saveRange=function(e){if(e)this._currentRange=e;else{var t=window.getSelection();if(0!==t.rangeCount){var n=t.getRangeAt(0),r=this.getSelectionContainerElem(n);if((null===r||void 0===r?void 0:r.length)&&\"false\"!==r.attr(\"contenteditable\")&&!r.parentUntil(\"[contenteditable=false]\")){var i=this.editor,o=i.$textElem;if(o.isContain(r)){var s;if(o.elems[0]===r.elems[0])if((0,a[\"default\"])(s=o.html()).call(s)===u.EMPTY_P){var l=o.children(),c=null===l||void 0===l?void 0:l.last();i.selection.createRangeByElem(c,!0,!0),i.selection.restoreSelection()}this._currentRange=n}}}}},e.prototype.collapseRange=function(e){void 0===e&&(e=!1);var t=this._currentRange;t&&t.collapse(e)},e.prototype.getSelectionText=function(){var e=this._currentRange;return e?e.toString():\"\"},e.prototype.getSelectionContainerElem=function(e){var t,n;if(t=e||this._currentRange,t)return n=t.commonAncestorContainer,s[\"default\"](1===n.nodeType?n:n.parentNode)},e.prototype.getSelectionStartElem=function(e){var t,n;if(t=e||this._currentRange,t)return n=t.startContainer,s[\"default\"](1===n.nodeType?n:n.parentNode)},e.prototype.getSelectionEndElem=function(e){var t,n;if(t=e||this._currentRange,t)return n=t.endContainer,s[\"default\"](1===n.nodeType?n:n.parentNode)},e.prototype.isSelectionEmpty=function(){var e=this._currentRange;return!(!e||!e.startContainer||e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)},e.prototype.restoreSelection=function(){var e=window.getSelection(),t=this._currentRange;e&&t&&(e.removeAllRanges(),e.addRange(t))},e.prototype.createEmptyRange=function(){var e,t=this.editor,n=this.getRange();if(n&&this.isSelectionEmpty())try{l.UA.isWebkit()?(t.cmd[\"do\"](\"insertHTML\",\"&#8203;\"),n.setEnd(n.endContainer,n.endOffset+1),this.saveRange(n)):(e=s[\"default\"](\"<strong>&#8203;</strong>\"),t.cmd[\"do\"](\"insertElem\",e),this.createRangeByElem(e,!0))}catch(r){}},e.prototype.createRangeByElems=function(e,t){var n=window.getSelection?window.getSelection():document.getSelection();null===n||void 0===n||n.removeAllRanges();var r=document.createRange();r.setStart(e,0),r.setEnd(t,t.childNodes.length||1),this.saveRange(r),this.restoreSelection()},e.prototype.createRangeByElem=function(e,t,n){if(e.length){var r=e.elems[0],i=document.createRange();n?i.selectNodeContents(r):i.selectNode(r),null!=t&&(i.collapse(t),t||(this.saveRange(i),this.editor.selection.moveCursor(r))),this.saveRange(i)}},e.prototype.getSelectionRangeTopNodes=function(){var e,t,n,r=null===(e=this.getSelectionStartElem())||void 0===e?void 0:e.getNodeTop(this.editor),i=null===(t=this.getSelectionEndElem())||void 0===t?void 0:t.getNodeTop(this.editor);return n=this.recordSelectionNodes(s[\"default\"](r),s[\"default\"](i)),n},e.prototype.moveCursor=function(e,t){var n,r=this.getRange(),i=3===e.nodeType?null===(n=e.nodeValue)||void 0===n?void 0:n.length:e.childNodes.length;(l.UA.isFirefox||l.UA.isIE())&&0!==i&&(3!==e.nodeType&&\"BR\"!==e.childNodes[i-1].nodeName||(i-=1));var a=null!==t&&void 0!==t?t:i;r&&e&&(r.setStart(e,a),r.setEnd(e,a),this.restoreSelection())},e.prototype.getCursorPos=function(){var e=window.getSelection();return null===e||void 0===e?void 0:e.anchorOffset},e.prototype.clearWindowSelectionRange=function(){var e=window.getSelection();e&&e.removeAllRanges()},e.prototype.recordSelectionNodes=function(e,t){var n=[],r=!0;try{var i=e,a=this.editor.$textElem;while(r){var o=null===i||void 0===i?void 0:i.getNodeTop(this.editor);\"BODY\"===o.getNodeName()&&(r=!1),o.length>0&&(n.push(s[\"default\"](i)),(null===t||void 0===t?void 0:t.equal(o))||a.equal(o)?r=!1:i=o.getNextSibling())}}catch(l){r=!1}return n},e.prototype.setRangeToElem=function(e){var t=this.getRange();null===t||void 0===t||t.setStart(e,0),null===t||void 0===t||t.setEnd(e,0)},e}();t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=function(){function e(e){this.editor=e}return e.prototype[\"do\"]=function(e,t){var n=this.editor;n.config.styleWithCSS&&document.execCommand(\"styleWithCSS\",!1,\"true\");var r=n.selection;if(r.getRange()){switch(r.restoreSelection(),e){case\"insertHTML\":this.insertHTML(t);break;case\"insertElem\":this.insertElem(t);break;default:this.execCommand(e,t);break}n.menus.changeActive(),r.saveRange(),r.restoreSelection()}},e.prototype.insertHTML=function(e){var t=this.editor,n=t.selection.getRange();if(null!=n)if(this.queryCommandSupported(\"insertHTML\"))this.execCommand(\"insertHTML\",e);else if(n.insertNode){if(n.deleteContents(),o[\"default\"](e).elems.length>0)n.insertNode(o[\"default\"](e).elems[0]);else{var r=document.createElement(\"p\");r.appendChild(document.createTextNode(e)),n.insertNode(r)}t.selection.collapseRange()}},e.prototype.insertElem=function(e){var t=this.editor,n=t.selection.getRange();null!=n&&n.insertNode&&(n.deleteContents(),n.insertNode(e.elems[0]))},e.prototype.execCommand=function(e,t){document.execCommand(e,!1,t)},e.prototype.queryCommandValue=function(e){return document.queryCommandValue(e)},e.prototype.queryCommandState=function(e){return document.queryCommandState(e)},e.prototype.queryCommandSupported=function(e){return document.queryCommandSupported(e)},e}();t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(31)),o=r(n(4)),s=r(n(19)),l=r(n(27)),u=r(n(46));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var c=n(2),d=c.__importDefault(n(3)),f=c.__importDefault(n(294)),h=n(6),p=c.__importDefault(n(306)),m=c.__importDefault(n(307)),v=n(7),g=function(){function e(e){this.editor=e,this.eventHooks={onBlurEvents:[],changeEvents:[],dropEvents:[],clickEvents:[],keydownEvents:[],keyupEvents:[],tabUpEvents:[],tabDownEvents:[],enterUpEvents:[],enterDownEvents:[],deleteUpEvents:[],deleteDownEvents:[],pasteEvents:[],linkClickEvents:[],codeClickEvents:[],textScrollEvents:[],toolbarClickEvents:[],imgClickEvents:[],imgDragBarMouseDownEvents:[],tableClickEvents:[],menuClickEvents:[],dropListMenuHoverEvents:[],splitLineEvents:[],videoClickEvents:[]}}return e.prototype.init=function(){this._saveRange(),this._bindEventHooks(),f[\"default\"](this)},e.prototype.togglePlaceholder=function(){var e,t=this.html(),n=(0,a[\"default\"])(e=this.editor.$textContainerElem).call(e,\".placeholder\");n.hide(),this.editor.isComposing||t&&\" \"!==t||n.show()},e.prototype.clear=function(){this.html(v.EMPTY_P)},e.prototype.html=function(e){var t=this.editor,n=t.$textElem;if(null==e){var r=n.html();r=r.replace(/\\u200b/gm,\"\"),r=r.replace(/<p><\\/p>/gim,\"\"),r=r.replace(v.EMPTY_P_LAST_REGEX,\"\"),r=r.replace(v.EMPTY_P_REGEX,\"<p>\");var i=r.match(/<(img|br|hr|input)[^>]*>/gi);return null!==i&&(0,o[\"default\"])(i).call(i,(function(e){e.match(/\\/>/)||(r=r.replace(e,e.substring(0,e.length-1)+\"/>\"))})),r}e=(0,s[\"default\"])(e).call(e),\"\"===e&&(e=v.EMPTY_P),0!==(0,l[\"default\"])(e).call(e,\"<\")&&(e=\"<p>\"+e+\"</p>\"),n.html(e),t.initSelection()},e.prototype.setJSON=function(e){var t=m[\"default\"](e).children(),n=this.editor,r=n.$textElem;t&&r.replaceChildAll(t)},e.prototype.getJSON=function(){var e=this.editor,t=e.$textElem;return p[\"default\"](t)},e.prototype.text=function(e){var t=this.editor,n=t.$textElem;if(null==e){var r=n.text();return r=r.replace(/\\u200b/gm,\"\"),r}n.text(\"<p>\"+e+\"</p>\"),t.initSelection()},e.prototype.append=function(e){var t=this.editor;0!==(0,l[\"default\"])(e).call(e,\"<\")&&(e=\"<p>\"+e+\"</p>\"),this.html(this.html()+e),t.initSelection()},e.prototype._saveRange=function(){var e=this.editor,t=e.$textElem,n=d[\"default\"](document);function r(){e.selection.saveRange(),e.menus.changeActive()}function i(){r(),t.off(\"click\",i)}function a(){r(),n.off(\"mouseup\",a)}function o(){n.on(\"mouseup\",a),t.off(\"mouseleave\",o)}t.on(\"keyup\",r),t.on(\"click\",i),t.on(\"mousedown\",(function(){t.on(\"mouseleave\",o)})),t.on(\"mouseup\",(function(n){t.off(\"mouseleave\",o),(0,u[\"default\"])((function(){var t=e.selection,n=t.getRange();null!==n&&r()}),0)}))},e.prototype._bindEventHooks=function(){var e=this.editor,t=e.$textElem,n=this.eventHooks;function r(e){e.preventDefault()}t.on(\"click\",(function(e){var t=n.clickEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))})),t.on(\"keyup\",(function(e){if(13===e.keyCode){var t=n.enterUpEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}})),t.on(\"keyup\",(function(e){var t=n.keyupEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))})),t.on(\"keydown\",(function(e){var t=n.keydownEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))})),t.on(\"keyup\",(function(e){if(8===e.keyCode||46===e.keyCode){var t=n.deleteUpEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}})),t.on(\"keydown\",(function(e){if(8===e.keyCode||46===e.keyCode){var t=n.deleteDownEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}})),t.on(\"paste\",(function(e){if(!h.UA.isIE()){e.preventDefault();var t=n.pasteEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}})),t.on(\"keydown\",(function(t){(e.isFocus||e.isCompatibleMode)&&(t.ctrlKey||t.metaKey)&&90===t.keyCode&&(t.preventDefault(),t.shiftKey?e.history.restore():e.history.revoke())})),t.on(\"keyup\",(function(e){if(9===e.keyCode){e.preventDefault();var t=n.tabUpEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}})),t.on(\"keydown\",(function(e){if(9===e.keyCode){e.preventDefault();var t=n.tabDownEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}})),t.on(\"scroll\",h.throttle((function(e){var t=n.textScrollEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}),100)),d[\"default\"](document).on(\"dragleave\",r).on(\"drop\",r).on(\"dragenter\",r).on(\"dragover\",r),e.beforeDestroy((function(){d[\"default\"](document).off(\"dragleave\",r).off(\"drop\",r).off(\"dragenter\",r).off(\"dragover\",r)})),t.on(\"drop\",(function(e){e.preventDefault();var t=n.dropEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))})),t.on(\"click\",(function(e){var t=null,r=e.target,i=d[\"default\"](r);if(\"A\"===i.getNodeName())t=i;else{var a=i.parentUntil(\"a\");null!=a&&(t=a)}if(t){var s=n.linkClickEvents;(0,o[\"default\"])(s).call(s,(function(e){return e(t)}))}})),t.on(\"click\",(function(e){var t=null,r=e.target,i=d[\"default\"](r);if(\"IMG\"!==i.getNodeName()||i.elems[0].getAttribute(\"data-emoji\")||(e.stopPropagation(),t=i),t){var a=n.imgClickEvents;(0,o[\"default\"])(a).call(a,(function(e){return e(t)}))}})),t.on(\"click\",(function(e){var t=null,r=e.target,i=d[\"default\"](r);if(\"PRE\"===i.getNodeName())t=i;else{var a=i.parentUntil(\"pre\");null!==a&&(t=a)}if(t){var s=n.codeClickEvents;(0,o[\"default\"])(s).call(s,(function(e){return e(t)}))}})),t.on(\"click\",(function(t){var r=null,i=t.target,a=d[\"default\"](i);if(\"HR\"===a.getNodeName()&&(r=a),r){e.selection.createRangeByElem(r),e.selection.restoreSelection();var s=n.splitLineEvents;(0,o[\"default\"])(s).call(s,(function(e){return e(r)}))}})),e.$toolbarElem.on(\"click\",(function(e){var t=n.toolbarClickEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))})),e.$textContainerElem.on(\"mousedown\",(function(e){var t=e.target,r=d[\"default\"](t);if(r.hasClass(\"w-e-img-drag-rb\")){var i=n.imgDragBarMouseDownEvents;(0,o[\"default\"])(i).call(i,(function(e){return e()}))}})),t.on(\"click\",(function(t){var r=null,i=t.target;if(r=d[\"default\"](i).parentUntilEditor(\"TABLE\",e,i),r){var a=n.tableClickEvents;(0,o[\"default\"])(a).call(a,(function(e){return e(r,t)}))}})),t.on(\"keydown\",(function(e){if(13===e.keyCode){var t=n.enterDownEvents;(0,o[\"default\"])(t).call(t,(function(t){return t(e)}))}})),t.on(\"click\",(function(e){var t=null,r=e.target,i=d[\"default\"](r);if(\"VIDEO\"===i.getNodeName()&&(e.stopPropagation(),t=i),t){var a=n.videoClickEvents;(0,o[\"default\"])(a).call(a,(function(e){return e(t)}))}}))},e}();t[\"default\"]=g},function(e,t,n){var r=n(291);e.exports=r},function(e,t,n){var r=n(292),i=Array.prototype;e.exports=function(e){var t=e.find;return e===i||e instanceof Array&&t===i.find?r:t}},function(e,t,n){n(293);var r=n(14);e.exports=r(\"Array\").find},function(e,t,n){\"use strict\";var r=n(5),i=n(30).find,a=n(90),o=\"find\",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:\"Array\",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(295)),s=a.__importStar(n(296)),l=a.__importDefault(n(297)),u=a.__importDefault(n(298)),c=a.__importDefault(n(305));function d(e){var t=e.editor,n=e.eventHooks;o[\"default\"](t,n.enterUpEvents,n.enterDownEvents),s[\"default\"](t,n.deleteUpEvents,n.deleteDownEvents),s.cutToKeepP(t,n.keyupEvents),l[\"default\"](t,n.tabDownEvents),u[\"default\"](t,n.pasteEvents),c[\"default\"](t,n.imgClickEvents)}t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(27));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=n(7),l=o.__importDefault(n(3));function u(e,t,n){function r(t){var n,r=l[\"default\"](s.EMPTY_P);r.insertBefore(t),(0,a[\"default\"])(n=t.html()).call(n,\"<img\")>=0?r.remove():(e.selection.createRangeByElem(r,!0,!0),e.selection.restoreSelection(),t.remove())}function i(){var t=e.$textElem,n=e.selection.getSelectionContainerElem(),i=n.parent();if(\"<code><br></code>\"!==i.html())if(\"FONT\"!==n.getNodeName()||\"\"!==n.text()||\"monospace\"!==n.attr(\"face\")){if(i.equal(t)){var a=n.getNodeName();\"P\"===a&&null===n.attr(\"data-we-empty-p\")||n.text()||r(n)}}else r(i);else r(i)}function o(t){var n;e.selection.saveRange(null===(n=getSelection())||void 0===n?void 0:n.getRangeAt(0));var r=e.selection.getSelectionContainerElem();r.id===e.textElemId&&(t.preventDefault(),e.cmd[\"do\"](\"insertHTML\",\"<p><br></p>\"))}t.push(i),n.push(o)}t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(19)),o=r(n(44));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.cutToKeepP=void 0;var s=n(2),l=n(7),u=s.__importDefault(n(3));function c(e,t,n){function r(){var t=e.$textElem,n=e.$textElem.html(),r=e.$textElem.text(),i=(0,a[\"default\"])(n).call(n),s=[\"<p><br></p>\",\"<br>\",l.EMPTY_P];!/^\\s*$/.test(r)||i&&!(0,o[\"default\"])(s).call(s,i)||(t.html(l.EMPTY_P),e.selection.createRangeByElem(t,!1,!0),e.selection.restoreSelection(),e.selection.moveCursor(t.getNode(),0))}function i(t){var n,r=e.$textElem,i=(0,a[\"default\"])(n=r.html().toLowerCase()).call(n);i!==l.EMPTY_P||t.preventDefault()}t.push(r),n.push(i)}function d(e,t){function n(t){var n;if(88===t.keyCode){var r=e.$textElem,i=(0,a[\"default\"])(n=r.html().toLowerCase()).call(n);if(!i||\"<br>\"===i){var o=u[\"default\"](l.EMPTY_P);r.html(\" \"),r.append(o),e.selection.createRangeByElem(o,!1,!0),e.selection.restoreSelection(),e.selection.moveCursor(o.getNode(),0)}}}t.push(n)}t.cutToKeepP=d,t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));function a(e,t){function n(){if(e.cmd.queryCommandSupported(\"insertHTML\")){var t=e.selection.getSelectionContainerElem();if(t){var n=t.parent(),r=t.getNodeName(),i=n.getNodeName();\"CODE\"==r||\"CODE\"===i||\"PRE\"===i||/hljs/.test(i)?e.cmd[\"do\"](\"insertHTML\",e.config.languageTab):e.cmd[\"do\"](\"insertHTML\",\"&nbsp;&nbsp;&nbsp;&nbsp;\")}}}t.push(n)}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(19));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(131),s=n(6),l=n(7);function u(e){var t=e;return t=t.replace(/<div>/gim,\"<p>\").replace(/<\\/div>/gim,\"</p>\"),t=t.replace(/<p><\\/p>/gim,\"<p><br></p>\"),(0,a[\"default\"])(t).call(t)}function c(e){var t=e.replace(/<br>|<br\\/>/gm,\"\\n\").replace(/<[^>]+>/gm,\"\");return t}function d(e){var t;if(\"\"===e)return!1;var n=document.createElement(\"div\");return n.innerHTML=e,\"P\"===(null===(t=n.firstChild)||void 0===t?void 0:t.nodeName)}function f(e){if(!(null===e||void 0===e?void 0:e.length))return!1;var t=e.elems[0];return\"P\"===t.nodeName&&\"<br>\"===t.innerHTML}function h(e,t){function n(t){var n=e.config,r=n.pasteFilterStyle,i=n.pasteIgnoreImg,a=n.pasteTextHandle,h=o.getPasteHtml(t,r,i),p=o.getPasteText(t);p=p.replace(/\\n/gm,\"<br>\");var m=e.selection.getSelectionContainerElem();if(m){var v=null===m||void 0===m?void 0:m.getNodeName(),g=null===m||void 0===m?void 0:m.getNodeTop(e),_=\"\";if(g.elems[0]&&(_=null===g||void 0===g?void 0:g.getNodeName()),\"CODE\"===v||\"PRE\"===_)return a&&s.isFunction(a)&&(p=\"\"+(a(p)||\"\")),void e.cmd[\"do\"](\"insertHTML\",c(p));if(l.urlRegex.test(p)&&r){a&&s.isFunction(a)&&(p=\"\"+(a(p)||\"\"));var y=l.urlRegex.exec(p)[0],x=p.replace(l.urlRegex,\"\");return e.cmd[\"do\"](\"insertHTML\",'<a href=\"'+y+'\" target=\"_blank\">'+y+\"</a>\"+x)}if(h)try{a&&s.isFunction(a)&&(h=\"\"+(a(h)||\"\"));var b=/[\\.\\#\\@]?\\w+[ ]+\\{[^}]*\\}/.test(h);if(b&&r)e.cmd[\"do\"](\"insertHTML\",\"\"+u(p));else{var w=u(h);if(d(w)){var A=e.$textElem;if(e.cmd[\"do\"](\"insertHTML\",w),A.equal(m))return void e.selection.createEmptyRange();f(g)&&g.remove()}else{var T=/^<img [^>]*src=['\"]([^'\"]+)[^>]*>$/g;T.test(w)||e.cmd[\"do\"](\"insertHTML\",w)}}}catch(S){a&&s.isFunction(a)&&(p=\"\"+(a(p)||\"\")),e.cmd[\"do\"](\"insertHTML\",\"\"+u(p))}}}t.push(n)}t[\"default\"]=h},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(19)),o=r(n(4)),s=r(n(44));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var l=n(2),u=n(300),c=l.__importDefault(n(304));function d(e){var t=/<span>.*?<\\/span>/gi,n=/<span>(.*?)<\\/span>/;return e.replace(t,(function(e){var t=e.match(n);return null==t?\"\":t[1]}))}function f(e,t){var n;return e=(0,a[\"default\"])(n=e.toLowerCase()).call(n),!!u.IGNORE_TAGS.has(e)||!(!t||\"img\"!==e)}function h(e,t){var n=\"\";n=\"<\"+e;var r=[];(0,o[\"default\"])(t).call(t,(function(e){r.push(e.name+'=\"'+e.value+'\"')})),r.length>0&&(n=n+\" \"+r.join(\" \"));var i=u.EMPTY_TAGS.has(e);return n=n+(i?\"/\":\"\")+\">\",n}function p(e){return\"</\"+e+\">\"}function m(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var r=[],i=\"\";function l(e){e=(0,a[\"default\"])(e).call(e),e&&(u.EMPTY_TAGS.has(e)||(i=e))}function m(){i=\"\"}var v=new c[\"default\"];v.parse(e,{startElement:function(e,i){if(l(e),!f(e,n)){var a=u.NECESSARY_ATTRS.get(e)||[],c=[];(0,o[\"default\"])(i).call(i,(function(e){var n=e.name;\"style\"!==n?!1!==(0,s[\"default\"])(a).call(a,n)&&c.push(e):t||c.push(e)}));var d=h(e,c);r.push(d)}},characters:function(e){e&&(f(i,n)||r.push(e))},endElement:function(e){if(!f(e,n)){var t=p(e);r.push(t),m()}},comment:function(e){l(e)}});var g=r.join(\"\");return g=d(g),g}t[\"default\"]=m},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(132)),o=r(n(121));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.TOP_LEVEL_TAGS=t.EMPTY_TAGS=t.NECESSARY_ATTRS=t.IGNORE_TAGS=void 0,t.IGNORE_TAGS=new a[\"default\"]([\"doctype\",\"!doctype\",\"html\",\"head\",\"meta\",\"body\",\"script\",\"style\",\"link\",\"frame\",\"iframe\",\"title\",\"svg\",\"center\",\"o:p\"]),t.NECESSARY_ATTRS=new o[\"default\"]([[\"img\",[\"src\",\"alt\"]],[\"a\",[\"href\",\"target\"]],[\"td\",[\"colspan\",\"rowspan\"]],[\"th\",[\"colspan\",\"rowspan\"]]]),t.EMPTY_TAGS=new a[\"default\"]([\"area\",\"base\",\"basefont\",\"br\",\"col\",\"hr\",\"img\",\"input\",\"isindex\",\"embed\"]),t.TOP_LEVEL_TAGS=new a[\"default\"]([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"p\",\"ul\",\"ol\",\"table\",\"blockquote\",\"pre\",\"hr\",\"form\"])},function(e,t,n){var r=n(302);e.exports=r},function(e,t,n){n(303),n(68),n(53),n(54);var r=n(10);e.exports=r.Set},function(e,t,n){\"use strict\";var r=n(122),i=n(124);e.exports=r(\"Set\",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t){function n(){}n.prototype={handler:null,startTagRe:/^<([^>\\s\\/]+)((\\s+[^=>\\s]+(\\s*=\\s*((\\\"[^\"]*\\\")|(\\'[^']*\\')|[^>\\s]+))?)*)\\s*\\/?\\s*>/m,endTagRe:/^<\\/([^>\\s]+)[^>]*>/m,attrRe:/([^=\\s]+)(\\s*=\\s*((\\\"([^\"]*)\\\")|(\\'([^']*)\\')|[^>\\s]+))?/gm,parse:function(e,t){t&&(this.contentHandler=t);var n,r,i,a=!1,o=this;while(e.length>0)\"\\x3c!--\"==e.substring(0,4)?(i=e.indexOf(\"--\\x3e\"),-1!=i?(this.contentHandler.comment(e.substring(4,i)),e=e.substring(i+3),a=!1):a=!0):\"</\"==e.substring(0,2)?this.endTagRe.test(e)?(RegExp.leftContext,n=RegExp.lastMatch,r=RegExp.rightContext,n.replace(this.endTagRe,(function(){return o.parseEndTag.apply(o,arguments)})),e=r,a=!1):a=!0:\"<\"==e.charAt(0)&&(this.startTagRe.test(e)?(RegExp.leftContext,n=RegExp.lastMatch,r=RegExp.rightContext,n.replace(this.startTagRe,(function(){return o.parseStartTag.apply(o,arguments)})),e=r,a=!1):a=!0),a&&(i=e.indexOf(\"<\"),-1==i?(this.contentHandler.characters(e),e=\"\"):(this.contentHandler.characters(e.substring(0,i)),e=e.substring(i))),a=!0},parseStartTag:function(e,t,n){var r=this.parseAttributes(t,n);this.contentHandler.startElement(t,r)},parseEndTag:function(e,t){this.contentHandler.endElement(t)},parseAttributes:function(e,t){var n=this,r=[];return t.replace(this.attrRe,(function(t,i,a,o,s,l,u,c){r.push(n.parseAttribute(e,t,i,a,o,s,l,u,c))})),r},parseAttribute:function(e,t,n){var r=\"\";arguments[7]?r=arguments[8]:arguments[5]?r=arguments[6]:arguments[3]&&(r=arguments[4]);var i=!r&&!arguments[3];return{name:n,value:i?null:r}}},e.exports=n},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));function a(e,t){function n(t){e.selection.createRangeByElem(t),e.selection.restoreSelection()}t.push(n)}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=n(6),l=o.__importDefault(n(3));function u(e){var t=[],n=e.childNodes()||[];return(0,a[\"default\"])(n).call(n,(function(e){var n,r=e.nodeType;if(3===r&&(n=e.textContent||\"\",n=s.replaceHtmlSymbol(n)),1===r){n={},n=n,n.tag=e.nodeName.toLowerCase();for(var i=[],a=e.attributes,o=a.length||0,c=0;c<o;c++){var d=a[c];i.push({name:d.name,value:d.value})}n.attrs=i,n.children=u(l[\"default\"](e))}n&&t.push(n)})),t}t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(96)),a=r(n(1)),o=r(n(4));(0,a[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(3));function u(e,t){void 0===t&&(t=document.createElement(\"div\"));var n=t;return(0,o[\"default\"])(e).call(e,(function(e){var t,r;(\"string\"===typeof e&&(t=document.createTextNode(e)),\"object\"===(0,i[\"default\"])(e))&&(t=document.createElement(e.tag),(0,o[\"default\"])(r=e.attrs).call(r,(function(e){l[\"default\"](t).attr(e.name,e.value)})),e.children&&e.children.length>0&&u(e.children,t.getRootNode()));t&&n.appendChild(t)})),l[\"default\"](n)}t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(93)),o=r(n(73)),s=r(n(44)),l=r(n(309)),u=r(n(4)),c=r(n(98)),d=r(n(133)),f=r(n(46)),h=r(n(57));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var p=n(2),m=p.__importDefault(n(91)),v=p.__importDefault(n(321)),g=p.__importDefault(n(3)),_=function(){function e(e){this.editor=e,this.menuList=[],this.constructorList=v[\"default\"]}return e.prototype.extend=function(e,t){t&&\"function\"===typeof t&&(this.constructorList[e]=t)},e.prototype.init=function(){var e,t,n=this,r=this.editor.config,i=r.excludeMenus;!1===(0,a[\"default\"])(i)&&(i=[]),r.menus=(0,o[\"default\"])(e=r.menus).call(e,(function(e){return!1===(0,s[\"default\"])(i).call(i,e)}));var d=(0,l[\"default\"])(m[\"default\"].globalCustomMenuConstructorList);d=(0,o[\"default\"])(d).call(d,(function(e){return(0,s[\"default\"])(i).call(i,e)})),(0,u[\"default\"])(d).call(d,(function(e){delete m[\"default\"].globalCustomMenuConstructorList[e]})),(0,u[\"default\"])(t=r.menus).call(t,(function(e){var t=n.constructorList[e];n._initMenuList(e,t)}));for(var f=0,h=(0,c[\"default\"])(m[\"default\"].globalCustomMenuConstructorList);f<h.length;f++){var p=h[f],v=p[0],g=p[1],_=g;this._initMenuList(v,_)}this._addToToolbar(),r.showMenuTooltips&&this._bindMenuTooltips()},e.prototype._initMenuList=function(e,t){var n;if(null!=t&&\"function\"===typeof t)if((0,d[\"default\"])(n=this.menuList).call(n,(function(t){return t.key===e})))console.warn(\"菜单名称重复:\"+e);else{var r=new t(this.editor);r.key=e,this.menuList.push(r)}},e.prototype._bindMenuTooltips=function(){var e=this.editor,t=e.$toolbarElem,n=e.config,r=n.menuTooltipPosition,i=g[\"default\"]('<div class=\"w-e-menu-tooltip w-e-menu-tooltip-'+r+'\">\\n            <div class=\"w-e-menu-tooltip-item-wrapper\">\\n              <div></div>\\n            </div>\\n          </div>');i.css(\"visibility\",\"hidden\"),t.append(i),i.css(\"z-index\",e.zIndex.get(\"tooltip\"));var a=0;function o(){a&&clearTimeout(a)}function s(){o(),i.css(\"visibility\",\"hidden\")}t.on(\"mouseover\",(function(n){var l,u,c=n.target,d=g[\"default\"](c);if(d.isContain(t))s();else{if(null!=d.parentUntil(\".w-e-droplist\"))s();else if(d.attr(\"data-title\"))l=d.attr(\"data-title\"),u=d;else{var h=d.parentUntil(\".w-e-menu\");null!=h&&(l=h.attr(\"data-title\"),u=h)}if(l&&u){o();var p=u.getOffsetData();i.text(e.i18next.t(\"menus.title.\"+l));var m=i.getOffsetData(),v=p.left+p.width/2-m.width/2;i.css(\"left\",v+\"px\"),\"up\"===r?i.css(\"top\",p.top-m.height-8+\"px\"):\"down\"===r&&i.css(\"top\",p.top+p.height+8+\"px\"),a=(0,f[\"default\"])((function(){i.css(\"visibility\",\"visible\")}),200)}else s()}})).on(\"mouseleave\",(function(){s()}))},e.prototype._addToToolbar=function(){var e,t=this.editor,n=t.$toolbarElem;(0,u[\"default\"])(e=this.menuList).call(e,(function(e){var t=e.$elem;t&&n.append(t)}))},e.prototype.menuFind=function(e){for(var t=this.menuList,n=0,r=t.length;n<r;n++)if(t[n].key===e)return t[n];return t[0]},e.prototype.changeActive=function(){var e;(0,u[\"default\"])(e=this.menuList).call(e,(function(e){var t;(0,f[\"default\"])((0,h[\"default\"])(t=e.tryChangeActive).call(t,e),100)}))},e}();t[\"default\"]=_},function(e,t,n){e.exports=n(310)},function(e,t,n){var r=n(311);e.exports=r},function(e,t,n){n(312);var r=n(10);e.exports=r.Object.keys},function(e,t,n){var r=n(5),i=n(25),a=n(50),o=n(12),s=o((function(){a(1)}));r({target:\"Object\",stat:!0,forced:s},{keys:function(e){return a(i(e))}})},function(e,t,n){var r=n(314);e.exports=r},function(e,t,n){n(315);var r=n(10);e.exports=r.Object.entries},function(e,t,n){var r=n(5),i=n(316).entries;r({target:\"Object\",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){var r=n(15),i=n(50),a=n(28),o=n(59).f,s=function(e){return function(t){var n,s=a(t),l=i(s),u=l.length,c=0,d=[];while(u>c)n=l[c++],r&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){var r=n(318);e.exports=r},function(e,t,n){var r=n(319),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||e instanceof Array&&t===i.some?r:t}},function(e,t,n){n(320);var r=n(14);e.exports=r(\"Array\").some},function(e,t,n){\"use strict\";var r=n(5),i=n(30).some,a=n(70),o=a(\"some\");r({target:\"Array\",proto:!0,forced:!o},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(322)),s=a.__importDefault(n(323)),l=a.__importDefault(n(328)),u=a.__importDefault(n(333)),c=a.__importDefault(n(334)),d=a.__importDefault(n(335)),f=a.__importDefault(n(336)),h=a.__importDefault(n(338)),p=a.__importDefault(n(340)),m=a.__importDefault(n(341)),v=a.__importDefault(n(344)),g=a.__importDefault(n(345)),_=a.__importDefault(n(346)),y=a.__importDefault(n(357)),x=a.__importDefault(n(372)),b=a.__importDefault(n(376)),w=a.__importDefault(n(138)),A=a.__importDefault(n(385)),T=a.__importDefault(n(387)),S=a.__importDefault(n(388)),E=a.__importDefault(n(389)),C=a.__importDefault(n(409)),M=a.__importDefault(n(414)),D=a.__importDefault(n(417));t[\"default\"]={bold:o[\"default\"],head:s[\"default\"],italic:u[\"default\"],link:l[\"default\"],underline:c[\"default\"],strikeThrough:d[\"default\"],fontName:f[\"default\"],fontSize:h[\"default\"],justify:p[\"default\"],quote:m[\"default\"],backColor:v[\"default\"],foreColor:g[\"default\"],video:_[\"default\"],image:y[\"default\"],indent:x[\"default\"],emoticon:b[\"default\"],list:w[\"default\"],lineHeight:A[\"default\"],undo:T[\"default\"],redo:S[\"default\"],table:E[\"default\"],code:C[\"default\"],splitLine:M[\"default\"],todo:D[\"default\"]}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(23)),s=a.__importDefault(n(3)),l=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"加粗\">\\n                <i class=\"w-e-icon-bold\"></i>\\n            </div>');return n=e.call(this,r,t)||this,n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor,t=e.selection.isSelectionEmpty();t&&e.selection.createEmptyRange(),e.cmd[\"do\"](\"bold\"),t&&(e.selection.collapseRange(),e.selection.restoreSelection())},t.prototype.tryChangeActive=function(){var e=this.editor;e.cmd.queryCommandState(\"bold\")?this.active():this.unActive()},t}(o[\"default\"]);t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(27)),o=r(n(31)),s=r(n(4)),l=r(n(324)),u=r(n(44));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var c=n(2),d=c.__importDefault(n(24)),f=c.__importDefault(n(3)),h=n(6),p=n(7),m=function(e){function t(t){var n=this,r=f[\"default\"]('<div class=\"w-e-menu\" data-title=\"标题\"><i class=\"w-e-icon-header\"></i></div>'),i={width:100,title:\"设置标题\",type:\"list\",list:[{$elem:f[\"default\"](\"<h1>H1</h1>\"),value:\"<h1>\"},{$elem:f[\"default\"](\"<h2>H2</h2>\"),value:\"<h2>\"},{$elem:f[\"default\"](\"<h3>H3</h3>\"),value:\"<h3>\"},{$elem:f[\"default\"](\"<h4>H4</h4>\"),value:\"<h4>\"},{$elem:f[\"default\"](\"<h5>H5</h5>\"),value:\"<h5>\"},{$elem:f[\"default\"](\"<p>\"+t.i18next.t(\"menus.dropListMenu.head.正文\")+\"</p>\"),value:\"<p>\"}],clickHandler:function(e){n.command(e)}};n=e.call(this,r,t,i)||this;var a=t.config.onCatalogChange;return a&&(n.oldCatalogs=[],n.addListenerCatalog(),n.getCatalogs()),n}return c.__extends(t,e),t.prototype.command=function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();if(n&&t.$textElem.equal(n))this.setMultilineHead(e);else{var r;if((0,a[\"default\"])(r=[\"OL\",\"UL\",\"LI\",\"TABLE\",\"TH\",\"TR\",\"CODE\",\"HR\"]).call(r,f[\"default\"](n).getNodeName())>-1)return;t.cmd[\"do\"](\"formatBlock\",e)}\"<p>\"!==e&&this.addUidForSelectionElem()},t.prototype.addUidForSelectionElem=function(){var e=this.editor,t=e.selection.getSelectionContainerElem(),n=h.getRandomCode();f[\"default\"](t).attr(\"id\",n)},t.prototype.addListenerCatalog=function(){var e=this,t=this.editor;t.txt.eventHooks.changeEvents.push((function(){e.getCatalogs()}))},t.prototype.getCatalogs=function(){var e=this.editor,t=this.editor.$textElem,n=e.config.onCatalogChange,r=(0,o[\"default\"])(t).call(t,\"h1,h2,h3,h4,h5\"),i=[];(0,s[\"default\"])(r).call(r,(function(e,t){var n=f[\"default\"](e),r=n.attr(\"id\"),a=n.getNodeName(),o=n.text();r||(r=h.getRandomCode(),n.attr(\"id\",r)),o&&i.push({tag:a,id:r,text:o})})),(0,l[\"default\"])(this.oldCatalogs)!==(0,l[\"default\"])(i)&&(this.oldCatalogs=i,n&&n(i))},t.prototype.setMultilineHead=function(e){var t,n,r=this,i=this.editor,a=i.selection,o=null===(t=a.getSelectionContainerElem())||void 0===t?void 0:t.elems[0],l=[\"IMG\",\"VIDEO\",\"TABLE\",\"TH\",\"TR\",\"UL\",\"OL\",\"PRE\",\"HR\",\"BLOCKQUOTE\"],u=f[\"default\"](a.getSelectionStartElem()),c=f[\"default\"](a.getSelectionEndElem());c.elems[0].outerHTML!==f[\"default\"](p.EMPTY_P).elems[0].outerHTML||c.elems[0].nextSibling||(c=c.prev());var d=[];d.push(u.getNodeTop(i));var h=[],m=null===(n=a.getRange())||void 0===n?void 0:n.commonAncestorContainer.childNodes;null===m||void 0===m||(0,s[\"default\"])(m).call(m,(function(e,t){e===d[0].getNode()&&h.push(t),e===c.getNodeTop(i).getNode()&&h.push(t)}));var v=0;while(d[v].getNode()!==c.getNodeTop(i).getNode()){if(!d[v].elems[0])return;var g=f[\"default\"](d[v].next().getNode());d.push(g),v++}null===d||void 0===d||(0,s[\"default\"])(d).call(d,(function(t,n){if(!r.hasTag(t,l)){var i=f[\"default\"](e),a=t.parent().getNode();i.html(\"\"+t.html()),a.insertBefore(i.getNode(),t.getNode()),t.remove()}})),a.createRangeByElems(o.children[h[0]],o.children[h[1]])},t.prototype.hasTag=function(e,t){var n,r=this;if(!e)return!1;if((0,u[\"default\"])(t).call(t,null===e||void 0===e?void 0:e.getNodeName()))return!0;var i=!1;return null===(n=e.children())||void 0===n||(0,s[\"default\"])(n).call(n,(function(e){i=r.hasTag(f[\"default\"](e),t)})),i},t.prototype.tryChangeActive=function(){var e=this.editor,t=/^h/i,n=e.cmd.queryCommandValue(\"formatBlock\");t.test(n)?this.active():this.unActive()},t}(d[\"default\"]);t[\"default\"]=m},function(e,t,n){e.exports=n(325)},function(e,t,n){var r=n(326);e.exports=r},function(e,t,n){n(327);var r=n(10);r.JSON||(r.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return r.JSON.stringify.apply(null,arguments)}},function(e,t,n){var r=n(5),i=n(29),a=n(12),o=i(\"JSON\",\"stringify\"),s=/[\\uD800-\\uDFFF]/g,l=/^[\\uD800-\\uDBFF]$/,u=/^[\\uDC00-\\uDFFF]$/,c=function(e,t,n){var r=n.charAt(t-1),i=n.charAt(t+1);return l.test(e)&&!u.test(i)||u.test(e)&&!l.test(r)?\"\\\\u\"+e.charCodeAt(0).toString(16):e},d=a((function(){return'\"\\\\udf06\\\\ud834\"'!==o(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==o(\"\\udead\")}));o&&r({target:\"JSON\",stat:!0,forced:d},{stringify:function(e,t,n){var r=o.apply(null,arguments);return\"string\"==typeof r?r.replace(s,c):r}})},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(35)),s=a.__importDefault(n(3)),l=a.__importDefault(n(329)),u=a.__importDefault(n(135)),c=a.__importDefault(n(32)),d=a.__importDefault(n(331)),f=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"链接\"><i class=\"w-e-icon-link\"></i></div>');return n=e.call(this,r,t)||this,d[\"default\"](t),n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e,t=this.editor,n=t.selection.getSelectionContainerElem();if(!n||!t.$textElem.equal(n))if(this.isActive){if(e=t.selection.getSelectionContainerElem(),!e)return;this.createPanel(e.text(),e.attr(\"href\"))}else t.selection.isSelectionEmpty()?this.createPanel(\"\",\"\"):this.createPanel(t.selection.getSelectionText(),\"\")},t.prototype.createPanel=function(e,t){var n=l[\"default\"](this.editor,e,t),r=new c[\"default\"](this,n);r.create()},t.prototype.tryChangeActive=function(){var e=this.editor;u[\"default\"](e)?this.active():this.unActive()},t}(o[\"default\"]);t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(19));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=n(6),l=o.__importDefault(n(3)),u=o.__importDefault(n(135)),c=n(330);function d(e,t,n){var r,i=s.getRandom(\"input-link\"),o=s.getRandom(\"input-text\"),d=s.getRandom(\"btn-ok\"),f=s.getRandom(\"btn-del\"),h=u[\"default\"](e)?\"inline-block\":\"none\";function p(){if(u[\"default\"](e)){var t=e.selection.getSelectionContainerElem();t&&(e.selection.createRangeByElem(t),e.selection.restoreSelection(),r=t)}}function m(t,n){u[\"default\"](e)?(p(),e.cmd[\"do\"](\"insertHTML\",'<a href=\"'+n+'\" target=\"_blank\">'+t+\"</a>\")):e.cmd[\"do\"](\"insertHTML\",'<a href=\"'+n+'\" target=\"_blank\">'+t+\"</a>\")}function v(){if(u[\"default\"](e)){p();var t=r.text();e.cmd[\"do\"](\"insertHTML\",\"<span>\"+t+\"</span>\")}}function g(t,n){var r=e.config.linkCheck(t,n);if(void 0===r);else{if(!0===r)return!0;e.config.customAlert(r,\"warning\")}return!1}var _={width:300,height:0,tabs:[{title:e.i18next.t(\"menus.panelMenus.link.链接\"),tpl:'<div>\\n                        <input\\n                            id=\"'+o+'\"\\n                            type=\"text\"\\n                            class=\"block\"\\n                            value=\"'+t+'\"\\n                            placeholder=\"'+e.i18next.t(\"menus.panelMenus.link.链接文字\")+'\"/>\\n                        </td>\\n                        <input\\n                            id=\"'+i+'\"\\n                            type=\"text\"\\n                            class=\"block\"\\n                            value=\"'+n+'\"\\n                            placeholder=\"'+e.i18next.t(\"如\")+' https://...\"/>\\n                        </td>\\n                        <div class=\"w-e-button-container\">\\n                            <button type=\"button\" id=\"'+d+'\" class=\"right\">\\n                                '+e.i18next.t(\"插入\")+'\\n                            </button>\\n                            <button type=\"button\" id=\"'+f+'\" class=\"gray right\" style=\"display:'+h+'\">\\n                                '+e.i18next.t(\"menus.panelMenus.link.取消链接\")+\"\\n                            </button>\\n                        </div>\\n                    </div>\",events:[{selector:\"#\"+d,type:\"click\",fn:function(){var t,n,r,s;e.selection.restoreSelection();var u=e.selection.getSelectionRangeTopNodes()[0].getNode(),d=window.getSelection(),f=l[\"default\"](\"#\"+i),h=l[\"default\"](\"#\"+o),p=(0,a[\"default\"])(t=f.val()).call(t),v=(0,a[\"default\"])(n=h.val()).call(n),_=\"\";d&&!(null===d||void 0===d?void 0:d.isCollapsed)&&(_=null===(r=c.insertHtml(d,u))||void 0===r?void 0:(0,a[\"default\"])(r).call(r));var y=null===_||void 0===_?void 0:_.replace(/<.*?>/g,\"\"),x=null!==(s=null===y||void 0===y?void 0:y.length)&&void 0!==s?s:0;if(x<=v.length){var b=v.substring(0,x),w=v.substring(x);y===b&&(v=_+w)}if(p&&(v||(v=p),g(v,p)))return m(v,p),!0},bindEnter:!0},{selector:\"#\"+f,type:\"click\",fn:function(){return v(),!0}}]}]};return _}t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));function o(e,t){var n=e,r=e;do{if(n.textContent===t)break;r=n,n.parentNode&&(n=null===n||void 0===n?void 0:n.parentNode)}while(\"P\"!==(null===n||void 0===n?void 0:n.nodeName));return r}function s(e,t){var n=e.nodeName,r=\"\";if(3===e.nodeType||/^(h|H)[1-6]$/.test(n))return t;if(1===e.nodeType){var i=e.getAttribute(\"style\"),a=e.getAttribute(\"face\"),o=e.getAttribute(\"color\");i&&(r=r+' style=\"'+i+'\"'),a&&(r=r+' face=\"'+a+'\"'),o&&(r=r+' color=\"'+o+'\"')}return n=n.toLowerCase(),\"<\"+n+r+\">\"+t+\"</\"+n+\">\"}function l(e,t,n,r){var i,a=null===(i=t.textContent)||void 0===i?void 0:i.substring(n,r),o=t,l=\"\";do{l=s(o,null!==a&&void 0!==a?a:\"\"),a=l,o=null===o||void 0===o?void 0:o.parentElement}while(o&&o.textContent!==e);return l}function u(e,t){var n,r,i,a,u,f=e.anchorNode,h=e.focusNode,p=e.anchorOffset,m=e.focusOffset,v=null!==(n=t.textContent)&&void 0!==n?n:\"\",g=c(t),_=\"\",y=\"\",x=\"\",b=\"\",w=f,A=h,T=f;if(null===f||void 0===f?void 0:f.isEqualNode(null!==h&&void 0!==h?h:null)){var S=l(v,f,p,m);return S=d(g,S),S}f&&(y=l(v,f,null!==p&&void 0!==p?p:0)),h&&(b=l(v,h,0,m)),f&&(w=o(f,v)),h&&(A=o(h,v)),T=null!==(r=null===w||void 0===w?void 0:w.nextSibling)&&void 0!==r?r:f;while(!(null===T||void 0===T?void 0:T.isEqualNode(null!==A&&void 0!==A?A:null))){var E=null===T||void 0===T?void 0:T.nodeName;if(\"#text\"===E)x+=null===T||void 0===T?void 0:T.textContent;else{var C=null===(a=null===(i=null===T||void 0===T?void 0:T.firstChild)||void 0===i?void 0:i.parentElement)||void 0===a?void 0:a.innerHTML;T&&(x+=s(T,null!==C&&void 0!==C?C:\"\"))}T=null!==(u=null===T||void 0===T?void 0:T.nextSibling)&&void 0!==u?u:T}return _=\"\"+y+x+b,_=d(g,_),_}function c(e){var t,n=null!==(t=e.textContent)&&void 0!==t?t:\"\",r=[];while((null===e||void 0===e?void 0:e.textContent)===n)\"P\"!==e.nodeName&&r.push(e),e=e.childNodes[0];return r}function d(e,t){return(0,a[\"default\"])(e).call(e,(function(e){t=s(e,t)})),t}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.insertHtml=t.createPartHtml=t.makeHtmlString=t.getTopNode=void 0,t.getTopNode=o,t.makeHtmlString=s,t.createPartHtml=l,t.insertHtml=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(332));function s(e){o[\"default\"](e)}t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(36));function l(e){var t;function n(n){var r=[{$elem:o[\"default\"](\"<span>\"+e.i18next.t(\"menus.panelMenus.link.查看链接\")+\"</span>\"),onClick:function(e,t){var n=t.attr(\"href\");return window.open(n,\"_target\"),!0}},{$elem:o[\"default\"](\"<span>\"+e.i18next.t(\"menus.panelMenus.link.取消链接\")+\"</span>\"),onClick:function(e,t){var n,r;e.selection.createRangeByElem(t),e.selection.restoreSelection();var i=t.childNodes();if(\"IMG\"===(null===i||void 0===i?void 0:i.getNodeName())){var a=null===(r=null===(n=e.selection.getSelectionContainerElem())||void 0===n?void 0:n.children())||void 0===r?void 0:r.elems[0].children[0];e.cmd[\"do\"](\"insertHTML\",\"<img \\n                                src=\"+(null===a||void 0===a?void 0:a.getAttribute(\"src\"))+\" \\n                                style=\"+(null===a||void 0===a?void 0:a.getAttribute(\"style\"))+\">\")}else{var o=t.text();e.cmd[\"do\"](\"insertHTML\",\"<span>\"+o+\"</span>\")}return!0}}];t=new s[\"default\"](e,n,r),t.create()}function r(){t&&(t.remove(),t=null)}return{showLinkTooltip:n,hideLinkTooltip:r}}function u(e){var t=l(e),n=t.showLinkTooltip,r=t.hideLinkTooltip;e.txt.eventHooks.linkClickEvents.push(n),e.txt.eventHooks.clickEvents.push(r),e.txt.eventHooks.keyupEvents.push(r),e.txt.eventHooks.toolbarClickEvents.push(r),e.txt.eventHooks.menuClickEvents.push(r),e.txt.eventHooks.textScrollEvents.push(r)}t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(23)),s=a.__importDefault(n(3)),l=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"斜体\">\\n                <i class=\"w-e-icon-italic\"></i>\\n            </div>');return n=e.call(this,r,t)||this,n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor,t=e.selection.isSelectionEmpty();t&&e.selection.createEmptyRange(),e.cmd[\"do\"](\"italic\"),t&&(e.selection.collapseRange(),e.selection.restoreSelection())},t.prototype.tryChangeActive=function(){var e=this.editor;e.cmd.queryCommandState(\"italic\")?this.active():this.unActive()},t}(o[\"default\"]);t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(23)),s=a.__importDefault(n(3)),l=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"下划线\">\\n                <i class=\"w-e-icon-underline\"></i>\\n            </div>');return n=e.call(this,r,t)||this,n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor,t=e.selection.isSelectionEmpty();t&&e.selection.createEmptyRange(),e.cmd[\"do\"](\"underline\"),t&&(e.selection.collapseRange(),e.selection.restoreSelection())},t.prototype.tryChangeActive=function(){var e=this.editor;e.cmd.queryCommandState(\"underline\")?this.active():this.unActive()},t}(o[\"default\"]);t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(23)),s=a.__importDefault(n(3)),l=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"删除线\">\\n                <i class=\"w-e-icon-strikethrough\"></i>\\n            </div>');return n=e.call(this,r,t)||this,n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor,t=e.selection.isSelectionEmpty();t&&e.selection.createEmptyRange(),e.cmd[\"do\"](\"strikeThrough\"),t&&(e.selection.collapseRange(),e.selection.restoreSelection())},t.prototype.tryChangeActive=function(){var e=this.editor;e.cmd.queryCommandState(\"strikeThrough\")?this.active():this.unActive()},t}(o[\"default\"]);t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(24)),s=a.__importDefault(n(3)),l=a.__importDefault(n(337)),u=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"字体\">\\n                <i class=\"w-e-icon-font\"></i>\\n            </div>'),i=new l[\"default\"](t.config.fontNames),a={width:100,title:\"设置字体\",type:\"list\",list:i.getItemList(),clickHandler:function(e){n.command(e)}};return n=e.call(this,r,t,a)||this,n}return a.__extends(t,e),t.prototype.command=function(e){var t,n=this.editor,r=n.selection.isSelectionEmpty(),i=null===(t=n.selection.getSelectionContainerElem())||void 0===t?void 0:t.elems[0];if(null!=i){var a=\"p\"!==(null===i||void 0===i?void 0:i.nodeName.toLowerCase()),o=(null===i||void 0===i?void 0:i.getAttribute(\"face\"))===e;if(r){if(a&&!o){var s=n.selection.getSelectionRangeTopNodes();n.selection.createRangeByElem(s[0]),n.selection.moveCursor(s[0].elems[0])}n.selection.setRangeToElem(i),n.selection.createEmptyRange()}n.cmd[\"do\"](\"fontName\",e),r&&(n.selection.collapseRange(),n.selection.restoreSelection())}},t.prototype.tryChangeActive=function(){},t}(o[\"default\"]);t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=function(){function e(e){var t=this;this.itemList=[],(0,a[\"default\"])(e).call(e,(function(e){var n=\"string\"===typeof e?e:e.value,r=\"string\"===typeof e?e:e.name;t.itemList.push({$elem:s[\"default\"](\"<p style=\\\"font-family:'\"+n+\"'\\\">\"+r+\"</p>\"),value:r})}))}return e.prototype.getItemList=function(){return this.itemList},e}();t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(24)),s=a.__importDefault(n(3)),l=a.__importDefault(n(339)),u=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"字号\">\\n                <i class=\"w-e-icon-text-heigh\"></i>\\n            </div>'),i=new l[\"default\"](t.config.fontSizes),a={width:160,title:\"设置字号\",type:\"list\",list:i.getItemList(),clickHandler:function(e){n.command(e)}};return n=e.call(this,r,t,a)||this,n}return a.__extends(t,e),t.prototype.command=function(e){var t,n=this.editor,r=n.selection.isSelectionEmpty(),i=null===(t=n.selection.getSelectionContainerElem())||void 0===t?void 0:t.elems[0];null!=i&&(n.cmd[\"do\"](\"fontSize\",e),r&&(n.selection.collapseRange(),n.selection.restoreSelection()))},t.prototype.tryChangeActive=function(){},t}(o[\"default\"]);t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=function(){function e(e){for(var t in this.itemList=[],e){var n=e[t];this.itemList.push({$elem:o[\"default\"]('<p style=\"font-size:'+t+'\">'+n.name+\"</p>\"),value:n.value})}}return e.prototype.getItemList=function(){return this.itemList},e}();t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(27));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(24)),u=s.__importDefault(n(3)),c=[\"LI\"],d=[\"UL\",\"BLOCKQUOTE\"],f=function(e){function t(t){var n=this,r=u[\"default\"]('<div class=\"w-e-menu\" data-title=\"对齐\"><i class=\"w-e-icon-paragraph-left\"></i></div>'),i={width:100,title:\"对齐方式\",type:\"list\",list:[{$elem:u[\"default\"]('<p>\\n                            <i class=\"w-e-icon-paragraph-left w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.justify.靠左\")+\"\\n                        </p>\"),value:\"left\"},{$elem:u[\"default\"]('<p>\\n                            <i class=\"w-e-icon-paragraph-center w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.justify.居中\")+\"\\n                        </p>\"),value:\"center\"},{$elem:u[\"default\"]('<p>\\n                            <i class=\"w-e-icon-paragraph-right w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.justify.靠右\")+\"\\n                        </p>\"),value:\"right\"},{$elem:u[\"default\"]('<p>\\n                            <i class=\"w-e-icon-paragraph-justify w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.justify.两端\")+\"\\n                        </p>\"),value:\"justify\"}],clickHandler:function(e){n.command(e)}};return n=e.call(this,r,t,i)||this,n}return s.__extends(t,e),t.prototype.command=function(e){var t=this.editor,n=t.selection,r=n.getSelectionContainerElem();n.saveRange();var i=t.selection.getSelectionRangeTopNodes();if(null===r||void 0===r?void 0:r.length)if(this.isSpecialNode(r,i[0])||this.isSpecialTopNode(i[0])){var o=this.getSpecialNodeUntilTop(r,i[0]);if(null==o)return;u[\"default\"](o).css(\"text-align\",e)}else(0,a[\"default\"])(i).call(i,(function(t){t.css(\"text-align\",e)}));n.restoreSelection()},t.prototype.getSpecialNodeUntilTop=function(e,t){var n=e.elems[0],r=t.elems[0];while(null!=n){if(-1!==(0,o[\"default\"])(c).call(c,null===n||void 0===n?void 0:n.nodeName))return n;if(n.parentNode===r)return n;n=n.parentNode}return n},t.prototype.isSpecialNode=function(e,t){var n=this.getSpecialNodeUntilTop(e,t);return null!=n&&-1!==(0,o[\"default\"])(c).call(c,n.nodeName)},t.prototype.isSpecialTopNode=function(e){var t;return null!=e&&-1!==(0,o[\"default\"])(d).call(d,null===(t=e.elems[0])||void 0===t?void 0:t.nodeName)},t.prototype.tryChangeActive=function(){},t}(l[\"default\"]);t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=o.__importDefault(n(23)),u=o.__importDefault(n(342)),c=o.__importDefault(n(343)),d=n(7),f=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"引用\">\\n                <i class=\"w-e-icon-quotes-left\"></i>\\n            </div>');return n=e.call(this,r,t)||this,u[\"default\"](t),n}return o.__extends(t,e),t.prototype.clickHandler=function(){var e,t=this.editor,n=t.selection.isSelectionEmpty(),r=t.selection.getSelectionRangeTopNodes(),i=r[r.length-1],o=this.getTopNodeName();if(\"BLOCKQUOTE\"!==o){var l=c[\"default\"](r);l.insertAfter(i),this.delSelectNode(r);var u=null===(e=l.childNodes())||void 0===e?void 0:e.last().getNode();if(null==u)return;return u.textContent?t.selection.moveCursor(u):t.selection.moveCursor(u,0),this.tryChangeActive(),void s[\"default\"](d.EMPTY_P).insertAfter(l)}var f=s[\"default\"](i.childNodes()),h=f.length,p=i;(0,a[\"default\"])(f).call(f,(function(e){var t=s[\"default\"](e);t.insertAfter(p),p=t})),i.remove(),t.selection.moveCursor(f.elems[h-1]),this.tryChangeActive(),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},t.prototype.tryChangeActive=function(){var e,t=this.editor,n=null===(e=t.selection.getSelectionRangeTopNodes()[0])||void 0===e?void 0:e.getNodeName();\"BLOCKQUOTE\"===n?this.active():this.unActive()},t.prototype.getTopNodeName=function(){var e=this.editor,t=e.selection.getSelectionRangeTopNodes()[0],n=null===t||void 0===t?void 0:t.getNodeName();return n},t.prototype.delSelectNode=function(e){(0,a[\"default\"])(e).call(e,(function(e){e.remove()}))},t}(l[\"default\"]);t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=n(7),s=a.__importDefault(n(3));function l(e){function t(t){var n,r=e.selection.getSelectionContainerElem(),i=e.selection.getSelectionRangeTopNodes()[0];if(\"BLOCKQUOTE\"===(null===i||void 0===i?void 0:i.getNodeName())){if(\"BLOCKQUOTE\"===r.getNodeName()){var a=null===(n=r.childNodes())||void 0===n?void 0:n.getNode();e.selection.moveCursor(a)}if(\"\"===r.text()){t.preventDefault(),r.remove();var l=s[\"default\"](o.EMPTY_P);l.insertAfter(i),e.selection.moveCursor(l.getNode(),0)}\"\"===i.text()&&i.remove()}}e.txt.eventHooks.enterDownEvents.push(t)}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3));function l(e){var t=s[\"default\"](\"<blockquote></blockquote>\");return(0,a[\"default\"])(e).call(e,(function(e){t.append(e.clone(!0))})),t}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(26));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(24)),l=o.__importDefault(n(3)),u=n(6),c=function(e){function t(t){var n,r=this,i=l[\"default\"]('<div class=\"w-e-menu\" data-title=\"背景色\">\\n                <i class=\"w-e-icon-paint-brush\"></i>\\n            </div>'),o={width:120,title:\"背景颜色\",type:\"inline-block\",list:(0,a[\"default\"])(n=t.config.colors).call(n,(function(e){return{$elem:l[\"default\"]('<i style=\"color:'+e+';\" class=\"w-e-icon-paint-brush\"></i>'),value:e}})),clickHandler:function(e){r.command(e)}};return r=e.call(this,i,t,o)||this,r}return o.__extends(t,e),t.prototype.command=function(e){var t,n=this.editor,r=n.selection.isSelectionEmpty(),i=null===(t=n.selection.getSelectionContainerElem())||void 0===t?void 0:t.elems[0];if(null!=i){var a=\"p\"!==(null===i||void 0===i?void 0:i.nodeName.toLowerCase()),o=null===i||void 0===i?void 0:i.style.backgroundColor,s=u.hexToRgb(e)===o;if(r){if(a&&!s){var l=n.selection.getSelectionRangeTopNodes();n.selection.createRangeByElem(l[0]),n.selection.moveCursor(l[0].elems[0])}n.selection.createEmptyRange()}n.cmd[\"do\"](\"backColor\",e),r&&(n.selection.collapseRange(),n.selection.restoreSelection())}},t.prototype.tryChangeActive=function(){},t}(s[\"default\"]);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(26));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(24)),l=o.__importDefault(n(3)),u=function(e){function t(t){var n,r=this,i=l[\"default\"]('<div class=\"w-e-menu\" data-title=\"文字颜色\">\\n                <i class=\"w-e-icon-pencil2\"></i>\\n            </div>'),o={width:120,title:\"文字颜色\",type:\"inline-block\",list:(0,a[\"default\"])(n=t.config.colors).call(n,(function(e){return{$elem:l[\"default\"]('<i style=\"color:'+e+';\" class=\"w-e-icon-pencil2\"></i>'),value:e}})),clickHandler:function(e){r.command(e)}};return r=e.call(this,i,t,o)||this,r}return o.__extends(t,e),t.prototype.command=function(e){var t,n=this.editor,r=n.selection.isSelectionEmpty(),i=null===(t=n.selection.getSelectionContainerElem())||void 0===t?void 0:t.elems[0];if(null!=i){var a=n.selection.getSelectionText();if(\"A\"===i.nodeName&&i.textContent===a){var o=l[\"default\"](\"<span>&#8203;</span>\").getNode();i.appendChild(o)}n.cmd[\"do\"](\"foreColor\",e),r&&(n.selection.collapseRange(),n.selection.restoreSelection())}},t.prototype.tryChangeActive=function(){},t}(s[\"default\"]);t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(32)),l=a.__importDefault(n(35)),u=a.__importDefault(n(347)),c=a.__importDefault(n(353)),d=function(e){function t(t){var n=this,r=o[\"default\"]('<div class=\"w-e-menu\" data-title=\"视频\">\\n                <i class=\"w-e-icon-play\"></i>\\n            </div>');return n=e.call(this,r,t)||this,c[\"default\"](t),n}return a.__extends(t,e),t.prototype.clickHandler=function(){this.createPanel(\"\")},t.prototype.createPanel=function(e){var t=u[\"default\"](this.editor,e),n=new s[\"default\"](this,t);n.create()},t.prototype.tryChangeActive=function(){},t}(l[\"default\"]);t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(19));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=n(6),l=o.__importDefault(n(3)),u=o.__importDefault(n(348)),c=n(7);function d(e,t){var n=e.config,r=new u[\"default\"](e),i=s.getRandom(\"input-iframe\"),o=s.getRandom(\"btn-ok\"),d=s.getRandom(\"input-upload\"),f=s.getRandom(\"btn-local-ok\");function h(t){e.cmd[\"do\"](\"insertHTML\",t+c.EMPTY_P),e.config.onlineVideoCallback(t)}function p(t){var n=e.config.onlineVideoCheck(t);return!0===n||(\"string\"===typeof n&&e.config.customAlert(n,\"error\"),!1)}var m=[{title:e.i18next.t(\"menus.panelMenus.video.上传视频\"),tpl:'<div class=\"w-e-up-video-container\">\\n                    <div id=\"'+f+'\" class=\"w-e-up-btn\">\\n                        <i class=\"w-e-icon-upload2\"></i>\\n                    </div>\\n                    <div style=\"display:none;\">\\n                        <input id=\"'+d+'\" type=\"file\" accept=\"video/*\"/>\\n                    </div>\\n                 </div>',events:[{selector:\"#\"+f,type:\"click\",fn:function(){var e=l[\"default\"](\"#\"+d),t=e.elems[0];if(!t)return!0;t.click()}},{selector:\"#\"+d,type:\"change\",fn:function(){var e=l[\"default\"](\"#\"+d),t=e.elems[0];if(!t)return!0;var n=t.files;return n.length&&r.uploadVideo(n),!0}}]},{title:e.i18next.t(\"menus.panelMenus.video.插入视频\"),tpl:'<div>\\n                    <input \\n                        id=\"'+i+'\" \\n                        type=\"text\" \\n                        class=\"block\" \\n                        placeholder=\"'+e.i18next.t(\"如\")+'：<iframe src=... ></iframe>\"/>\\n                    </td>\\n                    <div class=\"w-e-button-container\">\\n                        <button type=\"button\" id=\"'+o+'\" class=\"right\">\\n                            '+e.i18next.t(\"插入\")+\"\\n                        </button>\\n                    </div>\\n                </div>\",events:[{selector:\"#\"+o,type:\"click\",fn:function(){var e,t=l[\"default\"](\"#\"+i),n=(0,a[\"default\"])(e=t.val()).call(e);if(n&&p(n))return h(n),!0},bindEnter:!0}]}],v={width:300,height:0,tabs:[]};return window.FileReader&&(n.uploadVideoServer||n.customUploadVideo)&&v.tabs.push(m[0]),n.showLinkVideo&&v.tabs.push(m[1]),v}t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(133)),o=r(n(57)),s=r(n(4)),l=r(n(27));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var u=n(2),c=n(6),d=u.__importDefault(n(136)),f=u.__importDefault(n(137)),h=n(7),p=n(6),m=function(){function e(e){this.editor=e}return e.prototype.uploadVideo=function(e){var t=this;if(e.length){var n=this.editor,r=n.config,i=\"validate.\",u=function(e){return n.i18next.t(i+e)},h=r.uploadVideoServer,p=r.uploadVideoMaxSize,m=p/1024,v=r.uploadVideoName,g=r.uploadVideoParams,_=r.uploadVideoParamsWithUrl,y=r.uploadVideoHeaders,x=r.uploadVideoHooks,b=r.uploadVideoTimeout,w=r.withVideoCredentials,A=r.customUploadVideo,T=r.uploadVideoAccept,S=[],E=[];if(c.arrForEach(e,(function(e){var t=e.name,n=e.size/1024/1024;t&&n&&(T instanceof Array?(0,a[\"default\"])(T).call(T,(function(e){return e===t.split(\".\")[t.split(\".\").length-1]}))?m<n?E.push(\"【\"+t+\"】\"+u(\"大于\")+\" \"+m+\"M\"):S.push(e):E.push(\"【\"+t+\"】\"+u(\"不是视频\")):E.push(\"【\"+T+\"】\"+u(\"uploadVideoAccept 不是Array\")))})),E.length)r.customAlert(u(\"视频验证未通过\")+\": \\n\"+E.join(\"\\n\"),\"warning\");else if(0!==S.length)if(A&&\"function\"===typeof A){var C;A(S,(0,o[\"default\"])(C=this.insertVideo).call(C,this))}else{var M=new FormData;if((0,s[\"default\"])(S).call(S,(function(e,t){var n=v||e.name;S.length>1&&(n+=t+1),M.append(n,e)})),h){var D=h.split(\"#\");h=D[0];var N=D[1]||\"\";(0,s[\"default\"])(c).call(c,g,(function(e,t){_&&((0,l[\"default\"])(h).call(h,\"?\")>0?h+=\"&\":h+=\"?\",h=h+e+\"=\"+t),M.append(e,t)})),N&&(h+=\"#\"+N);var L=d[\"default\"](h,{timeout:b,formData:M,headers:y,withCredentials:!!w,beforeSend:function(e){if(x.before)return x.before(e,n,S)},onTimeout:function(e){r.customAlert(u(\"上传视频超时\"),\"error\"),x.timeout&&x.timeout(e,n)},onProgress:function(e,t){var r=new f[\"default\"](n);t.lengthComputable&&(e=t.loaded/t.total,r.show(e))},onError:function(e){r.customAlert(u(\"上传视频错误\"),\"error\",u(\"上传视频错误\")+\"，\"+u(\"服务器返回状态\")+\": \"+e.status),x.error&&x.error(e,n)},onFail:function(e,t){r.customAlert(u(\"上传视频失败\"),\"error\",u(\"上传视频返回结果错误\")+\"，\"+u(\"返回结果\")+\": \"+t),x.fail&&x.fail(e,n,t)},onSuccess:function(e,i){if(x.customInsert){var a;x.customInsert((0,o[\"default\"])(a=t.insertVideo).call(a,t),i,n)}else{if(\"0\"!=i.errno)return r.customAlert(u(\"上传视频失败\"),\"error\",u(\"上传视频返回结果错误\")+\"，\"+u(\"返回结果\")+\" errno=\"+i.errno),void(x.fail&&x.fail(e,n,i));var s=i.data;t.insertVideo(s.url),x.success&&x.success(e,n,i)}}});\"string\"===typeof L&&r.customAlert(L,\"error\")}}else r.customAlert(u(\"传入的文件不合法\"),\"warning\")}},e.prototype.insertVideo=function(e){var t=this.editor,n=t.config,r=\"validate.\",i=function(e,n){return void 0===n&&(n=r),t.i18next.t(n+e)};if(n.customInsertVideo)n.customInsertVideo(e);else{p.UA.isFirefox?t.cmd[\"do\"](\"insertHTML\",'<p data-we-video-p=\"true\"><video src=\"'+e+'\" controls=\"controls\" style=\"max-width:100%\"></video></p><p>&#8203</p>'):t.cmd[\"do\"](\"insertHTML\",'<video src=\"'+e+'\" controls=\"controls\" style=\"max-width:100%\"></video>'+h.EMPTY_P);var a=document.createElement(\"video\");a.onload=function(){a=null},a.onerror=function(){n.customAlert(i(\"插入视频错误\"),\"error\",\"wangEditor: \"+i(\"插入视频错误\")+\"，\"+i(\"视频链接\")+' \"'+e+'\"，'+i(\"下载链接失败\")),a=null},a.onabort=function(){return a=null},a.src=e}},e}();t[\"default\"]=m},function(e,t,n){e.exports=n(350)},function(e,t,n){var r=n(351);e.exports=r},function(e,t,n){n(352);var r=n(10);e.exports=r.Date.now},function(e,t,n){var r=n(5);r({target:\"Date\",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(354)),s=a.__importDefault(n(356));function l(e){o[\"default\"](e),s[\"default\"](e)}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.createShowHideFn=void 0;var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(36)),l=a.__importDefault(n(355));function u(e){var t,n=function(t,n){return void 0===n&&(n=\"\"),e.i18next.t(n+t)};function r(r){var i=[{$elem:o[\"default\"](\"<span class='w-e-icon-trash-o'></span>\"),onClick:function(e,t){return t.remove(),!0}},{$elem:o[\"default\"](\"<span>100%</span>\"),onClick:function(e,t){return t.attr(\"width\",\"100%\"),t.removeAttr(\"height\"),!0}},{$elem:o[\"default\"](\"<span>50%</span>\"),onClick:function(e,t){return t.attr(\"width\",\"50%\"),t.removeAttr(\"height\"),!0}},{$elem:o[\"default\"](\"<span>30%</span>\"),onClick:function(e,t){return t.attr(\"width\",\"30%\"),t.removeAttr(\"height\"),!0}},{$elem:o[\"default\"](\"<span>\"+n(\"重置\")+\"</span>\"),onClick:function(e,t){return t.removeAttr(\"width\"),t.removeAttr(\"height\"),!0}},{$elem:o[\"default\"](\"<span>\"+n(\"menus.justify.靠左\")+\"</span>\"),onClick:function(e,t){return l[\"default\"](t,\"left\"),!0}},{$elem:o[\"default\"](\"<span>\"+n(\"menus.justify.居中\")+\"</span>\"),onClick:function(e,t){return l[\"default\"](t,\"center\"),!0}},{$elem:o[\"default\"](\"<span>\"+n(\"menus.justify.靠右\")+\"</span>\"),onClick:function(e,t){return l[\"default\"](t,\"right\"),!0}}];t=new s[\"default\"](e,r,i),t.create()}function i(){t&&(t.remove(),t=null)}return{showVideoTooltip:r,hideVideoTooltip:i}}function c(e){var t=u(e),n=t.showVideoTooltip,r=t.hideVideoTooltip;e.txt.eventHooks.videoClickEvents.push(n),e.txt.eventHooks.clickEvents.push(r),e.txt.eventHooks.keyupEvents.push(r),e.txt.eventHooks.toolbarClickEvents.push(r),e.txt.eventHooks.menuClickEvents.push(r),e.txt.eventHooks.textScrollEvents.push(r),e.txt.eventHooks.changeEvents.push(r)}t.createShowHideFn=u,t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(44));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3));function l(e,t){var n=[\"P\"],r=u(e,n);r&&s[\"default\"](r).css(\"text-align\",t)}function u(e,t){var n,r=e.elems[0];while(null!=r){if((0,a[\"default\"])(t).call(t,null===r||void 0===r?void 0:r.nodeName))return r;if(\"BODY\"===(null===(n=null===r||void 0===r?void 0:r.parentNode)||void 0===n?void 0:n.nodeName))return null;r=r.parentNode}return r}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(6);function o(e){if(a.UA.isFirefox){var t=e.txt,n=e.selection,r=t.eventHooks.keydownEvents;r.push((function(t){var r=n.getSelectionContainerElem();if(r){var i=r.getNodeTop(e),a=i.length&&i.prev().length?i.prev():null;a&&a.attr(\"data-we-video-p\")&&0===n.getCursorPos()&&8===t.keyCode&&a.remove()}}))}}t[\"default\"]=o},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(26));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=n(7),l=o.__importDefault(n(3)),u=o.__importDefault(n(32)),c=o.__importDefault(n(35)),d=o.__importDefault(n(358)),f=o.__importDefault(n(371)),h=function(e){function t(t){var n,r=this,i=l[\"default\"]('<div class=\"w-e-menu\" data-title=\"图片\"><i class=\"w-e-icon-image\"></i></div>'),o=f[\"default\"](t);o.onlyUploadConf&&(i=o.onlyUploadConf.$elem,(0,a[\"default\"])(n=o.onlyUploadConf.events).call(n,(function(e){var t=e.type,n=e.fn||s.EMPTY_FN;i.on(t,(function(e){e.stopPropagation(),n(e)}))})));return r=e.call(this,i,t)||this,r.imgPanelConfig=o,d[\"default\"](t),r}return o.__extends(t,e),t.prototype.clickHandler=function(){this.imgPanelConfig.onlyUploadConf||this.createPanel()},t.prototype.createPanel=function(){var e=this.imgPanelConfig,t=new u[\"default\"](this,e);this.setPanel(t),t.create()},t.prototype.tryChangeActive=function(){},t}(c[\"default\"]);t[\"default\"]=h},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(359)),s=a.__importDefault(n(360)),l=a.__importDefault(n(361)),u=a.__importDefault(n(369)),c=a.__importDefault(n(370));function d(e){o[\"default\"](e),s[\"default\"](e),l[\"default\"](e),u[\"default\"](e),c[\"default\"](e)}t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=n(131),s=a.__importDefault(n(100));function l(e,t){var n=e.config,r=n.pasteFilterStyle,i=n.pasteIgnoreImg,a=o.getPasteHtml(t,r,i);if(a)return!0;var s=o.getPasteText(t);return!!s}function u(e,t){for(var n,r=(null===(n=t.clipboardData)||void 0===n?void 0:n.types)||[],i=0;i<r.length;i++){var a=r[i];if(\"Files\"===a)return!0}return!1}function c(e,t){if(u(t,e)||!l(t,e)){var n=o.getPasteImgs(e);if(n.length){var r=new s[\"default\"](t);r.uploadImg(n)}}}function d(e){e.txt.eventHooks.pasteEvents.unshift((function(t){c(t,e)}))}t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(100));function s(e){function t(t){var n=t.dataTransfer&&t.dataTransfer.files;if(n&&n.length){var r=new o[\"default\"](e);r.uploadImg(n)}}e.txt.eventHooks.dropEvents.push(t)}t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(31)),o=r(n(362));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.createShowHideFn=void 0;var s=n(2),l=s.__importDefault(n(3));n(367);var u=n(6);function c(e,t,n,r,i){e.attr(\"style\",\"width:\"+t+\"px; height:\"+n+\"px; left:\"+r+\"px; top:\"+i+\"px;\")}function d(e,t){var n=l[\"default\"]('<div class=\"w-e-img-drag-mask\">\\n            <div class=\"w-e-img-drag-show-size\"></div>\\n            <div class=\"w-e-img-drag-rb\"></div>\\n         </div>');return n.hide(),t.append(n),n}function f(e,t,n){var r=e.getBoundingClientRect(),i=n.getBoundingClientRect(),s=i.width.toFixed(2),l=i.height.toFixed(2);(0,a[\"default\"])(t).call(t,\".w-e-img-drag-show-size\").text(s+\"px * \"+l+\"px\"),c(t,(0,o[\"default\"])(s),(0,o[\"default\"])(l),i.left-r.left,i.top-r.top),t.show()}function h(e){var t,n=e.$textContainerElem,r=d(e,n);function i(e,n){e.on(\"click\",(function(e){e.stopPropagation()})),e.on(\"mousedown\",\".w-e-img-drag-rb\",(function(r){if(r.preventDefault(),t){var i=r.clientX,s=r.clientY,u=n.getBoundingClientRect(),d=t.getBoundingClientRect(),f=d.width,h=d.height,p=d.left-u.left,m=d.top-u.top,v=f/h,g=f,_=h,y=l[\"default\"](document);y.on(\"mousemove\",b),y.on(\"mouseup\",w),y.on(\"mouseleave\",x)}function x(){y.off(\"mousemove\",b),y.off(\"mouseup\",w)}function b(t){t.stopPropagation(),t.preventDefault(),g=f+(t.clientX-i),_=h+(t.clientY-s),g/_!=v&&(_=g/v),g=(0,o[\"default\"])(g.toFixed(2)),_=(0,o[\"default\"])(_.toFixed(2)),(0,a[\"default\"])(e).call(e,\".w-e-img-drag-show-size\").text(g.toFixed(2).replace(\".00\",\"\")+\"px * \"+_.toFixed(2).replace(\".00\",\"\")+\"px\"),c(e,g,_,p,m)}function w(){t.attr(\"width\",g+\"\"),t.attr(\"height\",_+\"\");var n=t.getBoundingClientRect();c(e,g,_,n.left-u.left,n.top-u.top),x()}}))}function s(e){if(u.UA.isIE())return!1;e&&(t=e,f(n,r,t))}function h(){(0,a[\"default\"])(n).call(n,\".w-e-img-drag-mask\").hide()}return i(r,n),l[\"default\"](document).on(\"click\",h),e.beforeDestroy((function(){l[\"default\"](document).off(\"click\",h)})),{showDrag:s,hideDrag:h}}function p(e){var t=h(e),n=t.showDrag,r=t.hideDrag;e.txt.eventHooks.imgClickEvents.push(n),e.txt.eventHooks.textScrollEvents.push(r),e.txt.eventHooks.keyupEvents.push(r),e.txt.eventHooks.toolbarClickEvents.push(r),e.txt.eventHooks.menuClickEvents.push(r),e.txt.eventHooks.changeEvents.push(r)}t.createShowHideFn=h,t[\"default\"]=p},function(e,t,n){e.exports=n(363)},function(e,t,n){var r=n(364);e.exports=r},function(e,t,n){n(365);var r=n(10);e.exports=r.parseFloat},function(e,t,n){var r=n(5),i=n(366);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(8),i=n(94).trim,a=n(71),o=r.parseFloat,s=1/o(a+\"-0\")!==-1/0;e.exports=s?function(e){var t=i(String(e)),n=o(t);return 0===n&&\"-\"==t.charAt(0)?-0:n}:o},function(e,t,n){var r=n(21),i=n(368);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,\".w-e-text-container {\\n  overflow: hidden;\\n}\\n.w-e-img-drag-mask {\\n  position: absolute;\\n  z-index: 1;\\n  border: 1px dashed #ccc;\\n  box-sizing: border-box;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-rb {\\n  position: absolute;\\n  right: -5px;\\n  bottom: -5px;\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  background: #ccc;\\n  cursor: se-resize;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-show-size {\\n  min-width: 110px;\\n  height: 22px;\\n  line-height: 22px;\\n  font-size: 14px;\\n  color: #999;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #999;\\n  color: #fff;\\n  border-radius: 2px;\\n  padding: 0 5px;\\n}\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.createShowHideFn=void 0;var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(36));function l(e){var t,n=function(t,n){return void 0===n&&(n=\"\"),e.i18next.t(n+t)};function r(r){var i=[{$elem:o[\"default\"](\"<span class='w-e-icon-trash-o'></span>\"),onClick:function(e,t){return e.selection.createRangeByElem(t),e.selection.restoreSelection(),e.cmd[\"do\"](\"delete\"),!0}},{$elem:o[\"default\"](\"<span>30%</span>\"),onClick:function(e,t){return t.attr(\"width\",\"30%\"),t.removeAttr(\"height\"),!0}},{$elem:o[\"default\"](\"<span>50%</span>\"),onClick:function(e,t){return t.attr(\"width\",\"50%\"),t.removeAttr(\"height\"),!0}},{$elem:o[\"default\"](\"<span>100%</span>\"),onClick:function(e,t){return t.attr(\"width\",\"100%\"),t.removeAttr(\"height\"),!0}}];i.push({$elem:o[\"default\"](\"<span>\"+n(\"重置\")+\"</span>\"),onClick:function(e,t){return t.removeAttr(\"width\"),t.removeAttr(\"height\"),!0}}),r.attr(\"data-href\")&&i.push({$elem:o[\"default\"](\"<span>\"+n(\"查看链接\")+\"</span>\"),onClick:function(e,t){var n=t.attr(\"data-href\");return n&&(n=decodeURIComponent(n),window.open(n,\"_target\")),!0}}),t=new s[\"default\"](e,r,i),t.create()}function i(){t&&(t.remove(),t=null)}return{showImgTooltip:r,hideImgTooltip:i}}function u(e){var t=l(e),n=t.showImgTooltip,r=t.hideImgTooltip;e.txt.eventHooks.imgClickEvents.push(n),e.txt.eventHooks.clickEvents.push(r),e.txt.eventHooks.keyupEvents.push(r),e.txt.eventHooks.toolbarClickEvents.push(r),e.txt.eventHooks.menuClickEvents.push(r),e.txt.eventHooks.textScrollEvents.push(r),e.txt.eventHooks.imgDragBarMouseDownEvents.push(r),e.txt.eventHooks.changeEvents.push(r)}t.createShowHideFn=l,t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));function a(e){var t=e.txt,n=e.selection,r=t.eventHooks.keydownEvents;r.push((function(e){var t=n.getSelectionContainerElem(),r=n.getRange();if(r&&t&&8===e.keyCode&&n.isSelectionEmpty()){var i=r.startContainer,a=r.startOffset,o=null;if(0===a)while(i!==t.elems[0]&&t.elems[0].contains(i)&&i.parentNode&&!o){if(i.previousSibling){o=i.previousSibling;break}i=i.parentNode}else 3!==i.nodeType&&(o=i.childNodes[a-1]);if(o){var s=o;while(s.childNodes.length)s=s.childNodes[s.childNodes.length-1];s instanceof HTMLElement&&\"IMG\"===s.tagName&&(s.remove(),e.preventDefault())}}}))}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(26)),o=r(n(19));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(3)),u=n(6),c=s.__importDefault(n(100));function d(e){var t,n=e.config,r=new c[\"default\"](e),i=u.getRandom(\"up-trigger-id\"),s=u.getRandom(\"up-file-id\"),d=u.getRandom(\"input-link-url\"),f=u.getRandom(\"input-link-url-alt\"),h=u.getRandom(\"input-link-url-href\"),p=u.getRandom(\"btn-link\"),m=\"menus.panelMenus.image.\",v=function(t,n){return void 0===n&&(n=m),e.i18next.t(n+t)};function g(e,t,r){var i=n.linkImgCheck(e);return!0===i||(\"string\"===typeof i&&n.customAlert(i,\"error\"),!1)}var _=1===n.uploadImgMaxLength?\"\":'multiple=\"multiple\"',y=(0,a[\"default\"])(t=n.uploadImgAccept).call(t,(function(e){return\"image/\"+e})).join(\",\"),x=function(e,t,n){return'<div class=\"'+e+'\" data-title=\"'+n+'\">\\n            <div id=\"'+i+'\" class=\"w-e-up-btn\">\\n                <i class=\"'+t+'\"></i>\\n            </div>\\n            <div style=\"display:none;\">\\n                <input id=\"'+s+'\" type=\"file\" '+_+' accept=\"'+y+'\"/>\\n            </div>\\n        </div>'},b=[{selector:\"#\"+i,type:\"click\",fn:function(){var e=n.uploadImgFromMedia;if(e&&\"function\"===typeof e)return e(),!0;var t=l[\"default\"](\"#\"+s),r=t.elems[0];if(!r)return!0;r.click()}},{selector:\"#\"+s,type:\"change\",fn:function(){var e=l[\"default\"](\"#\"+s),t=e.elems[0];if(!t)return!0;var n=t.files;return(null===n||void 0===n?void 0:n.length)&&r.uploadImg(n),t&&(t.value=\"\"),!0}}],w=['<input\\n            id=\"'+d+'\"\\n            type=\"text\"\\n            class=\"block\"\\n            placeholder=\"'+v(\"图片地址\")+'\"/>'];n.showLinkImgAlt&&w.push('\\n        <input\\n            id=\"'+f+'\"\\n            type=\"text\"\\n            class=\"block\"\\n            placeholder=\"'+v(\"图片文字说明\")+'\"/>'),n.showLinkImgHref&&w.push('\\n        <input\\n            id=\"'+h+'\"\\n            type=\"text\"\\n            class=\"block\"\\n            placeholder=\"'+v(\"跳转链接\")+'\"/>');var A=[{title:v(\"上传图片\"),tpl:x(\"w-e-up-img-container\",\"w-e-icon-upload2\",\"\"),events:b},{title:v(\"网络图片\"),tpl:\"<div>\\n                    \"+w.join(\"\")+'\\n                    <div class=\"w-e-button-container\">\\n                        <button type=\"button\" id=\"'+p+'\" class=\"right\">'+v(\"插入\",\"\")+\"</button>\\n                    </div>\\n                </div>\",events:[{selector:\"#\"+p,type:\"click\",fn:function(){var e,t=l[\"default\"](\"#\"+d),i=(0,o[\"default\"])(e=t.val()).call(e);if(i){var a,s,u,c;if(n.showLinkImgAlt)a=(0,o[\"default\"])(s=l[\"default\"](\"#\"+f).val()).call(s);if(n.showLinkImgHref)u=(0,o[\"default\"])(c=l[\"default\"](\"#\"+h).val()).call(c);if(g(i,a,u))return r.insertImg(i,a,u),!0}},bindEnter:!0}]}],T={width:300,height:0,tabs:[],onlyUploadConf:{$elem:l[\"default\"](x(\"w-e-menu\",\"w-e-icon-image\",\"图片\")),events:b}};return window.FileReader&&(n.uploadImgShowBase64||n.uploadImgServer||n.customUploadImg||n.uploadImgFromMedia)&&T.tabs.push(A[0]),n.showLinkImg&&(T.tabs.push(A[1]),T.onlyUploadConf=void 0),T}t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=o.__importDefault(n(24)),u=o.__importDefault(n(373)),c=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"缩进\">\\n                <i class=\"w-e-icon-indent-increase\"></i>\\n            </div>'),i={width:130,title:\"设置缩进\",type:\"list\",list:[{$elem:s[\"default\"]('<p>\\n                            <i class=\"w-e-icon-indent-increase w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.indent.增加缩进\")+\"\\n                        <p>\"),value:\"increase\"},{$elem:s[\"default\"]('<p>\\n                            <i class=\"w-e-icon-indent-decrease w-e-drop-list-item\"></i>\\n                            '+t.i18next.t(\"menus.dropListMenu.indent.减少缩进\")+\"\\n                        <p>\"),value:\"decrease\"}],clickHandler:function(e){n.command(e)}};return n=e.call(this,r,t,i)||this,n}return o.__extends(t,e),t.prototype.command=function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();if(n&&t.$textElem.equal(n)){var r=t.selection.getSelectionRangeTopNodes();r.length>0&&(0,a[\"default\"])(r).call(r,(function(n){u[\"default\"](s[\"default\"](n),e,t)}))}else n&&n.length>0&&(0,a[\"default\"])(n).call(n,(function(n){u[\"default\"](s[\"default\"](n),e,t)}));t.selection.restoreSelection(),this.tryChangeActive()},t.prototype.tryChangeActive=function(){var e=this.editor,t=e.selection.getSelectionStartElem(),n=s[\"default\"](t).getNodeTop(e);n.length<=0||(\"\"!=n.elems[0].style[\"paddingLeft\"]?this.active():this.unActive())},t}(l[\"default\"]);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(45)),o=r(n(19));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(374)),u=s.__importDefault(n(375)),c=/^(\\d+)(\\w+)$/,d=/^(\\d+)%$/;function f(e){var t=e.config.indentation;if(\"string\"===typeof t){if(c.test(t)){var n,r=(0,a[\"default\"])(n=(0,o[\"default\"])(t).call(t).match(c)).call(n,1,3),i=r[0],s=r[1];return{value:Number(i),unit:s}}if(d.test(t))return{value:Number((0,o[\"default\"])(t).call(t).match(d)[1]),unit:\"%\"}}else if(void 0!==t.value&&t.unit)return t;return{value:2,unit:\"em\"}}function h(e,t,n){var r=e.getNodeTop(n),i=/^(P|H[0-9]*)$/;i.test(r.getNodeName())&&(\"increase\"===t?l[\"default\"](r,f(n)):\"decrease\"===t&&u[\"default\"](r,f(n)))}t[\"default\"]=h},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(45));function o(e,t){var n=e.elems[0];if(\"\"===n.style[\"paddingLeft\"])e.css(\"padding-left\",t.value+t.unit);else{var r=n.style[\"paddingLeft\"],i=(0,a[\"default\"])(r).call(r,0,r.length-t.unit.length),o=Number(i)+t.value;e.css(\"padding-left\",\"\"+o+t.unit)}}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=o},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(45));function o(e,t){var n=e.elems[0];if(\"\"!==n.style[\"paddingLeft\"]){var r=n.style[\"paddingLeft\"],i=(0,a[\"default\"])(r).call(r,0,r.length-t.unit.length),o=Number(i)-t.value;o>0?e.css(\"padding-left\",\"\"+o+t.unit):e.css(\"padding-left\",\"\")}}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=o},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(35)),l=a.__importDefault(n(32)),u=a.__importDefault(n(377)),c=function(e){function t(t){var n=this,r=o[\"default\"]('<div class=\"w-e-menu\" data-title=\"表情\">\\n                <i class=\"w-e-icon-happy\"></i>\\n            </div>');return n=e.call(this,r,t)||this,n}return a.__extends(t,e),t.prototype.createPanel=function(){var e=u[\"default\"](this.editor),t=new l[\"default\"](this,e);t.create()},t.prototype.clickHandler=function(){this.createPanel()},t.prototype.tryChangeActive=function(){},t}(s[\"default\"]);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(26)),o=r(n(73)),s=r(n(19));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var l=n(2),u=l.__importDefault(n(3));function c(e){var t=e.config.emotions;function n(e){var t,n,r=[];\"image\"==e.type?(r=(0,a[\"default\"])(t=e.content).call(t,(function(e){return\"string\"==typeof e?\"\":'<span  title=\"'+e.alt+'\">\\n                    <img class=\"eleImg\" data-emoji=\"'+e.alt+'\" style src=\"'+e.src+'\" alt=\"['+e.alt+']\">\\n                </span>'})),r=(0,o[\"default\"])(r).call(r,(function(e){return\"\"!==e}))):r=(0,a[\"default\"])(n=e.content).call(n,(function(e){return'<span class=\"eleImg\" title=\"'+e+'\">'+e+\"</span>\"}));return r.join(\"\").replace(/&nbsp;/g,\"\")}var r=(0,a[\"default\"])(t).call(t,(function(t){return{title:e.i18next.t(\"menus.panelMenus.emoticon.\"+t.title),tpl:\"<div>\"+n(t)+\"</div>\",events:[{selector:\".eleImg\",type:\"click\",fn:function(t){var n,r,i=u[\"default\"](t.target),a=i.getNodeName();\"IMG\"===a?n=(0,s[\"default\"])(r=i.parent().html()).call(r):n=\"<span>\"+i.html()+\"</span>\";return e.cmd[\"do\"](\"insertHTML\",n),!0}}]}})),i={width:300,height:230,tabs:r};return i}t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.createListHandle=t.ClassType=void 0;var a,o=n(2),s=o.__importDefault(n(3)),l=o.__importDefault(n(379)),u=o.__importDefault(n(381)),c=o.__importDefault(n(382)),d=o.__importDefault(n(383)),f=o.__importDefault(n(384));(function(e){e[\"Wrap\"]=\"WrapListHandle\",e[\"Join\"]=\"JoinListHandle\",e[\"StartJoin\"]=\"StartJoinListHandle\",e[\"EndJoin\"]=\"EndJoinListHandle\",e[\"Other\"]=\"OtherListHandle\"})(a=t.ClassType||(t.ClassType={}));var h={WrapListHandle:l[\"default\"],JoinListHandle:u[\"default\"],StartJoinListHandle:c[\"default\"],EndJoinListHandle:d[\"default\"],OtherListHandle:f[\"default\"]};function p(e,t,n){if(e===a.Other&&void 0===n)throw new Error(\"other 类需要传入 range\");return e!==a.Other?new h[e](t):new h[e](t,n)}t.createListHandle=p;var m=function(){function e(e){this.handle=e,this.handle.exec()}return e.prototype.getSelectionRangeElem=function(){return s[\"default\"](this.handle.selectionRangeElem.get())},e}();t[\"default\"]=m},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=n(58),u=n(47),c=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.exec=function(){var e,t=this.options,n=t.listType,r=t.listTarget,i=t.$selectionElem,o=t.$startElem,l=t.$endElem,c=[],d=null===i||void 0===i?void 0:i.getNodeName(),f=o.prior,h=l.prior;if(!o.prior&&!l.prior||!(null===f||void 0===f?void 0:f.prev().length)&&!(null===h||void 0===h?void 0:h.next().length)){var p;(0,a[\"default\"])(p=null===i||void 0===i?void 0:i.children()).call(p,(function(e){c.push(s[\"default\"](e))})),d===n?e=u.createElementFragment(c,u.createDocumentFragment(),\"p\"):(e=u.createElement(r),(0,a[\"default\"])(c).call(c,(function(t){e.appendChild(t.elems[0])}))),this.selectionRangeElem.set(e),u.insertBefore(i,e,i.elems[0]),i.remove()}else{var m=f;while(m.length)c.push(m),m=(null===h||void 0===h?void 0:h.equal(m))?s[\"default\"](void 0):m.next();var v=f.prev(),g=h.next();if(d===n?e=u.createElementFragment(c,u.createDocumentFragment(),\"p\"):(e=u.createElement(r),(0,a[\"default\"])(c).call(c,(function(t){e.append(t.elems[0])}))),v.length&&g.length){var _=[];while(g.length)_.push(g),g=g.next();var y=u.createElement(d);(0,a[\"default\"])(_).call(_,(function(e){y.append(e.elems[0])})),s[\"default\"](y).insertAfter(i),this.selectionRangeElem.set(e);var x=i.next();x.length?u.insertBefore(i,e,x.elems[0]):i.parent().elems[0].append(e)}else if(v.length){this.selectionRangeElem.set(e);x=i.next();x.length?u.insertBefore(i,e,x.elems[0]):i.parent().elems[0].append(e)}else this.selectionRangeElem.set(e),u.insertBefore(i,e,i.elems[0])}},t}(l.ListHandle);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=function(){function e(){this._element=null}return e.prototype.set=function(e){if(e instanceof DocumentFragment){var t,n=[];(0,a[\"default\"])(t=e.childNodes).call(t,(function(e){n.push(e)})),e=n}this._element=e},e.prototype.get=function(){return this._element},e.prototype.clear=function(){this._element=null},e}();t[\"default\"]=o},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=n(58),u=n(47),c=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.exec=function(){var e,t,n,r,i,o,l,c,d=this.options,f=d.editor,h=d.listType,p=d.listTarget,m=d.$startElem,v=d.$endElem,g=f.selection.getSelectionRangeTopNodes(),_=null===m||void 0===m?void 0:m.getNodeName(),y=null===v||void 0===v?void 0:v.getNodeName();if(_===y)if(g.length>2)if(g.shift(),g.pop(),c=u.createElementFragment(u.filterSelectionNodes(g),u.createDocumentFragment()),_===h)null===(e=v.children())||void 0===e||(0,a[\"default\"])(e).call(e,(function(e){c.append(e)})),v.remove(),this.selectionRangeElem.set(c),m.elems[0].append(c);else{var x=document.createDocumentFragment(),b=document.createDocumentFragment(),w=u.getStartPoint(m);while(w.length){var A=w.elems[0];w=w.next(),x.append(A)}var T=u.getEndPoint(v),S=[];while(T.length)S.unshift(T.elems[0]),T=T.prev();(0,a[\"default\"])(S).call(S,(function(e){b.append(e)}));var E=u.createElement(p);E.append(x),E.append(c),E.append(b),c=E,this.selectionRangeElem.set(c),s[\"default\"](E).insertAfter(m),!(null===(t=m.children())||void 0===t?void 0:t.length)&&m.remove(),!(null===(n=v.children())||void 0===n?void 0:n.length)&&v.remove()}else{g.length=0;w=u.getStartPoint(m);while(w.length)g.push(w),w=w.next();T=u.getEndPoint(v),S=[];while(T.length)S.unshift(T),T=T.prev();g.push.apply(g,S),_===h?(c=u.createElementFragment(g,u.createDocumentFragment(),\"p\"),this.selectionRangeElem.set(c),u.insertBefore(m,c,v.elems[0])):(c=u.createElement(p),(0,a[\"default\"])(g).call(g,(function(e){c.append(e.elems[0])})),this.selectionRangeElem.set(c),s[\"default\"](c).insertAfter(m)),!(null===(r=m.children())||void 0===r?void 0:r.length)&&v.remove(),!(null===(i=v.children())||void 0===i?void 0:i.length)&&v.remove()}else{var C=[];T=u.getEndPoint(v);while(T.length)C.unshift(T),T=T.prev();var M=[];w=u.getStartPoint(m);while(w.length)M.push(w),w=w.next();if(c=u.createDocumentFragment(),g.shift(),g.pop(),(0,a[\"default\"])(M).call(M,(function(e){return c.append(e.elems[0])})),c=u.createElementFragment(u.filterSelectionNodes(g),c),(0,a[\"default\"])(C).call(C,(function(e){return c.append(e.elems[0])})),this.selectionRangeElem.set(c),_===h)m.elems[0].append(c),!(null===(o=v.children())||void 0===o?void 0:o.length)&&v.remove();else if(null===(l=v.children())||void 0===l?void 0:l.length){var D=v.children();u.insertBefore(D,c,D.elems[0])}else v.elems[0].append(c)}},t}(l.ListHandle);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=n(58),u=n(47),c=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.exec=function(){var e,t,n=this.options,r=n.editor,i=n.listType,o=n.listTarget,l=n.$startElem,c=r.selection.getSelectionRangeTopNodes(),d=null===l||void 0===l?void 0:l.getNodeName();c.shift();var f=[],h=u.getStartPoint(l);while(h.length)f.push(h),h=h.next();d===i?(t=u.createDocumentFragment(),(0,a[\"default\"])(f).call(f,(function(e){return t.append(e.elems[0])})),t=u.createElementFragment(u.filterSelectionNodes(c),t),this.selectionRangeElem.set(t),l.elems[0].append(t)):(t=u.createElement(o),(0,a[\"default\"])(f).call(f,(function(e){return t.append(e.elems[0])})),t=u.createElementFragment(u.filterSelectionNodes(c),t),this.selectionRangeElem.set(t),s[\"default\"](t).insertAfter(l),!(null===(e=l.children())||void 0===e?void 0:e.length)&&l.remove())},t}(l.ListHandle);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=n(58),u=n(47),c=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.exec=function(){var e,t,n,r=this.options,i=r.editor,o=r.listType,l=r.listTarget,c=r.$endElem,d=i.selection.getSelectionRangeTopNodes(),f=null===c||void 0===c?void 0:c.getNodeName();d.pop();var h=[],p=u.getEndPoint(c);while(p.length)h.unshift(p),p=p.prev();if(f===o)if(n=u.createElementFragment(u.filterSelectionNodes(d),u.createDocumentFragment()),(0,a[\"default\"])(h).call(h,(function(e){return n.append(e.elems[0])})),this.selectionRangeElem.set(n),null===(e=c.children())||void 0===e?void 0:e.length){var m=c.children();u.insertBefore(m,n,m.elems[0])}else c.elems[0].append(n);else{var v=u.filterSelectionNodes(d);v.push.apply(v,h),n=u.createElementFragment(v,u.createElement(l)),this.selectionRangeElem.set(n),s[\"default\"](n).insertBefore(c),!(null===(t=c.children())||void 0===t?void 0:t.length)&&c.remove()}},t}(l.ListHandle);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=n(58),s=n(47),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.range=n,r}return a.__extends(t,e),t.prototype.exec=function(){var e=this.options,t=e.editor,n=e.listTarget,r=t.selection.getSelectionRangeTopNodes(),i=s.createElementFragment(s.filterSelectionNodes(r),s.createElement(n));this.selectionRangeElem.set(i),this.range.insertNode(i)},t}(o.ListHandle);t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(27));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(24)),u=s.__importDefault(n(3)),c=s.__importDefault(n(386)),d=n(6),f=function(e){function t(t){var n=this,r=u[\"default\"]('<div class=\"w-e-menu\" data-title=\"行高\">\\n                    <i class=\"w-e-icon-row-height\"></i>\\n                </div>'),i=new c[\"default\"](t,t.config.lineHeights),a={width:100,title:\"设置行高\",type:\"list\",list:i.getItemList(),clickHandler:function(e){t.selection.saveRange(),n.command(e)}};return n=e.call(this,r,t,a)||this,n}return s.__extends(t,e),t.prototype.command=function(e){var t,n=this,r=window.getSelection?window.getSelection():document.getSelection(),i=[\"P\"],s=this.editor,l=\"\";s.selection.restoreSelection();var c=u[\"default\"](s.selection.getSelectionContainerElem());if(null===c||void 0===c?void 0:c.length){var f=u[\"default\"](s.selection.getSelectionContainerElem()),h=u[\"default\"](s.selection.getSelectionStartElem()).elems[0],p=\"\",m=[],v=\"\";if(c&&s.$textElem.equal(c)){var g=d.UA.isIE(),_=[],y=[],x=[],b=u[\"default\"](s.selection.getSelectionStartElem()),w=u[\"default\"](s.selection.getSelectionEndElem()),A=null===(t=s.selection.getRange())||void 0===t?void 0:t.commonAncestorContainer.childNodes;y.push(this.getDom(b.elems[0])),null===A||void 0===A||(0,a[\"default\"])(A).call(A,(function(e,t){e===n.getDom(b.elems[0])&&_.push(t),e===n.getDom(w.elems[0])&&_.push(t)}));var T=0,S=void 0;x.push(this.getDom(b.elems[0]));while(y[T]!==this.getDom(w.elems[0]))S=u[\"default\"](y[T].nextElementSibling).elems[0],-1!==(0,o[\"default\"])(i).call(i,u[\"default\"](S).getNodeName())?(x.push(S),y.push(S)):y.push(S),T++;if(\"P\"!==u[\"default\"](y[0]).getNodeName()){T=0;for(var E=0;E<y.length;E++)if(\"P\"===u[\"default\"](y[E]).getNodeName()){T=E;break}if(0===T)return;var C=0;while(C!==T)y.shift(),C++}return this.setRange(y[0],y[y.length-1]),(0,a[\"default\"])(y).call(y,(function(t){p=t.getAttribute(\"style\"),m=p?p.split(\";\"):[],v=n.styleProcessing(m),\"P\"===u[\"default\"](t).getNodeName()&&e&&(v+=e?\"line-height:\"+e+\";\":\"\"),g?u[\"default\"](t).css(\"line-height\",e):l+=\"<\"+u[\"default\"](t).getNodeName().toLowerCase()+' style=\"'+v+'\">'+t.innerHTML+\"</\"+u[\"default\"](t).getNodeName().toLowerCase()+\">\"})),l&&this.action(l,s),h=f.elems[0],void this.setRange(h.children[_[0]],h.children[_[1]])}h=this.getDom(h),-1!==(0,o[\"default\"])(i).call(i,u[\"default\"](h).getNodeName())&&(p=h.getAttribute(\"style\"),m=p?p.split(\";\"):[],null===r||void 0===r||r.selectAllChildren(h),s.selection.saveRange(),e?(v=p?this.styleProcessing(m)+\"line-height:\"+e+\";\":\"line-height:\"+e+\";\",l=\"<\"+u[\"default\"](h).getNodeName().toLowerCase()+' style=\"'+v+'\">'+h.innerHTML+\"</\"+u[\"default\"](h).getNodeName().toLowerCase()+\">\",\"BLOCKQUOTE\"===u[\"default\"](h).getNodeName()||d.UA.isIE()?u[\"default\"](h).css(\"line-height\",e):this.action(l,s)):p&&(v=this.styleProcessing(m),l=\"\"===v?\"<\"+u[\"default\"](h).getNodeName().toLowerCase()+\">\"+h.innerHTML+\"</\"+u[\"default\"](h).getNodeName().toLowerCase()+\">\":\"<\"+u[\"default\"](h).getNodeName().toLowerCase()+' style=\"'+v+'\">'+h.innerHTML+\"</\"+u[\"default\"](h).getNodeName().toLowerCase()+\">\",this.action(l,s)))}},t.prototype.getDom=function(e){var t=u[\"default\"](e).elems[0];if(!t.parentNode)return t;function n(e,t){var r=u[\"default\"](e.parentNode);return t.$textElem.equal(r)?e:n(r.elems[0],t)}return t=n(t,this.editor),t},t.prototype.action=function(e,t){t.cmd[\"do\"](\"insertHTML\",e)},t.prototype.styleProcessing=function(e){var t=\"\";return(0,a[\"default\"])(e).call(e,(function(e){\"\"!==e&&-1===(0,o[\"default\"])(e).call(e,\"line-height\")&&(t=t+e+\";\")})),t},t.prototype.setRange=function(e,t){var n=this.editor,r=window.getSelection?window.getSelection():document.getSelection();null===r||void 0===r||r.removeAllRanges();var i=document.createRange(),a=e,o=t;i.setStart(a,0),i.setEnd(o,1),null===r||void 0===r||r.addRange(i),n.selection.saveRange(),null===r||void 0===r||r.removeAllRanges(),n.selection.restoreSelection()},t.prototype.tryChangeActive=function(){var e=this.editor,t=e.selection.getSelectionContainerElem();if(!t||!e.$textElem.equal(t)){var n=u[\"default\"](e.selection.getSelectionStartElem());if(0!==n.length){n=this.getDom(n.elems[0]);var r=n.getAttribute(\"style\")?n.getAttribute(\"style\"):\"\";r&&-1!==(0,o[\"default\"])(r).call(r,\"line-height\")?this.active():this.unActive()}}},t}(l[\"default\"]);t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=function(){function e(e,t){var n=this;this.itemList=[{$elem:s[\"default\"](\"<span>\"+e.i18next.t(\"默认\")+\"</span>\"),value:\"\"}],(0,a[\"default\"])(t).call(t,(function(e){n.itemList.push({$elem:s[\"default\"](\"<span>\"+e+\"</span>\"),value:e})}))}return e.prototype.getItemList=function(){return this.itemList},e}();t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(23)),l=function(e){function t(t){var n=this,r=o[\"default\"]('<div class=\"w-e-menu\" data-title=\"撤销\">\\n                <i class=\"w-e-icon-undo\"></i>\\n            </div>');return n=e.call(this,r,t)||this,n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor;e.history.revoke();var t=e.$textElem.children();if(null===t||void 0===t?void 0:t.length){var n=t.last();e.selection.createRangeByElem(n,!1,!0),e.selection.restoreSelection()}},t.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[0]?this.active():this.unActive())},t}(s[\"default\"]);t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(23)),l=function(e){function t(t){var n=this,r=o[\"default\"]('<div class=\"w-e-menu\" data-title=\"恢复\">\\n                <i class=\"w-e-icon-redo\"></i>\\n            </div>');return n=e.call(this,r,t)||this,n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor;e.history.restore();var t=e.$textElem.children();if(null===t||void 0===t?void 0:t.length){var n=t.last();e.selection.createRangeByElem(n,!1,!0),e.selection.restoreSelection()}},t.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[1]?this.active():this.unActive())},t}(s[\"default\"]);t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(35)),s=a.__importDefault(n(3)),l=a.__importDefault(n(390)),u=a.__importDefault(n(32)),c=a.__importDefault(n(399)),d=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"表格\"><i class=\"w-e-icon-table2\"></i></div>');return n=e.call(this,r,t)||this,c[\"default\"](t),n}return a.__extends(t,e),t.prototype.clickHandler=function(){this.createPanel()},t.prototype.createPanel=function(){var e=l[\"default\"](this.editor),t=new u[\"default\"](this,e);t.create()},t.prototype.tryChangeActive=function(){},t}(o[\"default\"]);t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(391));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=n(6),l=o.__importDefault(n(3));n(396);var u=o.__importDefault(n(398));function c(e){return e>0&&(0,a[\"default\"])(e)}function d(e){var t=new u[\"default\"](e),n=s.getRandom(\"w-col-id\"),r=s.getRandom(\"w-row-id\"),i=s.getRandom(\"btn-link\"),a=\"menus.panelMenus.table.\",o=function(t){return e.i18next.t(t)},d=[{title:o(a+\"插入表格\"),tpl:'<div>\\n                    <div class=\"w-e-table\">\\n                        <span>'+o(\"创建\")+'</span>\\n                        <input id=\"'+r+'\"  type=\"text\" class=\"w-e-table-input\" value=\"5\"/></td>\\n                        <span>'+o(a+\"行\")+'</span>\\n                        <input id=\"'+n+'\" type=\"text\" class=\"w-e-table-input\" value=\"5\"/></td>\\n                        <span>'+(o(a+\"列\")+o(a+\"的\")+o(a+\"表格\"))+'</span>\\n                    </div>\\n                    <div class=\"w-e-button-container\">\\n                        <button type=\"button\" id=\"'+i+'\" class=\"right\">'+o(\"插入\")+\"</button>\\n                    </div>\\n                </div>\",events:[{selector:\"#\"+i,type:\"click\",fn:function(){var i=Number(l[\"default\"](\"#\"+n).val()),a=Number(l[\"default\"](\"#\"+r).val());return c(a)&&c(i)?(t.createAction(a,i),!0):(e.config.customAlert(\"表格行列请输入正整数\",\"warning\"),!1)},bindEnter:!0}]}],f={width:330,height:0,tabs:[]};return f.tabs.push(d[0]),f}t[\"default\"]=d},function(e,t,n){e.exports=n(392)},function(e,t,n){var r=n(393);e.exports=r},function(e,t,n){n(394);var r=n(10);e.exports=r.Number.isInteger},function(e,t,n){var r=n(5),i=n(395);r({target:\"Number\",stat:!0},{isInteger:i})},function(e,t,n){var r=n(13),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(21),i=n(397);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,\".w-e-table {\\n  display: flex;\\n}\\n.w-e-table .w-e-table-input {\\n  width: 40px;\\n  text-align: center!important;\\n  margin: 0 5px;\\n}\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=n(7),s=a.__importDefault(n(3)),l=function(){function e(e){this.editor=e}return e.prototype.createAction=function(e,t){var n=this.editor,r=s[\"default\"](n.selection.getSelectionContainerElem()),i=s[\"default\"](r.elems[0]).parentUntilEditor(\"UL\",n),a=s[\"default\"](r.elems[0]).parentUntilEditor(\"OL\",n);if(!i&&!a){var o=this.createTableHtml(e,t);n.cmd[\"do\"](\"insertHTML\",o)}},e.prototype.createTableHtml=function(e,t){for(var n=\"\",r=\"\",i=0;i<e;i++){r=\"\";for(var a=0;a<t;a++)r+=0===i?\"<th></th>\":\"<td></td>\";n=n+\"<tr>\"+r+\"</tr>\"}var s='<table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\"><tbody>'+n+\"</tbody></table>\"+o.EMPTY_P;return s},e}();t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(400)),s=n(408);function l(e){o[\"default\"](e),s.bindEventKeyboardEvent(e),s.bindClickEvent(e)}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(36)),l=a.__importDefault(n(401)),u=a.__importDefault(n(407)),c=n(7);function d(e){var t;function n(n){var r=new u[\"default\"](e),i=\"menus.panelMenus.table.\",a=function(t,n){return void 0===n&&(n=i),e.i18next.t(n+t)},d=[{$elem:o[\"default\"](\"<span>\"+a(\"删除表格\")+\"</span>\"),onClick:function(e,t){return e.selection.createRangeByElem(t),e.selection.restoreSelection(),e.cmd[\"do\"](\"insertHTML\",c.EMPTY_P),!0}},{$elem:o[\"default\"](\"<span>\"+a(\"添加行\")+\"</span>\"),onClick:function(e,t){var n=f(e);if(n)return!0;var i=o[\"default\"](e.selection.getSelectionStartElem()),a=r.getRowNode(i.elems[0]);if(!a)return!0;var s=Number(r.getCurrentRowIndex(t.elems[0],a)),u=r.getTableHtml(t.elems[0]),c=r.getTableHtml(l[\"default\"].ProcessingRow(o[\"default\"](u),s).elems[0]);return c=p(t,c),e.selection.createRangeByElem(t),e.selection.restoreSelection(),e.cmd[\"do\"](\"insertHTML\",c),!0}},{$elem:o[\"default\"](\"<span>\"+a(\"删除行\")+\"</span>\"),onClick:function(e,t){var n=f(e);if(n)return!0;var i=o[\"default\"](e.selection.getSelectionStartElem()),a=r.getRowNode(i.elems[0]);if(!a)return!0;var s=Number(r.getCurrentRowIndex(t.elems[0],a)),u=r.getTableHtml(t.elems[0]),d=l[\"default\"].DeleteRow(o[\"default\"](u),s).elems[0].children[0].children.length,h=\"\";return e.selection.createRangeByElem(t),e.selection.restoreSelection(),h=0===d?c.EMPTY_P:r.getTableHtml(l[\"default\"].DeleteRow(o[\"default\"](u),s).elems[0]),h=p(t,h),e.cmd[\"do\"](\"insertHTML\",h),!0}},{$elem:o[\"default\"](\"<span>\"+a(\"添加列\")+\"</span>\"),onClick:function(e,t){var n=f(e);if(n)return!0;var i=o[\"default\"](e.selection.getSelectionStartElem()),a=r.getCurrentColIndex(i.elems[0]),s=r.getTableHtml(t.elems[0]),u=r.getTableHtml(l[\"default\"].ProcessingCol(o[\"default\"](s),a).elems[0]);return u=p(t,u),e.selection.createRangeByElem(t),e.selection.restoreSelection(),e.cmd[\"do\"](\"insertHTML\",u),!0}},{$elem:o[\"default\"](\"<span>\"+a(\"删除列\")+\"</span>\"),onClick:function(e,t){var n=f(e);if(n)return!0;var i=o[\"default\"](e.selection.getSelectionStartElem()),a=r.getCurrentColIndex(i.elems[0]),s=r.getTableHtml(t.elems[0]),u=l[\"default\"].DeleteCol(o[\"default\"](s),a),d=u.elems[0].children[0].children[0].children.length,h=\"\";return e.selection.createRangeByElem(t),e.selection.restoreSelection(),h=0===d?c.EMPTY_P:r.getTableHtml(u.elems[0]),h=p(t,h),e.cmd[\"do\"](\"insertHTML\",h),!0}},{$elem:o[\"default\"](\"<span>\"+a(\"设置表头\")+\"</span>\"),onClick:function(e,t){var n=f(e);if(n)return!0;var i=o[\"default\"](e.selection.getSelectionStartElem()),a=r.getRowNode(i.elems[0]);if(!a)return!0;var s=Number(r.getCurrentRowIndex(t.elems[0],a));0!==s&&(s=0);var u=r.getTableHtml(t.elems[0]),c=r.getTableHtml(l[\"default\"].setTheHeader(o[\"default\"](u),s,\"th\").elems[0]);return c=p(t,c),e.selection.createRangeByElem(t),e.selection.restoreSelection(),e.cmd[\"do\"](\"insertHTML\",c),!0}},{$elem:o[\"default\"](\"<span>\"+a(\"取消表头\")+\"</span>\"),onClick:function(e,t){var n=o[\"default\"](e.selection.getSelectionStartElem()),i=r.getRowNode(n.elems[0]);if(!i)return!0;var a=Number(r.getCurrentRowIndex(t.elems[0],i));0!==a&&(a=0);var s=r.getTableHtml(t.elems[0]),u=r.getTableHtml(l[\"default\"].setTheHeader(o[\"default\"](s),a,\"td\").elems[0]);return u=p(t,u),e.selection.createRangeByElem(t),e.selection.restoreSelection(),e.cmd[\"do\"](\"insertHTML\",u),!0}}];t=new s[\"default\"](e,n,d),t.create()}function r(){t&&(t.remove(),t=null)}return{showTableTooltip:n,hideTableTooltip:r}}function f(e){var t=e.selection.getSelectionStartElem(),n=e.selection.getSelectionEndElem();return(null===t||void 0===t?void 0:t.elems[0])!==(null===n||void 0===n?void 0:n.elems[0])}function h(e){var t=d(e),n=t.showTableTooltip,r=t.hideTableTooltip;e.txt.eventHooks.tableClickEvents.push(n),e.txt.eventHooks.clickEvents.push(r),e.txt.eventHooks.keyupEvents.push(r),e.txt.eventHooks.toolbarClickEvents.push(r),e.txt.eventHooks.menuClickEvents.push(r),e.txt.eventHooks.textScrollEvents.push(r)}function p(e,t){var n=e.elems[0].nextSibling;return n&&\"<br>\"!==n.innerHTML||(t+=\"\"+c.EMPTY_P),t}t[\"default\"]=h},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(45)),o=r(n(95)),s=r(n(4)),l=r(n(139));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var u=n(2),c=u.__importDefault(n(3));function d(e,t){for(var n=g(e),r=(0,a[\"default\"])(Array.prototype).apply(n.children),i=r[0].children.length,s=document.createElement(\"tr\"),l=0;l<i;l++){var u=document.createElement(\"td\");s.appendChild(u)}return(0,o[\"default\"])(r).call(r,t+1,0,s),v(n,r),c[\"default\"](n.parentNode)}function f(e,t){for(var n=g(e),r=(0,a[\"default\"])(Array.prototype).apply(n.children),i=function(e){var n,i=[];(0,s[\"default\"])(n=(0,l[\"default\"])(r[e].children)).call(n,(function(e){i.push(e)}));while(0!==r[e].children.length)r[e].removeChild(r[e].children[0]);var a=\"TH\"!==c[\"default\"](i[0]).getNodeName()?document.createElement(\"td\"):document.createElement(\"th\");(0,o[\"default\"])(i).call(i,t+1,0,a);for(var u=0;u<i.length;u++)r[e].appendChild(i[u])},u=0;u<r.length;u++)i(u);return v(n,r),c[\"default\"](n.parentNode)}function h(e,t){var n=g(e),r=(0,a[\"default\"])(Array.prototype).apply(n.children);return(0,o[\"default\"])(r).call(r,t,1),v(n,r),c[\"default\"](n.parentNode)}function p(e,t){for(var n=g(e),r=(0,a[\"default\"])(Array.prototype).apply(n.children),i=function(e){var n,i=[];(0,s[\"default\"])(n=(0,l[\"default\"])(r[e].children)).call(n,(function(e){i.push(e)}));while(0!==r[e].children.length)r[e].removeChild(r[e].children[0]);(0,o[\"default\"])(i).call(i,t,1);for(var a=0;a<i.length;a++)r[e].appendChild(i[a])},u=0;u<r.length;u++)i(u);return v(n,r),c[\"default\"](n.parentNode)}function m(e,t,n){for(var r=g(e),i=(0,a[\"default\"])(Array.prototype).apply(r.children),u=i[t].children,d=document.createElement(\"tr\"),f=function(e){var t,r=document.createElement(n),i=u[e];(0,s[\"default\"])(t=(0,l[\"default\"])(i.childNodes)).call(t,(function(e){r.appendChild(e)})),d.appendChild(r)},h=0;h<u.length;h++)f(h);return(0,o[\"default\"])(i).call(i,t,1,d),v(r,i),c[\"default\"](r.parentNode)}function v(e,t){while(0!==e.children.length)e.removeChild(e.children[0]);for(var n=0;n<t.length;n++)e.appendChild(t[n])}function g(e){var t=e.elems[0].children[0];return\"COLGROUP\"===t.nodeName&&(t=e.elems[0].children[e.elems[0].children.length-1]),t}t[\"default\"]={ProcessingRow:d,ProcessingCol:f,DeleteRow:h,DeleteCol:p,setTheHeader:m}},function(e,t,n){var r=n(403);e.exports=r},function(e,t,n){n(53),n(404);var r=n(10);e.exports=r.Array.from},function(e,t,n){var r=n(5),i=n(405),a=n(115),o=!a((function(e){Array.from(e)}));r({target:\"Array\",stat:!0,forced:o},{from:i})},function(e,t,n){\"use strict\";var r=n(38),i=n(25),a=n(406),o=n(107),s=n(34),l=n(72),u=n(109);e.exports=function(e){var t,n,c,d,f,h,p=i(e),m=\"function\"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,_=void 0!==g,y=u(p),x=0;if(_&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==y||m==Array&&o(y))for(t=s(p.length),n=new m(t);t>x;x++)h=_?g(p[x],x):p[x],l(n,x,h);else for(d=y.call(p),f=d.next,n=new m;!(c=f.call(d)).done;x++)h=_?a(d,g,[c.value,x],!0):c.value,l(n,x,h);return n.length=x,n}},function(e,t,n){var r=n(20),i=n(110);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){throw i(e),o}}},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(139));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(3)),u=function(){function e(e){this.editor=e}return e.prototype.getRowNode=function(e){var t,n=l[\"default\"](e).elems[0];return n.parentNode?(n=null===(t=l[\"default\"](n).parentUntil(\"TR\",n))||void 0===t?void 0:t.elems[0],n):n},e.prototype.getCurrentRowIndex=function(e,t){var n,r=0,i=e.children[0];return\"COLGROUP\"===i.nodeName&&(i=e.children[e.children.length-1]),(0,a[\"default\"])(n=(0,o[\"default\"])(i.children)).call(n,(function(e,n){e===t&&(r=n)})),r},e.prototype.getCurrentColIndex=function(e){var t,n,r=0,i=\"TD\"===l[\"default\"](e).getNodeName()||\"TH\"===l[\"default\"](e).getNodeName()?e:null===(n=l[\"default\"](e).parentUntil(\"TD\",e))||void 0===n?void 0:n.elems[0],s=l[\"default\"](i).parent();return(0,a[\"default\"])(t=(0,o[\"default\"])(s.elems[0].children)).call(t,(function(e,t){e===i&&(r=t)})),r},e.prototype.getTableHtml=function(e){var t='<table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">'+l[\"default\"](e).html()+\"</table>\";return t},e}();t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.bindEventKeyboardEvent=t.bindClickEvent=void 0;var a=n(2),o=a.__importDefault(n(3));function s(e){if(!e.length)return!1;var t=e.elems[0];return\"P\"===t.nodeName&&\"<br>\"===t.innerHTML}function l(e){function t(t,n){if(n.detail>=3){var r=window.getSelection();if(r){var i=r.focusNode,a=r.anchorNode,s=o[\"default\"](null===a||void 0===a?void 0:a.parentElement);if(!t.isContain(o[\"default\"](i))){var l=\"TD\"===s.elems[0].tagName?s:s.parentUntilEditor(\"td\",e);if(l){var u=e.selection.getRange();null===u||void 0===u||u.setEnd(l.elems[0],l.elems[0].childNodes.length),e.selection.restoreSelection()}}}}}e.txt.eventHooks.tableClickEvents.push(t)}function u(e){var t=e.txt,n=e.selection,r=t.eventHooks.keydownEvents;r.push((function(t){e.selection.saveRange();var r=n.getSelectionContainerElem();if(r){var i=r.getNodeTop(e),a=i.length&&i.prev().length?i.prev():null;if(a&&\"TABLE\"===a.getNodeName()&&n.isSelectionEmpty()&&0===n.getCursorPos()&&8===t.keyCode){var o=i.next(),l=!!o.length;l&&s(i)&&(i.remove(),e.selection.setRangeToElem(o.elems[0])),t.preventDefault()}}}))}t.bindClickEvent=l,t.bindEventKeyboardEvent=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(26));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.formatCodeHtml=void 0;var o=n(2),s=o.__importDefault(n(35)),l=o.__importDefault(n(3)),u=n(6),c=o.__importDefault(n(410)),d=o.__importDefault(n(140)),f=o.__importDefault(n(32)),h=o.__importDefault(n(411));function p(e,t){return t?(t=r(t),t=n(t),t=u.replaceSpecialSymbol(t),t):t;function n(e){var t=e.match(/<pre[\\s|\\S]+?\\/pre>/g);return null===t||(0,a[\"default\"])(t).call(t,(function(t){e=e.replace(t,t.replace(/<\\/code><code>/g,\"\\n\").replace(/<br>/g,\"\"))})),e}function r(e){var t,n=e.match(/<span\\sclass=\"hljs[\\s|\\S]+?\\/span>/gm);if(!n||!n.length)return e;for(var i=(0,a[\"default\"])(t=u.deepClone(n)).call(t,(function(e){return e=e.replace(/<span\\sclass=\"hljs[^>]+>/,\"\"),e.replace(/<\\/span>/,\"\")})),o=0;o<n.length;o++)e=e.replace(n[o],i[o]);return r(e)}}t.formatCodeHtml=p;var m=function(e){function t(t){var n=this,r=l[\"default\"]('<div class=\"w-e-menu\" data-title=\"代码\"><i class=\"w-e-icon-terminal\"></i></div>');return n=e.call(this,r,t)||this,h[\"default\"](t),n}return o.__extends(t,e),t.prototype.insertLineCode=function(e){var t=this.editor,n=l[\"default\"](\"<code>\"+e+\"</code>\");t.cmd[\"do\"](\"insertElem\",n),t.selection.createRangeByElem(n,!1),t.selection.restoreSelection()},t.prototype.clickHandler=function(){var e=this.editor,t=e.selection.getSelectionText();this.isActive||(e.selection.isSelectionEmpty()?this.createPanel(\"\",\"\"):this.insertLineCode(t))},t.prototype.createPanel=function(e,t){var n=c[\"default\"](this.editor,e,t),r=new f[\"default\"](this,n);r.create()},t.prototype.tryChangeActive=function(){var e=this.editor;d[\"default\"](e)?this.active():this.unActive()},t}(s[\"default\"]);t[\"default\"]=m},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(26));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=n(6),l=o.__importDefault(n(3)),u=o.__importDefault(n(140)),c=n(7);function d(e,t,n){var r,i=s.getRandom(\"input-iframe\"),o=s.getRandom(\"select\"),d=s.getRandom(\"btn-ok\");function f(t){var n,r=u[\"default\"](e);r&&h();var i=null===(n=e.selection.getSelectionStartElem())||void 0===n?void 0:n.elems[0].innerHTML;i&&e.cmd[\"do\"](\"insertHTML\",c.EMPTY_P),e.cmd[\"do\"](\"insertHTML\",t);var a=e.selection.getSelectionStartElem(),o=null===a||void 0===a?void 0:a.getNodeTop(e);0===(null===o||void 0===o?void 0:o.getNextSibling().elems.length)&&l[\"default\"](c.EMPTY_P).insertAfter(o)}function h(){if(u[\"default\"](e)){var t=e.selection.getSelectionStartElem(),n=null===t||void 0===t?void 0:t.getNodeTop(e);n&&(e.selection.createRangeByElem(n),e.selection.restoreSelection(),n)}}var p=function(t){return e.i18next.t(t)},m={width:500,height:0,tabs:[{title:p(\"menus.panelMenus.code.插入代码\"),tpl:'<div>\\n                        <select name=\"\" id=\"'+o+'\">\\n                            '+(0,a[\"default\"])(r=e.config.languageType).call(r,(function(e){return\"<option \"+(n==e?\"selected\":\"\")+' value =\"'+e+'\">'+e+\"</option>\"}))+'\\n                        </select>\\n                        <textarea id=\"'+i+'\" type=\"text\" class=\"wang-code-textarea\" placeholder=\"\" style=\"height: 160px\">'+t.replace(/&quot;/g,'\"')+'</textarea>\\n                        <div class=\"w-e-button-container\">\\n                            <button type=\"button\" id=\"'+d+'\" class=\"right\">'+(u[\"default\"](e)?p(\"修改\"):p(\"插入\"))+\"</button>\\n                        </div>\\n                    </div>\",events:[{selector:\"#\"+d,type:\"click\",fn:function(){var t,n,r=document.getElementById(i),a=l[\"default\"](\"#\"+o),s=a.val(),c=r.value;if(t=e.highlight?e.highlight.highlightAuto(c).value:\"<xmp>\"+c+\"</xmp>\",c)return!u[\"default\"](e)&&(n='<pre><code class=\"'+s+'\">'+t+\"</code></pre>\",f(n),!0)}}]}]};return m}t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(412)),s=a.__importDefault(n(413));function l(e){o[\"default\"](e),s[\"default\"](e)}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.createShowHideFn=void 0;var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(36));function l(e){var t;function n(n){var r=\"menus.panelMenus.code.\",i=function(t,n){return void 0===n&&(n=r),e.i18next.t(n+t)},a=[{$elem:o[\"default\"](\"<span>\"+i(\"删除代码\")+\"</span>\"),onClick:function(e,t){return t.remove(),!0}}];t=new s[\"default\"](e,n,a),t.create()}function r(){t&&(t.remove(),t=null)}return{showCodeTooltip:n,hideCodeTooltip:r}}function u(e){var t=l(e),n=t.showCodeTooltip,r=t.hideCodeTooltip;e.txt.eventHooks.codeClickEvents.push(n),e.txt.eventHooks.clickEvents.push(r),e.txt.eventHooks.toolbarClickEvents.push(r),e.txt.eventHooks.menuClickEvents.push(r),e.txt.eventHooks.textScrollEvents.push(r)}t.createShowHideFn=l,t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=n(7),s=a.__importDefault(n(3));function l(e){var t=e.$textElem,n=e.selection,r=e.txt,i=r.eventHooks.keydownEvents;i.push((function(e){var r;if(40===e.keyCode){var i=n.getSelectionContainerElem(),a=null===(r=t.children())||void 0===r?void 0:r.last();if(\"XMP\"===(null===i||void 0===i?void 0:i.elems[0].tagName)&&\"PRE\"===(null===a||void 0===a?void 0:a.elems[0].tagName)){var l=s[\"default\"](o.EMPTY_P);t.append(l)}}})),i.push((function(r){e.selection.saveRange();var i=n.getSelectionContainerElem();if(i){var a=i.getNodeTop(e),l=null===a||void 0===a?void 0:a.prev(),u=null===a||void 0===a?void 0:a.getNextSibling();if(l.length&&\"PRE\"===(null===l||void 0===l?void 0:l.getNodeName())&&0===u.length&&0===n.getCursorPos()&&8===r.keyCode){var c=s[\"default\"](o.EMPTY_P);t.append(c)}}}))}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(23)),s=a.__importDefault(n(3)),l=a.__importDefault(n(415)),u=n(6),c=n(7),d=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"分割线\"><i class=\"w-e-icon-split-line\"></i></div>');return n=e.call(this,r,t)||this,l[\"default\"](t),n}return a.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor,t=e.selection.getRange(),n=e.selection.getSelectionContainerElem();if(null===n||void 0===n?void 0:n.length){var r=s[\"default\"](n.elems[0]),i=r.parentUntil(\"TABLE\",n.elems[0]),a=r.children();\"CODE\"!==r.getNodeName()&&(i&&\"TABLE\"===s[\"default\"](i.elems[0]).getNodeName()||a&&0!==a.length&&\"IMG\"===s[\"default\"](a.elems[0]).getNodeName()&&!(null===t||void 0===t?void 0:t.collapsed)||this.createSplitLine())}},t.prototype.createSplitLine=function(){var e=\"<hr/>\"+c.EMPTY_P;u.UA.isFirefox&&(e=\"<hr/><p></p>\"),this.editor.cmd[\"do\"](\"insertHTML\",e)},t.prototype.tryChangeActive=function(){},t}(o[\"default\"]);t[\"default\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(416));function s(e){o[\"default\"](e)}t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=a.__importDefault(n(36));function l(e){var t;function n(n){var r=[{$elem:o[\"default\"](\"<span>\"+e.i18next.t(\"menus.panelMenus.删除\")+\"</span>\"),onClick:function(e,t){return e.selection.createRangeByElem(t),e.selection.restoreSelection(),e.cmd[\"do\"](\"delete\"),!0}}];t=new s[\"default\"](e,n,r),t.create()}function r(){t&&(t.remove(),t=null)}return{showSplitLineTooltip:n,hideSplitLineTooltip:r}}function u(e){var t=l(e),n=t.showSplitLineTooltip,r=t.hideSplitLineTooltip;e.txt.eventHooks.splitLineEvents.push(n),e.txt.eventHooks.clickEvents.push(r),e.txt.eventHooks.keyupEvents.push(r),e.txt.eventHooks.toolbarClickEvents.push(r),e.txt.eventHooks.menuClickEvents.push(r),e.txt.eventHooks.textScrollEvents.push(r)}t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=o.__importDefault(n(23)),u=n(101),c=o.__importDefault(n(423)),d=o.__importDefault(n(141)),f=function(e){function t(t){var n=this,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"待办事项\">\\n                    <i class=\"w-e-icon-checkbox-checked\"></i>\\n                </div>');return n=e.call(this,r,t)||this,c[\"default\"](t),n}return o.__extends(t,e),t.prototype.clickHandler=function(){var e=this.editor;u.isAllTodo(e)?(this.cancelTodo(),this.tryChangeActive()):this.setTodo()},t.prototype.tryChangeActive=function(){u.isAllTodo(this.editor)?this.active():this.unActive()},t.prototype.setTodo=function(){var e=this.editor,t=e.selection.getSelectionRangeTopNodes();(0,a[\"default\"])(t).call(t,(function(t){var n,r=null===t||void 0===t?void 0:t.getNodeName();if(\"P\"===r){var i=d[\"default\"](t),a=i.getTodo(),o=null===(n=a.children())||void 0===n?void 0:n.getNode();a.insertAfter(t),e.selection.moveCursor(o),t.remove()}})),this.tryChangeActive()},t.prototype.cancelTodo=function(){var e=this.editor,t=e.selection.getSelectionRangeTopNodes();(0,a[\"default\"])(t).call(t,(function(t){var n,r,i,a=null===(r=null===(n=t.childNodes())||void 0===n?void 0:n.childNodes())||void 0===r?void 0:r.clone(!0),o=s[\"default\"](\"<p></p>\");o.append(a),o.insertAfter(t),null===(i=o.childNodes())||void 0===i||i.get(0).remove(),e.selection.moveCursor(o.getNode()),t.remove()}))},t}(l[\"default\"]);t[\"default\"]=f},function(e,t,n){e.exports=n(419)},function(e,t,n){var r=n(420);e.exports=r},function(e,t,n){var r=n(421),i=Array.prototype;e.exports=function(e){var t=e.every;return e===i||e instanceof Array&&t===i.every?r:t}},function(e,t,n){n(422);var r=n(14);e.exports=r(\"Array\").every},function(e,t,n){\"use strict\";var r=n(5),i=n(30).every,a=n(70),o=a(\"every\");r({target:\"Array\",proto:!0,forced:!o},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3)),l=n(101),u=o.__importDefault(n(141)),c=n(101),d=n(7);function f(e){function t(t){var n,r;if(l.isAllTodo(e)){t.preventDefault();var i=e.selection,o=i.getSelectionRangeTopNodes()[0],f=null===(n=o.childNodes())||void 0===n?void 0:n.get(0),h=null===(r=window.getSelection())||void 0===r?void 0:r.anchorNode,p=i.getRange();if(!(null===p||void 0===p?void 0:p.collapsed)){var m=null===p||void 0===p?void 0:p.commonAncestorContainer.childNodes,v=null===p||void 0===p?void 0:p.startContainer,g=null===p||void 0===p?void 0:p.endContainer,_=null===p||void 0===p?void 0:p.startOffset,y=null===p||void 0===p?void 0:p.endOffset,x=0,b=0,w=[];null===m||void 0===m||(0,a[\"default\"])(m).call(m,(function(e,t){e.contains(v)&&(x=t),e.contains(g)&&(b=t)})),b-x>1&&(null===m||void 0===m||(0,a[\"default\"])(m).call(m,(function(e,t){t<=x||t>=b||w.push(e)})),(0,a[\"default\"])(w).call(w,(function(e){e.remove()}))),c.dealTextNode(v,_),c.dealTextNode(g,y,!1),e.selection.moveCursor(g,0)}if(\"\"===o.text()){var A=s[\"default\"](d.EMPTY_P);return A.insertAfter(o),i.moveCursor(A.getNode()),void o.remove()}var T=i.getCursorPos(),S=l.getCursorNextNode(null===f||void 0===f?void 0:f.getNode(),h,T),E=u[\"default\"](s[\"default\"](S)),C=E.getInputContainer(),M=C.parent().getNode(),D=E.getTodo(),N=C.getNode().nextSibling;if(\"\"===(null===f||void 0===f?void 0:f.text())&&(null===f||void 0===f||f.append(s[\"default\"](\"<br>\"))),D.insertAfter(o),N&&\"\"!==(null===N||void 0===N?void 0:N.textContent))i.moveCursor(M);else{if(\"BR\"!==(null===N||void 0===N?void 0:N.nodeName)){var L=s[\"default\"](\"<br>\");L.insertAfter(C)}i.moveCursor(M,1)}}}function n(t){var n,r;if(l.isAllTodo(e)){var i,o=e.selection,u=o.getSelectionRangeTopNodes()[0],c=null===(n=u.childNodes())||void 0===n?void 0:n.getNode(),f=s[\"default\"](\"<p></p>\"),h=f.getNode(),p=null===(r=window.getSelection())||void 0===r?void 0:r.anchorNode,m=o.getCursorPos(),v=p.previousSibling;if(\"\"===u.text()){t.preventDefault();var g=s[\"default\"](d.EMPTY_P);return g.insertAfter(u),u.remove(),void o.moveCursor(g.getNode(),0)}if(\"SPAN\"===(null===v||void 0===v?void 0:v.nodeName)&&\"INPUT\"===v.childNodes[0].nodeName&&0===m)t.preventDefault(),null===c||void 0===c||(0,a[\"default\"])(i=c.childNodes).call(i,(function(e,t){0!==t&&h.appendChild(e.cloneNode(!0))})),f.insertAfter(u),u.remove()}}function r(){var t=e.selection,n=t.getSelectionRangeTopNodes()[0];n&&c.isTodo(n)&&\"\"===n.text()&&(s[\"default\"](d.EMPTY_P).insertAfter(n),n.remove())}function i(e){e&&e.target instanceof HTMLInputElement&&\"checkbox\"===e.target.type&&(e.target.checked?e.target.setAttribute(\"checked\",\"true\"):e.target.removeAttribute(\"checked\"))}e.txt.eventHooks.enterDownEvents.push(t),e.txt.eventHooks.deleteUpEvents.push(r),e.txt.eventHooks.deleteDownEvents.push(n),e.txt.eventHooks.clickEvents.push(i)}t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.selectorValidator=void 0;var a=n(2),o=a.__importDefault(n(3)),s=n(6),l=n(7),u=a.__importDefault(n(130)),c={border:\"1px solid #c9d8db\",toolbarBgColor:\"#FFF\",toolbarBottomBorder:\"1px solid #EEE\"};function d(e){var t,n,r,i=e.toolbarSelector,a=o[\"default\"](i),d=e.textSelector,f=e.config,h=f.height,p=e.i18next,m=o[\"default\"](\"<div></div>\"),v=o[\"default\"](\"<div></div>\"),g=null;null==d?(n=a.children(),a.append(m).append(v),m.css(\"background-color\",c.toolbarBgColor).css(\"border\",c.border).css(\"border-bottom\",c.toolbarBottomBorder),v.css(\"border\",c.border).css(\"border-top\",\"none\").css(\"height\",h+\"px\")):(a.append(m),g=o[\"default\"](d).children(),o[\"default\"](d).append(v),n=v.children()),t=o[\"default\"](\"<div></div>\"),t.attr(\"contenteditable\",\"true\").css(\"width\",\"100%\").css(\"height\",\"100%\");var _=e.config.placeholder;r=_!==u[\"default\"].placeholder?o[\"default\"](\"<div>\"+_+\"</div>\"):o[\"default\"](\"<div>\"+p.t(_)+\"</div>\"),r.addClass(\"placeholder\"),n&&n.length?(t.append(n),r.hide()):t.append(o[\"default\"](l.EMPTY_P)),g&&g.length&&(t.append(g),r.hide()),v.append(t),v.append(r),m.addClass(\"w-e-toolbar\").css(\"z-index\",e.zIndex.get(\"toolbar\")),v.addClass(\"w-e-text-container\"),v.css(\"z-index\",e.zIndex.get()),t.addClass(\"w-e-text\");var y=s.getRandom(\"toolbar-elem\");m.attr(\"id\",y);var x=s.getRandom(\"text-elem\");t.attr(\"id\",x);var b=v.getBoundingClientRect().height,w=t.getBoundingClientRect().height;b!==w&&t.css(\"min-height\",b+\"px\"),e.$toolbarElem=m,e.$textContainerElem=v,e.$textElem=t,e.toolbarElemId=y,e.textElemId=x}function f(e){var t=\"data-we-id\",n=/^wangEditor-\\d+$/,r=e.textSelector,i=e.toolbarSelector,a={bar:o[\"default\"](\"<div></div>\"),text:o[\"default\"](\"<div></div>\")};if(null==i)throw new Error(\"错误：初始化编辑器时候未传入任何参数，请查阅文档\");if(a.bar=o[\"default\"](i),!a.bar.elems.length)throw new Error(\"无效的节点选择器：\"+i);if(n.test(a.bar.attr(t)))throw new Error(\"初始化节点已存在编辑器实例，无法重复创建编辑器\");if(r){if(a.text=o[\"default\"](r),!a.text.elems.length)throw new Error(\"无效的节点选择器：\"+r);if(n.test(a.text.attr(t)))throw new Error(\"初始化节点已存在编辑器实例，无法重复创建编辑器\")}a.bar.attr(t,e.id),a.text.attr(t,e.id),e.beforeDestroy((function(){a.bar.removeAttr(t),a.text.removeAttr(t)}))}t[\"default\"]=d,t.selectorValidator=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(3)),s=n(7);function l(e,t){var n=e.$textElem,r=n.children();if(!r||!r.length)return n.append(o[\"default\"](s.EMPTY_P)),void l(e);var i=r.last();if(t){var a=i.html().toLowerCase(),u=i.getNodeName();if(\"<br>\"!==a&&\"<br/>\"!==a||\"P\"!==u)return n.append(o[\"default\"](s.EMPTY_P)),void l(e)}e.selection.createRangeByElem(i,!1,!0),e.config.focus?e.selection.restoreSelection():e.selection.clearWindowSelectionRange()}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3));function l(e){u(e),c(e),d(e)}function u(e){e.txt.eventHooks.changeEvents.push((function(){var t=e.config.onchange;if(t){var n=e.txt.html()||\"\";e.isFocus=!0,t(n)}e.txt.togglePlaceholder()}))}function c(e){function t(t){var n=t.target,r=s[\"default\"](n),i=e.$textElem,a=e.$toolbarElem,o=i.isContain(r),l=a.isContain(r),u=a.elems[0]==t.target;if(o)e.isFocus||h(e),e.isFocus=!0;else{if(l&&!u||!e.isFocus)return;f(e),e.isFocus=!1}}e.isFocus=!1,document.activeElement===e.$textElem.elems[0]&&e.config.focus&&(h(e),e.isFocus=!0),s[\"default\"](document).on(\"click\",t),e.beforeDestroy((function(){s[\"default\"](document).off(\"click\",t)}))}function d(e){e.$textElem.on(\"compositionstart\",(function(){e.isComposing=!0,e.txt.togglePlaceholder()})).on(\"compositionend\",(function(){e.isComposing=!1,e.txt.togglePlaceholder()}))}function f(e){var t,n=e.config,r=n.onblur,i=e.txt.html()||\"\";(0,a[\"default\"])(t=e.txt.eventHooks.onBlurEvents).call(t,(function(e){return e()})),r(i)}function h(e){var t=e.config,n=t.onfocus,r=e.txt.html()||\"\";n(r)}t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));function a(e){var t=e.config,n=t.lang,r=t.languages;if(null==e.i18next)e.i18next={t:function(e){var t=e.split(\".\");return t[t.length-1]}};else try{e.i18next.init({ns:\"wangEditor\",lng:n,defaultNS:\"wangEditor\",resources:r})}catch(i){throw new Error(\"i18next:\"+i)}}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(31));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.setUnFullScreen=t.setFullScreen=void 0;var o=n(2),s=o.__importDefault(n(3));n(429);var l=\"w-e-icon-fullscreen\",u=\"w-e-icon-fullscreen_exit\",c=\"w-e-full-screen-editor\",d=function(e){var t=s[\"default\"](e.toolbarSelector),n=e.$textContainerElem,r=e.$toolbarElem,i=(0,a[\"default\"])(r).call(r,\"i.\"+l),o=e.config;i.removeClass(l),i.addClass(u),t.addClass(c),t.css(\"z-index\",o.zIndexFullScreen);var d=r.getBoundingClientRect();n.css(\"height\",\"calc(100% - \"+d.height+\"px)\")};t.setFullScreen=d;var f=function(e){var t=s[\"default\"](e.toolbarSelector),n=e.$textContainerElem,r=e.$toolbarElem,i=(0,a[\"default\"])(r).call(r,\"i.\"+u),o=e.config;i.removeClass(u),i.addClass(l),t.removeClass(c),t.css(\"z-index\",\"auto\"),n.css(\"height\",o.height+\"px\")};t.setUnFullScreen=f;var h=function(e){if(!e.textSelector&&e.config.showFullScreen){var n=e.$toolbarElem,r=s[\"default\"]('<div class=\"w-e-menu\" data-title=\"全屏\">\\n            <i class=\"'+l+'\"></i>\\n        </div>');r.on(\"click\",(function(n){var i,o=(0,a[\"default\"])(i=s[\"default\"](n.currentTarget)).call(i,\"i\");o.hasClass(l)?(r.attr(\"data-title\",\"取消全屏\"),t.setFullScreen(e)):(r.attr(\"data-title\",\"全屏\"),t.setUnFullScreen(e))})),n.append(r)}};t[\"default\"]=h},function(e,t,n){var r=n(21),i=n(430);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,\".w-e-full-screen-editor {\\n  position: fixed;\\n  width: 100%!important;\\n  height: 100%!important;\\n  left: 0;\\n  top: 0;\\n}\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(31));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=function(e,t){var n,r=e.isEnable?e.$textElem:(0,a[\"default\"])(n=e.$textContainerElem).call(n,\".w-e-content-mantle\"),i=(0,a[\"default\"])(r).call(r,\"[id='\"+t+\"']\"),o=i.getOffsetData().top;r.scrollTop(o)};t[\"default\"]=o},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(129)),s={menu:2,panel:2,toolbar:1,tooltip:1,textContainer:1},l=function(){function e(){this.tier=s,this.baseZIndex=o[\"default\"].zIndex}return e.prototype.get=function(e){return e&&this.tier[e]?this.baseZIndex+this.tier[e]:this.baseZIndex},e.prototype.init=function(e){this.baseZIndex==o[\"default\"].zIndex&&(this.baseZIndex=e.config.zIndex)},e}();t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(73)),o=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var s=n(2),l=s.__importDefault(n(434)),u=n(6),c=n(7);function d(e,t){return(0,a[\"default\"])(e).call(e,(function(e){var n=e.type,r=e.target,i=e.attributeName;return\"attributes\"!=n||\"attributes\"==n&&(\"contenteditable\"==i||r!=t)}))}var f=function(e){function t(t){var n=e.call(this,(function(e,r){var i;if(e=d(e,r.target),(i=n.data).push.apply(i,e),t.isCompatibleMode)n.asyncSave();else if(!t.isComposing)return n.asyncSave()}))||this;return n.editor=t,n.data=[],n.asyncSave=c.EMPTY_FN,n}return s.__extends(t,e),t.prototype.save=function(){this.data.length&&(this.editor.history.save(this.data),this.data.length=0,this.emit())},t.prototype.emit=function(){var e;(0,o[\"default\"])(e=this.editor.txt.eventHooks.changeEvents).call(e,(function(e){return e()}))},t.prototype.observe=function(){var t=this;e.prototype.observe.call(this,this.editor.$textElem.elems[0]);var n=this.editor.config.onchangeTimeout;this.asyncSave=u.debounce((function(){t.save()}),n),this.editor.isCompatibleMode||this.editor.$textElem.on(\"compositionend\",(function(){t.asyncSave()}))},t}(l[\"default\"]);t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){var n=this;this.options={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0},this.callback=function(t){e(t,n)},this.observer=new MutationObserver(this.callback),t&&(this.options=t)}return(0,i[\"default\"])(e.prototype,\"target\",{get:function(){return this.node},enumerable:!1,configurable:!0}),e.prototype.observe=function(e){this.node instanceof Node||(this.node=e,this.connect())},e.prototype.connect=function(){if(this.node)return this.observer.observe(this.node,this.options),this;throw new Error(\"还未初始化绑定，请您先绑定有效的 Node 节点\")},e.prototype.disconnect=function(){var e=this.observer.takeRecords();e.length&&this.callback(e),this.observer.disconnect()},e}();t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(436)),s=a.__importDefault(n(443)),l=a.__importDefault(n(444)),u=function(){function e(e){this.editor=e,this.content=new o[\"default\"](e),this.scroll=new s[\"default\"](e),this.range=new l[\"default\"](e)}return(0,i[\"default\"])(e.prototype,\"size\",{get:function(){return this.scroll.size},enumerable:!1,configurable:!0}),e.prototype.observe=function(){this.content.observe(),this.scroll.observe(),!this.editor.isCompatibleMode&&this.range.observe()},e.prototype.save=function(e){e.length&&(this.content.save(e),this.scroll.save(),!this.editor.isCompatibleMode&&this.range.save())},e.prototype.revoke=function(){this.editor.change.disconnect();var e=this.content.revoke();e&&(this.scroll.revoke(),this.editor.isCompatibleMode||(this.range.revoke(),this.editor.$textElem.focus())),this.editor.change.connect(),e&&this.editor.change.emit()},e.prototype.restore=function(){this.editor.change.disconnect();var e=this.content.restore();e&&(this.scroll.restore(),this.editor.isCompatibleMode||(this.range.restore(),this.editor.$textElem.focus())),this.editor.change.connect(),e&&this.editor.change.emit()},e}();t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(437)),s=a.__importDefault(n(441)),l=function(){function e(e){this.editor=e}return e.prototype.observe=function(){this.editor.isCompatibleMode?this.cache=new s[\"default\"](this.editor):this.cache=new o[\"default\"](this.editor),this.cache.observe()},e.prototype.save=function(e){this.editor.isCompatibleMode?this.cache.save():this.cache.compile(e)},e.prototype.revoke=function(){var e;return null===(e=this.cache)||void 0===e?void 0:e.revoke()},e.prototype.restore=function(){var e;return null===(e=this.cache)||void 0===e?void 0:e.restore()},e}();t[\"default\"]=l},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(102)),s=a.__importDefault(n(439)),l=n(440),u=function(e){function t(t){var n=e.call(this,t.config.historyMaxSize)||this;return n.editor=t,n}return a.__extends(t,e),t.prototype.observe=function(){this.resetMaxSize(this.editor.config.historyMaxSize)},t.prototype.compile=function(e){return this.save(s[\"default\"](e)),this},t.prototype.revoke=function(){return e.prototype.revoke.call(this,(function(e){l.revoke(e)}))},t.prototype.restore=function(){return e.prototype.restore.call(this,(function(e){l.restore(e)}))},t}(o[\"default\"]);t[\"default\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.CeilStack=void 0;var a=function(){function e(e){void 0===e&&(e=0),this.data=[],this.max=0,this.reset=!1,e=Math.abs(e),e&&(this.max=e)}return e.prototype.resetMax=function(e){e=Math.abs(e),this.reset||isNaN(e)||(this.max=e,this.reset=!0)},(0,i[\"default\"])(e.prototype,\"size\",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),e.prototype.instack=function(e){return this.data.unshift(e),this.max&&this.size>this.max&&(this.data.length=this.max),this},e.prototype.outstack=function(){return this.data.shift()},e.prototype.clear=function(){return this.data.length=0,this},e}();t.CeilStack=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(27));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.compliePosition=t.complieNodes=t.compileValue=t.compileType=void 0;var s=n(6);function l(e){switch(e){case\"childList\":return\"node\";case\"attributes\":return\"attr\";default:return\"text\"}}function u(e){switch(e.type){case\"attributes\":return e.target.getAttribute(e.attributeName)||\"\";case\"characterData\":return e.target.textContent;default:return\"\"}}function c(e){var t={};return e.addedNodes.length&&(t.add=s.toArray(e.addedNodes)),e.removedNodes.length&&(t.remove=s.toArray(e.removedNodes)),t}function d(e){var t;return t=e.previousSibling?{type:\"before\",target:e.previousSibling}:e.nextSibling?{type:\"after\",target:e.nextSibling}:{type:\"parent\",target:e.target},t}t.compileType=l,t.compileValue=u,t.complieNodes=c,t.compliePosition=d;var f=[\"UL\",\"OL\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\"];function h(e){var t=[],n=!1,r=[];return(0,a[\"default\"])(e).call(e,(function(e,i){var a={type:l(e.type),target:e.target,attr:e.attributeName||\"\",value:u(e)||\"\",oldValue:e.oldValue||\"\",nodes:c(e),position:d(e)};if(t.push(a),s.UA.isFirefox){if(n&&e.addedNodes.length&&1==e.addedNodes[0].nodeType){var h=e.addedNodes[0],m={type:\"node\",target:h,attr:\"\",value:\"\",oldValue:\"\",nodes:{add:[n]},position:{type:\"parent\",target:h}};-1!=(0,o[\"default\"])(f).call(f,h.nodeName)?(m.nodes.add=s.toArray(h.childNodes),t.push(m)):3==n.nodeType?(p(h,r)&&(m.nodes.add=s.toArray(h.childNodes)),t.push(m)):-1==(0,o[\"default\"])(f).call(f,e.target.nodeName)&&p(h,r)&&(m.nodes.add=s.toArray(h.childNodes),t.push(m))}\"node\"==a.type&&1==e.removedNodes.length?(n=e.removedNodes[0],r.push(n)):(n=!1,r.length=0)}})),t}function p(e,t){for(var n=0,r=t.length-1;r>0;r--){if(!e.contains(t[r]))break;n++}return n}t[\"default\"]=h},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(4)),o=r(n(98));function s(e,t){var n=e.position.target;switch(e.position.type){case\"before\":n.nextSibling?(n=n.nextSibling,(0,a[\"default\"])(t).call(t,(function(t){e.target.insertBefore(t,n)}))):(0,a[\"default\"])(t).call(t,(function(t){e.target.appendChild(t)}));break;case\"after\":(0,a[\"default\"])(t).call(t,(function(t){e.target.insertBefore(t,n)}));break;default:(0,a[\"default\"])(t).call(t,(function(e){n.appendChild(e)}));break}}function l(e){for(var t=0,n=(0,o[\"default\"])(e.nodes);t<n.length;t++){var r=n[t],i=r[0],l=r[1];switch(i){case\"add\":(0,a[\"default\"])(l).call(l,(function(t){e.target.removeChild(t)}));break;default:s(e,l);break}}}function u(e){var t=e.target;null==e.oldValue?t.removeAttribute(e.attr):t.setAttribute(e.attr,e.oldValue)}function c(e){e.target.textContent=e.oldValue}(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.restore=t.revoke=void 0;var d={node:l,text:c,attr:u};function f(e){for(var t=e.length-1;t>-1;t--){var n=e[t];d[n.type](n)}}function h(e){for(var t=0,n=(0,o[\"default\"])(e.nodes);t<n.length;t++){var r=n[t],i=r[0],l=r[1];switch(i){case\"add\":s(e,l);break;default:(0,a[\"default\"])(l).call(l,(function(e){e.parentNode.removeChild(e)}));break}}}function p(e){e.target.textContent=e.value}function m(e){e.target.setAttribute(e.attr,e.value)}t.revoke=f;var v={node:h,text:p,attr:m};function g(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];v[r.type](r)}}t.restore=g},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(442),o=function(){function e(e){this.editor=e,this.data=new a.TailChain}return e.prototype.observe=function(){this.data.resetMax(this.editor.config.historyMaxSize),this.data.insertLast(this.editor.$textElem.html())},e.prototype.save=function(){return this.data.insertLast(this.editor.$textElem.html()),this},e.prototype.revoke=function(){var e=this.data.prev();return!!e&&(this.editor.$textElem.html(e),!0)},e.prototype.restore=function(){var e=this.data.next();return!!e&&(this.editor.$textElem.html(e),!0)},e}();t[\"default\"]=o},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(95));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.TailChain=void 0;var o=function(){function e(){this.data=[],this.max=0,this.point=0,this.isRe=!1}return e.prototype.resetMax=function(e){e=Math.abs(e),e&&(this.max=e)},(0,i[\"default\"])(e.prototype,\"size\",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),e.prototype.insertLast=function(e){var t;this.isRe&&((0,a[\"default\"])(t=this.data).call(t,this.point+1),this.isRe=!1);this.data.push(e);while(this.max&&this.size>this.max)this.data.shift();return this.point=this.size-1,this},e.prototype.current=function(){return this.data[this.point]},e.prototype.prev=function(){if(!this.isRe&&(this.isRe=!0),this.point--,!(this.point<0))return this.current();this.point=0},e.prototype.next=function(){if(!this.isRe&&(this.isRe=!0),this.point++,!(this.point>=this.size))return this.current();this.point=this.size-1},e}();t.TailChain=o},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(102)),s=function(e){function t(t){var n=e.call(this,t.config.historyMaxSize)||this;return n.editor=t,n.last=0,n.target=t.$textElem.elems[0],n}return a.__extends(t,e),t.prototype.observe=function(){var e=this;this.target=this.editor.$textElem.elems[0],this.editor.$textElem.on(\"scroll\",(function(){e.last=e.target.scrollTop})),this.resetMaxSize(this.editor.config.historyMaxSize)},t.prototype.save=function(){return e.prototype.save.call(this,[this.last,this.target.scrollTop]),this},t.prototype.revoke=function(){var t=this;return e.prototype.revoke.call(this,(function(e){t.target.scrollTop=e[0]}))},t.prototype.restore=function(){var t=this;return e.prototype.restore.call(this,(function(e){t.target.scrollTop=e[1]}))},t}(o[\"default\"]);t[\"default\"]=s},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=n(2),o=a.__importDefault(n(102)),s=a.__importDefault(n(3)),l=n(6);function u(e){return{start:[e.startContainer,e.startOffset],end:[e.endContainer,e.endOffset],root:e.commonAncestorContainer,collapsed:e.collapsed}}var c=function(e){function t(t){var n=e.call(this,t.config.historyMaxSize)||this;return n.editor=t,n.lastRange=u(document.createRange()),n.root=t.$textElem.elems[0],n.updateLastRange=l.debounce((function(){n.lastRange=u(n.rangeHandle)}),t.config.onchangeTimeout),n}return a.__extends(t,e),(0,i[\"default\"])(t.prototype,\"rangeHandle\",{get:function(){var e=document.getSelection();return e&&e.rangeCount?e.getRangeAt(0):document.createRange()},enumerable:!1,configurable:!0}),t.prototype.observe=function(){var e=this;function t(){var t=e.rangeHandle;(e.root===t.commonAncestorContainer||e.root.contains(t.commonAncestorContainer))&&(e.editor.isComposing||e.updateLastRange())}function n(t){\"Backspace\"!=t.key&&\"Delete\"!=t.key||e.updateLastRange()}this.root=this.editor.$textElem.elems[0],this.resetMaxSize(this.editor.config.historyMaxSize),s[\"default\"](document).on(\"selectionchange\",t),this.editor.beforeDestroy((function(){s[\"default\"](document).off(\"selectionchange\",t)})),e.editor.$textElem.on(\"keydown\",n)},t.prototype.save=function(){var t=u(this.rangeHandle);return e.prototype.save.call(this,[this.lastRange,t]),this.lastRange=t,this},t.prototype.set=function(e){try{if(e){var t=this.rangeHandle;return t.setStart.apply(t,e.start),t.setEnd.apply(t,e.end),this.editor.menus.changeActive(),!0}}catch(n){return!1}return!1},t.prototype.revoke=function(){var t=this;return e.prototype.revoke.call(this,(function(e){t.set(e[0])}))},t.prototype.restore=function(){var t=this;return e.prototype.restore.call(this,(function(e){t.set(e[1])}))},t}(o[\"default\"]);t[\"default\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(31));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var o=n(2),s=o.__importDefault(n(3));function l(e){var t,n,r=!1;function i(){if(!r){e.$textElem.hide();var i=e.zIndex.get(\"textContainer\"),a=e.txt.html();t=s[\"default\"]('<div class=\"w-e-content-mantle\" style=\"z-index:'+i+'\">\\n                <div class=\"w-e-content-preview w-e-text\">'+a+\"</div>\\n            </div>\"),e.$textContainerElem.append(t);var o=e.zIndex.get(\"menu\");n=s[\"default\"]('<div class=\"w-e-menue-mantle\" style=\"z-index:'+o+'\"></div>'),e.$toolbarElem.append(n),r=!0,e.isEnable=!1}}function o(){r&&(t.remove(),n.remove(),e.$textElem.show(),r=!1,e.isEnable=!0)}return e.txt.eventHooks.changeEvents.push((function(){r&&(0,a[\"default\"])(t).call(t,\".w-e-content-preview\").html(e.$textElem.html())})),{disable:i,enable:o}}n(446),t[\"default\"]=l},function(e,t,n){var r=n(21),i=n(447);i=i.__esModule?i.default:i,\"string\"===typeof i&&(i=[[e.i,i,\"\"]]);var a={insert:\"head\",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){var r=n(22);t=r(!1),t.push([e.i,\".w-e-content-mantle {\\n  width: 100%;\\n  height: 100%;\\n  overflow-y: auto;\\n}\\n.w-e-content-mantle .w-e-content-preview {\\n  width: 100%;\\n  min-height: 100%;\\n  padding: 0 10px;\\n  line-height: 1.5;\\n}\\n.w-e-content-mantle .w-e-content-preview img {\\n  cursor: default;\\n}\\n.w-e-content-mantle .w-e-content-preview img:hover {\\n  box-shadow: none;\\n}\\n.w-e-menue-mantle {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n}\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0});var a=function(){function e(e){var t=this;this.editor=e;var n=function(){var n=document.activeElement;n===e.$textElem.elems[0]&&t.emit()};window.document.addEventListener(\"selectionchange\",n),this.editor.beforeDestroy((function(){window.document.removeEventListener(\"selectionchange\",n)}))}return e.prototype.emit=function(){var e,t=this.editor.config.onSelectionChange;if(t){var n=this.editor.selection;n.saveRange(),n.isSelectionEmpty()||t({text:n.getSelectionText(),html:null===(e=n.getSelectionContainerElem())||void 0===e?void 0:e.elems[0].innerHTML,selection:n})}},e}();t[\"default\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1)),a=r(n(128)),o=r(n(98)),s=r(n(4));(0,i[\"default\"])(t,\"__esModule\",{value:!0}),t.registerPlugin=void 0;var l=n(2),u=l.__importDefault(n(91)),c=n(6);function d(e,t,n){if(!e)throw new TypeError(\"name is not define\");if(!t)throw new TypeError(\"options is not define\");if(!t.intention)throw new TypeError(\"options.intention is not define\");if(t.intention&&\"function\"!==typeof t.intention)throw new TypeError(\"options.intention is not function\");n[e]&&console.warn(\"plugin \"+e+\" 已存在，已覆盖。\"),n[e]=t}function f(e){var t=(0,a[\"default\"])({},c.deepClone(u[\"default\"].globalPluginsFunctionList),c.deepClone(e.pluginsFunctionList)),n=(0,o[\"default\"])(t);(0,s[\"default\"])(n).call(n,(function(t){var n=t[0],r=t[1];console.info(\"plugin \"+n+\" initializing\");var i=r.intention,a=r.config;i(e,a),console.info(\"plugin \"+n+\" initialization complete\")}))}t.registerPlugin=d,t[\"default\"]=f},function(e,t,n){\"use strict\";var r=n(0),i=r(n(1));(0,i[\"default\"])(t,\"__esModule\",{value:!0})}])[\"default\"]}))},\"70a5\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"6b54\");var i=r(n(\"1cf4\")),a=n(\"76e9\"),o=n(\"aa50\"),s=n(\"a327\"),l={name:\"GeneratorConfig\",components:{},mixins:[i.default],data:function(){return{activeName:\"first\",tableName:\"\",tableHeight:550,columnLoading:!1,configLoading:!1,dicts:[],syncLoading:!1,genLoading:!1,form:{id:null,tableName:\"\",author:\"\",pack:\"\",path:\"\",moduleName:\"\",cover:\"false\",apiPath:\"\",prefix:\"\",apiAlias:null},rules:{author:[{required:!0,message:\"作者不能为空\",trigger:\"blur\"}],pack:[{required:!0,message:\"包路径不能为空\",trigger:\"blur\"}],moduleName:[{required:!0,message:\"包路径不能为空\",trigger:\"blur\"}],path:[{required:!0,message:\"前端路径不能为空\",trigger:\"blur\"}],apiAlias:[{required:!0,message:\"接口名称不能为空\",trigger:\"blur\"}],cover:[{required:!0,message:\"不能为空\",trigger:\"blur\"}]}}},created:function(){var e=this;this.tableHeight=document.documentElement.clientHeight-385,this.tableName=this.$route.query.tableName,this.$nextTick((function(){e.init(),(0,a.get)(e.tableName).then((function(t){e.form=t,e.form.cover=e.form.cover.toString()})),(0,s.getDicts)().then((function(t){e.dicts=t}))}))},methods:{beforeInit:function(){this.url=\"api/generator/columns\";var e=this.tableName;return this.params={tableName:e},!0},saveColumnConfig:function(){var e=this;this.columnLoading=!0,(0,o.save)(this.data).then((function(t){e.notify(\"保存成功\",\"success\"),e.columnLoading=!1})).catch((function(t){e.columnLoading=!1}))},doSubmit:function(){var e=this;this.$refs[\"form\"].validate((function(t){t&&(e.configLoading=!0,(0,a.update)(e.form).then((function(t){e.notify(\"保存成功\",\"success\"),e.form=t,e.form.cover=e.form.cover.toString(),e.configLoading=!1})).catch((function(t){e.configLoading=!1})))}))},sync:function(){var e=this;this.syncLoading=!0,(0,o.sync)([this.tableName]).then((function(){e.init(),e.notify(\"同步成功\",\"success\"),e.syncLoading=!1})).then((function(){e.syncLoading=!1}))},toGen:function(){var e=this;this.genLoading=!0,(0,o.save)(this.data).then((function(t){e.notify(\"保存成功\",\"success\"),(0,o.generator)(e.tableName,0).then((function(t){e.genLoading=!1,e.notify(\"生成成功\",\"success\")})).catch((function(t){e.genLoading=!1}))})).catch((function(t){e.genLoading=!1}))}}};t.default=l},\"719c\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"738a\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",placeholder:\"输入搜索内容\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.blurry,callback:function(t){e.$set(e.query,\"blurry\",t)},expression:\"query.blurry\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",staticStyle:{width:\"240px\"},attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"部署开始日期\",\"end-placeholder\":\"部署结束日期\"},model:{value:e.query.deployDate,callback:function(t){e.$set(e.query,\"deployDate\",t)},expression:\"query.deployDate\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}})],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"appName\")?n(\"el-table-column\",{attrs:{prop:\"appName\",label:\"应用名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"ip\")?n(\"el-table-column\",{attrs:{prop:\"ip\",label:\"部署IP\"}}):e._e(),e._v(\" \"),e.columns.visible(\"deployUser\")?n(\"el-table-column\",{attrs:{prop:\"deployUser\",label:\"部署人员\"}}):e._e(),e._v(\" \"),e.columns.visible(\"deployDate\")?n(\"el-table-column\",{attrs:{prop:\"deployDate\",label:\"部署时间\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.deployDate)))])]}}],null,!1,3947231672)}):e._e(),e._v(\" \"),n(\"el-table-column\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deployHistory:del\"],expression:\"['admin','deployHistory:del']\"}],attrs:{label:\"操作\",width:\"100px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-popover\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deployHistory:del\"],expression:\"['admin','deployHistory:del']\"}],ref:t.row.id,attrs:{placement:\"top\",width:\"180\"}},[n(\"p\",[e._v(\"确定删除本条数据吗？\")]),e._v(\" \"),n(\"div\",{staticStyle:{\"text-align\":\"right\",margin:\"0\"}},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:function(n){e.$refs[t.row.id].doClose()}}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:e.delLoading,type:\"primary\"},on:{click:function(n){return e.delMethod(t.row.id)}}},[e._v(\"确定\")])],1),e._v(\" \"),n(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\",icon:\"el-icon-delete\"},slot:\"reference\"})],1)]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},7407:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-tabs\",{staticStyle:{\"padding-left\":\"5px\"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:\"activeName\"}},[n(\"el-tab-pane\",{attrs:{label:\"邮箱配置\",name:\"first\"}},[n(\"Config\")],1),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"发送邮件\",name:\"second\"}},[n(\"Send\")],1),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"使用说明\",name:\"third\"}},[n(\"div\",[n(\"blockquote\",{staticClass:\"my-blockquote\"},[e._v(\" 邮件服务器配置\")]),e._v(\" \"),n(\"pre\",{staticClass:\"my-code\"},[e._v(\"# 邮件服务器的SMTP地址，可选，默认为smtp\\n# 邮件服务器的SMTP端口，可选，默认465或者25\\n# 发件人（必须正确，否则发送失败）\\n# 用户名，默认为发件人邮箱前缀\\n# 密码（注意，某些邮箱需要为SMTP服务单独设置密码，如QQ和163等等）\\n# 是否开启ssl，默认开启\")]),e._v(\" \"),n(\"blockquote\",{staticClass:\"my-blockquote\"},[e._v(\"更多帮助\")]),e._v(\" \"),n(\"pre\",{staticClass:\"my-code\"},[e._v(\"更多帮助请查看文档：\"),n(\"a\",{staticStyle:{color:\"#009688\"},attrs:{href:\"http://hutool.mydoc.io/#text_319499\",target:\"_black\"}},[e._v(\"hutool工具包\")])])])])],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},7476:function(e,t,n){\"use strict\";n.r(t);const r=n(\"30c0\"),i=e=>e.keys(),a=/\\.\\/(.*)\\.svg/,o=i(r).map(e=>e.match(a)[1]);t[\"default\"]=o},7514:function(e,t,n){\"use strict\";var r=n(\"5ca1\"),i=n(\"0a49\")(5),a=\"find\",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),r(r.P+r.F*o,\"Array\",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(\"9c6c\")(a)},7636:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"76e9\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"get\",(function(){return i})),n.d(t,\"update\",(function(){return a}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/genConfig/\"+e,method:\"get\"})}function a(e){return Object(r[\"default\"])({url:\"api/genConfig\",data:e,method:\"put\"})}},\"781c\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"7407\"),i=n(\"5f0c\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"5fdffdf8\",null);t[\"default\"]=s.exports},7833:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},7851:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"elFrame\",{attrs:{src:e.sqlApi}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"78af\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"417e\"),i=n(\"396a\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"793f\":function(e,t,n){\"use strict\";var r,i;\n/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var e=[void 0],t=\"zero-timeout-message\",n=function(n){var r=e.length;return e.push(n),window.postMessage(t+r.toString(36),\"*\"),r};return window.addEventListener(\"message\",(function(n){if(\"string\"===typeof n.data&&n.data.substr(0,t.length)===t){n.stopImmediatePropagation();var r=parseInt(n.data.substr(t.length),36);e[r]&&(e[r](),e[r]=void 0)}}),!0),window.clearImmediate=function(t){e[t]&&(e[t]=void 0)},n}()||function(e){window.setTimeout(e,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(e){window.clearTimeout(e)}}()),function(n){var a=function(){var e=document.createElement(\"canvas\");if(!e||!e.getContext)return!1;var t=e.getContext(\"2d\");return!!t.getImageData&&(!!t.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),o=function(){if(a){var e,t,n=document.createElement(\"canvas\").getContext(\"2d\"),r=20;while(r){if(n.font=r.toString(10)+\"px sans-serif\",n.measureText(\"Ｗ\").width===e&&n.measureText(\"m\").width===t)return r+1;e=n.measureText(\"Ｗ\").width,t=n.measureText(\"m\").width,r--}return 0}}(),s=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},l=function(e,t){if(a){Array.isArray(e)||(e=[e]),e.forEach((function(t,n){if(\"string\"===typeof t){if(e[n]=document.getElementById(t),!e[n])throw\"The element id specified is not found.\"}else if(!t.tagName&&!t.appendChild)throw\"You must pass valid HTML elements, or ID of the element.\"}));var n={list:[],fontFamily:'\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", \"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',fontWeight:\"normal\",color:\"random-dark\",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:\"#fff\",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:\"rgba(255,0,0,0.3)\",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:\"circle\",ellipticity:.65,classes:null,hover:null,click:null};if(t)for(var r in t)r in n&&(n[r]=t[r]);if(\"function\"!==typeof n.weightFactor){var i=n.weightFactor;n.weightFactor=function(e){return e*i}}if(\"function\"!==typeof n.shape)switch(n.shape){case\"circle\":default:n.shape=\"circle\";break;case\"cardioid\":n.shape=function(e){return 1-Math.sin(e)};break;case\"diamond\":case\"square\":n.shape=function(e){var t=e%(2*Math.PI/4);return 1/(Math.cos(t)+Math.sin(t))};break;case\"triangle-forward\":n.shape=function(e){var t=e%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case\"triangle\":case\"triangle-upright\":n.shape=function(e){var t=(e+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case\"pentagon\":n.shape=function(e){var t=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(t)+.726543*Math.sin(t))};break;case\"star\":n.shape=function(e){var t=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-t)+3.07768*Math.sin(2*Math.PI/10-t)):1/(Math.cos(t)+3.07768*Math.sin(t))};break}n.gridSize=Math.max(Math.floor(n.gridSize),4);var l,u,c,d,f,h,p,m=n.gridSize,v=m-n.maskGapWidth,g=Math.abs(n.maxRotation-n.minRotation),_=Math.min(n.maxRotation,n.minRotation),y=n.rotationStep;switch(n.color){case\"random-dark\":p=function(){return z(10,50)};break;case\"random-light\":p=function(){return z(50,90)};break;default:\"function\"===typeof n.color&&(p=n.color);break}var x=null;\"function\"===typeof n.classes&&(x=n.classes);var b,w=!1,A=[],T=function(e){var t,n,r=e.currentTarget,i=r.getBoundingClientRect();e.touches?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY);var a=t-i.left,o=n-i.top,s=Math.floor(a*(r.width/i.width||1)/m),l=Math.floor(o*(r.height/i.height||1)/m);return A[s][l]},S=function(e){var t=T(e);b!==t&&(b=t,t?n.hover(t.item,t.dimension,e):n.hover(void 0,void 0,e))},E=function(e){var t=T(e);t&&(n.click(t.item,t.dimension,e),e.preventDefault())},C=[],M=function(e){if(C[e])return C[e];var t=8*e,r=t,i=[];0===e&&i.push([d[0],d[1],0]);while(r--){var a=1;\"circle\"!==n.shape&&(a=n.shape(r/t*2*Math.PI)),i.push([d[0]+e*a*Math.cos(-r/t*2*Math.PI),d[1]+e*a*Math.sin(-r/t*2*Math.PI)*n.ellipticity,r/t*2*Math.PI])}return C[e]=i,i},D=function(){return n.abortThreshold>0&&(new Date).getTime()-h>n.abortThreshold},N=function(){return 0===n.rotateRatio||Math.random()>n.rotateRatio?0:0===g?_:_+Math.round(Math.random()*g/y)*y},L=function(e,t,r){var i=!1,a=n.weightFactor(t);if(a<=n.minSize)return!1;var s=1;a<o&&(s=function(){var e=2;while(e*a<o)e+=2;return e}());var l=document.createElement(\"canvas\"),u=l.getContext(\"2d\",{willReadFrequently:!0});u.font=n.fontWeight+\" \"+(a*s).toString(10)+\"px \"+n.fontFamily;var c=u.measureText(e).width/s,d=Math.max(a*s,u.measureText(\"m\").width,u.measureText(\"Ｗ\").width)/s,f=c+2*d,h=3*d,p=Math.ceil(f/m),v=Math.ceil(h/m);f=p*m,h=v*m;var g=-c/2,_=.4*-d,y=Math.ceil((f*Math.abs(Math.sin(r))+h*Math.abs(Math.cos(r)))/m),x=Math.ceil((f*Math.abs(Math.cos(r))+h*Math.abs(Math.sin(r)))/m),b=x*m,w=y*m;l.setAttribute(\"width\",b),l.setAttribute(\"height\",w),i&&(document.body.appendChild(l),u.save()),u.scale(1/s,1/s),u.translate(b*s/2,w*s/2),u.rotate(-r),u.font=n.fontWeight+\" \"+(a*s).toString(10)+\"px \"+n.fontFamily,u.fillStyle=\"#000\",u.textBaseline=\"middle\",u.fillText(e,g*s,(_+.5*a)*s);var A=u.getImageData(0,0,b,w).data;if(D())return!1;i&&(u.strokeRect(g*s,_,c*s,d*s),u.restore());var T,S,E,C=[],M=x,N=[y/2,x/2,y/2,x/2];while(M--){T=y;while(T--){E=m;e:{while(E--){S=m;while(S--)if(A[4*((T*m+E)*b+(M*m+S))+3]){C.push([M,T]),M<N[3]&&(N[3]=M),M>N[1]&&(N[1]=M),T<N[0]&&(N[0]=T),T>N[2]&&(N[2]=T),i&&(u.fillStyle=\"rgba(255, 0, 0, 0.5)\",u.fillRect(M*m,T*m,m-.5,m-.5));break e}}i&&(u.fillStyle=\"rgba(0, 0, 255, 0.5)\",u.fillRect(M*m,T*m,m-.5,m-.5))}}}return i&&(u.fillStyle=\"rgba(0, 255, 0, 0.5)\",u.fillRect(N[3]*m,N[0]*m,(N[1]-N[3]+1)*m,(N[2]-N[0]+1)*m)),{mu:s,occupied:C,bounds:N,gw:x,gh:y,fillTextOffsetX:g,fillTextOffsetY:_,fillTextWidth:c,fillTextHeight:d,fontSize:a}},I=function(e,t,r,i,a){var o=a.length;while(o--){var s=e+a[o][0],d=t+a[o][1];if(s>=u||d>=c||s<0||d<0){if(!n.drawOutOfBound)return!1}else if(!l[s][d])return!1}return!0},P=function(t,r,i,a,o,s,l,u,c){var d,f,h=i.fontSize;d=p?p(a,o,h,s,l):n.color,f=x?x(a,o,h,s,l):n.classes;var v=i.bounds;v[3],v[0],v[1],v[3],v[2],v[0],e.forEach((function(e){if(e.getContext){var o=e.getContext(\"2d\"),s=i.mu;o.save(),o.scale(1/s,1/s),o.font=n.fontWeight+\" \"+(h*s).toString(10)+\"px \"+n.fontFamily,o.fillStyle=d,o.translate((t+i.gw/2)*m*s,(r+i.gh/2)*m*s),0!==u&&o.rotate(-u),o.textBaseline=\"middle\",o.fillText(a,i.fillTextOffsetX*s,(i.fillTextOffsetY+.5*h)*s),o.restore()}else{var l=document.createElement(\"span\"),p=\"\";p=\"rotate(\"+-u/Math.PI*180+\"deg) \",1!==i.mu&&(p+=\"translateX(-\"+i.fillTextWidth/4+\"px) scale(\"+1/i.mu+\")\");var v={position:\"absolute\",display:\"block\",font:n.fontWeight+\" \"+h*i.mu+\"px \"+n.fontFamily,left:(t+i.gw/2)*m+i.fillTextOffsetX+\"px\",top:(r+i.gh/2)*m+i.fillTextOffsetY+\"px\",width:i.fillTextWidth+\"px\",height:i.fillTextHeight+\"px\",lineHeight:h+\"px\",whiteSpace:\"nowrap\",transform:p,webkitTransform:p,msTransform:p,transformOrigin:\"50% 40%\",webkitTransformOrigin:\"50% 40%\",msTransformOrigin:\"50% 40%\"};for(var g in d&&(v.color=d),l.textContent=a,v)l.style[g]=v[g];if(c)for(var _ in c)l.setAttribute(_,c[_]);f&&(l.className+=f),e.appendChild(l)}}))},O=function(t,n,r,i,a){if(!(t>=u||n>=c||t<0||n<0)){if(l[t][n]=!1,r){var o=e[0].getContext(\"2d\");o.fillRect(t*m,n*m,v,v)}w&&(A[t][n]={item:a,dimension:i})}},R=function(t,r,i,a,o,s){var l,d,f=o.occupied,h=n.drawMask;if(h&&(l=e[0].getContext(\"2d\"),l.save(),l.fillStyle=n.maskColor),w){var p=o.bounds;d={x:(t+p[3])*m,y:(r+p[0])*m,w:(p[1]-p[3]+1)*m,h:(p[2]-p[0]+1)*m}}var v=f.length;while(v--){var g=t+f[v][0],_=r+f[v][1];g>=u||_>=c||g<0||_<0||O(g,_,h,d,s)}h&&l.restore()},k=function(e){var t,r,i;Array.isArray(e)?(t=e[0],r=e[1]):(t=e.word,r=e.weight,i=e.attributes);var a=N(),o=L(t,r,a);if(!o)return!1;if(D())return!1;if(!n.drawOutOfBound){var l=o.bounds;if(l[1]-l[3]+1>u||l[2]-l[0]+1>c)return!1}var d=f+1,h=function(n){var s=Math.floor(n[0]-o.gw/2),l=Math.floor(n[1]-o.gh/2),u=o.gw,c=o.gh;return!!I(s,l,u,c,o.occupied)&&(P(s,l,o,t,r,f-d,n[2],a,i),R(s,l,u,c,o,e),{gx:s,gy:l,rot:a,info:o})};while(d--){var p=M(f-d);n.shuffle&&(p=[].concat(p),s(p));for(var m=0;m<p.length;m++){var v=h(p[m]);if(v)return v}}return null},F=function(t,n,r){if(n)return!e.some((function(e){var i=document.createEvent(\"CustomEvent\");return i.initCustomEvent(t,!0,n,r||{}),!e.dispatchEvent(i)}),this);e.forEach((function(e){var i=document.createEvent(\"CustomEvent\");i.initCustomEvent(t,!0,n,r||{}),e.dispatchEvent(i)}),this)},B=function(){var t=e[0];if(t.getContext)u=Math.ceil(t.width/m),c=Math.ceil(t.height/m);else{var r=t.getBoundingClientRect();u=Math.ceil(r.width/m),c=Math.ceil(r.height/m)}if(F(\"wordcloudstart\",!0)){var i,a,o,s,p;if(d=n.origin?[n.origin[0]/m,n.origin[1]/m]:[u/2,c/2],f=Math.floor(Math.sqrt(u*u+c*c)),l=[],!t.getContext||n.clearCanvas){e.forEach((function(e){if(e.getContext){var t=e.getContext(\"2d\");t.fillStyle=n.backgroundColor,t.clearRect(0,0,u*(m+1),c*(m+1)),t.fillRect(0,0,u*(m+1),c*(m+1))}else e.textContent=\"\",e.style.backgroundColor=n.backgroundColor,e.style.position=\"relative\"})),i=u;while(i--){l[i]=[],a=c;while(a--)l[i][a]=!0}}else{var v=document.createElement(\"canvas\").getContext(\"2d\");v.fillStyle=n.backgroundColor,v.fillRect(0,0,1,1);var g,_,y=v.getImageData(0,0,1,1).data,x=t.getContext(\"2d\").getImageData(0,0,u*m,c*m).data;i=u;while(i--){l[i]=[],a=c;while(a--){_=m;e:while(_--){g=m;while(g--){o=4;while(o--)if(x[4*((a*m+_)*u*m+(i*m+g))+o]!==y[o]){l[i][a]=!1;break e}}}!1!==l[i][a]&&(l[i][a]=!0)}}x=v=y=void 0}if(n.hover||n.click){w=!0,i=u+1;while(i--)A[i]=[];n.hover&&t.addEventListener(\"mousemove\",S),n.click&&(t.addEventListener(\"click\",E),t.addEventListener(\"touchstart\",E),t.addEventListener(\"touchend\",(function(e){e.preventDefault()})),t.style.webkitTapHighlightColor=\"rgba(0, 0, 0, 0)\"),t.addEventListener(\"wordcloudstart\",(function e(){t.removeEventListener(\"wordcloudstart\",e),t.removeEventListener(\"mousemove\",S),t.removeEventListener(\"click\",E),b=void 0}))}o=0,0!==n.wait?(s=window.setTimeout,p=window.clearTimeout):(s=window.setImmediate,p=window.clearImmediate);var T=function(t,n){e.forEach((function(e){e.addEventListener(t,n)}),this)},C=function(t,n){e.forEach((function(e){e.removeEventListener(t,n)}),this)},M=function e(){C(\"wordcloudstart\",e),p(N)};T(\"wordcloudstart\",M);var N=s((function e(){if(o>=n.list.length)return p(N),F(\"wordcloudstop\",!1),void C(\"wordcloudstart\",M);h=(new Date).getTime();var t=k(n.list[o]),r=!F(\"wordclouddrawn\",!0,{item:n.list[o],drawn:t});if(D()||r)return p(N),n.abort(),F(\"wordcloudabort\",!1),F(\"wordcloudstop\",!1),void C(\"wordcloudstart\",M);o++,N=s(e,n.wait)}),n.wait)}};B()}function z(e,t){return\"hsl(\"+(360*Math.random()).toFixed()+\",\"+(30*Math.random()+70).toFixed()+\"%,\"+(Math.random()*(t-e)+e).toFixed()+\"%)\"}};l.isSupported=a,l.minFontSize=o,r=[],i=function(){return l}.apply(t,r),void 0===i||(e.exports=i)}()},\"79ea\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"035a\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"7a36\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"63b1\"),i=n(\"6d5a\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"7a3c\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"ded3\")),a=n(\"2f62\"),o=r(n(\"00b0\")),s={name:\"Swagger\",components:{elFrame:o.default},computed:(0,i.default)({},(0,a.mapGetters)([\"swaggerApi\"]))};t.default=s},\"7b0e\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"0214\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"7cb2\":function(e,t,n){(function(t,r){e.exports=r(n(\"313e\"))})(0,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=105)}([function(t,n){t.exports=e},function(e,t,n){\"use strict\";var r=n(41),i=n(52),a=n(5),o=n(4),s=n(9),l=n(19),u=n(35),c=n(14),d=n(0),f=n.n(d),h=n(36),p=n(74),m=n.n(p),v=n(60),g=n(123),_=n(124),y=n(128),x=n(129),b=n(2),w=n(131),A=n(43),T=n(76),S=n(132),E=n(133),C=n(134),M=n(135),D=n(37),N=n(38),L=n(26),I=n(3),P=n(136),O=n(56),R=n(137),k=n(138),F=n(139),B=n(7),z=n(73),H=n(54),U=n(18),G=n(59),j=n(140),V=n(145),W=n(70),$=n(146),q=n(147),Y=n(148),X=n(149),Q=n(150),K=n(151);function Z(e){return!e||\"none\"===e}function J(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}function ee(e){return e.getZr&&e.setOption}f.a.util.extend(u[\"a\"].prototype,j[\"a\"]),s[\"a\"].import(V[\"a\"]),s[\"a\"].import(W[\"a\"]),s[\"a\"].import($[\"a\"]),s[\"a\"].import(q[\"a\"]),s[\"a\"].import(Y[\"a\"]),s[\"a\"].import(X[\"a\"]),s[\"a\"].import(Q[\"a\"]),s[\"a\"].import(K[\"a\"]);var te=h[\"a\"].prototype.addToScene,ne=h[\"a\"].prototype.removeFromScene;h[\"a\"].prototype.addToScene=function(e){if(te.call(this,e),this.__zr){var t=this.__zr;e.traverse((function(e){e.__zr=t,e.addAnimatorsToZr&&e.addAnimatorsToZr(t)}))}},h[\"a\"].prototype.removeFromScene=function(e){ne.call(this,e),e.traverse((function(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}))},l[\"a\"].prototype.setTextureImage=function(e,t,n,r){if(this.shader){var i,a=n.getZr(),o=this;return o.autoUpdateTextureStatus=!1,o.disableTexture(e),Z(t)||(i=re.loadTexture(t,n,r,(function(t){o.enableTexture(e),a&&a.refresh()})),o.set(e,i)),i}};var re={};re.Renderer=i[\"a\"],re.Node=u[\"a\"],re.Mesh=r[\"a\"],re.Shader=s[\"a\"],re.Material=l[\"a\"],re.Texture=o[\"a\"],re.Texture2D=a[\"a\"],re.Geometry=c[\"a\"],re.SphereGeometry=w[\"a\"],re.PlaneGeometry=A[\"a\"],re.CubeGeometry=T[\"a\"],re.AmbientLight=S[\"a\"],re.DirectionalLight=E[\"a\"],re.PointLight=C[\"a\"],re.SpotLight=M[\"a\"],re.PerspectiveCamera=D[\"a\"],re.OrthographicCamera=N[\"a\"],re.Vector2=L[\"a\"],re.Vector3=I[\"a\"],re.Vector4=P[\"a\"],re.Quaternion=O[\"a\"],re.Matrix2=R[\"a\"],re.Matrix2d=k[\"a\"],re.Matrix3=F[\"a\"],re.Matrix4=B[\"a\"],re.Plane=z[\"a\"],re.Ray=H[\"a\"],re.BoundingBox=U[\"a\"],re.Frustum=G[\"a\"];var ie=v[\"a\"].createBlank(\"rgba(255,255,255,0)\").image;function ae(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function oe(e){if((e.wrapS===o[\"a\"].REPEAT||e.wrapT===o[\"a\"].REPEAT)&&e.image){var t=ae(e.width),n=ae(e.height);if(t!==e.width||n!==e.height){var r=document.createElement(\"canvas\");r.width=t,r.height=n;var i=r.getContext(\"2d\");i.drawImage(e.image,0,0,t,n),e.image=r}}}re.loadTexture=function(e,t,n,r){\"function\"===typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),a=\"\",o=0;o<i.length;o++)a+=i[o]+\"_\"+n[i[o]]+\"_\";var s=t.__textureCache=t.__textureCache||new m.a(20);if(ee(e)){var l=e.__textureid__,u=s.get(a+l);if(u)u.texture.surface.setECharts(e),r&&r(u.texture);else{var c=new g[\"a\"](e);c.onupdate=function(){t.getZr().refresh()},u={texture:c.getTexture()};for(o=0;o<i.length;o++)u.texture[i[o]]=n[i[o]];l=e.__textureid__||\"__ecgl_ec__\"+u.texture.__uid__,e.__textureid__=l,s.put(a+l,u),r&&r(u.texture)}return u.texture}if(J(e)){l=e.__textureid__,u=s.get(a+l);if(!u){u={texture:new re.Texture2D({image:e})};for(o=0;o<i.length;o++)u.texture[i[o]]=n[i[o]];l=e.__textureid__||\"__ecgl_image__\"+u.texture.__uid__,e.__textureid__=l,s.put(a+l,u),oe(u.texture),r&&r(u.texture)}return u.texture}u=s.get(a+e);if(u)u.callbacks?u.callbacks.push(r):r&&r(u.texture);else if(e.match(/.hdr$|^data:application\\/octet-stream/)){u={callbacks:[r]};var d=v[\"a\"].loadTexture(e,{exposure:n.exposure,fileType:\"hdr\"},(function(){d.dirty(),u.callbacks.forEach((function(e){e&&e(d)})),u.callbacks=null}));u.texture=d,s.put(a+e,u)}else{for(d=new re.Texture2D({image:new Image}),o=0;o<i.length;o++)d[i[o]]=n[i[o]];u={texture:d,callbacks:[r]};var f=d.image;f.onload=function(){d.image=f,oe(d),d.dirty(),u.callbacks.forEach((function(e){e&&e(d)})),u.callbacks=null},f.src=e,d.image=ie,s.put(a+e,u)}return u.texture},re.createAmbientCubemap=function(e,t,n,r){e=e||{};var i=e.texture,a=b[\"a\"].firstNotNull(e.exposure,1),o=new _[\"a\"]({intensity:b[\"a\"].firstNotNull(e.specularIntensity,1)}),s=new y[\"a\"]({intensity:b[\"a\"].firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=re.loadTexture(i,n,{exposure:a},(function(){o.cubemap.flipY=!1;var e=Date.now();o.prefilter(t,32);var n=Date.now()-e;console.log(\"Prefilter environment map: \"+n+\"ms\"),s.coefficients=x[\"a\"].projectEnvironmentMap(t,o.cubemap,{lod:1}),r&&r()})),{specular:o,diffuse:s}},re.createBlankTexture=v[\"a\"].createBlank,re.isImage=J,re.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)},re.parseColor=function(e,t){return e instanceof Array?(t||(t=[]),t[0]=e[0],t[1]=e[1],t[2]=e[2],e.length>3?t[3]=e[3]:t[3]=1,t):(t=f.a.color.parse(e||\"#000\",t)||[0,0,0,0],t[0]/=255,t[1]/=255,t[2]/=255,t)},re.directionFromAlphaBeta=function(e,t){var n=e/180*Math.PI+Math.PI/2,r=-t/180*Math.PI+Math.PI/2,i=[],a=Math.sin(n);return i[0]=a*Math.cos(r),i[1]=-Math.cos(n),i[2]=a*Math.sin(r),i},re.getShadowResolution=function(e){var t=1024;switch(e){case\"low\":t=512;break;case\"medium\":break;case\"high\":t=2048;break;case\"ultra\":t=4096;break}return t},re.COMMON_SHADERS=[\"lambert\",\"color\",\"realistic\",\"hatching\",\"shadow\"],re.createShader=function(e){\"ecgl.shadow\"===e&&(e=\"ecgl.displayShadow\");var t=s[\"a\"].source(e+\".vertex\"),n=s[\"a\"].source(e+\".fragment\");t||console.error(\"Vertex shader of '%s' not exits\",e),n||console.error(\"Fragment shader of '%s' not exits\",e);var r=new s[\"a\"](t,n);return r.name=e,r},re.createMaterial=function(e,t){t instanceof Array||(t=[t]);var n=re.createShader(e),r=new l[\"a\"]({shader:n});return t.forEach((function(e){\"string\"===typeof e&&r.define(e)})),r},re.setMaterialFromModel=function(e,t,n,r){t.autoUpdateTextureStatus=!1;var i=n.getModel(e+\"Material\"),a=i.get(\"detailTexture\"),o=b[\"a\"].firstNotNull(i.get(\"textureTiling\"),1),s=b[\"a\"].firstNotNull(i.get(\"textureOffset\"),0);\"number\"===typeof o&&(o=[o,o]),\"number\"===typeof s&&(s=[s,s]);var l=o[0]>1||o[1]>1?re.Texture.REPEAT:re.Texture.CLAMP_TO_EDGE,u={anisotropic:8,wrapS:l,wrapT:l};if(\"realistic\"===e){var c=i.get(\"roughness\"),d=i.get(\"metalness\");null!=d?isNaN(d)&&(t.setTextureImage(\"metalnessMap\",d,r,u),d=b[\"a\"].firstNotNull(i.get(\"metalnessAdjust\"),.5)):d=0,null!=c?isNaN(c)&&(t.setTextureImage(\"roughnessMap\",c,r,u),c=b[\"a\"].firstNotNull(i.get(\"roughnessAdjust\"),.5)):c=.5;var f=i.get(\"normalTexture\");t.setTextureImage(\"detailMap\",a,r,u),t.setTextureImage(\"normalMap\",f,r,u),t.set({roughness:c,metalness:d,detailUvRepeat:o,detailUvOffset:s})}else if(\"lambert\"===e)t.setTextureImage(\"detailMap\",a,r,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(\"color\"===e)t.setTextureImage(\"detailMap\",a,r,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(\"hatching\"===e){var h=i.get(\"hatchingTextures\")||[];h.length<6&&console.error(\"Invalid hatchingTextures.\");for(var p=0;p<6;p++)t.setTextureImage(\"hatch\"+(p+1),h[p],r,{anisotropic:8,wrapS:re.Texture.REPEAT,wrapT:re.Texture.REPEAT});t.set({detailUvRepeat:o,detailUvOffset:s})}},re.updateVertexAnimation=function(e,t,n,r){var i=r.get(\"animation\"),a=r.get(\"animationDurationUpdate\"),o=r.get(\"animationEasingUpdate\"),s=n.shadowDepthMaterial;if(i&&t&&a>0&&t.geometry.vertexCount===n.geometry.vertexCount){n.material.define(\"vertex\",\"VERTEX_ANIMATION\"),n.ignorePreZ=!0,s&&s.define(\"vertex\",\"VERTEX_ANIMATION\");for(var l=0;l<e.length;l++)n.geometry.attributes[e[l][0]].value=t.geometry.attributes[e[l][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set(\"percent\",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during((function(){n.material.set(\"percent\",n.__percent),s&&s.set(\"percent\",n.__percent)})).done((function(){n.ignorePreZ=!1,n.material.undefine(\"vertex\",\"VERTEX_ANIMATION\"),s&&s.undefine(\"vertex\",\"VERTEX_ANIMATION\")})).start(o)}else n.material.undefine(\"vertex\",\"VERTEX_ANIMATION\"),s&&s.undefine(\"vertex\",\"VERTEX_ANIMATION\")},t[\"a\"]=re},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a={firstNotNull:function(){for(var e=0,t=arguments.length;e<t;e++)if(null!=arguments[e])return arguments[e]},queryDataIndex:function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?i.a.util.isArray(t.dataIndex)?i.a.util.map(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?i.a.util.isArray(t.name)?i.a.util.map(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}};t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(12),i=function(e,t,n){e=e||0,t=t||0,n=n||0,this.array=r[\"a\"].fromValues(e,t,n),this._dirty=!0};i.prototype={constructor:i,add:function(e){return r[\"a\"].add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z)},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return r[\"a\"].cross(this.array,e.array,t.array),this._dirty=!0,this},dist:function(e){return r[\"a\"].dist(this.array,e.array)},distance:function(e){return r[\"a\"].distance(this.array,e.array)},div:function(e){return r[\"a\"].div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return r[\"a\"].divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return r[\"a\"].dot(this.array,e.array)},len:function(){return r[\"a\"].len(this.array)},length:function(){return r[\"a\"].length(this.array)},lerp:function(e,t,n){return r[\"a\"].lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return r[\"a\"].min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return r[\"a\"].max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return r[\"a\"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r[\"a\"].normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return r[\"a\"].random(this.array,e),this._dirty=!0,this},scale:function(e){return r[\"a\"].scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return r[\"a\"].scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return r[\"a\"].sqrDist(this.array,e.array)},squaredDistance:function(e){return r[\"a\"].squaredDistance(this.array,e.array)},sqrLen:function(){return r[\"a\"].sqrLen(this.array)},squaredLength:function(){return r[\"a\"].squaredLength(this.array)},sub:function(e){return r[\"a\"].sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return r[\"a\"].subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return r[\"a\"].transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return r[\"a\"].transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return r[\"a\"].transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var t=this.array;if(e=e.array,0===e[15]){var n=-1/t[2];t[0]=e[0]*t[0]*n,t[1]=e[5]*t[1]*n,t[2]=(e[10]*t[2]+e[14])*n}else t[0]=e[0]*t[0]+e[12],t[1]=e[5]*t[1]+e[13],t[2]=e[10]*t[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,t){i.eulerFromQuat(this,e,t)},eulerFromMat3:function(e,t){i.eulerFromMat3(this,e,t)},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,\"x\",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),a(o,\"y\",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),a(o,\"z\",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}function s(e,t,n){return e<t?t:e>n?n:e}i.add=function(e,t,n){return r[\"a\"].add(e.array,t.array,n.array),e._dirty=!0,e},i.set=function(e,t,n,i){r[\"a\"].set(e.array,t,n,i),e._dirty=!0},i.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},i.cross=function(e,t,n){return r[\"a\"].cross(e.array,t.array,n.array),e._dirty=!0,e},i.dist=function(e,t){return r[\"a\"].distance(e.array,t.array)},i.distance=i.dist,i.div=function(e,t,n){return r[\"a\"].divide(e.array,t.array,n.array),e._dirty=!0,e},i.divide=i.div,i.dot=function(e,t){return r[\"a\"].dot(e.array,t.array)},i.len=function(e){return r[\"a\"].length(e.array)},i.lerp=function(e,t,n,i){return r[\"a\"].lerp(e.array,t.array,n.array,i),e._dirty=!0,e},i.min=function(e,t,n){return r[\"a\"].min(e.array,t.array,n.array),e._dirty=!0,e},i.max=function(e,t,n){return r[\"a\"].max(e.array,t.array,n.array),e._dirty=!0,e},i.mul=function(e,t,n){return r[\"a\"].multiply(e.array,t.array,n.array),e._dirty=!0,e},i.multiply=i.mul,i.negate=function(e,t){return r[\"a\"].negate(e.array,t.array),e._dirty=!0,e},i.normalize=function(e,t){return r[\"a\"].normalize(e.array,t.array),e._dirty=!0,e},i.random=function(e,t){return r[\"a\"].random(e.array,t),e._dirty=!0,e},i.scale=function(e,t,n){return r[\"a\"].scale(e.array,t.array,n),e._dirty=!0,e},i.scaleAndAdd=function(e,t,n,i){return r[\"a\"].scaleAndAdd(e.array,t.array,n.array,i),e._dirty=!0,e},i.sqrDist=function(e,t){return r[\"a\"].sqrDist(e.array,t.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(e){return r[\"a\"].sqrLen(e.array)},i.squaredLength=i.sqrLen,i.sub=function(e,t,n){return r[\"a\"].subtract(e.array,t.array,n.array),e._dirty=!0,e},i.subtract=i.sub,i.transformMat3=function(e,t,n){return r[\"a\"].transformMat3(e.array,t.array,n.array),e._dirty=!0,e},i.transformMat4=function(e,t,n){return r[\"a\"].transformMat4(e.array,t.array,n.array),e._dirty=!0,e},i.transformQuat=function(e,t,n){return r[\"a\"].transformQuat(e.array,t.array,n.array),e._dirty=!0,e};var l=Math.atan2,u=Math.asin,c=Math.abs;i.eulerFromQuat=function(e,t,n){e._dirty=!0,t=t.array;var r=e.array,i=t[0],a=t[1],o=t[2],c=t[3],d=i*i,f=a*a,h=o*o,p=c*c;n=(n||\"XYZ\").toUpperCase();switch(n){case\"XYZ\":r[0]=l(2*(i*c-a*o),p-d-f+h),r[1]=u(s(2*(i*o+a*c),-1,1)),r[2]=l(2*(o*c-i*a),p+d-f-h);break;case\"YXZ\":r[0]=u(s(2*(i*c-a*o),-1,1)),r[1]=l(2*(i*o+a*c),p-d-f+h),r[2]=l(2*(i*a+o*c),p-d+f-h);break;case\"ZXY\":r[0]=u(s(2*(i*c+a*o),-1,1)),r[1]=l(2*(a*c-o*i),p-d-f+h),r[2]=l(2*(o*c-i*a),p-d+f-h);break;case\"ZYX\":r[0]=l(2*(i*c+o*a),p-d-f+h),r[1]=u(s(2*(a*c-i*o),-1,1)),r[2]=l(2*(i*a+o*c),p+d-f-h);break;case\"YZX\":r[0]=l(2*(i*c-o*a),p-d+f-h),r[1]=l(2*(a*c-i*o),p+d-f-h),r[2]=u(s(2*(i*a+o*c),-1,1));break;case\"XZY\":r[0]=l(2*(i*c+a*o),p-d+f-h),r[1]=l(2*(i*o+a*c),p+d-f-h),r[2]=u(s(2*(o*c-i*a),-1,1));break;default:console.warn(\"Unkown order: \"+n)}return e},i.eulerFromMat3=function(e,t,n){var r=t.array,i=r[0],a=r[3],o=r[6],d=r[1],f=r[4],h=r[7],p=r[2],m=r[5],v=r[8],g=e.array;n=(n||\"XYZ\").toUpperCase();switch(n){case\"XYZ\":g[1]=u(s(o,-1,1)),c(o)<.99999?(g[0]=l(-h,v),g[2]=l(-a,i)):(g[0]=l(m,f),g[2]=0);break;case\"YXZ\":g[0]=u(-s(h,-1,1)),c(h)<.99999?(g[1]=l(o,v),g[2]=l(d,f)):(g[1]=l(-p,i),g[2]=0);break;case\"ZXY\":g[0]=u(s(m,-1,1)),c(m)<.99999?(g[1]=l(-p,v),g[2]=l(-a,f)):(g[1]=0,g[2]=l(d,i));break;case\"ZYX\":g[1]=u(-s(p,-1,1)),c(p)<.99999?(g[0]=l(m,v),g[2]=l(d,i)):(g[0]=0,g[2]=l(-a,f));break;case\"YZX\":g[2]=u(s(d,-1,1)),c(d)<.99999?(g[0]=l(-h,f),g[1]=l(-p,i)):(g[0]=0,g[1]=l(o,v));break;case\"XZY\":g[2]=u(-s(a,-1,1)),c(a)<.99999?(g[0]=l(m,f),g[1]=l(o,i)):(g[0]=l(-h,v),g[1]=0);break;default:console.warn(\"Unkown order: \"+n)}return e._dirty=!0,e},Object.defineProperties(i,{POSITIVE_X:{get:function(){return new i(1,0,0)}},NEGATIVE_X:{get:function(){return new i(-1,0,0)}},POSITIVE_Y:{get:function(){return new i(0,1,0)}},NEGATIVE_Y:{get:function(){return new i(0,-1,0)}},POSITIVE_Z:{get:function(){return new i(0,0,1)}},NEGATIVE_Z:{get:function(){return new i(0,0,-1)}},UP:{get:function(){return new i(0,1,0)}},ZERO:{get:function(){return new i}}}),t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(8),i=n(11),a=n(57),o=r[\"a\"].extend({width:512,height:512,type:i[\"a\"].UNSIGNED_BYTE,format:i[\"a\"].RGBA,wrapS:i[\"a\"].REPEAT,wrapT:i[\"a\"].REPEAT,minFilter:i[\"a\"].LINEAR_MIPMAP_LINEAR,magFilter:i[\"a\"].LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new a[\"a\"]}),{getWebGLTexture:function(e){var t=e.gl,n=this._cache;return n.use(e.__uid__),n.miss(\"webgl_texture\")&&n.put(\"webgl_texture\",t.createTexture()),this.dynamic?this.update(e):n.isDirty()&&(this.update(e),n.fresh()),n.get(\"webgl_texture\")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var t=e.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===i[\"a\"].DEPTH_COMPONENT&&(this.useMipmap=!1);var n=e.getGLExtension(\"EXT_sRGB\");this.format!==o.SRGB||n||(this.format=o.RGB),this.format!==o.SRGB_ALPHA||n||(this.format=o.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?i[\"a\"].CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?i[\"a\"].CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===i[\"a\"].NEAREST_MIPMAP_NEAREST||e===i[\"a\"].NEAREST_MIPMAP_LINEAR?i[\"a\"].NEAREST:e===i[\"a\"].LINEAR_MIPMAP_LINEAR||e===i[\"a\"].LINEAR_MIPMAP_NEAREST?i[\"a\"].LINEAR:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get(\"webgl_texture\");n&&e.gl.deleteTexture(n),t.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(o.prototype,\"width\",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(o.prototype,\"height\",{get:function(){return this._height},set:function(e){this._height=e}}),o.BYTE=i[\"a\"].BYTE,o.UNSIGNED_BYTE=i[\"a\"].UNSIGNED_BYTE,o.SHORT=i[\"a\"].SHORT,o.UNSIGNED_SHORT=i[\"a\"].UNSIGNED_SHORT,o.INT=i[\"a\"].INT,o.UNSIGNED_INT=i[\"a\"].UNSIGNED_INT,o.FLOAT=i[\"a\"].FLOAT,o.HALF_FLOAT=36193,o.UNSIGNED_INT_24_8_WEBGL=34042,o.DEPTH_COMPONENT=i[\"a\"].DEPTH_COMPONENT,o.DEPTH_STENCIL=i[\"a\"].DEPTH_STENCIL,o.ALPHA=i[\"a\"].ALPHA,o.RGB=i[\"a\"].RGB,o.RGBA=i[\"a\"].RGBA,o.LUMINANCE=i[\"a\"].LUMINANCE,o.LUMINANCE_ALPHA=i[\"a\"].LUMINANCE_ALPHA,o.SRGB=35904,o.SRGB_ALPHA=35906,o.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,o.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,o.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,o.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,o.COMPRESSED_RGB_ETC1_WEBGL=36196,o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,o.COMPRESSED_RGB_ATC_WEBGL=35986,o.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987,o.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798,o.NEAREST=i[\"a\"].NEAREST,o.LINEAR=i[\"a\"].LINEAR,o.NEAREST_MIPMAP_NEAREST=i[\"a\"].NEAREST_MIPMAP_NEAREST,o.LINEAR_MIPMAP_NEAREST=i[\"a\"].LINEAR_MIPMAP_NEAREST,o.NEAREST_MIPMAP_LINEAR=i[\"a\"].NEAREST_MIPMAP_LINEAR,o.LINEAR_MIPMAP_LINEAR=i[\"a\"].LINEAR_MIPMAP_LINEAR,o.REPEAT=i[\"a\"].REPEAT,o.CLAMP_TO_EDGE=i[\"a\"].CLAMP_TO_EDGE,o.MIRRORED_REPEAT=i[\"a\"].MIRRORED_REPEAT,t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(4),i=n(11),a=n(13),o=n(72),s=o[\"a\"].isPowerOfTwo;function l(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function u(e,t){var n=l(e.width),r=l(e.height);t=t||document.createElement(\"canvas\"),t.width=n,t.height=r;var i=t.getContext(\"2d\");return i.drawImage(e.image,0,0,n,r),t}var c=r[\"a\"].extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:\"texture2D\",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_2D,this._cache.get(\"webgl_texture\")),this.updateCommon(e);var n=this.format,a=this.type,o=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==r[\"a\"].REPEAT&&this.wrapT!==r[\"a\"].REPEAT||!this.NPOT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,o?this.wrapS:this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,o?this.wrapT:this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,o?this.magFilter:this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,o?this.minFilter:this.getAvailableMinFilter());var s=e.getGLExtension(\"EXT_texture_filter_anisotropic\");if(s&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_2D,s.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===a){var l=e.getGLExtension(\"OES_texture_half_float\");l||(a=i[\"a\"].FLOAT)}if(this.mipmaps.length)for(var u=this.width,c=this.height,d=0;d<this.mipmaps.length;d++){var f=this.mipmaps[d];this._updateTextureData(t,f,d,u,c,n,a,!1),u/=2,c/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,a,o),!this.useMipmap||this.NPOT&&!o||t.generateMipmap(t.TEXTURE_2D);t.bindTexture(t.TEXTURE_2D,null)},_updateTextureData:function(e,t,n,i,a,o,s,l){if(t.image){var c=t.image;l&&(this._potCanvas=u(this,this._potCanvas),c=this._potCanvas),e.texImage2D(e.TEXTURE_2D,n,o,o,s,c)}else o<=r[\"a\"].COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=r[\"a\"].COMPRESSED_RGB_S3TC_DXT1_EXT||o===r[\"a\"].COMPRESSED_RGB_ETC1_WEBGL||o>=r[\"a\"].COMPRESSED_RGB_PVRTC_4BPPV1_IMG&&o<=r[\"a\"].COMPRESSED_RGBA_PVRTC_2BPPV1_IMG||o===r[\"a\"].COMPRESSED_RGB_ATC_WEBGL&&o===r[\"a\"].COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL&&o===r[\"a\"].COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL?e.compressedTexImage2D(e.TEXTURE_2D,n,o,i,a,0,t.pixels):e.texImage2D(e.TEXTURE_2D,n,o,i,a,0,o,s,t.pixels)},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_2D,this._cache.get(\"webgl_texture\")),t.generateMipmap(t.TEXTURE_2D))},isPowerOfTwo:function(){return s(this.width)&&s(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,t){var n=a[\"a\"].createImage();t&&(n.crossOrigin=t);var r=this;return n.onload=function(){r.dirty(),r.trigger(\"success\",r)},n.onerror=function(){r.trigger(\"error\",r)},n.src=e,this.image=n,this}});Object.defineProperty(c.prototype,\"width\",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn(\"Texture from image can't set width\"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(c.prototype,\"height\",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn(\"Texture from image can't set height\"):(this._height!==e&&this.dirty(),this._height=e)}}),t[\"a\"]=c},function(e,t,n){\"use strict\";var r=n(160);t[\"a\"]=r[\"a\"]},function(e,t,n){\"use strict\";var r=n(21),i=n(12),a=n(55),o=n(34),s=n(3),l=function(){this._axisX=new s[\"a\"],this._axisY=new s[\"a\"],this._axisZ=new s[\"a\"],this.array=r[\"a\"].create(),this._dirty=!0};l.prototype={constructor:l,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return r[\"a\"].adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new l).copy(this)},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return r[\"a\"].determinant(this.array)},fromQuat:function(e){return r[\"a\"].fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,t){return r[\"a\"].fromRotationTranslation(this.array,e.array,t.array),this._dirty=!0,this},fromMat2d:function(e){return l.fromMat2d(this,e),this},frustum:function(e,t,n,i,a,o){return r[\"a\"].frustum(this.array,e,t,n,i,a,o),this._dirty=!0,this},identity:function(){return r[\"a\"].identity(this.array),this._dirty=!0,this},invert:function(){return r[\"a\"].invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,t,n){return r[\"a\"].lookAt(this.array,e.array,t.array,n.array),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return r[\"a\"].mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return r[\"a\"].multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,t,n,i,a,o){return r[\"a\"].ortho(this.array,e,t,n,i,a,o),this._dirty=!0,this},perspective:function(e,t,n,i){return r[\"a\"].perspective(this.array,e,t,n,i),this._dirty=!0,this},rotate:function(e,t){return r[\"a\"].rotate(this.array,this.array,e,t.array),this._dirty=!0,this},rotateX:function(e){return r[\"a\"].rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return r[\"a\"].rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return r[\"a\"].rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return r[\"a\"].scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return r[\"a\"].translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return r[\"a\"].transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=i[\"a\"].create(),t=i[\"a\"].create(),n=i[\"a\"].create(),r=o[\"a\"].create();return function(s,l,u){var c=this.array;i[\"a\"].set(e,c[0],c[1],c[2]),i[\"a\"].set(t,c[4],c[5],c[6]),i[\"a\"].set(n,c[8],c[9],c[10]);var d=i[\"a\"].length(e),f=i[\"a\"].length(t),h=i[\"a\"].length(n),p=this.determinant();p<0&&(d=-d),s&&s.set(d,f,h),u.set(c[12],c[13],c[14]),o[\"a\"].fromMat4(r,c),r[0]/=d,r[1]/=d,r[2]/=d,r[3]/=f,r[4]/=f,r[5]/=f,r[6]/=h,r[7]/=h,r[8]/=h,a[\"a\"].fromMat3(l.array,r),a[\"a\"].normalize(l.array,l.array),l._dirty=!0,u._dirty=!0}}(),toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var u=Object.defineProperty;if(u){var c=l.prototype;u(c,\"z\",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var t=this.array;e=e.array,t[8]=e[0],t[9]=e[1],t[10]=e[2],this._dirty=!0}}),u(c,\"y\",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var t=this.array;e=e.array,t[4]=e[0],t[5]=e[1],t[6]=e[2],this._dirty=!0}}),u(c,\"x\",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var t=this.array;e=e.array,t[0]=e[0],t[1]=e[1],t[2]=e[2],this._dirty=!0}})}l.adjoint=function(e,t){return r[\"a\"].adjoint(e.array,t.array),e._dirty=!0,e},l.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},l.determinant=function(e){return r[\"a\"].determinant(e.array)},l.identity=function(e){return r[\"a\"].identity(e.array),e._dirty=!0,e},l.ortho=function(e,t,n,i,a,o,s){return r[\"a\"].ortho(e.array,t,n,i,a,o,s),e._dirty=!0,e},l.perspective=function(e,t,n,i,a){return r[\"a\"].perspective(e.array,t,n,i,a),e._dirty=!0,e},l.lookAt=function(e,t,n,i){return r[\"a\"].lookAt(e.array,t.array,n.array,i.array),e._dirty=!0,e},l.invert=function(e,t){return r[\"a\"].invert(e.array,t.array),e._dirty=!0,e},l.mul=function(e,t,n){return r[\"a\"].mul(e.array,t.array,n.array),e._dirty=!0,e},l.multiply=l.mul,l.fromQuat=function(e,t){return r[\"a\"].fromQuat(e.array,t.array),e._dirty=!0,e},l.fromRotationTranslation=function(e,t,n){return r[\"a\"].fromRotationTranslation(e.array,t.array,n.array),e._dirty=!0,e},l.fromMat2d=function(e,t){e._dirty=!0;t=t.array,e=e.array;return e[0]=t[0],e[4]=t[2],e[12]=t[4],e[1]=t[1],e[5]=t[3],e[13]=t[5],e},l.rotate=function(e,t,n,i){return r[\"a\"].rotate(e.array,t.array,n,i.array),e._dirty=!0,e},l.rotateX=function(e,t,n){return r[\"a\"].rotateX(e.array,t.array,n),e._dirty=!0,e},l.rotateY=function(e,t,n){return r[\"a\"].rotateY(e.array,t.array,n),e._dirty=!0,e},l.rotateZ=function(e,t,n){return r[\"a\"].rotateZ(e.array,t.array,n),e._dirty=!0,e},l.scale=function(e,t,n){return r[\"a\"].scale(e.array,t.array,n.array),e._dirty=!0,e},l.transpose=function(e,t){return r[\"a\"].transpose(e.array,t.array),e._dirty=!0,e},l.translate=function(e,t,n){return r[\"a\"].translate(e.array,t.array,n.array),e._dirty=!0,e},t[\"a\"]=l},function(e,t,n){\"use strict\";var r=n(109),i=n(53),a=n(23),o=function(){this.__uid__=a[\"a\"].genGUID()};o.__initializers__=[function(e){a[\"a\"].extend(this,e)}],a[\"a\"].extend(o,r[\"a\"]),a[\"a\"].extend(o.prototype,i[\"a\"]),t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(23),i=n(13),a=/uniform\\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\\s+([\\s\\S]*?);/g,o=/attribute\\s+(float|int|vec2|vec3|vec4)\\s+([\\s\\S]*?);/g,s=/#define\\s+(\\w+)?(\\s+[\\d-.]+)?\\s*;?\\s*\\n/g,l={bool:\"1i\",int:\"1i\",sampler2D:\"t\",samplerCube:\"t\",float:\"1f\",vec2:\"2f\",vec3:\"3f\",vec4:\"4f\",ivec2:\"2i\",ivec3:\"3i\",ivec4:\"4i\",mat2:\"m2\",mat3:\"m3\",mat4:\"m4\"};function u(e){for(var t=[],n=0;n<e;n++)t[n]=0;return t}var c={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return u(2)},vec3:function(){return u(3)},vec4:function(){return u(4)},ivec2:function(){return u(2)},ivec3:function(){return u(3)},ivec4:function(){return u(4)},mat2:function(){return u(4)},mat3:function(){return u(9)},mat4:function(){return u(16)},array:function(){return[]}},d=[\"POSITION\",\"NORMAL\",\"BINORMAL\",\"TANGENT\",\"TEXCOORD\",\"TEXCOORD_0\",\"TEXCOORD_1\",\"COLOR\",\"JOINT\",\"WEIGHT\"],f=[\"SKIN_MATRIX\",\"VIEWPORT_SIZE\",\"VIEWPORT\",\"DEVICEPIXELRATIO\",\"WINDOW_SIZE\",\"NEAR\",\"FAR\",\"TIME\",\"LOG_DEPTH_BUFFER_FC\"],h=[\"WORLD\",\"VIEW\",\"PROJECTION\",\"WORLDVIEW\",\"VIEWPROJECTION\",\"WORLDVIEWPROJECTION\",\"WORLDINVERSE\",\"VIEWINVERSE\",\"PROJECTIONINVERSE\",\"WORLDVIEWINVERSE\",\"VIEWPROJECTIONINVERSE\",\"WORLDVIEWPROJECTIONINVERSE\",\"WORLDTRANSPOSE\",\"VIEWTRANSPOSE\",\"PROJECTIONTRANSPOSE\",\"WORLDVIEWTRANSPOSE\",\"VIEWPROJECTIONTRANSPOSE\",\"WORLDVIEWPROJECTIONTRANSPOSE\",\"WORLDINVERSETRANSPOSE\",\"VIEWINVERSETRANSPOSE\",\"PROJECTIONINVERSETRANSPOSE\",\"WORLDVIEWINVERSETRANSPOSE\",\"VIEWPROJECTIONINVERSETRANSPOSE\",\"WORLDVIEWPROJECTIONINVERSETRANSPOSE\"],p={vec4:4,vec3:3,vec2:2,float:1},m={},v={};function g(e,t){var n=\"vertex:\"+e+\"fragment:\"+t;if(m[n])return m[n];var i=r[\"a\"].genGUID();return m[n]=i,v[i]={vertex:e,fragment:t},i}function _(e){return e.replace(/[ \\t]*\\/\\/.*\\n/g,\"\").replace(/[ \\t]*\\/\\*[\\s\\S]*?\\*\\//g,\"\")}function y(){console.error(\"Wrong uniform/attributes syntax\")}function x(e,t){for(var n=/[,=\\(\\):]/,r=t.replace(/:\\s*\\[\\s*(.*)\\s*\\]/g,\"=\"+e+\"($1)\").replace(/\\s+/g,\"\").split(/(?=[,=\\(\\):])/g),a=[],o=0;o<r.length;o++)r[o].match(n)?a.push(r[o].charAt(0),r[o].slice(1)):a.push(r[o]);r=a;var s,l=0,u=1,c=2,p=3,m=4,v=5,g=l,_={},x=null;function b(e){e||y();var t=e.match(/\\[(.*?)\\]/);s=e.replace(/\\[(.*?)\\]/,\"\"),_[s]={},t&&(_[s].isArray=!0,_[s].arraySize=t[1])}b(r[0]);for(o=1;o<r.length;o++){var w=r[o];if(w)if(\"=\"!==w)if(\":\"!==w)if(\",\"!==w)if(\")\"!==w)if(\"(\"!==w)if(w.indexOf(\"vec\")>=0){if(g!==u&&g!==m){y();break}g=c,x=[]}else if(g!==u)if(g!==m)b(w),g=l;else{var A=w;d.indexOf(A)>=0||f.indexOf(A)>=0||h.indexOf(A)>=0?_[s].semantic=A:\"ignore\"===A||\"unconfigurable\"===A?_[s].ignore=!0:_[s].value=\"bool\"===e?\"true\"===A:parseFloat(A)}else _[s].value=\"bool\"===e?\"true\"===w:parseFloat(w),x=null;else{if(g!==c){y();break}if(!(x instanceof Array)){y();break}x.push(+r[++o])}else _[s].value=new i[\"a\"].Float32Array(x),x=null,g=v;else if(g===c){if(!(x instanceof Array)){y();break}x.push(+r[++o])}else g=v;else g=m;else{if(g!==l&&g!==p){y();break}g=u}}return _}function b(e,t){\"object\"===typeof e&&(t=e.fragment,e=e.vertex),e=_(e),t=_(t),this._shaderID=g(e,t),this._vertexCode=b.parseImport(e),this._fragmentCode=b.parseImport(t),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}b.prototype={constructor:b,createUniforms:function(){var e={};for(var t in this.uniformTemplates){var n=this.uniformTemplates[t];e[t]={type:n.type,value:n.value()}}return e},_parseImport:function(){this._vertexCode=b.parseImport(this.vertex),this._fragmentCode=b.parseImport(this.fragment)},_addSemanticUniform:function(e,t,n){if(d.indexOf(n)>=0)this.attributeSemantics[n]={symbol:e,type:t};else if(h.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:e,type:t,isTranspose:r,semanticNoTranspose:i}}else f.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:e,type:t})},_addMaterialUniform:function(e,t,n,r,i,a){a[e]={type:n,value:i?c[\"array\"]:r||c[t],semantic:null}},_parseUniforms:function(){var e={},t=this,n=\"vertex\";function r(e){return null!=e?function(){return e}:null}function i(i,a,o){var s=x(a,o),u=[];for(var c in s){var d=s[c],f=d.semantic,h=c,p=l[a],m=r(s[c].value);s[c].isArray&&(h+=\"[\"+s[c].arraySize+\"]\",p+=\"v\"),u.push(h),t._uniformList.push(c),d.ignore||(\"sampler2D\"!==a&&\"samplerCube\"!==a||(t.textures[c]={shaderType:n,type:a}),f?t._addSemanticUniform(c,p,f):t._addMaterialUniform(c,a,p,m,s[c].isArray,e))}return u.length>0?\"uniform \"+a+\" \"+u.join(\",\")+\";\\n\":\"\"}this._uniformList=[],this._vertexCode=this._vertexCode.replace(a,i),n=\"fragment\",this._fragmentCode=this._fragmentCode.replace(a,i),t.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=e},_parseAttributes:function(){var e={},t=this;function n(n,r,i){var a=x(r,i),o=p[r]||1,s=[];for(var l in a){var u=a[l].semantic;if(e[l]={type:\"float\",size:o,semantic:u||null},u){if(d.indexOf(u)<0)throw new Error('Unkown semantic \"'+u+'\"');t.attributeSemantics[u]={symbol:l,type:r}}s.push(l)}return\"attribute \"+r+\" \"+s.join(\",\")+\";\\n\"}this._vertexCode=this._vertexCode.replace(o,n),this.attributes=e},_parseDefines:function(){var e=this,t=\"vertex\";function n(n,r,i){var a=\"vertex\"===t?e.vertexDefines:e.fragmentDefines;return a[r]||(a[r]=\"false\"!==i&&(\"true\"===i||(i?isNaN(parseFloat(i))?i.trim():parseFloat(i):null))),\"\"}this._vertexCode=this._vertexCode.replace(s,n),t=\"fragment\",this._fragmentCode=this._fragmentCode.replace(s,n)},clone:function(){var e=v[this._shaderID],t=new b(e.vertex,e.fragment);return t}},Object.defineProperty&&(Object.defineProperty(b.prototype,\"shaderID\",{get:function(){return this._shaderID}}),Object.defineProperty(b.prototype,\"vertex\",{get:function(){return this._vertexCode}}),Object.defineProperty(b.prototype,\"fragment\",{get:function(){return this._fragmentCode}}),Object.defineProperty(b.prototype,\"uniforms\",{get:function(){return this._uniformList}}));var w=/(@import)\\s*([0-9a-zA-Z_\\-\\.]*)/g;b.parseImport=function(e){return e=e.replace(w,(function(e,t,n){e=b.source(n);return e?b.parseImport(e):(console.error('Shader chunk \"'+n+'\" not existed in library'),\"\")})),e};var A=/(@export)\\s*([0-9a-zA-Z_\\-\\.]*)\\s*\\n([\\s\\S]*?)@end/g;b[\"import\"]=function(e){e.replace(A,(function(e,t,n,r){r=r.replace(/(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\\x24)/g,\"\");if(r){var i,a=n.split(\".\"),o=b.codes,s=0;while(s<a.length-1)i=a[s++],o[i]||(o[i]={}),o=o[i];i=a[s],o[i]=r}return r}))},b.codes={},b.source=function(e){var t=e.split(\".\"),n=b.codes,r=0;while(n&&r<t.length){var i=t[r++];n=n[i]}return\"string\"!==typeof n?(console.error('Shader \"'+e+'\" not existed in library'),\"\"):n},t[\"a\"]=b},function(e,t,n){\"use strict\";var r=n(8),i=n(4),a=(n(27),n(11)),o=n(57),s=\"framebuffer\",l=\"renderbuffer\",u=l+\"_width\",c=l+\"_height\",d=l+\"_attached\",f=\"depthtexture_attached\",h=a[\"a\"].FRAMEBUFFER,p=a[\"a\"].RENDERBUFFER,m=a[\"a\"].DEPTH_ATTACHMENT,v=a[\"a\"].COLOR_ATTACHMENT0,g=r[\"a\"].extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new o[\"a\"],this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn(\"Renderer already bound with another framebuffer. Unbind it first\")}e.__currentFrameBuffer=this;var t=e.gl;t.bindFramebuffer(h,this._getFrameBufferGL(e)),this._boundRenderer=e;var n=this._cache;n.put(\"viewport\",e.viewport);var r,i,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(r=s.texture.width,i=s.texture.height,this._doAttach(e,s.texture,o,s.target))}this._width=r,this._height=i,!a&&this.depthBuffer&&console.error(\"Must attach texture before bind, or renderbuffer may have incorrect width and height.\"),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,r,i,1);var v=n.get(\"attached_textures\");if(v)for(var o in v)if(!this._textures[o]){var g=v[o];this._doDetach(t,o,g)}if(!n.get(f)&&this.depthBuffer){n.miss(l)&&n.put(l,t.createRenderbuffer());var _=n.get(l);r===n.get(u)&&i===n.get(c)||(t.bindRenderbuffer(p,_),t.renderbufferStorage(p,t.DEPTH_COMPONENT16,r,i),n.put(u,r),n.put(c,i),t.bindRenderbuffer(p,null)),n.get(d)||(t.framebufferRenderbuffer(h,m,p,_),n.put(d,!0))}},unbind:function(e){e.__currentFrameBuffer=null;var t=e.gl;t.bindFramebuffer(h,null),this._boundRenderer=null,this._cache.use(e.__uid__);var n=this._cache.get(\"viewport\");n&&e.setViewport(n),this.updateMipmap(e)},updateMipmap:function(e){var t=e.gl;for(var n in this._textures){var r=this._textures[n];if(r){var o=r.texture;if(!o.NPOT&&o.useMipmap&&o.minFilter===i[\"a\"].LINEAR_MIPMAP_LINEAR){var s=\"textureCube\"===o.textureType?a[\"a\"].TEXTURE_CUBE_MAP:a[\"a\"].TEXTURE_2D;t.bindTexture(s,o.getWebGLTexture(e)),t.generateMipmap(s),t.bindTexture(s,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(h)},_getFrameBufferGL:function(e){var t=this._cache;return t.use(e.__uid__),t.miss(s)&&t.put(s,e.gl.createFramebuffer()),t.get(s)},attach:function(e,t,n){if(!e.width)throw new Error(\"The texture attached to color buffer is not a valid.\");t=t||v,n=n||a[\"a\"].TEXTURE_2D;var r,i=this._boundRenderer,o=i&&i.gl;if(o){var s=this._cache;s.use(i.__uid__),r=s.get(\"attached_textures\")}var l=this._textures[t];if(!l||l.target!==n||l.texture!==e||!r||null==r[t]){var u=!0;i&&(u=this._doAttach(i,e,t,n),this.viewport||i.setViewport(0,0,e.width,e.height,1)),u&&(this._textures[t]=this._textures[t]||{},this._textures[t].texture=e,this._textures[t].target=n)}},_doAttach:function(e,t,n,r){var i=e.gl,o=t.getWebGLTexture(e),s=this._cache.get(\"attached_textures\");if(s&&s[n]){var u=s[n];if(u.texture===t&&u.target===r)return}n=+n;var c=!0;if(n===m||n===a[\"a\"].DEPTH_STENCIL_ATTACHMENT){var v=e.getGLExtension(\"WEBGL_depth_texture\");if(v||console.error(\"Depth texture is not supported by the browser\"),t.format!==a[\"a\"].DEPTH_COMPONENT&&t.format!==a[\"a\"].DEPTH_STENCIL&&(console.error(\"The texture attached to depth buffer is not a valid.\"),c=!1),c){var g=this._cache.get(l);g&&(i.framebufferRenderbuffer(h,m,p,null),i.deleteRenderbuffer(g),this._cache.put(l,!1)),this._cache.put(d,!1),this._cache.put(f,!0)}}return i.framebufferTexture2D(h,n,r,o,0),s||(s={},this._cache.put(\"attached_textures\",s)),s[n]=s[n]||{},s[n].texture=t,s[n].target=r,c},_doDetach:function(e,t,n){e.framebufferTexture2D(h,t,n,null,0);var r=this._cache.get(\"attached_textures\");r&&r[t]&&(r[t]=null),t!==m&&t!==a[\"a\"].DEPTH_STENCIL_ATTACHMENT||this._cache.put(f,!1)},detach:function(e,t){if(this._textures[e]=null,this._boundRenderer){var n=this._cache;n.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,t)}},dispose:function(e){var t=e.gl,n=this._cache;n.use(e.__uid__);var r=n.get(l);r&&t.deleteRenderbuffer(r);var i=n.get(s);i&&t.deleteFramebuffer(i),n.deleteContext(e.__uid__),this._textures={}}});g.DEPTH_ATTACHMENT=m,g.COLOR_ATTACHMENT0=v,g.STENCIL_ATTACHMENT=a[\"a\"].STENCIL_ATTACHMENT,g.DEPTH_STENCIL_ATTACHMENT=a[\"a\"].DEPTH_STENCIL_ATTACHMENT,t[\"a\"]=g},function(e,t,n){\"use strict\";t[\"a\"]={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},function(e,t,n){\"use strict\";var r=n(20),i={create:function(){var e=new r[\"a\"](3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var t=new r[\"a\"](3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:function(e,t,n){var i=new r[\"a\"](3);return i[0]=e,i[1]=t,i[2]=n,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},set:function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}};i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},i.cross=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e},i.lerp=function(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e},i.random=function(e,t){t=t||1;var n=2*Object(r[\"c\"])()*Math.PI,i=2*Object(r[\"c\"])()-1,a=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=i*t,e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*a-l*i,d=u*i+l*r-o*a,f=u*a+o*i-s*r,h=-o*r-s*i-l*a;return e[0]=c*u+h*-o+d*-l-f*-s,e[1]=d*u+h*-s+f*-o-c*-l,e[2]=f*u+h*-l+c*-s-d*-o,e},i.rotateX=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},i.rotateY=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},i.rotateZ=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,a,o){var s,l;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),i.angle=function(e,t){var n=i.fromValues(e[0],e[1],e[2]),r=i.fromValues(t[0],t[1],t[2]);i.normalize(n,n),i.normalize(r,r);var a=i.dot(n,r);return a>1?0:Math.acos(a)},t[\"a\"]=i},function(e,t,n){\"use strict\";(function(e){var r,i=n(111),a={supportWebGL:function(){if(null==r)try{var e=document.createElement(\"canvas\"),t=e.getContext(\"webgl\")||e.getContext(\"experimental-webgl\");if(!t)throw new Error}catch(n){r=!1}return r}};a.Int8Array=\"undefined\"===typeof Int8Array?Array:Int8Array,a.Uint8Array=\"undefined\"===typeof Uint8Array?Array:Uint8Array,a.Uint16Array=\"undefined\"===typeof Uint16Array?Array:Uint16Array,a.Uint32Array=\"undefined\"===typeof Uint32Array?Array:Uint32Array,a.Int16Array=\"undefined\"===typeof Int16Array?Array:Int16Array,a.Float32Array=\"undefined\"===typeof Float32Array?Array:Float32Array,a.Float64Array=\"undefined\"===typeof Float64Array?Array:Float64Array;var o={};\"undefined\"!==typeof window?o=window:\"undefined\"!==typeof e&&(o=e),a.requestAnimationFrame=o.requestAnimationFrame||o.msRequestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},a.createCanvas=function(){return document.createElement(\"canvas\")},a.createImage=function(){return new o.Image},a.request={get:i[\"a\"].get},a.addEventListener=function(e,t,n,r){e.addEventListener(t,n,r)},a.removeEventListener=function(e,t,n){e.removeEventListener(t,n)},t[\"a\"]=a}).call(t,n(67))},function(e,t,n){\"use strict\";var r=n(13),i=n(12),a=n(21),o=n(18),s=n(117),l=i[\"a\"].create,u=i[\"a\"].add,c=i[\"a\"].set,d=s[\"a\"].Attribute,f=s[\"a\"].extend((function(){return{attributes:{position:new d(\"position\",\"float\",3,\"POSITION\"),texcoord0:new d(\"texcoord0\",\"float\",2,\"TEXCOORD_0\"),texcoord1:new d(\"texcoord1\",\"float\",2,\"TEXCOORD_1\"),normal:new d(\"normal\",\"float\",3,\"NORMAL\"),tangent:new d(\"tangent\",\"float\",4,\"TANGENT\"),color:new d(\"color\",\"float\",4,\"COLOR\"),weight:new d(\"weight\",\"float\",3,\"WEIGHT\"),joint:new d(\"joint\",\"float\",4,\"JOINT\"),barycentric:new d(\"barycentric\",\"float\",3,null)},boundingBox:null}}),{mainAttribute:\"position\",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new o[\"a\"]);var t=this.attributes.position.value;if(t&&t.length){var n=e.min,r=e.max,a=n.array,s=r.array;i[\"a\"].set(a,t[0],t[1],t[2]),i[\"a\"].set(s,t[0],t[1],t[2]);for(var l=3;l<t.length;){var u=t[l++],c=t[l++],d=t[l++];u<a[0]&&(a[0]=u),c<a[1]&&(a[1]=c),d<a[2]&&(a[2]=d),u>s[0]&&(s[0]=u),c>s[1]&&(s[1]=c),d>s[2]&&(s[2]=d)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,t=this.attributes,n=t.position.value,a=t.normal.value;if(a&&a.length===n.length)for(var o=0;o<a.length;o++)a[o]=0;else a=t.normal.value=new r[\"a\"].Float32Array(n.length);for(var s,u,d,f=l(),h=l(),p=l(),m=l(),v=l(),g=l(),_=e?e.length:this.vertexCount,y=0;y<_;){e?(s=e[y++],u=e[y++],d=e[y++]):(s=y++,u=y++,d=y++),c(f,n[3*s],n[3*s+1],n[3*s+2]),c(h,n[3*u],n[3*u+1],n[3*u+2]),c(p,n[3*d],n[3*d+1],n[3*d+2]),i[\"a\"].sub(m,f,h),i[\"a\"].sub(v,h,p),i[\"a\"].cross(g,m,v);for(o=0;o<3;o++)a[3*s+o]=a[3*s+o]+g[o],a[3*u+o]=a[3*u+o]+g[o],a[3*d+o]=a[3*d+o]+g[o]}for(o=0;o<a.length;)c(g,a[o],a[o+1],a[o+2]),i[\"a\"].normalize(g,g),a[o++]=g[0],a[o++]=g[1],a[o++]=g[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,t=this.attributes,n=t.position.value,r=t.normal.value,a=l(),o=l(),s=l(),u=l(),d=l(),f=l();r||(r=t.normal.value=new Float32Array(n.length));for(var h,p,m,v=e?e.length:this.vertexCount,g=0;g<v;){e?(h=e[g++],p=e[g++],m=e[g++]):(h=g++,p=g++,m=g++),c(a,n[3*h],n[3*h+1],n[3*h+2]),c(o,n[3*p],n[3*p+1],n[3*p+2]),c(s,n[3*m],n[3*m+1],n[3*m+2]),i[\"a\"].sub(u,a,o),i[\"a\"].sub(d,o,s),i[\"a\"].cross(f,u,d),i[\"a\"].normalize(f,f);for(var _=0;_<3;_++)r[3*h+_]=f[_],r[3*p+_]=f[_],r[3*m+_]=f[_]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,t=this.attributes;t.tangent.value||(t.tangent.value=new Float32Array(4*e));var n=t.texcoord0.value,r=t.position.value,a=t.tangent.value,o=t.normal.value;if(n){for(var s=[],c=[],d=0;d<e;d++)s[d]=[0,0,0],c[d]=[0,0,0];var f,h,p,m=[0,0,0],v=[0,0,0],g=this.indices,_=g?g.length:this.vertexCount;for(d=0;d<_;){g?(f=g[d++],h=g[d++],p=g[d++]):(f=d++,h=d++,p=d++);var y=n[2*f],x=n[2*h],b=n[2*p],w=n[2*f+1],A=n[2*h+1],T=n[2*p+1],S=r[3*f],E=r[3*h],C=r[3*p],M=r[3*f+1],D=r[3*h+1],N=r[3*p+1],L=r[3*f+2],I=r[3*h+2],P=r[3*p+2],O=E-S,R=C-S,k=D-M,F=N-M,B=I-L,z=P-L,H=x-y,U=b-y,G=A-w,j=T-w,V=1/(H*j-G*U);m[0]=(j*O-G*R)*V,m[1]=(j*k-G*F)*V,m[2]=(j*B-G*z)*V,v[0]=(H*R-U*O)*V,v[1]=(H*F-U*k)*V,v[2]=(H*z-U*B)*V,u(s[f],s[f],m),u(s[h],s[h],m),u(s[p],s[p],m),u(c[f],c[f],v),u(c[h],c[h],v),u(c[p],c[p],v)}var W=l(),$=l(),q=l();for(d=0;d<e;d++){q[0]=o[3*d],q[1]=o[3*d+1],q[2]=o[3*d+2];var Y=s[d];i[\"a\"].scale(W,q,i[\"a\"].dot(q,Y)),i[\"a\"].sub(W,Y,W),i[\"a\"].normalize(W,W),i[\"a\"].cross($,q,Y),a[4*d]=W[0],a[4*d+1]=W[1],a[4*d+2]=W[2],a[4*d+3]=i[\"a\"].dot($,c[d])<0?-1:1}this.dirty()}else console.warn(\"Geometry without texcoords can't generate tangents.\")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new r[\"a\"].Uint32Array(this.indices));for(var e=this.attributes,t=this.indices,n=this.getEnabledAttributes(),i={},a=0;a<n.length;a++){var o=n[a];i[o]=e[o].value,e[o].init(this.indices.length)}for(var s=0,l=0;l<t.length;l++){var u=t[l];for(a=0;a<n.length;a++){o=n[a];for(var c=e[o].value,d=e[o].size,f=0;f<d;f++)c[s*d+f]=i[o][u*d+f]}t[l]=s,s++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,t=e.barycentric.value,n=this.indices;if(!t||t.length!==3*n.length){t=e.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++){var a=n?n[r++]:3*r+i;t[3*a+i]=1}this.dirty()}}},applyTransform:function(e){var t=this.attributes,n=t.position.value,r=t.normal.value,o=t.tangent.value;e=e.array;var s=a[\"a\"].create();a[\"a\"].invert(s,e),a[\"a\"].transpose(s,s);var l=i[\"a\"].transformMat4,u=i[\"a\"].forEach;u(n,3,0,null,l,e),r&&u(r,3,0,null,l,s),o&&u(o,4,0,null,l,s),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get(\"chunks\");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension(\"OES_vertex_array_object\");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});f.STATIC_DRAW=s[\"a\"].STATIC_DRAW,f.DYNAMIC_DRAW=s[\"a\"].DYNAMIC_DRAW,f.STREAM_DRAW=s[\"a\"].STREAM_DRAW,f.AttributeBuffer=s[\"a\"].AttributeBuffer,f.IndicesBuffer=s[\"a\"].IndicesBuffer,f.Attribute=d,t[\"a\"]=f},function(e,t,n){\"use strict\";var r=n(8),i=n(38),a=n(43),o=n(9),s=n(19),l=n(41),u=n(11),c=n(125);o[\"a\"][\"import\"](c[\"a\"]);var d=new a[\"a\"],f=new l[\"a\"]({geometry:d,frustumCulling:!1}),h=new i[\"a\"],p=r[\"a\"].extend((function(){return{fragment:\"\",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var e=new o[\"a\"](o[\"a\"].source(\"clay.compositor.vertex\"),this.fragment),t=new s[\"a\"]({shader:e});t.enableTexturesAll(),this.material=t}),{setUniform:function(e,t){this.material.setUniform(e,t)},getUniform:function(e){var t=this.material.uniforms[e];if(t)return t.value},attachOutput:function(e,t){this.outputs||(this.outputs={}),t=t||u[\"a\"].COLOR_ATTACHMENT0,this.outputs[t]=e},detachOutput:function(e){for(var t in this.outputs)this.outputs[t]===e&&(this.outputs[t]=null)},bind:function(e,t){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&t.attach(r,n)}t&&t.bind(e)},unbind:function(e,t){t.unbind(e)},render:function(e,t){var n=e.gl;if(t){this.bind(e,t);var r=e.getGLExtension(\"EXT_draw_buffers\");if(r&&this.outputs){var i=[];for(var a in this.outputs)a=+a,a>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger(\"beforerender\",this,e);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger(\"afterrender\",this,e),t&&this.unbind(e,t)},renderQuad:function(e){f.material=this.material,e.renderPass([f],h)},dispose:function(e){}});t[\"a\"]=p},function(e,t){var n={\"[object Function]\":1,\"[object RegExp]\":1,\"[object Date]\":1,\"[object Error]\":1,\"[object CanvasGradient]\":1,\"[object CanvasPattern]\":1,\"[object Image]\":1,\"[object Canvas]\":1},r={\"[object Int8Array]\":1,\"[object Uint8Array]\":1,\"[object Uint8ClampedArray]\":1,\"[object Int16Array]\":1,\"[object Uint16Array]\":1,\"[object Int32Array]\":1,\"[object Uint32Array]\":1,\"[object Float32Array]\":1,\"[object Float64Array]\":1},i=Object.prototype.toString,a=Array.prototype,o=a.forEach,s=a.filter,l=a.slice,u=a.map,c=a.reduce,d={};function f(e,t){\"createCanvas\"===e&&(_=null),d[e]=t}function h(e){if(null==e||\"object\"!==typeof e)return e;var t=e,a=i.call(e);if(\"[object Array]\"===a){if(!X(e)){t=[];for(var o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}else if(r[a]){if(!X(e)){var l=e.constructor;if(e.constructor.from)t=l.from(e);else{t=new l(e.length);for(o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}}else if(!n[a]&&!X(e)&&!B(e))for(var u in t={},e)e.hasOwnProperty(u)&&(t[u]=h(e[u]));return t}function p(e,t,n){if(!R(t)||!R(e))return n?h(t):e;for(var r in t)if(t.hasOwnProperty(r)){var i=e[r],a=t[r];!R(a)||!R(i)||I(a)||I(i)||B(a)||B(i)||k(a)||k(i)||X(a)||X(i)?!n&&r in e||(e[r]=h(t[r],!0)):p(i,a,n)}return e}function m(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)n=p(n,e[r],t);return n}function v(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function g(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n?null!=t[r]:null==e[r])&&(e[r]=t[r]);return e}var _,y=function(){return d.createCanvas()};function x(){return _||(_=y().getContext(\"2d\")),_}function b(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function w(e,t){var n=e.prototype;function r(){}for(var i in r.prototype=t.prototype,e.prototype=new r,n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}function A(e,t,n){e=\"prototype\"in e?e.prototype:e,t=\"prototype\"in t?t.prototype:t,g(e,t,n)}function T(e){if(e)return\"string\"!==typeof e&&\"number\"===typeof e.length}function S(e,t,n){if(e&&t)if(e.forEach&&e.forEach===o)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function E(e,t,n){if(e&&t){if(e.map&&e.map===u)return e.map(t,n);for(var r=[],i=0,a=e.length;i<a;i++)r.push(t.call(n,e[i],i,e));return r}}function C(e,t,n,r){if(e&&t){if(e.reduce&&e.reduce===c)return e.reduce(t,n,r);for(var i=0,a=e.length;i<a;i++)n=t.call(r,n,e[i],i,e);return n}}function M(e,t,n){if(e&&t){if(e.filter&&e.filter===s)return e.filter(t,n);for(var r=[],i=0,a=e.length;i<a;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}}function D(e,t,n){if(e&&t)for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}function N(e,t){var n=l.call(arguments,2);return function(){return e.apply(t,n.concat(l.call(arguments)))}}function L(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}}function I(e){return\"[object Array]\"===i.call(e)}function P(e){return\"function\"===typeof e}function O(e){return\"[object String]\"===i.call(e)}function R(e){var t=typeof e;return\"function\"===t||!!e&&\"object\"===t}function k(e){return!!n[i.call(e)]}function F(e){return!!r[i.call(e)]}function B(e){return\"object\"===typeof e&&\"number\"===typeof e.nodeType&&\"object\"===typeof e.ownerDocument}function z(e){return e!==e}function H(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function U(e,t){return null!=e?e:t}function G(e,t,n){return null!=e?e:null!=t?t:n}function j(){return Function.call.apply(l,arguments)}function V(e){if(\"number\"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function W(e,t){if(!e)throw new Error(t)}function $(e){return null==e?null:\"function\"===typeof e.trim?e.trim():e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")}d.createCanvas=function(){return document.createElement(\"canvas\")};var q=\"__ec_primitive__\";function Y(e){e[q]=!0}function X(e){return e[q]}function Q(e){var t=I(e);this.data={};var n=this;function r(e,r){t?n.set(e,r):n.set(r,e)}e instanceof Q?e.each(r):e&&S(e,r)}function K(e){return new Q(e)}function Z(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var i=e.length;for(r=0;r<t.length;r++)n[r+i]=t[r];return n}function J(){}Q.prototype={constructor:Q,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=N(e,t)),this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}},t.$override=f,t.clone=h,t.merge=p,t.mergeAll=m,t.extend=v,t.defaults=g,t.createCanvas=y,t.getContext=x,t.indexOf=b,t.inherits=w,t.mixin=A,t.isArrayLike=T,t.each=S,t.map=E,t.reduce=C,t.filter=M,t.find=D,t.bind=N,t.curry=L,t.isArray=I,t.isFunction=P,t.isString=O,t.isObject=R,t.isBuiltInObject=k,t.isTypedArray=F,t.isDom=B,t.eqNaN=z,t.retrieve=H,t.retrieve2=U,t.retrieve3=G,t.slice=j,t.normalizeCssArray=V,t.assert=W,t.trim=$,t.setAsPrimitive=Y,t.isPrimitive=X,t.createHashMap=K,t.concatArray=Z,t.noop=J},function(e,t,n){\"use strict\";t[\"a\"]=function(e,t,n){return{seriesType:e,reset:function(e,t){var n=e.getData(),r=e.visualColorAccessPath.split(\".\");r[r.length-1]=\"opacity\";var i=e.get(r);function a(e,t){var n=e.getItemModel(t),i=n.get(r,!0);null!=i&&e.setItemVisual(t,\"opacity\",i)}return n.setVisual(\"opacity\",null==i?1:i),{dataEach:n.hasItemOption?a:null}}}}},function(e,t,n){\"use strict\";var r=n(3),i=n(12),a=i[\"a\"].set,o=i[\"a\"].copy,s=function(e,t){this.min=e||new r[\"a\"](1/0,1/0,1/0),this.max=t||new r[\"a\"](-1/0,-1/0,-1/0),this.vertices=null};s.prototype={constructor:s,updateFromVertices:function(e){if(e.length>0){var t=this.min,n=this.max,r=t.array,i=n.array;o(r,e[0]),o(i,e[0]);for(var a=1;a<e.length;a++){var s=e[a];s[0]<r[0]&&(r[0]=s[0]),s[1]<r[1]&&(r[1]=s[1]),s[2]<r[2]&&(r[2]=s[2]),s[0]>i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1]),s[2]>i[2]&&(i[2]=s[2])}t._dirty=!0,n._dirty=!0}},union:function(e){var t=this.min,n=this.max;return i[\"a\"].min(t.array,t.array,e.min.array),i[\"a\"].max(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersection:function(e){var t=this.min,n=this.max;return i[\"a\"].max(t.array,t.array,e.min.array),i[\"a\"].min(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,i=e.max.array;return!(t[0]>i[0]||t[1]>i[1]||t[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,i=e.max.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(e){var t=this.min.array,n=this.max.array,r=e.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(){var e=this.min.array,t=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=i[\"a\"].create(),t=i[\"a\"].create(),n=i[\"a\"].create(),r=i[\"a\"].create(),a=i[\"a\"].create(),o=i[\"a\"].create();return function(i,s){var l=i.min.array,u=i.max.array,c=s.array;return e[0]=c[0]*l[0],e[1]=c[1]*l[0],e[2]=c[2]*l[0],t[0]=c[0]*u[0],t[1]=c[1]*u[0],t[2]=c[2]*u[0],n[0]=c[4]*l[1],n[1]=c[5]*l[1],n[2]=c[6]*l[1],r[0]=c[4]*u[1],r[1]=c[5]*u[1],r[2]=c[6]*u[1],a[0]=c[8]*l[2],a[1]=c[9]*l[2],a[2]=c[10]*l[2],o[0]=c[8]*u[2],o[1]=c[9]*u[2],o[2]=c[10]*u[2],l=this.min.array,u=this.max.array,l[0]=Math.min(e[0],t[0])+Math.min(n[0],r[0])+Math.min(a[0],o[0])+c[12],l[1]=Math.min(e[1],t[1])+Math.min(n[1],r[1])+Math.min(a[1],o[1])+c[13],l[2]=Math.min(e[2],t[2])+Math.min(n[2],r[2])+Math.min(a[2],o[2])+c[14],u[0]=Math.max(e[0],t[0])+Math.max(n[0],r[0])+Math.max(a[0],o[0])+c[12],u[1]=Math.max(e[1],t[1])+Math.max(n[1],r[1])+Math.max(a[1],o[1])+c[13],u[2]=Math.max(e[2],t[2])+Math.max(n[2],r[2])+Math.max(a[2],o[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var t=this.min.array,n=this.max.array,r=e.array,i=t[0],a=t[1],o=t[2],s=n[0],l=n[1],u=t[2],c=n[0],d=n[1],f=n[2];if(1===r[15])t[0]=r[0]*i+r[12],t[1]=r[5]*a+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*c+r[12],n[1]=r[5]*d+r[13],t[2]=r[10]*f+r[14];else{var h=-1/o;t[0]=r[0]*i*h,t[1]=r[5]*a*h,n[2]=(r[10]*o+r[14])*h,h=-1/u,n[0]=r[0]*s*h,n[1]=r[5]*l*h,h=-1/f,t[2]=(r[10]*f+r[14])*h}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var t=0;t<8;t++)e[t]=i[\"a\"].fromValues(0,0,0);this.vertices=e}var n=this.min.array,r=this.max.array;return a(e[0],n[0],n[1],n[2]),a(e[1],n[0],r[1],n[2]),a(e[2],r[0],n[1],n[2]),a(e[3],r[0],r[1],n[2]),a(e[4],n[0],n[1],r[2]),a(e[5],n[0],r[1],r[2]),a(e[6],r[0],n[1],r[2]),a(e[7],r[0],r[1],r[2]),this},copy:function(e){var t=this.min,n=this.max;return o(t.array,e.min.array),o(n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},clone:function(){var e=new s;return e.copy(this),e}},t[\"a\"]=s},function(e,t,n){\"use strict\";var r=n(8),i=n(23),a=n(112),o=a[\"a\"].parseToFloat,s={};function l(e){var t=Object.keys(e);t.sort();for(var n=[],r=0;r<t.length;r++){var i=t[r],a=e[i];null===a?n.push(i):n.push(i+\" \"+a.toString())}return n.join(\"\\n\")}function u(e,t,n){n.sort();for(var r=[],a=0;a<n.length;a++){var o=n[a];r.push(o)}var u=l(e)+\"\\n\"+l(t)+\"\\n\"+r.join(\"\\n\");if(s[u])return s[u];var c=i[\"a\"].genGUID();return s[u]=c,c}var c=r[\"a\"].extend((function(){return{name:\"\",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name=\"MATERIAL_\"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:\"highp\",setUniform:function(e,t){void 0===t&&console.warn('Uniform value \"'+e+'\" is undefined');var n=this.uniforms[e];n&&(\"string\"===typeof t&&(t=o(t)||t),n.value=t,this.autoUpdateTextureStatus&&\"t\"===n.type&&(t?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var t in e){var n=e[t];this.setUniform(t,n)}},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,t){if(\"object\"===typeof e)for(var n in e){var r=e[n];this.setUniform(n,r)}else this.setUniform(e,t)},get:function(e){var t=this.uniforms[e];if(t)return t.value},attachShader:function(e,t){var n=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(e){var t=this.uniforms[e].type;return\"t\"===t||\"tv\"===t}),this);var a=this.vertexDefines,o=this.fragmentDefines;if(this.vertexDefines=i[\"a\"].clone(e.vertexDefines),this.fragmentDefines=i[\"a\"].clone(e.fragmentDefines),t){for(var s in n)r[s]&&(r[s].value=n[s].value);i[\"a\"].defaults(this.vertexDefines,a),i[\"a\"].defaults(this.fragmentDefines,o)}var l={};for(var u in e.textures)l[u]={shaderType:e.textures[u].shaderType,type:e.textures[u].type,enabled:!(!t||!this._textureStatus[u])&&this._textureStatus[u].enabled};this._textureStatus=l,this._programKey=\"\"},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var t in this.uniforms)e.uniforms[t].value=this.uniforms[t].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=i[\"a\"].clone(this.vertexDefines),e.fragmentDefines=i[\"a\"].clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,t,n){var r=this.vertexDefines,i=this.fragmentDefines;\"vertex\"!==e&&\"fragment\"!==e&&\"both\"!==e&&arguments.length<3&&(n=t,t=e,e=\"both\"),n=null!=n?n:null,\"vertex\"!==e&&\"both\"!==e||r[t]!==n&&(r[t]=n,this._programKey=\"\"),\"fragment\"!==e&&\"both\"!==e||i[t]!==n&&(i[t]=n,\"both\"!==e&&(this._programKey=\"\"))},undefine:function(e,t){\"vertex\"!==e&&\"fragment\"!==e&&\"both\"!==e&&arguments.length<2&&(t=e,e=\"both\"),\"vertex\"!==e&&\"both\"!==e||this.isDefined(\"vertex\",t)&&(delete this.vertexDefines[t],this._programKey=\"\"),\"fragment\"!==e&&\"both\"!==e||this.isDefined(\"fragment\",t)&&(delete this.fragmentDefines[t],\"both\"!==e&&(this._programKey=\"\"))},isDefined:function(e,t){switch(e){case\"vertex\":return void 0!==this.vertexDefines[t];case\"fragment\":return void 0!==this.fragmentDefines[t]}},getDefine:function(e,t){switch(e){case\"vertex\":return this.vertexDefines[t];case\"fragment\":return this.fragmentDefines[t]}},enableTexture:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.enableTexture(e[t]);else{var n=this._textureStatus[e];if(n){var r=n.enabled;r||(n.enabled=!0,this._programKey=\"\")}}},enableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!0;this._programKey=\"\"},disableTexture:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.disableTexture(e[t]);else{var n=this._textureStatus[e];if(n){var r=!n.enabled;r||(n.enabled=!1,this._programKey=\"\")}}},disableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!1;this._programKey=\"\"},isTextureEnabled:function(e){var t=this._textureStatus;return!!t[e]&&t[e].enabled},getEnabledTextures:function(){var e=[],t=this._textureStatus;for(var n in t)t[n].enabled&&e.push(n);return e},dirtyDefines:function(){this._programKey=\"\"},getProgramKey:function(){return this._programKey||(this._programKey=u(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});t[\"a\"]=c},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return r})),n.d(t,\"a\",(function(){return i})),n.d(t,\"c\",(function(){return a}));var r=1e-6,i=Array,a=Math.random},function(e,t,n){\"use strict\";var r=n(20),i={create:function(){var e=new r[\"a\"](16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var t=new r[\"a\"](16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],v=t[14],g=t[15],_=n*s-r*o,y=n*l-i*o,x=n*u-a*o,b=r*l-i*s,w=r*u-a*s,A=i*u-a*l,T=c*m-d*p,S=c*v-f*p,E=c*g-h*p,C=d*v-f*m,M=d*g-h*m,D=f*g-h*v,N=_*D-y*M+x*C+b*E-w*S+A*T;return N?(N=1/N,e[0]=(s*D-l*M+u*C)*N,e[1]=(i*M-r*D-a*C)*N,e[2]=(m*A-v*w+g*b)*N,e[3]=(f*w-d*A-h*b)*N,e[4]=(l*E-o*D-u*S)*N,e[5]=(n*D-i*E+a*S)*N,e[6]=(v*x-p*A-g*y)*N,e[7]=(c*A-f*x+h*y)*N,e[8]=(o*M-s*E+u*T)*N,e[9]=(r*E-n*M-a*T)*N,e[10]=(p*w-m*x+g*_)*N,e[11]=(d*x-c*w-h*_)*N,e[12]=(s*S-o*C-l*T)*N,e[13]=(n*C-r*S+i*T)*N,e[14]=(m*y-p*b-v*_)*N,e[15]=(c*b-d*y+f*_)*N,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],v=t[14],g=t[15];return e[0]=s*(f*g-h*v)-d*(l*g-u*v)+m*(l*h-u*f),e[1]=-(r*(f*g-h*v)-d*(i*g-a*v)+m*(i*h-a*f)),e[2]=r*(l*g-u*v)-s*(i*g-a*v)+m*(i*u-a*l),e[3]=-(r*(l*h-u*f)-s*(i*h-a*f)+d*(i*u-a*l)),e[4]=-(o*(f*g-h*v)-c*(l*g-u*v)+p*(l*h-u*f)),e[5]=n*(f*g-h*v)-c*(i*g-a*v)+p*(i*h-a*f),e[6]=-(n*(l*g-u*v)-o*(i*g-a*v)+p*(i*u-a*l)),e[7]=n*(l*h-u*f)-o*(i*h-a*f)+c*(i*u-a*l),e[8]=o*(d*g-h*m)-c*(s*g-u*m)+p*(s*h-u*d),e[9]=-(n*(d*g-h*m)-c*(r*g-a*m)+p*(r*h-a*d)),e[10]=n*(s*g-u*m)-o*(r*g-a*m)+p*(r*u-a*s),e[11]=-(n*(s*h-u*d)-o*(r*h-a*d)+c*(r*u-a*s)),e[12]=-(o*(d*v-f*m)-c*(s*v-l*m)+p*(s*f-l*d)),e[13]=n*(d*v-f*m)-c*(r*v-i*m)+p*(r*f-i*d),e[14]=-(n*(s*v-l*m)-o*(r*v-i*m)+p*(r*l-i*s)),e[15]=n*(s*f-l*d)-o*(r*f-i*d)+c*(r*l-i*s),e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],m=e[14],v=e[15],g=t*o-n*a,_=t*s-r*a,y=t*l-i*a,x=n*s-r*o,b=n*l-i*o,w=r*l-i*s,A=u*p-c*h,T=u*m-d*h,S=u*v-f*h,E=c*m-d*p,C=c*v-f*p,M=d*v-f*m;return g*M-_*C+y*E+x*S-b*T+w*A},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],m=t[12],v=t[13],g=t[14],_=t[15],y=n[0],x=n[1],b=n[2],w=n[3];return e[0]=y*r+x*s+b*d+w*m,e[1]=y*i+x*l+b*f+w*v,e[2]=y*a+x*u+b*h+w*g,e[3]=y*o+x*c+b*p+w*_,y=n[4],x=n[5],b=n[6],w=n[7],e[4]=y*r+x*s+b*d+w*m,e[5]=y*i+x*l+b*f+w*v,e[6]=y*a+x*u+b*h+w*g,e[7]=y*o+x*c+b*p+w*_,y=n[8],x=n[9],b=n[10],w=n[11],e[8]=y*r+x*s+b*d+w*m,e[9]=y*i+x*l+b*f+w*v,e[10]=y*a+x*u+b*h+w*g,e[11]=y*o+x*c+b*p+w*_,y=n[12],x=n[13],b=n[14],w=n[15],e[12]=y*r+x*s+b*d+w*m,e[13]=y*i+x*l+b*f+w*v,e[14]=y*a+x*u+b*h+w*g,e[15]=y*o+x*c+b*p+w*_,e},multiplyAffine:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[4],s=t[5],l=t[6],u=t[8],c=t[9],d=t[10],f=t[12],h=t[13],p=t[14],m=n[0],v=n[1],g=n[2];return e[0]=m*r+v*o+g*u,e[1]=m*i+v*s+g*c,e[2]=m*a+v*l+g*d,m=n[4],v=n[5],g=n[6],e[4]=m*r+v*o+g*u,e[5]=m*i+v*s+g*c,e[6]=m*a+v*l+g*d,m=n[8],v=n[9],g=n[10],e[8]=m*r+v*o+g*u,e[9]=m*i+v*s+g*c,e[10]=m*a+v*l+g*d,m=n[12],v=n[13],g=n[14],e[12]=m*r+v*o+g*u+f,e[13]=m*i+v*s+g*c+h,e[14]=m*a+v*l+g*d+p,e}};i.mul=i.multiply,i.mulAffine=i.multiplyAffine,i.translate=function(e,t,n){var r,i,a,o,s,l,u,c,d,f,h,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*m+s*v+d*g+t[12],e[13]=i*m+l*v+f*g+t[13],e[14]=a*m+u*v+h*g+t[14],e[15]=o*m+c*v+p*g+t[15]),e},i.scale=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.rotate=function(e,t,n,i){var a,o,s,l,u,c,d,f,h,p,m,v,g,_,y,x,b,w,A,T,S,E,C,M,D=i[0],N=i[1],L=i[2],I=Math.sqrt(D*D+N*N+L*L);return Math.abs(I)<r[\"b\"]?null:(I=1/I,D*=I,N*=I,L*=I,a=Math.sin(n),o=Math.cos(n),s=1-o,l=t[0],u=t[1],c=t[2],d=t[3],f=t[4],h=t[5],p=t[6],m=t[7],v=t[8],g=t[9],_=t[10],y=t[11],x=D*D*s+o,b=N*D*s+L*a,w=L*D*s-N*a,A=D*N*s-L*a,T=N*N*s+o,S=L*N*s+D*a,E=D*L*s+N*a,C=N*L*s-D*a,M=L*L*s+o,e[0]=l*x+f*b+v*w,e[1]=u*x+h*b+g*w,e[2]=c*x+p*b+_*w,e[3]=d*x+m*b+y*w,e[4]=l*A+f*T+v*S,e[5]=u*A+h*T+g*S,e[6]=c*A+p*T+_*S,e[7]=d*A+m*T+y*S,e[8]=l*E+f*C+v*M,e[9]=u*E+h*C+g*M,e[10]=c*E+p*C+_*M,e[11]=d*E+m*C+y*M,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},i.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=o*i+c*r,e[6]=s*i+d*r,e[7]=l*i+f*r,e[8]=u*i-a*r,e[9]=c*i-o*r,e[10]=d*i-s*r,e[11]=f*i-l*r,e},i.rotateY=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=o*i-c*r,e[2]=s*i-d*r,e[3]=l*i-f*r,e[8]=a*r+u*i,e[9]=o*r+c*i,e[10]=s*r+d*i,e[11]=l*r+f*i,e},i.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=o*i+c*r,e[2]=s*i+d*r,e[3]=l*i+f*r,e[4]=u*i-a*r,e[5]=c*i-o*r,e[6]=d*i-s*r,e[7]=f*i-l*r,e},i.fromRotationTranslation=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,l=i+i,u=a+a,c=r*s,d=r*l,f=r*u,h=i*l,p=i*u,m=a*u,v=o*s,g=o*l,_=o*u;return e[0]=1-(h+m),e[1]=d+_,e[2]=f-g,e[3]=0,e[4]=d-_,e[5]=1-(c+m),e[6]=p+v,e[7]=0,e[8]=f+g,e[9]=p-v,e[10]=1-(c+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,l=i+i,u=n*o,c=r*o,d=r*s,f=i*o,h=i*s,p=i*l,m=a*o,v=a*s,g=a*l;return e[0]=1-d-p,e[1]=c+g,e[2]=f-v,e[3]=0,e[4]=c-g,e[5]=1-u-p,e[6]=h+m,e[7]=0,e[8]=f+v,e[9]=h-m,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.frustum=function(e,t,n,r,i,a,o){var s=1/(n-t),l=1/(i-r),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e},i.perspective=function(e,t,n,r,i){var a=1/Math.tan(t/2),o=1/(r-i);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e},i.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),l=1/(r-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(o+a)*u,e[15]=1,e},i.lookAt=function(e,t,n,a){var o,s,l,u,c,d,f,h,p,m,v=t[0],g=t[1],_=t[2],y=a[0],x=a[1],b=a[2],w=n[0],A=n[1],T=n[2];return Math.abs(v-w)<r[\"b\"]&&Math.abs(g-A)<r[\"b\"]&&Math.abs(_-T)<r[\"b\"]?i.identity(e):(f=v-w,h=g-A,p=_-T,m=1/Math.sqrt(f*f+h*h+p*p),f*=m,h*=m,p*=m,o=x*p-b*h,s=b*f-y*p,l=y*h-x*f,m=Math.sqrt(o*o+s*s+l*l),m?(m=1/m,o*=m,s*=m,l*=m):(o=0,s=0,l=0),u=h*l-p*s,c=p*o-f*l,d=f*s-h*o,m=Math.sqrt(u*u+c*c+d*d),m?(m=1/m,u*=m,c*=m,d*=m):(u=0,c=0,d=0),e[0]=o,e[1]=u,e[2]=f,e[3]=0,e[4]=s,e[5]=c,e[6]=h,e[7]=0,e[8]=l,e[9]=d,e[10]=p,e[11]=0,e[12]=-(o*v+s*g+l*_),e[13]=-(u*v+c*g+d*_),e[14]=-(f*v+h*g+p*_),e[15]=1,e)},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(36),o=n(176),s=n(37),l=n(38),u=n(7),c=n(3),d=n(26),f=n(53),h=n(178),p=n(202),m=n(49);function v(e){e=e||\"perspective\",this.layer=null,this.scene=new a[\"a\"],this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new h[\"a\"],this._temporalSS=new p[\"a\"],this._shadowMapPass=new o[\"a\"];for(var t=[],n=0,r=0;r<30;r++){for(var i=[],s=0;s<6;s++)i.push(4*Object(m[\"a\"])(n,2)-2),i.push(4*Object(m[\"a\"])(n,3)-2),n++;t.push(i)}this._pcfKernels=t,this.scene.on(\"beforerender\",(function(e,t,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,n)}),this)}v.prototype.setProjection=function(e){var t=this.camera;t&&t.update(),\"perspective\"===e?this.camera instanceof s[\"a\"]||(this.camera=new s[\"a\"],t&&this.camera.setLocalTransform(t.localTransform)):this.camera instanceof l[\"a\"]||(this.camera=new l[\"a\"],t&&this.camera.setLocalTransform(t.localTransform)),this.camera.near=.1,this.camera.far=2e3},v.prototype.setViewport=function(e,t,n,r,i){this.camera instanceof s[\"a\"]&&(this.camera.aspect=n/r),i=i||1,this.viewport.x=e,this.viewport.y=t,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(n*i,r*i),this._temporalSS.resize(n*i,r*i)},v.prototype.containPoint=function(e,t){var n=this.viewport,r=this.layer.renderer.getHeight();return t=r-t,e>=n.x&&t>=n.y&&e<=n.x+n.width&&t<=n.y+n.height};var g=new d[\"a\"];v.prototype.castRay=function(e,t,n){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(e,t,g),this.camera.castRay(g,n),r.viewport=i,n},v.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var t=0;t<e.transparent.length;t++){var n=e.transparent[t],r=n.geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},v.prototype.render=function(e,t){this._doRender(e,t,this._frame),this._frame++},v.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},v.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return\"auto\"===e&&(e=this._enablePostEffect),e},v.prototype.hasDOF=function(){return this._enableDOF},v.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},v.prototype._doRender=function(e,t,n){var r=this.scene,i=this.camera;n=n||0,this._updateTransparent(e,r,i,n),t||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,r,i,!0)),this._updateShadowPCFKernel(n);var a=e.clearColor;if(e.gl.clearColor(a[0],a[1],a[2],a[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,i),this._compositor.updateNormal(e,r,i,this._temporalSS.getFrame())),this._updateSSAO(e,r,i,this._temporalSS.getFrame()),this._enablePostEffect){var o=this._compositor.getSourceFrameBuffer();o.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(r,i,!0,!0),o.unbind(e),this.needsTemporalSS()&&t?(this._compositor.composite(e,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,r,i,null,0))}else if(this.needsTemporalSS()&&t){o=this._temporalSS.getSourceFrameBuffer();o.bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(r,i,!0,!0),e.restoreClear(),o.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(r,i,!0,!0)},v.prototype._updateTransparent=function(e,t,n,r){for(var i=new c[\"a\"],a=new u[\"a\"],o=n.getWorldPosition(),s=t.getRenderList(n).transparent,l=0;l<s.length;l++){var d=s[l],f=d.geometry;u[\"a\"].invert(a,d.worldTransform),c[\"a\"].transformMat4(i,o,a),f.needsSortTriangles&&f.needsSortTriangles()&&f.doSortTriangles(i,r),f.needsSortVertices&&f.needsSortVertices()&&f.doSortVertices(i,r)}},v.prototype._updateSSAO=function(e,t,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(e,t,n,this._temporalSS.getFrame());for(var i=t.getRenderList(n),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[r?\"enableTexture\":\"disableTexture\"](\"ssaoMap\"),r&&o.material.set(\"ssaoMap\",this._compositor.getSSAOTexture())}},v.prototype._updateShadowPCFKernel=function(e){for(var t=this._pcfKernels[e%this._pcfKernels.length],n=this.scene.getRenderList(this.camera),r=n.opaque,i=0;i<r.length;i++)r[i].receiveShadow&&(r[i].material.set(\"pcfKernel\",t),r[i].material.define(\"fragment\",\"PCF_KERNEL_SIZE\",t.length/2))},v.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)},v.prototype.setPostEffect=function(e,t){var n=this._compositor;this._enablePostEffect=e.get(\"enable\");var r=e.getModel(\"bloom\"),i=e.getModel(\"edge\"),a=e.getModel(\"DOF\",e.getModel(\"depthOfField\")),o=e.getModel(\"SSAO\",e.getModel(\"screenSpaceAmbientOcclusion\")),s=e.getModel(\"SSR\",e.getModel(\"screenSpaceReflection\")),l=e.getModel(\"FXAA\"),u=e.getModel(\"colorCorrection\");r.get(\"enable\")?n.enableBloom():n.disableBloom(),a.get(\"enable\")?n.enableDOF():n.disableDOF(),s.get(\"enable\")?n.enableSSR():n.disableSSR(),u.get(\"enable\")?n.enableColorCorrection():n.disableColorCorrection(),i.get(\"enable\")?n.enableEdge():n.disableEdge(),l.get(\"enable\")?n.enableFXAA():n.disableFXAA(),this._enableDOF=a.get(\"enable\"),this._enableSSAO=o.get(\"enable\"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get(\"intensity\")),n.setEdgeColor(i.get(\"color\")),n.setColorLookupTexture(u.get(\"lookupTexture\"),t),n.setExposure(u.get(\"exposure\")),[\"radius\",\"quality\",\"intensity\"].forEach((function(e){n.setSSAOParameter(e,o.get(e))})),[\"quality\",\"maxRoughness\",\"physical\"].forEach((function(e){n.setSSRParameter(e,s.get(e))})),[\"quality\",\"focalDistance\",\"focalRange\",\"blurRadius\",\"fstop\"].forEach((function(e){n.setDOFParameter(e,a.get(e))})),[\"brightness\",\"contrast\",\"saturation\"].forEach((function(e){n.setColorCorrection(e,u.get(e))}))},v.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect){if(e>this.camera.far||e<this.camera.near)return;return this._compositor.setDOFParameter(\"focalDistance\",e),!0}},v.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get(\"enable\")},v.prototype.isLinearSpace=function(){return this._enablePostEffect},v.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var t=this.rootNode.children(),n=0;n<t.length;n++)e.add(t[n]);e!==this.scene&&this.scene.add(e),this.rootNode=e}},v.prototype.add=function(e){this.rootNode.add(e)},v.prototype.remove=function(e){this.rootNode.remove(e)},v.prototype.removeAll=function(e){this.rootNode.removeAll(e)},i.a.util.extend(v.prototype,f[\"a\"]),t[\"a\"]=v},function(e,t,n){\"use strict\";var r=0,i=Array.prototype,a=i.forEach,o={genGUID:function(){return++r},relative2absolute:function(e,t){if(!t||e.match(/^\\//))return e;var n=e.split(\"/\"),r=t.split(\"/\"),i=n[0];while(\".\"===i||\"..\"===i)\"..\"===i&&r.pop(),n.shift(),i=n[0];return r.join(\"/\")+\"/\"+n.join(\"/\")},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},extendWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var i=n[r];e[i]=t[i]}return e},defaultsWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var i=n[r];null==e[i]&&(e[i]=t[i])}return e},each:function(e,t,n){if(e&&t)if(e.forEach&&e.forEach===a)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return!!e&&e.length===+e.length},clone:function(e){if(o.isObject(e)){if(o.isArray(e))return e.slice();if(o.isArrayLike(e)){for(var t=new e.constructor(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}return o.extend({},e)}return e}};t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(35),i=n(9),a=n(118);i[\"a\"][\"import\"](a[\"a\"]);var o=r[\"a\"].extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:\"\",clone:function(){var e=r[\"a\"].prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}});t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(14),i=n(0),a=n.n(i),o=n(39),s=n(6),l=s[\"a\"].vec3,u=[[0,0],[1,1]],c=r[\"a\"].extend((function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new r[\"a\"].Attribute(\"position\",\"float\",3,\"POSITION\"),positionPrev:new r[\"a\"].Attribute(\"positionPrev\",\"float\",3),positionNext:new r[\"a\"].Attribute(\"positionNext\",\"float\",3),prevPositionPrev:new r[\"a\"].Attribute(\"prevPositionPrev\",\"float\",3),prevPosition:new r[\"a\"].Attribute(\"prevPosition\",\"float\",3),prevPositionNext:new r[\"a\"].Attribute(\"prevPositionNext\",\"float\",3),offset:new r[\"a\"].Attribute(\"offset\",\"float\",1),color:new r[\"a\"].Attribute(\"color\",\"float\",4,\"COLOR\")}}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.positionPrev.init(e),t.positionNext.init(e),t.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,t,n,r){var i=l.dist(e,t)+l.dist(n,t)+l.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(u)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(u)},getPolylineVertexCount:function(e){var t;if(\"number\"===typeof e)t=e;else{var n=\"number\"!==typeof e[0];t=n?e.length:e.length/3}return this.useNativeLine?2*(t-1):2*(t-1)+2},getPolylineTriangleCount:function(e){var t;if(\"number\"===typeof e)t=e;else{var n=\"number\"!==typeof e[0];t=n?e.length:e.length/3}return this.useNativeLine?0:2*Math.max(t-1,0)},addCubicCurve:function(e,t,n,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],l=e[2],u=t[0],c=t[1],d=t[2],f=n[0],h=n[1],p=n[2],m=r[0],v=r[1],g=r[2],_=this._getCubicCurveApproxStep(e,t,n,r),y=_*_,x=y*_,b=3*_,w=3*y,A=6*y,T=6*x,S=o-2*u+f,E=s-2*c+h,C=l-2*d+p,M=3*(u-f)-o+m,D=3*(c-h)-s+v,N=3*(d-p)-l+g,L=o,I=s,P=l,O=(u-o)*b+S*w+M*x,R=(c-s)*b+E*w+D*x,k=(d-l)*b+C*w+N*x,F=S*A+M*T,B=E*A+D*T,z=C*A+N*T,H=M*T,U=D*T,G=N*T,j=0,V=0,W=Math.ceil(1/_),$=new Float32Array(3*(W+1)),q=($=[],0);for(V=0;V<W+1;V++)$[q++]=L,$[q++]=I,$[q++]=P,L+=O,I+=R,P+=k,O+=F,R+=B,k+=z,F+=H,B+=U,z+=G,j+=_,j>1&&(L=O>0?Math.min(L,m):Math.max(L,m),I=R>0?Math.min(I,v):Math.max(I,v),P=k>0?Math.min(P,g):Math.max(P,g));return this.addPolyline($,i,a)},addLine:function(e,t,n,r){return this.addPolyline([e,t],n,r)},addPolyline:function(e,t,n,r,i){if(e.length){var a=\"number\"!==typeof e[0];if(null==i&&(i=a?e.length:e.length/3),!(i<2)){null==r&&(r=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);a=\"number\"!==typeof e[0];var o,s,l=a?\"number\"!==typeof t[0]:t.length/4===i,u=this.attributes.position,c=this.attributes.positionPrev,d=this.attributes.positionNext,f=this.attributes.color,h=this.attributes.offset,p=this.indices,m=this._vertexOffset;n=Math.max(n,.01);for(var v=r;v<i;v++){if(a)o=e[v],s=l?t[v]:t;else{var g=3*v;if(o=o||[],o[0]=e[g],o[1]=e[g+1],o[2]=e[g+2],l){var _=4*v;s=s||[],s[0]=t[_],s[1]=t[_+1],s[2]=t[_+2],s[3]=t[_+3]}else s=t}if(this.useNativeLine?v>1&&(u.copy(m,m-1),f.copy(m,m-1),m++):(v<i-1&&(c.set(m+2,o),c.set(m+3,o)),v>0&&(d.set(m-2,o),d.set(m-1,o)),u.set(m,o),u.set(m+1,o),f.set(m,s),f.set(m+1,s),h.set(m,n/2),h.set(m+1,-n/2),m+=2),this.useNativeLine)f.set(m,s),u.set(m,o),m++;else if(v>0){var y=3*this._triangleOffset;p=this.indices;p[y]=m-4,p[y+1]=m-3,p[y+2]=m-2,p[y+3]=m-3,p[y+4]=m-1,p[y+5]=m-2,this._triangleOffset+=2}}if(!this.useNativeLine){var x=this._vertexOffset,b=this._vertexOffset+2*i;c.copy(x,x+2),c.copy(x+1,x+3),d.copy(b-1,b-3),d.copy(b-2,b-4)}return this._vertexOffset=m,this._vertexOffset}}},setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,t);this.dirty(\"color\")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});a.a.util.defaults(c.prototype,o[\"a\"]),t[\"a\"]=c},function(e,t,n){\"use strict\";var r=n(69),i=function(e,t){e=e||0,t=t||0,this.array=r[\"a\"].fromValues(e,t),this._dirty=!0};if(i.prototype={constructor:i,add:function(e){return r[\"a\"].add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t){return this.array[0]=e,this.array[1]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new i(this.x,this.y)},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return r[\"a\"].cross(e.array,this.array,t.array),e._dirty=!0,this},dist:function(e){return r[\"a\"].dist(this.array,e.array)},distance:function(e){return r[\"a\"].distance(this.array,e.array)},div:function(e){return r[\"a\"].div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return r[\"a\"].divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return r[\"a\"].dot(this.array,e.array)},len:function(){return r[\"a\"].len(this.array)},length:function(){return r[\"a\"].length(this.array)},lerp:function(e,t,n){return r[\"a\"].lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return r[\"a\"].min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return r[\"a\"].max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return r[\"a\"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r[\"a\"].normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return r[\"a\"].random(this.array,e),this._dirty=!0,this},scale:function(e){return r[\"a\"].scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return r[\"a\"].scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return r[\"a\"].sqrDist(this.array,e.array)},squaredDistance:function(e){return r[\"a\"].squaredDistance(this.array,e.array)},sqrLen:function(){return r[\"a\"].sqrLen(this.array)},squaredLength:function(){return r[\"a\"].squaredLength(this.array)},sub:function(e){return r[\"a\"].sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return r[\"a\"].subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return r[\"a\"].transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return r[\"a\"].transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return r[\"a\"].transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return r[\"a\"].transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var a=i.prototype;Object.defineProperty(a,\"x\",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(a,\"y\",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}i.add=function(e,t,n){return r[\"a\"].add(e.array,t.array,n.array),e._dirty=!0,e},i.set=function(e,t,n){return r[\"a\"].set(e.array,t,n),e._dirty=!0,e},i.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},i.cross=function(e,t,n){return r[\"a\"].cross(e.array,t.array,n.array),e._dirty=!0,e},i.dist=function(e,t){return r[\"a\"].distance(e.array,t.array)},i.distance=i.dist,i.div=function(e,t,n){return r[\"a\"].divide(e.array,t.array,n.array),e._dirty=!0,e},i.divide=i.div,i.dot=function(e,t){return r[\"a\"].dot(e.array,t.array)},i.len=function(e){return r[\"a\"].length(e.array)},i.lerp=function(e,t,n,i){return r[\"a\"].lerp(e.array,t.array,n.array,i),e._dirty=!0,e},i.min=function(e,t,n){return r[\"a\"].min(e.array,t.array,n.array),e._dirty=!0,e},i.max=function(e,t,n){return r[\"a\"].max(e.array,t.array,n.array),e._dirty=!0,e},i.mul=function(e,t,n){return r[\"a\"].multiply(e.array,t.array,n.array),e._dirty=!0,e},i.multiply=i.mul,i.negate=function(e,t){return r[\"a\"].negate(e.array,t.array),e._dirty=!0,e},i.normalize=function(e,t){return r[\"a\"].normalize(e.array,t.array),e._dirty=!0,e},i.random=function(e,t){return r[\"a\"].random(e.array,t),e._dirty=!0,e},i.scale=function(e,t,n){return r[\"a\"].scale(e.array,t.array,n),e._dirty=!0,e},i.scaleAndAdd=function(e,t,n,i){return r[\"a\"].scaleAndAdd(e.array,t.array,n.array,i),e._dirty=!0,e},i.sqrDist=function(e,t){return r[\"a\"].sqrDist(e.array,t.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(e){return r[\"a\"].sqrLen(e.array)},i.squaredLength=i.sqrLen,i.sub=function(e,t,n){return r[\"a\"].subtract(e.array,t.array,n.array),e._dirty=!0,e},i.subtract=i.sub,i.transformMat2=function(e,t,n){return r[\"a\"].transformMat2(e.array,t.array,n.array),e._dirty=!0,e},i.transformMat2d=function(e,t,n){return r[\"a\"].transformMat2d(e.array,t.array,n.array),e._dirty=!0,e},i.transformMat3=function(e,t,n){return r[\"a\"].transformMat3(e.array,t.array,n.array),e._dirty=!0,e},i.transformMat4=function(e,t,n){return r[\"a\"].transformMat4(e.array,t.array,n.array),e._dirty=!0,e},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(4),i=n(11),a=n(23),o=n(72),s=n(13),l=o[\"a\"].isPowerOfTwo,u=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"],c=r[\"a\"].extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:\"textureCube\",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get(\"webgl_texture\")),this.updateCommon(e);var n=this.format,r=this.type;t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var a=e.getGLExtension(\"EXT_texture_filter_anisotropic\");if(a&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_CUBE_MAP,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){var o=e.getGLExtension(\"OES_texture_half_float\");o||(r=i[\"a\"].FLOAT)}if(this.mipmaps.length)for(var s=this.width,l=this.height,u=0;u<this.mipmaps.length;u++){var c=this.mipmaps[u];this._updateTextureData(t,c,u,s,l,n,r),s/=2,l/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&t.generateMipmap(t.TEXTURE_CUBE_MAP);t.bindTexture(t.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,t,n,r,i,a,o){for(var s=0;s<6;s++){var l=u[s],c=t.image&&t.image[l];c?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,c):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,r,i,0,a,o,t.pixels&&t.pixels[l])}},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get(\"webgl_texture\")),t.generateMipmap(t.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?l(this.image.px.width)&&l(this.image.px.height):l(this.width)&&l(this.height)},isRenderable:function(){return this.image.px?d(this.image.px)&&d(this.image.nx)&&d(this.image.py)&&d(this.image.ny)&&d(this.image.pz)&&d(this.image.nz):!(!this.width||!this.height)},load:function(e,t){var n=0,r=this;return a[\"a\"].each(e,(function(e,i){var a=s[\"a\"].createImage();t&&(a.crossOrigin=t),a.onload=function(){n--,0===n&&(r.dirty(),r.trigger(\"success\",r))},a.onerror=function(){n--},n++,a.src=e,r.image[i]=a})),this}});function d(e){return e.width>0&&e.height>0}Object.defineProperty(c.prototype,\"width\",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn(\"Texture from image can't set width\"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(c.prototype,\"height\",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn(\"Texture from image can't set height\"):(this._height!==e&&this.dirty(),this._height=e)}}),t[\"a\"]=c},function(e,t,n){\"use strict\";t[\"a\"]={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:\"medium\"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:\"medium\",intensity:1},screenSpaceReflection:{enable:!1,quality:\"medium\",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:\"\"},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:\"auto\"}}}},function(e,t,n){\"use strict\";t[\"a\"]={defaultOption:{light:{main:{shadow:!1,shadowQuality:\"high\",color:\"#fff\",intensity:1,alpha:0,beta:0},ambient:{color:\"#fff\",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}}},function(e,t,n){\"use strict\";var r=n(1),i=n(42),a=n(0),o=n.n(a);function s(){}s.prototype={constructor:s,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new r[\"a\"].DirectionalLight({shadowBias:.005}),this.ambientLight=new r[\"a\"].AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var t=this.mainLight,n=this.ambientLight,i=e.getModel(\"light\"),a=i.getModel(\"main\"),o=i.getModel(\"ambient\");t.intensity=a.get(\"intensity\"),n.intensity=o.get(\"intensity\"),t.color=r[\"a\"].parseColor(a.get(\"color\")).slice(0,3),n.color=r[\"a\"].parseColor(o.get(\"color\")).slice(0,3);var s=a.get(\"alpha\")||0,l=a.get(\"beta\")||0;t.position.setArray(r[\"a\"].directionFromAlphaBeta(s,l)),t.lookAt(r[\"a\"].Vector3.ZERO),t.castShadow=a.get(\"shadow\"),t.shadowResolution=r[\"a\"].getShadowResolution(a.get(\"shadowQuality\"))},updateAmbientCubemap:function(e,t,n){var i=t.getModel(\"light.ambientCubemap\"),a=i.get(\"texture\");if(a){this._cubemapLightsCache=this._cubemapLightsCache||{};var o=this._cubemapLightsCache[a];if(!o){var s=this;o=this._cubemapLightsCache[a]=r[\"a\"].createAmbientCubemap(i.option,e,n,(function(){s._isSkyboxFromAmbientCubemap&&s._skybox.setEnvironmentMap(o.specular.cubemap),n.getZr().refresh()}))}this._lightRoot.add(o.diffuse),this._lightRoot.add(o.specular),this._currentCubemapLights=o}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,t,n){var a=t.get(\"environment\"),s=this;function l(){return s._skybox=s._skybox||new i[\"a\"],s._skybox}var u=l();if(a&&\"none\"!==a)if(\"auto\"===a)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var c=this._currentCubemapLights.specular.cubemap;u.setEnvironmentMap(c),this._scene&&u.attachScene(this._scene),u.material.set(\"lod\",3)}else this._skybox&&this._skybox.detachScene();else if(\"object\"===typeof a&&a.colorStops||\"string\"===typeof a&&o.a.color.parse(a)){this._isSkyboxFromAmbientCubemap=!1;var d=new r[\"a\"].Texture2D({anisotropic:8,flipY:!1});u.setEnvironmentMap(d);var f=d.image=document.createElement(\"canvas\");f.width=f.height=16;var h=f.getContext(\"2d\"),p=new o.a.graphic.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:a}});p.brush(h),u.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;d=r[\"a\"].loadTexture(a,n,{anisotropic:8,flipY:!1});u.setEnvironmentMap(d),u.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var m=t.coordinateSystem;if(this._skybox)if(!m||!m.viewGL||\"auto\"===a||a.match&&a.match(/.hdr$/))this._skybox.material.undefine(\"fragment\",\"SRGB_DECODE\");else{var v=m.viewGL.isLinearSpace()?\"define\":\"undefine\";this._skybox.material[v](\"fragment\",\"SRGB_DECODE\")}}},t[\"a\"]=s},function(e,t,n){\"use strict\";t[\"a\"]={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:\"#fff\"}}}},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a={getFormattedLabel:function(e,t,n,r,a){n=n||\"normal\";var o=e.getData(r),s=o.getItemModel(t),l=e.getDataParams(t,r);null!=a&&l.value instanceof Array&&(l.value=l.value[a]);var u,c=s.get(\"normal\"===n?[\"label\",\"formatter\"]:[\"emphasis\",\"label\",\"formatter\"]);return null==c&&(c=s.get([\"label\",\"formatter\"])),\"function\"===typeof c?(l.status=n,u=c(l)):\"string\"===typeof c&&(u=i.a.format.formatTpl(c,l)),u},normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]}};t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(20),i={create:function(){var e=new r[\"a\"](4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var t=new r[\"a\"](4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},fromValues:function(e,t,n,i){var a=new r[\"a\"](4);return a[0]=e,a[1]=t,a[2]=n,a[3]=i,a},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},set:function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}};i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},i.lerp=function(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e},i.random=function(e,t){return t=t||1,e[0]=Object(r[\"c\"])(),e[1]=Object(r[\"c\"])(),e[2]=Object(r[\"c\"])(),e[3]=Object(r[\"c\"])(),i.normalize(e,e),i.scale(e,e,t),e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*a-l*i,d=u*i+l*r-o*a,f=u*a+o*i-s*r,h=-o*r-s*i-l*a;return e[0]=c*u+h*-o+d*-l-f*-s,e[1]=d*u+h*-s+f*-o-c*-l,e[2]=f*u+h*-l+c*-s-d*-o,e},i.forEach=function(){var e=i.create();return function(t,n,r,i,a,o){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(20),i={create:function(){var e=new r[\"a\"](9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new r[\"a\"](9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=c*o-s*u,f=-c*a+s*l,h=u*a-o*l,p=n*d+r*f+i*h;return p?(p=1/p,e[0]=d*p,e[1]=(-c*r+i*u)*p,e[2]=(s*r-i*o)*p,e[3]=f*p,e[4]=(c*n-i*l)*p,e[5]=(-s*n+i*a)*p,e[6]=h*p,e[7]=(-u*n+r*l)*p,e[8]=(o*n-r*a)*p,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=i*u-r*c,e[2]=r*s-i*o,e[3]=s*l-a*c,e[4]=n*c-i*l,e[5]=i*a-n*s,e[6]=a*u-o*l,e[7]=r*l-n*u,e[8]=n*o-r*a,e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*a-o*l)+n*(-u*i+o*s)+r*(l*i-a*s)},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=n[0],h=n[1],p=n[2],m=n[3],v=n[4],g=n[5],_=n[6],y=n[7],x=n[8];return e[0]=f*r+h*o+p*u,e[1]=f*i+h*s+p*c,e[2]=f*a+h*l+p*d,e[3]=m*r+v*o+g*u,e[4]=m*i+v*s+g*c,e[5]=m*a+v*l+g*d,e[6]=_*r+y*o+x*u,e[7]=_*i+y*s+x*c,e[8]=_*a+y*l+x*d,e}};i.mul=i.multiply,i.translate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=f*r+h*o+u,e[7]=f*i+h*s+c,e[8]=f*a+h*l+d,e},i.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=Math.sin(n),h=Math.cos(n);return e[0]=h*r+f*o,e[1]=h*i+f*s,e[2]=h*a+f*l,e[3]=h*o-f*r,e[4]=h*s-f*i,e[5]=h*l-f*a,e[6]=u,e[7]=c,e[8]=d,e},i.scale=function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,l=i+i,u=n*o,c=r*o,d=r*s,f=i*o,h=i*s,p=i*l,m=a*o,v=a*s,g=a*l;return e[0]=1-d-p,e[3]=c-g,e[6]=f+v,e[1]=c+g,e[4]=1-u-p,e[7]=h-m,e[2]=f-v,e[5]=h+m,e[8]=1-u-d,e},i.normalFromMat4=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],v=t[14],g=t[15],_=n*s-r*o,y=n*l-i*o,x=n*u-a*o,b=r*l-i*s,w=r*u-a*s,A=i*u-a*l,T=c*m-d*p,S=c*v-f*p,E=c*g-h*p,C=d*v-f*m,M=d*g-h*m,D=f*g-h*v,N=_*D-y*M+x*C+b*E-w*S+A*T;return N?(N=1/N,e[0]=(s*D-l*M+u*C)*N,e[1]=(l*E-o*D-u*S)*N,e[2]=(o*M-s*E+u*T)*N,e[3]=(i*M-r*D-a*C)*N,e[4]=(n*D-i*E+a*S)*N,e[5]=(r*E-n*M-a*T)*N,e[6]=(m*A-v*w+g*b)*N,e[7]=(v*x-p*A-g*y)*N,e[8]=(p*w-m*x+g*_)*N,e):null},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(8),i=n(3),a=n(56),o=n(7),s=n(21),l=n(18),u=0,c=r[\"a\"].extend({name:\"\",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||\"NODE\")+\"_\"+u++),this.position||(this.position=new i[\"a\"]),this.rotation||(this.rotation=new a[\"a\"]),this.scale||(this.scale=new i[\"a\"](1,1,1)),this.worldTransform=new o[\"a\"],this.localTransform=new o[\"a\"],this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var t=this._scene;if(t){var n=t._nodeRepository;delete n[this.name],n[e]=this}this.name=e},add:function(e){var t=e._parent;if(t!==this){t&&t.remove(e),e._parent=this,this._children.push(e);var n=this._scene;n&&n!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var t=this._children,n=t.indexOf(e);n<0||(t.splice(n,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,t=0;t<e.length;t++)e[t]._parent=null,this._scene&&e[t].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){var t=e._parent;while(t){if(t===this)return!0;t=t._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},getDescendantByName:function(e){for(var t=this._children,n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r;var i=r.getDescendantByName(e);if(i)return i}},queryNode:function(e){if(e){for(var t=e.split(\"/\"),n=this,r=0;r<t.length;r++){var i=t[r];if(i){for(var a=!1,o=n._children,s=0;s<o.length;s++){var l=o[s];if(l.name===i){n=l,a=!0;break}}if(!a)return}}return n}},getPath:function(e){if(!this._parent)return\"/\";var t=this._parent,n=this.name;while(t._parent){if(n=t.name+\"/\"+n,t._parent==e)break;t=t._parent}return!t._parent&&e?null:n},traverse:function(e,t){e.call(t,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(e,t)},eachChild:function(e,t){for(var n=this._children,r=0,i=n.length;r<i;r++){var a=n[r];e.call(t,a,r)}},setLocalTransform:function(e){s[\"a\"].copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){var t=e?null:this.scale;this.localTransform.decomposeMatrix(t,this.rotation,this.position)},setWorldTransform:function(e){s[\"a\"].copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=s[\"a\"].create();return function(t){var n=this.localTransform,r=this.worldTransform;this._parent?(s[\"a\"].invert(e,this._parent.worldTransform.array),s[\"a\"].multiply(n.array,e,r.array)):s[\"a\"].copy(n.array,r.array);var i=t?null:this.scale;n.decomposeMatrix(i,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,t=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;s[\"a\"].fromRotationTranslation(r,t.array,e.array),s[\"a\"].scale(r,r,n.array),t._dirty=!1,n._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,t=this.worldTransform.array;this._parent?s[\"a\"].multiplyAffine(t,this._parent.worldTransform.array,e):s[\"a\"].copy(t,e)},updateWorldTransform:function(){var e=this;while(e&&e.getParent()&&e.getParent().transformNeedsUpdate())e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].update(e)},getBoundingBox:function(){function e(e){return!e.invisible&&e.geometry}var t=new l[\"a\"],n=new o[\"a\"],r=new o[\"a\"];return function(i,a){return a=a||new l[\"a\"],i=i||e,this._parent?o[\"a\"].invert(r,this._parent.worldTransform):o[\"a\"].identity(r),this.traverse((function(e){e.geometry&&e.geometry.boundingBox&&(t.copy(e.geometry.boundingBox),o[\"a\"].multiply(n,r,e.worldTransform),t.applyTransform(n),a.union(t))}),this,e),a}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var t=this.worldTransform.array;if(e){var n=e.array;return n[0]=t[12],n[1]=t[13],n[2]=t[14],e}return new i[\"a\"](t[12],t[13],t[14])},clone:function(){var e=new this.constructor,t=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var n=0;n<t.length;n++)e.add(t[n].clone());return e},rotateAround:function(){var e=new i[\"a\"],t=new o[\"a\"];return function(n,r,i){e.copy(this.position).subtract(n);var a=this.localTransform;a.identity(),a.translate(n),a.rotate(i,r),t.fromRotationTranslation(this.rotation,e),a.multiply(t),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new o[\"a\"];return function(t,n){e.lookAt(this.position,t,n||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=t}}()});t[\"a\"]=c},function(e,t,n){\"use strict\";var r=n(35),i=n(24),a=n(58),o=n(18),s=n(23),l=n(21),u=n(68),c=n(7),d=l[\"a\"].create(),f=l[\"a\"].create(),h={};function p(e){var t=[],n=Object.keys(e);n.sort();for(var r=0;r<n.length;r++){var i=n[r];t.push(i+\" \"+e[i])}var a=t.join(\"\\n\");if(h[a])return h[a];var o=s[\"a\"].genGUID();return h[a]=o,o}function m(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}m.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},m.prototype.add=function(e,t){t?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e},m.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var v=r[\"a\"].extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new o[\"a\"],shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new u[\"a\"](20)}}),(function(){this._scene=this}),{addToScene:function(e){e instanceof a[\"a\"]?(this._cameraList.length>0&&console.warn(\"Found multiple camera in one scene. Use the fist one.\"),this._cameraList.push(e)):e instanceof i[\"a\"]&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var t;e instanceof a[\"a\"]?(t=this._cameraList.indexOf(e),t>=0&&this._cameraList.splice(t,1)):e instanceof i[\"a\"]&&(t=this.lights.indexOf(e),t>=0&&this.lights.splice(t,1)),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var t=this._cameraList.indexOf(e);t>=0&&this._cameraList.splice(t,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var t={},n=0;n<e.length;n++){var r=e[n];if(!r.invisible){var i=r.group;t[i]||(t[i]={}),t[i][r.type]=t[i][r.type]||0,t[i][r.type]++}}for(var a in this._lightNumber=t,t)this._lightProgramKeys[a]=p(t[a]);this._updateLightUniforms()},cloneNode:function(e){var t=e.clone(),n={};function r(e,t){n[e.__uid__]=t;for(var i=0;i<e._children.length;i++){var a=e._children[i],o=t._children[i];r(a,o)}}return r(e,t),t.traverse((function(e){e.skeleton&&(e.skeleton=e.skeleton.clone(n)),e.material&&(e.material=e.material.clone())})),t},updateRenderList:function(e,t){var n=e.__uid__,r=this._renderLists.get(n);r||(r=new m,this._renderLists.put(n,r)),r.startCount(),t&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,e,i,r,t),r.endCount(),r},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,t,n,r,i){if(!e.invisible)for(var a=0;a<e._children.length;a++){var o=e._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?d:o.worldTransform.array,u=o.geometry;l[\"a\"].multiplyAffine(f,t.viewMatrix.array,s),(i&&!u.boundingBox||!this.isFrustumCulled(o,t,f))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,t,n,r,i)}},isFrustumCulled:function(){var e=new o[\"a\"],t=new c[\"a\"];return function(n,r,i){var a=n.boundingBox;if(a||(a=n.skeleton&&n.skeleton.boundingBox?n.skeleton.boundingBox:n.geometry.boundingBox),!a)return!1;if(t.array=i,e.transformFrom(a,t),n.castShadow&&this.viewBoundingBoxLastFrame.union(e),n.frustumCulling){if(!e.intersectBoundingBox(r.frustum.boundingBox))return!0;t.array=r.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(t);var o=e.min.array,s=e.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(g);var t=this._lightUniforms;for(var n in t)for(var r in t[n])t[n][r].value.length=0;for(var i=0;i<e.length;i++){var a=e[i];if(!a.invisible){n=a.group;for(var r in a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){t[n]||(t[n]={}),t[n][r]||(t[n][r]={type:\"\",value:[]});var l=t[n][r];switch(l.type=o.type+\"v\",o.type){case\"1i\":case\"1f\":case\"t\":l.value.push(s);break;case\"2f\":case\"3f\":case\"4f\":for(var u=0;u<s.length;u++)l.value.push(s[u]);break;default:console.error(\"Unkown light uniform type \"+o.type)}}}}}},getLightGroups:function(){var e=[];for(var t in this._lightNumber)e.push(t);return e},getNumberChangedLightGroups:function(){var e=[];for(var t in this._lightNumber)this.isLightNumberChanged(t)&&e.push(t);return e},isLightNumberChanged:function(e){var t=this._previousLightNumber,n=this._lightNumber;for(var r in n[e]){if(!t[e])return!0;if(n[e][r]!==t[e][r])return!0}for(var r in t[e]){if(!n[e])return!0;if(n[e][r]!==t[e][r])return!0}return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(e,t,n){for(var r in e){var i=e[r];if(\"tv\"===i.type){if(!t.hasUniform(r))continue;for(var a=[],o=0;o<i.value.length;o++){var s=i.value[o],l=t.takeCurrentTextureSlot(n,s);a.push(l)}t.setUniform(n.gl,\"1iv\",r,a)}else t.setUniform(n.gl,i.type,r,i.value)}}return function(t,n,r){e(this._lightUniforms[n],t,r),e(this.shadowUniforms,t,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function g(e,t){if(t.castShadow&&!e.castShadow)return!0}t[\"a\"]=v},function(e,t,n){\"use strict\";var r=n(58),i=r[\"a\"].extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,t=2*Math.atan(1/e[5]);this.fov=t/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=r[\"a\"].prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}});t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(58),i=r[\"a\"].extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=r[\"a\"].prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});t[\"a\"]=i},function(e,t,n){\"use strict\";t[\"a\"]={convertToDynamicArray:function(e){e&&this.resetOffset();var t=this.attributes;for(var n in t)e||!t[n].value?t[n].value=[]:t[n].value=Array.prototype.slice.call(t[n].value);e||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var t in e)e[t].value&&e[t].value.length>0?e[t].value=new Float32Array(e[t].value):e[t].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}}},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);function a(e,t){var n=[];return i.a.util.each(e.dimensions,(function(r){var i=e.getDimensionInfo(r),a=i.otherDims,o=a[t];null!=o&&!1!==o&&(n[o]=i.name)})),n}t[\"a\"]=function(e,t,n){function r(e){var r=!0,s=[],l=a(o,\"tooltip\");function u(e,t){var a=o.getDimensionInfo(t);if(a&&!1!==a.otherDims.tooltip){var l=a.type,u=(r?\"- \"+(a.tooltipName||a.name)+\": \":\"\")+(\"ordinal\"===l?e+\"\":\"time\"===l?n?\"\":i.a.format.formatTime(\"yyyy/MM/dd hh:mm:ss\",e):i.a.format.addCommas(e));u&&s.push(i.a.format.encodeHTML(u))}}return l.length?i.a.util.each(l,(function(e){u(o.get(e,t),e)})):i.a.util.each(e,u),(r?\"<br/>\":\"\")+s.join(r?\"<br/>\":\", \")}var o=e.getData(),s=e.getRawValue(t),l=i.a.util.isArray(s)?r(s):i.a.format.encodeHTML(i.a.format.addCommas(s)),u=o.getName(t),c=o.getItemVisual(t,\"color\");i.a.util.isObject(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||\"transparent\";var d=i.a.format.getTooltipMarker(c),f=e.name;return\"\\0-\"===f&&(f=\"\"),f=f?i.a.format.encodeHTML(f)+(n?\": \":\"<br/>\"):\"\",n?d+f+l:f+d+(u?i.a.format.encodeHTML(u)+\": \"+l:l)}},function(e,t,n){\"use strict\";var r=n(71),i=n(11),a=r[\"a\"].extend({skeleton:null,joints:null},(function(){this.joints||(this.joints=[])}),{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=r[\"a\"].prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});a.POINTS=i[\"a\"].POINTS,a.LINES=i[\"a\"].LINES,a.LINE_LOOP=i[\"a\"].LINE_LOOP,a.LINE_STRIP=i[\"a\"].LINE_STRIP,a.TRIANGLES=i[\"a\"].TRIANGLES,a.TRIANGLE_STRIP=i[\"a\"].TRIANGLE_STRIP,a.TRIANGLE_FAN=i[\"a\"].TRIANGLE_FAN,a.BACK=i[\"a\"].BACK,a.FRONT=i[\"a\"].FRONT,a.FRONT_AND_BACK=i[\"a\"].FRONT_AND_BACK,a.CW=i[\"a\"].CW,a.CCW=i[\"a\"].CCW,t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(41),i=n(76),a=n(9),o=n(19),s=n(4),l=n(37),u=n(7),c=n(120);a[\"a\"].import(c[\"a\"]);var d=r[\"a\"].extend((function(){var e=new a[\"a\"]({vertex:a[\"a\"].source(\"clay.skybox.vertex\"),fragment:a[\"a\"].source(\"clay.skybox.fragment\")}),t=new o[\"a\"]({shader:e,depthMask:!1});return{scene:null,geometry:new i[\"a\"],material:t,environmentMap:null,culling:!1,_dummyCamera:new l[\"a\"]}}),(function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on(\"beforerender\",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off(\"beforerender\",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){\"texture2D\"===e.textureType?(this.material.define(\"EQUIRECTANGULAR\"),e.minFilter=s[\"a\"].LINEAR):this.material.undefine(\"EQUIRECTANGULAR\"),this.material.set(\"environmentMap\",e)},getEnvironmentMap:function(){return this.material.get(\"environmentMap\")},_beforeRenderScene:function(e,t,n){this.renderSkybox(e,n)},renderSkybox:function(e,t){var n=this._dummyCamera;n.aspect=e.getViewportAspect(),n.fov=t.fov||50,n.updateProjectionMatrix(),u[\"a\"].invert(n.invProjectionMatrix,n.projectionMatrix),n.worldTransform.copy(t.worldTransform),n.viewMatrix.copy(t.viewMatrix),this.position.copy(t.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get(\"lod\")>0?this.material.define(\"fragment\",\"LOD\"):this.material.undefine(\"fragment\",\"LOD\"),e.renderPass([this],n)}});t[\"a\"]=d},function(e,t,n){\"use strict\";var r=n(14),i=n(18),a=r[\"a\"].extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var e=this.heightSegments,t=this.widthSegments,n=this.attributes,r=[],a=[],o=[],s=[],l=0;l<=e;l++)for(var u=l/e,c=0;c<=t;c++){var d=c/t;if(r.push([2*d-1,2*u-1,0]),a&&a.push([d,u]),o&&o.push([0,0,1]),c<t&&l<e){var f=c+l*(t+1);s.push([f,f+1,f+t+1]),s.push([f+t+1,f+1,f+t+2])}}n.position.fromArray(r),n.texcoord0.fromArray(a),n.normal.fromArray(o),this.initIndicesFromArray(s),this.boundingBox=new i[\"a\"],this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});t[\"a\"]=a},function(e,t,n){\"use strict\";t[\"a\"]={defaultOption:{viewControl:{projection:\"perspective\",autoRotate:!1,autoRotateDirection:\"cw\",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:\"middle\",rotateMouseButton:\"left\",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center)}}},function(e,t,n){\"use strict\";var r=n(8),i=n(26),a=n(3),o=(n(56),n(2)),s=o[\"a\"].firstNotNull,l={left:0,middle:1,right:2};function u(e){return e instanceof Array||(e=[e,e]),e}var c=r[\"a\"].extend((function(){return{zr:null,viewGL:null,_center:new a[\"a\"],minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:\"cw\",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:\"middle\",rotateMouseButton:\"left\",_mode:\"rotate\",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new i[\"a\"],_panVelocity:new i[\"a\"],_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}}),(function(){[\"_mouseDownHandler\",\"_mouseWheelHandler\",\"_mouseMoveHandler\",\"_mouseUpHandler\",\"_pinchHandler\",\"_contextMenuHandler\",\"_update\"].forEach((function(e){this[e]=this[e].bind(this)}),this)}),{init:function(){var e=this.zr;e&&(e.on(\"mousedown\",this._mouseDownHandler),e.on(\"globalout\",this._mouseUpHandler),e.on(\"mousewheel\",this._mouseWheelHandler),e.on(\"pinch\",this._pinchHandler),e.animation.on(\"frame\",this._update),e.dom.addEventListener(\"contextmenu\",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off(\"mousedown\",this._mouseDownHandler),e.off(\"mousemove\",this._mouseMoveHandler),e.off(\"mouseup\",this._mouseUpHandler),e.off(\"mousewheel\",this._mouseWheelHandler),e.off(\"pinch\",this._pinchHandler),e.off(\"globalout\",this._mouseUpHandler),e.dom.removeEventListener(\"contextmenu\",this._contextMenuHandler),e.animation.off(\"frame\",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,t){t=t||{};var n=t.baseDistance||0,r=t.baseOrthoSize||1,i=e.get(\"projection\");\"perspective\"!==i&&\"orthographic\"!==i&&\"isometric\"!==i&&(console.error(\"Unkown projection type %s, use perspective projection instead.\",i),i=\"perspective\"),this._projection=i,this.viewGL.setProjection(i);var a=e.get(\"distance\")+n,o=e.get(\"orthographicSize\")+r;[[\"damping\",.8],[\"autoRotate\",!1],[\"autoRotateAfterStill\",3],[\"autoRotateDirection\",\"cw\"],[\"autoRotateSpeed\",10],[\"minDistance\",30],[\"maxDistance\",400],[\"minOrthographicSize\",30],[\"maxOrthographicSize\",300],[\"minAlpha\",-90],[\"maxAlpha\",90],[\"minBeta\",-1/0],[\"maxBeta\",1/0],[\"rotateSensitivity\",1],[\"zoomSensitivity\",1],[\"panSensitivity\",1],[\"panMouseButton\",\"left\"],[\"rotateMouseButton\",\"middle\"]].forEach((function(t){this[t[0]]=s(e.get(t[0]),t[1])}),this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var l=e.ecModel,u={};[\"animation\",\"animationDurationUpdate\",\"animationEasingUpdate\"].forEach((function(t){u[t]=s(e.get(t),l&&l.get(t))}));var c=s(t.alpha,e.get(\"alpha\"))||0,d=s(t.beta,e.get(\"beta\"))||0,f=s(t.center,e.get(\"center\"))||[0,0,0];u.animation&&u.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:c,beta:d,center:f,distance:a,orthographicSize:o,easing:u.animationEasingUpdate,duration:u.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(c),this.setBeta(d),this.setCenter(f),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){null==l[this.panMouseButton]&&console.error(\"Unkown panMouseButton %s. It should be left|middle|right\",this.panMouseButton),null==l[this.rotateMouseButton]&&console.error(\"Unkown rotateMouseButton %s. It should be left|middle|right\",this.rotateMouseButton),\"cw\"!==this.autoRotateDirection&&\"ccw\"!==this.autoRotateDirection&&console.error(\"Unkown autoRotateDirection %s. It should be cw|ccw\",this.autoRotateDirection)},animateTo:function(e){var t=this.zr,n=this,r={},i={};return null!=e.distance&&(r.distance=this.getDistance(),i.distance=e.distance),null!=e.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=e.orthographicSize),null!=e.alpha&&(r.alpha=this.getAlpha(),i.alpha=e.alpha),null!=e.beta&&(r.beta=this.getBeta(),i.beta=e.beta),null!=e.center&&(r.center=this.getCenter(),i.center=e.center),this._addAnimator(t.animation.animate(r).when(e.duration||1e3,i).during((function(){null!=r.alpha&&n.setAlpha(r.alpha),null!=r.beta&&n.setBeta(r.beta),null!=r.distance&&n.setDistance(r.distance),null!=r.center&&n.setCenter(r.center),null!=r.orthographicSize&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0}))).start(e.easing||\"linear\")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var t=(\"cw\"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=t*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger(\"update\"),this._needsUpdate=!1)},_updateRotate:function(e){var t=this._rotateVelocity;this._phi=t.y*e/20+this._phi,this._theta=t.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(t,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){\"perspective\"===this._projection?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var t=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;t.left=-r/2,t.right=r/2,t.top=n/2,t.bottom=-n/2},_updatePan:function(e){var t=this._panVelocity,n=this._distance,r=this.getCamera(),i=r.worldTransform.y,a=r.worldTransform.x;this._center.scaleAndAdd(a,-t.x*n/200).scaleAndAdd(i,-t.y*n/200),this._vectorDamping(t,0)},_updateTransform:function(){var e=this.getCamera(),t=new a[\"a\"],n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(n);t.x=i*Math.cos(r),t.y=-Math.cos(n),t.z=i*Math.sin(r),e.position.copy(this._center).scaleAndAdd(t,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,t=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout((function(){t._rotating=!0}),1e3*e))},_vectorDamping:function(e,t){var n=e.len();n*=t,n<1e-4&&(n=0),e.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,t=Math.asin(e.y),n=Math.atan2(e.x,e.z);this._theta=t,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){if(!e.target&&!this._isAnimating()){var t=e.offsetX,n=e.offsetY;this.viewGL&&!this.viewGL.containPoint(t,n)||(this.zr.on(\"mousemove\",this._mouseMoveHandler),this.zr.on(\"mouseup\",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode=\"rotate\"):e.event.button===l[this.rotateMouseButton]?this._mode=\"rotate\":e.event.button===l[this.panMouseButton]?this._mode=\"pan\":this._mode=\"\",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)}},_mouseMoveHandler:function(e){if((!e.target||!e.target.__isGLToZRProxy)&&!this._isAnimating()){var t=u(this.panSensitivity),n=u(this.rotateSensitivity);\"rotate\"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):\"pan\"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*t[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*t[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){if(!this._isAnimating()){var t=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,t)}},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode=\"\")},_zoomHandler:function(e,t){if(0!==t){var n,r=e.offsetX,i=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,i))n=\"perspective\"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(t>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&\"rotate\"===this._mode&&this._startCountingStill(),e.event.preventDefault()}},_mouseUpHandler:function(){this.zr.off(\"mousemove\",this._mouseMoveHandler),this.zr.off(\"mouseup\",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return\"right\"===this.rotateMouseButton||\"right\"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var t=this._animators;return t.push(e),e.done((function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)})),e}});Object.defineProperty(c.prototype,\"autoRotate\",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}}),t[\"a\"]=c},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.lines3D.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec3 position: POSITION;\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n\\nvoid main()\\n{\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n v_Color = a_Color;\\n}\\n\\n@end\\n\\n@export ecgl.lines3D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color * v_Color);\\n#else\\n gl_FragColor = color * v_Color;\\n#endif\\n}\\n@end\\n\\n\\n\\n@export ecgl.lines3D.clipNear\\n\\nvec4 clipNear(vec4 p1, vec4 p2) {\\n float n = (p1.w - near) / (p1.w - p2.w);\\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\\n}\\n\\n@end\\n\\n@export ecgl.lines3D.expandLine\\n#ifdef VERTEX_ANIMATION\\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\\n#else\\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\\n#endif\\n\\n if (currProj.w < 0.0) {\\n if (nextProj.w > 0.0) {\\n currProj = clipNear(currProj, nextProj);\\n }\\n else if (prevProj.w > 0.0) {\\n currProj = clipNear(currProj, prevProj);\\n }\\n }\\n\\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\\n\\n vec2 dir;\\n float len = offset;\\n if (position == positionPrev) {\\n dir = normalize(nextScreen - currScreen);\\n }\\n else if (position == positionNext) {\\n dir = normalize(currScreen - prevScreen);\\n }\\n else {\\n vec2 dirA = normalize(currScreen - prevScreen);\\n vec2 dirB = normalize(nextScreen - currScreen);\\n\\n vec2 tanget = normalize(dirA + dirB);\\n\\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\\n len *= miter;\\n dir = tanget;\\n }\\n\\n dir = vec2(-dir.y, dir.x) * len;\\n currScreen += dir;\\n\\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\\n@end\\n\\n\\n@export ecgl.meshLines3D.vertex\\n\\nattribute vec3 position: POSITION;\\nattribute vec3 positionPrev;\\nattribute vec3 positionNext;\\nattribute float offset;\\nattribute vec4 a_Color : COLOR;\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nattribute vec3 prevPositionPrev;\\nattribute vec3 prevPositionNext;\\nuniform float percent : 1.0;\\n#endif\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\nuniform float near : NEAR;\\n\\nvarying vec4 v_Color;\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n@import ecgl.lines3D.clipNear\\n\\nvoid main()\\n{\\n @import ecgl.lines3D.expandLine\\n\\n gl_Position = currProj;\\n\\n v_Color = a_Color;\\n\\n @import ecgl.common.wireframe.vertexMain\\n}\\n@end\\n\\n\\n@export ecgl.meshLines3D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color * v_Color);\\n#else\\n gl_FragColor = color * v_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.fragmentMain\\n}\\n\\n@end\"},function(e,t,n){var r=n(16),i=n(83),a=n(84),o=a.parsePercent,s=n(172),l=r.each,u=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],c=[[\"width\",\"left\",\"right\"],[\"height\",\"top\",\"bottom\"]];function d(e,t,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;t.eachChild((function(l,u){var c,d,f=l.position,h=l.getBoundingRect(),p=t.childAt(u+1),m=p&&p.getBoundingRect();if(\"horizontal\"===e){var v=h.width+(m?-m.x+h.x:0);c=a+v,c>r||l.newline?(a=0,c=v,o+=s+n,s=h.height):s=Math.max(s,h.height)}else{var g=h.height+(m?-m.y+h.y:0);d=o+g,d>i||l.newline?(a+=s+n,o=0,d=g,s=h.width):s=Math.max(s,h.width)}l.newline||(f[0]=a,f[1]=o,\"horizontal\"===e?a=c+n:o=d+n)}))}var f=d,h=r.curry(d,\"vertical\"),p=r.curry(d,\"horizontal\");function m(e,t,n){var r=t.width,i=t.height,a=o(e.x,r),l=o(e.y,i),u=o(e.x2,r),c=o(e.y2,i);return(isNaN(a)||isNaN(parseFloat(e.x)))&&(a=0),(isNaN(u)||isNaN(parseFloat(e.x2)))&&(u=r),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(c)||isNaN(parseFloat(e.y2)))&&(c=i),n=s.normalizeCssArray(n||0),{width:Math.max(u-a-n[1]-n[3],0),height:Math.max(c-l-n[0]-n[2],0)}}function v(e,t,n){n=s.normalizeCssArray(n||0);var r=t.width,a=t.height,l=o(e.left,r),u=o(e.top,a),c=o(e.right,r),d=o(e.bottom,a),f=o(e.width,r),h=o(e.height,a),p=n[2]+n[0],m=n[1]+n[3],v=e.aspect;switch(isNaN(f)&&(f=r-c-m-l),isNaN(h)&&(h=a-d-p-u),null!=v&&(isNaN(f)&&isNaN(h)&&(v>r/a?f=.8*r:h=.8*a),isNaN(f)&&(f=v*h),isNaN(h)&&(h=f/v)),isNaN(l)&&(l=r-c-f-m),isNaN(u)&&(u=a-d-h-p),e.left||e.right){case\"center\":l=r/2-f/2-n[3];break;case\"right\":l=r-f-m;break}switch(e.top||e.bottom){case\"middle\":case\"center\":u=a/2-h/2-n[0];break;case\"bottom\":u=a-h-p;break}l=l||0,u=u||0,isNaN(f)&&(f=r-m-l-(c||0)),isNaN(h)&&(h=a-p-u-(d||0));var g=new i(l+n[3],u+n[0],f,h);return g.margin=n,g}function g(e,t,n,a,o){var s=!o||!o.hv||o.hv[0],l=!o||!o.hv||o.hv[1],u=o&&o.boundingMode||\"all\";if(s||l){var c;if(\"raw\"===u)c=\"group\"===e.type?new i(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var d=e.getLocalTransform();c=c.clone(),c.applyTransform(d)}t=v(r.defaults({width:c.width,height:c.height},t),n,a);var f=e.position,h=s?t.x-c.x:0,p=l?t.y-c.y:0;e.attr(\"position\",\"raw\"===u?[h,p]:[f[0]+h,f[1]+p])}}function _(e,t){return null!=e[c[t][0]]||null!=e[c[t][1]]&&null!=e[c[t][2]]}function y(e,t,n){!r.isObject(n)&&(n={});var i=n.ignoreSize;!r.isArray(i)&&(i=[i,i]);var a=s(c[0],0),o=s(c[1],1);function s(n,r){var a={},o=0,s={},c=0,f=2;if(l(n,(function(t){s[t]=e[t]})),l(n,(function(e){u(t,e)&&(a[e]=s[e]=t[e]),d(a,e)&&o++,d(s,e)&&c++})),i[r])return d(t,n[1])?s[n[2]]=null:d(t,n[2])&&(s[n[1]]=null),s;if(c!==f&&o){if(o>=f)return a;for(var h=0;h<n.length;h++){var p=n[h];if(!u(a,p)&&u(e,p)){a[p]=e[p];break}}return a}return s}function u(e,t){return e.hasOwnProperty(t)}function d(e,t){return null!=e[t]&&\"auto\"!==e[t]}function f(e,t,n){l(e,(function(e){t[e]=n[e]}))}f(c[0],e,a),f(c[1],e,o)}function x(e){return b({},e)}function b(e,t){return t&&e&&l(u,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}t.LOCATION_PARAMS=u,t.HV_NAMES=c,t.box=f,t.vbox=h,t.hbox=p,t.getAvailableSize=m,t.getLayoutRect=v,t.positionElement=g,t.sizeCalculable=_,t.mergeLayoutParam=y,t.getLayoutParams=x,t.copyLayoutParams=b},function(e,t,n){\"use strict\";var r=n(8),i=r[\"a\"].extend((function(){return{name:\"\",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),{updateParameter:function(e,t){var n,r,i=this.outputs[e],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)\"width\"!==s&&\"height\"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,t):a.width,r=a.height instanceof Function?a.height.call(this,t):a.height,o.width===n&&o.height===r||this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),o.width=n,o.height=r,o},setParameter:function(e,t){},getParameter:function(e){},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},render:function(){},getOutput:function(e,t){if(null==t)return t=e,this._outputTextures[t];var n=this.outputs[t];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[t]:this._outputTextures[t]:this._rendering?(this._prevOutputTextures[t]||(this._prevOutputTextures[t]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[t]):(this.render(e),this._outputTextures[t]):void 0},removeReference:function(e){if(this._outputReferences[e]--,0===this._outputReferences[e]){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},link:function(e,t,n){this.inputLinks[e]={node:t,pin:n},t.outputLinks[n]||(t.outputLinks[n]=[]),t.outputLinks[n].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){for(var t in this._rendering=!0,this.inputLinks){var n=this.inputLinks[t];n.node.updateReference(n.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){for(var e in this._rendered=!1,this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)if(this._outputReferences[e]>0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}}});t[\"a\"]=i},function(e,t,n){\"use strict\";function r(e,t){var n=0,r=1/t,i=e;while(i>0)n+=r*(i%t),i=Math.floor(i/t),r/=t;return n}t[\"a\"]=r},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);t[\"a\"]=function(e,t,n){n=n||e.getSource();var r=t||i.a.getCoordinateSystemDimensions(e.get(\"coordinateSystem\"))||[\"x\",\"y\",\"z\"],a=i.a.helper.createDimensions(n,{dimensionsDefine:n.dimensionsDefine||e.get(\"dimensions\"),encodeDefine:n.encodeDefine||e.get(\"encode\"),coordDimensions:r.map((function(t){var n=e.getReferringComponents(t+\"Axis3D\")[0];return{type:n&&\"category\"===n.get(\"type\")?\"ordinal\":\"float\",name:t}}))});\"cartesian3D\"===e.get(\"coordinateSystem\")&&a.forEach((function(t){if(r.indexOf(t.coordDim)>=0){var n=e.getReferringComponents(t.coordDim+\"Axis3D\")[0];n&&\"category\"===n.get(\"type\")&&(t.ordinalMeta=n.getOrdinalMeta())}}));var o=i.a.helper.dataStack.enableDataStack(e,a,{byIndex:!0,stackedCoordDimension:\"z\"}),s=new i.a.List(a,e);return s.setCalculationInfo(o),s.initData(n),s}},function(e,t,n){var r=n(16),i=r.isFunction;function a(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(e,r,a){var o=e.getData(),s=e.get(\"symbol\"),l=e.get(\"symbolSize\"),u=e.get(\"symbolKeepAspect\"),c=i(s),d=i(l),f=c||d,h=!c&&s?s:t,p=d?null:l;if(o.setVisual({legendSymbol:n||h,symbol:h,symbolSize:p,symbolKeepAspect:u}),!r.isSeriesFiltered(e))return{dataEach:o.hasItemOption||f?m:null};function m(t,n){if(f){var r=e.getRawValue(n),i=e.getDataParams(n);c&&t.setItemVisual(n,\"symbol\",s(r,i)),d&&t.setItemVisual(n,\"symbolSize\",l(r,i))}if(t.hasItemOption){var a=t.getItemModel(n),o=a.getShallow(\"symbol\",!0),u=a.getShallow(\"symbolSize\",!0),h=a.getShallow(\"symbolKeepAspect\",!0);null!=o&&t.setItemVisual(n,\"symbol\",o),null!=u&&t.setItemVisual(n,\"symbolSize\",u),null!=h&&t.setItemVisual(n,\"symbolKeepAspect\",h)}}}}}e.exports=a},function(e,t,n){\"use strict\";var r=n(8),i=n(110),a=n(11),o=n(13),s=n(19),l=n(26),u=n(114),c=n(9),d=n(70),f=n(21),h=n(12);c[\"a\"][\"import\"](d[\"a\"]);var p=f[\"a\"].create,m={};function v(e){return e.material}function g(e,t,n){return t.uniforms[n].value}function _(e,t,n,r){return n!==r}function y(e){return!0}function x(){}var b={float:a[\"a\"].FLOAT,byte:a[\"a\"].BYTE,ubyte:a[\"a\"].UNSIGNED_BYTE,short:a[\"a\"].SHORT,ushort:a[\"a\"].UNSIGNED_SHORT};function w(e,t,n){this.availableAttributes=e,this.availableAttributeSymbols=t,this.indicesBuffer=n,this.vao=null}function A(e){var t,n;this.bind=function(e){t||(t=o[\"a\"].createCanvas(),t.width=t.height=1,t.getContext(\"2d\"));var r=e.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)},this.unbind=function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var T=r[\"a\"].extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:\"undefined\"!==typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,logDepthBuffer:!1,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=o[\"a\"].createCanvas());var e=this.canvas;try{var t={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext(\"webgl\",t)||e.getContext(\"experimental-webgl\",t),!this.gl)throw new Error;this._glinfo=new i[\"a\"](this.gl),this.gl.targetRenderer&&console.error(\"Already created a renderer\"),this.gl.targetRenderer=this,this.resize()}catch(n){throw\"Error creating WebGL Context \"+n}this._programMgr=new u[\"a\"](this),this._placeholderTexture=new A(this)}),{resize:function(e,t){var n=this.canvas,r=this.devicePixelRatio;null!=e?(n.style&&(n.style.width=e+\"px\",n.style.height=t+\"px\"),n.width=e*r,n.height=t*r,this._width=e,this._height=t):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,t,n,r,i){if(\"object\"===typeof e){var a=e;e=a.x,t=a.y,n=a.width,r=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(e*i,t*i,n*i,r*i),this.viewport={x:e,y:t,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,t,n,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,l=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||l&&l!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*l,o.y*l,o.width*l,o.height*l)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||e.update(!1),e.updateLights(),t=t||e.getMainCamera(),t){t.update();var u=e.updateRenderList(t,!0);this._sceneRendering=e;var c=u.opaque,d=u.transparent,m=e.material;e.trigger(\"beforerender\",this,e,t,u),r?(this.renderPreZ(c,e,t),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var v=p(),g=h[\"a\"].create(),_=0;_<d.length;_++){var y=d[_];f[\"a\"].multiplyAffine(v,t.viewMatrix.array,y.worldTransform.array),h[\"a\"].transformMat4(g,y.position.array,v),y.__depth=g[2]}this.renderPass(c,t,{getMaterial:function(e){return m||e.material},sortCompare:this.opaqueSortCompare}),this.renderPass(d,t,{getMaterial:function(e){return m||e.material},sortCompare:this.transparentSortCompare}),e.trigger(\"afterrender\",this,e,t,u),this._sceneRendering=null}else console.error(\"Can't find camera in the scene.\")},getProgram:function(e,t,n){return t=t||e.material,this._programMgr.getProgram(e,t,n,this)},validateProgram:function(e){if(e.__error){var t=e.__error;if(m[e.__uid__])return;if(m[e.__uid__]=!0,this.throwError)throw new Error(t);this.trigger(\"error\",t)}},updatePrograms:function(e,t,n){var r=n&&n.getMaterial||v;t=t||null;for(var i=0;i<e.length;i++){var a=e[i],o=r.call(this,a);if(i>0){var s=e[i-1],l=s.joints?s.joints.length:0,u=a.joints?a.joints.length:0;if(u===l&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var c=this._programMgr.getProgram(a,o,t,this);this.validateProgram(c),a.__program=c}},renderPass:function(e,t,n){this.trigger(\"beforerenderpass\",this,e,t,n),n=n||{},n.getMaterial=n.getMaterial||v,n.getUniform=n.getUniform||g,n.isMaterialChanged=n.isMaterialChanged||_,n.beforeRender=n.beforeRender||x,n.afterRender=n.afterRender||x;var r=n.ifRender||y;this.updatePrograms(e,this._sceneRendering,n),n.sortCompare&&e.sort(n.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,l=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],u=[o[2],o[3]],c=Date.now();t?(f[\"a\"].copy(S.VIEW,t.viewMatrix.array),f[\"a\"].copy(S.PROJECTION,t.projectionMatrix.array),f[\"a\"].copy(S.VIEWINVERSE,t.worldTransform.array)):(f[\"a\"].identity(S.VIEW),f[\"a\"].identity(S.PROJECTION),f[\"a\"].identity(S.VIEWINVERSE)),f[\"a\"].multiply(S.VIEWPROJECTION,S.PROJECTION,S.VIEW),f[\"a\"].invert(S.PROJECTIONINVERSE,S.PROJECTION),f[\"a\"].invert(S.VIEWPROJECTIONINVERSE,S.VIEWPROJECTION);for(var d,h,p,m,b,w,A,T,E,C,M,D,N=this.gl,L=this._sceneRendering,I=null,P=0;P<e.length;P++){var O,R=e[P],k=null!=R.worldTransform;if(r(R)){k&&(O=R.isSkinnedMesh&&R.isSkinnedMesh()?R.offsetMatrix?R.offsetMatrix.array:S.IDENTITY:R.worldTransform.array);var F=R.geometry,B=n.getMaterial.call(this,R),z=R.__program,H=B.shader,U=F.__uid__+\"-\"+z.__uid__,G=U!==C;C=U,G&&I&&I.bindVertexArrayOES(null),k&&(f[\"a\"].copy(S.WORLD,O),f[\"a\"].multiply(S.WORLDVIEWPROJECTION,S.VIEWPROJECTION,O),f[\"a\"].multiplyAffine(S.WORLDVIEW,S.VIEW,O),(H.matrixSemantics.WORLDINVERSE||H.matrixSemantics.WORLDINVERSETRANSPOSE)&&f[\"a\"].invert(S.WORLDINVERSE,O),(H.matrixSemantics.WORLDVIEWINVERSE||H.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&f[\"a\"].invert(S.WORLDVIEWINVERSE,S.WORLDVIEW),(H.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||H.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&f[\"a\"].invert(S.WORLDVIEWPROJECTIONINVERSE,S.WORLDVIEWPROJECTION)),R.beforeRender&&R.beforeRender(this),n.beforeRender.call(this,R,B,d);var j=z!==h;j?(z.bind(this),z.setUniformOfSemantic(N,\"VIEWPORT\",o),z.setUniformOfSemantic(N,\"WINDOW_SIZE\",l),t&&(z.setUniformOfSemantic(N,\"NEAR\",t.near),z.setUniformOfSemantic(N,\"FAR\",t.far),this.logDepthBuffer&&z.setUniformOfSemantic(N,\"LOG_DEPTH_BUFFER_FC\",2/(Math.log(t.far+1)/Math.LN2))),z.setUniformOfSemantic(N,\"DEVICEPIXELRATIO\",a),z.setUniformOfSemantic(N,\"TIME\",c),z.setUniformOfSemantic(N,\"VIEWPORT_SIZE\",u),L&&L.setLightUniforms(z,R.lightGroup,this)):z=h,(j||n.isMaterialChanged(R,p,B,d))&&(B.depthTest!==m&&(B.depthTest?N.enable(N.DEPTH_TEST):N.disable(N.DEPTH_TEST),m=B.depthTest),B.depthMask!==b&&(N.depthMask(B.depthMask),b=B.depthMask),B.transparent!==E&&(B.transparent?N.enable(N.BLEND):N.disable(N.BLEND),E=B.transparent),B.transparent&&(B.blend?B.blend(N):(N.blendEquationSeparate(N.FUNC_ADD,N.FUNC_ADD),N.blendFuncSeparate(N.SRC_ALPHA,N.ONE_MINUS_SRC_ALPHA,N.ONE,N.ONE_MINUS_SRC_ALPHA))),D=this._bindMaterial(R,B,z,p||null,d||null,h||null,n.getUniform),d=B);var V=H.matrixSemanticKeys;if(k)for(var W=0;W<V.length;W++){var $=V[W],q=H.matrixSemantics[$],Y=S[$];if(q.isTranspose){var X=S[q.semanticNoTranspose];f[\"a\"].transpose(Y,X)}z.setUniform(N,q.type,q.symbol,Y)}R.cullFace!==A&&(A=R.cullFace,N.cullFace(A)),R.frontFace!==T&&(T=R.frontFace,N.frontFace(T)),R.culling!==w&&(w=R.culling,w?N.enable(N.CULL_FACE):N.disable(N.CULL_FACE)),this._updateSkeleton(R,z,D),G&&(M=this._bindVAO(I,H,F,z)),this._renderObject(R,M,z),n.afterRender(this,R),R.afterRender&&R.afterRender(this),h=z,p=R}}I&&I.bindVertexArrayOES(null),this.trigger(\"afterrenderpass\",this,e,t,n)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,t,n){var r=this.gl,i=e.skeleton;if(i)if(i.update(),e.joints.length>this.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(e.__uid__,e.joints);t.useTextureSlot(this,a,n),t.setUniform(r,\"1i\",\"skinMatricesTexture\",n),t.setUniform(r,\"1f\",\"skinMatricesTextureSize\",a.width)}else{var o=i.getSubSkinMatrices(e.__uid__,e.joints);t.setUniformOfSemantic(r,\"SKIN_MATRIX\",o)}},_renderObject:function(e,t,n){var r=this.gl,i=e.geometry,a=e.mode;null==a&&(a=4);var o=null,s=e.isInstancedMesh&&e.isInstancedMesh();if(!s||(o=this.getGLExtension(\"ANGLE_instanced_arrays\"),o)){var l;if(s&&(l=this._bindInstancedAttributes(e,n,o)),t.indicesBuffer){var u=this.getGLExtension(\"OES_element_index_uint\"),c=u&&i.indices instanceof Uint32Array,d=c?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(a,t.indicesBuffer.count,d,0,e.getInstanceCount()):r.drawElements(a,t.indicesBuffer.count,d,0)}else s?o.drawArraysInstancedANGLE(a,0,i.vertexCount,e.getInstanceCount()):r.drawArrays(a,0,i.vertexCount);if(s)for(var f=0;f<l.length;f++)l[f].enabled||r.disableVertexAttribArray(l[f].location),o.vertexAttribDivisorANGLE(l[f].location,0)}else console.warn(\"Device not support ANGLE_instanced_arrays extension\")},_bindInstancedAttributes:function(e,t,n){for(var r=this.gl,i=e.getInstancedAttributesBuffers(this),a=[],o=0;o<i.length;o++){var s=i[o],l=t.getAttribLocation(r,s.symbol);if(!(l<0)){var u=b[s.type]||r.FLOAT,c=t.isAttribEnabled(this,l);t.isAttribEnabled(this,l)||r.enableVertexAttribArray(l),a.push({location:l,enabled:c}),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(l,s.size,u,!1,0,0),n.vertexAttribDivisorANGLE(l,s.divisor)}}return a},_bindMaterial:function(e,t,n,r,i,a,o){for(var s=this.gl,l=a===n,u=n.currentTextureSlot(),c=t.getEnabledUniforms(),d=t.getTextureUniforms(),f=this._placeholderTexture,h=0;h<d.length;h++){var p=d[h],m=o(e,t,p),v=t.uniforms[p].type;if(\"t\"===v&&m)m.__slot=-1;else if(\"tv\"===v)for(var g=0;g<m.length;g++)m[g]&&(m[g].__slot=-1)}f.__slot=-1;for(h=0;h<c.length;h++){p=c[h];var _=t.uniforms[p],y=(m=o(e,t,p),v=_.type,\"t\"===v);if(y&&(m&&m.isRenderable()||(m=f)),i&&l){var x=o(r,i,p);if(y&&(x&&x.isRenderable()||(x=f)),x===m){if(y)n.takeCurrentTextureSlot(this,null);else if(\"tv\"===v&&m)for(g=0;g<m.length;g++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=m)if(y)if(m.__slot<0){var b=n.currentTextureSlot(),w=n.setUniform(s,\"1i\",p,b);w&&(n.takeCurrentTextureSlot(this,m),m.__slot=b)}else n.setUniform(s,\"1i\",p,m.__slot);else if(Array.isArray(m)){if(0===m.length)continue;if(\"tv\"===v){if(!n.hasUniform(p))continue;var A=[];for(g=0;g<m.length;g++){var T=m[g];if(T.__slot<0){b=n.currentTextureSlot();A.push(b),n.takeCurrentTextureSlot(this,T),T.__slot=b}else A.push(T.__slot)}n.setUniform(s,\"1iv\",p,A)}else n.setUniform(s,_.type,p,m)}else n.setUniform(s,_.type,p,m)}var S=n.currentTextureSlot();return n.resetTextureSlot(u),S},_bindVAO:function(e,t,n,r){var i=!n.dynamic,a=this.gl,o=this.__uid__+\"-\"+r.__uid__,s=n.__vaoCache[o];if(!s){var l=n.getBufferChunks(this);if(!l||!l.length)return;for(var u=l[0],c=u.attributeBuffers,d=u.indicesBuffer,f=[],h=[],p=0;p<c.length;p++){var m,v=c[p],g=v.name,_=v.semantic;if(_){var y=t.attributeSemantics[_];m=y&&y.symbol}else m=g;m&&r.attributes[m]&&(f.push(v),h.push(m))}s=new w(f,h,d),i&&(n.__vaoCache[o]=s)}var x=!0;e&&i&&(null==s.vao?s.vao=e.createVertexArrayOES():x=!1,e.bindVertexArrayOES(s.vao));f=s.availableAttributes,d=s.indicesBuffer;if(x){var A=r.enableAttributes(this,s.availableAttributeSymbols,e&&i&&s);for(p=0;p<f.length;p++){var T=A[p];if(-1!==T){v=f[p];var S=v.buffer,E=v.size,C=b[v.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,S),a.vertexAttribPointer(T,E,C,!1,0,0)}}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d.buffer)}return s},renderPreZ:function(e,t,n){var r=this.gl,i=this._prezMaterial||new s[\"a\"]({shader:new c[\"a\"](c[\"a\"].source(\"clay.prez.vertex\"),c[\"a\"].source(\"clay.prez.fragment\"))});this._prezMaterial=i,this.logDepthBuffer&&this._prezMaterial.setUniform(\"logDepthBufFC\",2/(Math.log(n.far+1)/Math.LN2)),r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(e,n,{ifRender:function(e){return!e.ignorePreZ},isMaterialChanged:function(e,t){var n=e.material,r=t.material;return n.get(\"diffuseMap\")!==r.get(\"diffuseMap\")||(n.get(\"alphaCutoff\")||0)!==(r.get(\"alphaCutoff\")||0)},getUniform:function(e,t,n){if(\"alphaMap\"===n)return e.material.get(\"diffuseMap\");if(\"alphaCutoff\"===n){if(e.material.isDefined(\"fragment\",\"ALPHA_TEST\")&&e.material.get(\"diffuseMap\")){var r=e.material.get(\"alphaCutoff\");return r||0}return 0}return\"uvRepeat\"===n?e.material.get(\"uvRepeat\"):\"uvOffset\"===n?e.material.get(\"uvOffset\"):t.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,t,n){e.getParent()&&e.getParent().remove(e);var r={};e.traverse((function(e){var i=e.material;if(e.geometry&&t&&e.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var a=i.getTextureUniforms(),o=0;o<a.length;o++){var s=a[o],l=i.uniforms[s].value,u=i.uniforms[s].type;if(l)if(\"t\"===u)l.dispose&&l.dispose(this);else if(\"tv\"===u)for(var c=0;c<l.length;c++)l[c]&&l[c].dispose&&l[c].dispose(this)}r[i.__uid__]=!0}e.dispose&&e.dispose(this)}),this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,t,n){n||(n=new l[\"a\"]),t=this._height-t;var r=this.viewport,i=n.array;return i[0]=(e-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(t-r.y)/r.height,i[1]=2*i[1]-1,n}});T.opaqueSortCompare=T.prototype.opaqueSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.renderOrder-t.renderOrder},T.transparentSortCompare=T.prototype.transparentSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__depth===t.__depth?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.__depth-t.__depth:e.renderOrder-t.renderOrder};var S={IDENTITY:p(),WORLD:p(),VIEW:p(),PROJECTION:p(),WORLDVIEW:p(),VIEWPROJECTION:p(),WORLDVIEWPROJECTION:p(),WORLDINVERSE:p(),VIEWINVERSE:p(),PROJECTIONINVERSE:p(),WORLDVIEWINVERSE:p(),VIEWPROJECTIONINVERSE:p(),WORLDVIEWPROJECTIONINVERSE:p(),WORLDTRANSPOSE:p(),VIEWTRANSPOSE:p(),PROJECTIONTRANSPOSE:p(),WORLDVIEWTRANSPOSE:p(),VIEWPROJECTIONTRANSPOSE:p(),WORLDVIEWPROJECTIONTRANSPOSE:p(),WORLDINVERSETRANSPOSE:p(),VIEWINVERSETRANSPOSE:p(),PROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWINVERSETRANSPOSE:p(),VIEWPROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:p()};T.COLOR_BUFFER_BIT=a[\"a\"].COLOR_BUFFER_BIT,T.DEPTH_BUFFER_BIT=a[\"a\"].DEPTH_BUFFER_BIT,T.STENCIL_BUFFER_BIT=a[\"a\"].STENCIL_BUFFER_BIT,t[\"a\"]=T},function(e,t,n){\"use strict\";function r(e,t){this.action=e,this.context=t}var i={trigger:function(e){if(this.hasOwnProperty(\"__handlers__\")&&this.__handlers__.hasOwnProperty(e)){var t=this.__handlers__[e],n=t.length,r=-1,i=arguments;switch(i.length){case 1:while(++r<n)t[r].action.call(t[r].context);return;case 2:while(++r<n)t[r].action.call(t[r].context,i[1]);return;case 3:while(++r<n)t[r].action.call(t[r].context,i[1],i[2]);return;case 4:while(++r<n)t[r].action.call(t[r].context,i[1],i[2],i[3]);return;case 5:while(++r<n)t[r].action.call(t[r].context,i[1],i[2],i[3],i[4]);return;default:while(++r<n)t[r].action.apply(t[r].context,Array.prototype.slice.call(i,1));return}}},on:function(e,t,n){if(e&&t){var i=this.__handlers__||(this.__handlers__={});if(i[e]){if(this.has(e,t))return}else i[e]=[];var a=new r(t,n||this);return i[e].push(a),this}},once:function(e,t,n){if(e&&t){var r=this;return this.on(e,i,n)}function i(){r.off(e,i),t.apply(this,arguments)}},before:function(e,t,n){if(e&&t)return e=\"before\"+e,this.on(e,t,n)},after:function(e,t,n){if(e&&t)return e=\"after\"+e,this.on(e,t,n)},success:function(e,t){return this.once(\"success\",e,t)},error:function(e,t){return this.once(\"error\",e,t)},off:function(e,t){var n=this.__handlers__||(this.__handlers__={});if(t){if(n[e]){for(var r=n[e],i=[],a=0;a<r.length;a++)t&&r[a].action!==t&&i.push(r[a]);n[e]=i}return this}n[e]=[]},has:function(e,t){var n=this.__handlers__;if(!n||!n[e])return!1;for(var r=n[e],i=0;i<r.length;i++)if(r[i].action===t)return!0}};t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(3),i=n(12),a=1e-5,o=function(e,t){this.origin=e||new r[\"a\"],this.direction=t||new r[\"a\"]};o.prototype={constructor:o,intersectPlane:function(e,t){var n=e.normal.array,a=e.distance,o=this.origin.array,s=this.direction.array,l=i[\"a\"].dot(n,s);if(0===l)return null;t||(t=new r[\"a\"]);var u=(i[\"a\"].dot(n,o)-a)/l;return i[\"a\"].scaleAndAdd(t.array,o,s,-u),t._dirty=!0,t},mirrorAgainstPlane:function(e){var t=i[\"a\"].dot(e.normal.array,this.direction.array);i[\"a\"].scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,2*-t),this.direction._dirty=!0},distanceToPoint:function(){var e=i[\"a\"].create();return function(t){i[\"a\"].sub(e,t,this.origin.array);var n=i[\"a\"].dot(e,this.direction.array);if(n<0)return i[\"a\"].distance(this.origin.array,t);var r=i[\"a\"].lenSquared(e);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var e=i[\"a\"].create();return function(t,n,a){var o=this.origin.array,s=this.direction.array;t=t.array,i[\"a\"].sub(e,t,o);var l=i[\"a\"].dot(e,s),u=i[\"a\"].squaredLength(e),c=u-l*l,d=n*n;if(!(c>d)){var f=Math.sqrt(d-c),h=l-f,p=l+f;return a||(a=new r[\"a\"]),h<0?p<0?null:(i[\"a\"].scaleAndAdd(a.array,o,s,p),a):(i[\"a\"].scaleAndAdd(a.array,o,s,h),a)}}}(),intersectBoundingBox:function(e,t){var n,a,o,s,l,u,c=this.direction.array,d=this.origin.array,f=e.min.array,h=e.max.array,p=1/c[0],m=1/c[1],v=1/c[2];if(p>=0?(n=(f[0]-d[0])*p,a=(h[0]-d[0])*p):(a=(f[0]-d[0])*p,n=(h[0]-d[0])*p),m>=0?(o=(f[1]-d[1])*m,s=(h[1]-d[1])*m):(s=(f[1]-d[1])*m,o=(h[1]-d[1])*m),n>s||o>a)return null;if((o>n||n!==n)&&(n=o),(s<a||a!==a)&&(a=s),v>=0?(l=(f[2]-d[2])*v,u=(h[2]-d[2])*v):(u=(f[2]-d[2])*v,l=(h[2]-d[2])*v),n>u||l>a)return null;if((l>n||n!==n)&&(n=l),(u<a||a!==a)&&(a=u),a<0)return null;var g=n>=0?n:a;return t||(t=new r[\"a\"]),i[\"a\"].scaleAndAdd(t.array,d,c,g),t},intersectTriangle:function(){var e=i[\"a\"].create(),t=i[\"a\"].create(),n=i[\"a\"].create(),o=i[\"a\"].create();return function(s,l,u,c,d,f){var h=this.direction.array,p=this.origin.array;s=s.array,l=l.array,u=u.array,i[\"a\"].sub(e,l,s),i[\"a\"].sub(t,u,s),i[\"a\"].cross(o,t,h);var m=i[\"a\"].dot(e,o);if(c){if(m>-a)return null}else if(m>-a&&m<a)return null;i[\"a\"].sub(n,p,s);var v=i[\"a\"].dot(o,n)/m;if(v<0||v>1)return null;i[\"a\"].cross(o,e,n);var g=i[\"a\"].dot(h,o)/m;if(g<0||g>1||v+g>1)return null;i[\"a\"].cross(o,e,t);var _=-i[\"a\"].dot(n,o)/m;return _<0?null:(d||(d=new r[\"a\"]),f&&r[\"a\"].set(f,1-v-g,v,g),i[\"a\"].scaleAndAdd(d.array,p,h,_),d)}}(),applyTransform:function(e){r[\"a\"].add(this.direction,this.direction,this.origin),r[\"a\"].transformMat4(this.origin,this.origin,e),r[\"a\"].transformMat4(this.direction,this.direction,e),r[\"a\"].sub(this.direction,this.direction,this.origin),r[\"a\"].normalize(this.direction,this.direction)},copy:function(e){r[\"a\"].copy(this.origin,e.origin),r[\"a\"].copy(this.direction,e.direction)},clone:function(){var e=new o;return e.copy(this),e}},t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(20),i=n(12),a=n(33),o=n(34),s={create:function(){var e=new r[\"a\"](4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};s.rotationTo=function(){var e=i[\"a\"].create(),t=i[\"a\"].fromValues(1,0,0),n=i[\"a\"].fromValues(0,1,0);return function(r,a,o){var l=i[\"a\"].dot(a,o);return l<-.999999?(i[\"a\"].cross(e,t,a),i[\"a\"].length(e)<1e-6&&i[\"a\"].cross(e,n,a),i[\"a\"].normalize(e,e),s.setAxisAngle(r,e,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(i[\"a\"].cross(e,a,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+l,s.normalize(r,r))}}(),s.setAxes=function(){var e=o[\"a\"].create();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],s.normalize(t,s.fromMat3(t,e))}}(),s.clone=a[\"a\"].clone,s.fromValues=a[\"a\"].fromValues,s.copy=a[\"a\"].copy,s.set=a[\"a\"].set,s.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},s.add=a[\"a\"].add,s.multiply=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+o*s+i*u-a*l,e[1]=i*c+o*l+a*s-r*u,e[2]=a*c+o*u+r*l-i*s,e[3]=o*c-r*s-i*l-a*u,e},s.mul=s.multiply,s.scale=a[\"a\"].scale,s.rotateX=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=a*l-i*s,e[3]=o*l-r*s,e},s.rotateY=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-a*s,e[1]=i*l+o*s,e[2]=a*l+r*s,e[3]=o*l-i*s,e},s.rotateZ=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=a*l+o*s,e[3]=o*l-a*s,e},s.calculateW=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},s.dot=a[\"a\"].dot,s.lerp=a[\"a\"].lerp,s.slerp=function(e,t,n,r){var i,a,o,s,l,u=t[0],c=t[1],d=t[2],f=t[3],h=n[0],p=n[1],m=n[2],v=n[3];return a=u*h+c*p+d*m+f*v,a<0&&(a=-a,h=-h,p=-p,m=-m,v=-v),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(s=1-r,l=r),e[0]=s*u+l*h,e[1]=s*c+l*p,e[2]=s*d+l*m,e[3]=s*f+l*v,e},s.invert=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e},s.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},s.length=a[\"a\"].length,s.len=s.length,s.squaredLength=a[\"a\"].squaredLength,s.sqrLen=s.squaredLength,s.normalize=a[\"a\"].normalize,s.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e},t[\"a\"]=s},function(e,t,n){\"use strict\";var r=n(55),i=n(34),a=function(e,t,n,i){e=e||0,t=t||0,n=n||0,i=void 0===i?1:i,this.array=r[\"a\"].fromValues(e,t,n,i),this._dirty=!0};a.prototype={constructor:a,add:function(e){return r[\"a\"].add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return r[\"a\"].calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new a(this.x,this.y,this.z,this.w)},conjugate:function(){return r[\"a\"].conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return r[\"a\"].dot(this.array,e.array)},fromMat3:function(e){return r[\"a\"].fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=i[\"a\"].create();return function(t){return i[\"a\"].fromMat4(e,t.array),i[\"a\"].transpose(e,e),r[\"a\"].fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return r[\"a\"].identity(this.array),this._dirty=!0,this},invert:function(){return r[\"a\"].invert(this.array,this.array),this._dirty=!0,this},len:function(){return r[\"a\"].len(this.array)},length:function(){return r[\"a\"].length(this.array)},lerp:function(e,t,n){return r[\"a\"].lerp(this.array,e.array,t.array,n),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return r[\"a\"].multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return r[\"a\"].multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return r[\"a\"].normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return r[\"a\"].rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return r[\"a\"].rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return r[\"a\"].rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,t){return r[\"a\"].rotationTo(this.array,e.array,t.array),this._dirty=!0,this},setAxes:function(e,t,n){return r[\"a\"].setAxes(this.array,e.array,t.array,n.array),this._dirty=!0,this},setAxisAngle:function(e,t){return r[\"a\"].setAxisAngle(this.array,e.array,t),this._dirty=!0,this},slerp:function(e,t,n){return r[\"a\"].slerp(this.array,e.array,t.array,n),this._dirty=!0,this},sqrLen:function(){return r[\"a\"].sqrLen(this.array)},squaredLength:function(){return r[\"a\"].squaredLength(this.array)},fromEuler:function(e,t){return a.fromEuler(this,e,t)},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var o=Object.defineProperty;if(o){var s=a.prototype;o(s,\"x\",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),o(s,\"y\",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),o(s,\"z\",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),o(s,\"w\",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}a.add=function(e,t,n){return r[\"a\"].add(e.array,t.array,n.array),e._dirty=!0,e},a.set=function(e,t,n,i,a){r[\"a\"].set(e.array,t,n,i,a),e._dirty=!0},a.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},a.calculateW=function(e,t){return r[\"a\"].calculateW(e.array,t.array),e._dirty=!0,e},a.conjugate=function(e,t){return r[\"a\"].conjugate(e.array,t.array),e._dirty=!0,e},a.identity=function(e){return r[\"a\"].identity(e.array),e._dirty=!0,e},a.invert=function(e,t){return r[\"a\"].invert(e.array,t.array),e._dirty=!0,e},a.dot=function(e,t){return r[\"a\"].dot(e.array,t.array)},a.len=function(e){return r[\"a\"].length(e.array)},a.lerp=function(e,t,n,i){return r[\"a\"].lerp(e.array,t.array,n.array,i),e._dirty=!0,e},a.slerp=function(e,t,n,i){return r[\"a\"].slerp(e.array,t.array,n.array,i),e._dirty=!0,e},a.mul=function(e,t,n){return r[\"a\"].multiply(e.array,t.array,n.array),e._dirty=!0,e},a.multiply=a.mul,a.rotateX=function(e,t,n){return r[\"a\"].rotateX(e.array,t.array,n),e._dirty=!0,e},a.rotateY=function(e,t,n){return r[\"a\"].rotateY(e.array,t.array,n),e._dirty=!0,e},a.rotateZ=function(e,t,n){return r[\"a\"].rotateZ(e.array,t.array,n),e._dirty=!0,e},a.setAxisAngle=function(e,t,n){return r[\"a\"].setAxisAngle(e.array,t.array,n),e._dirty=!0,e},a.normalize=function(e,t){return r[\"a\"].normalize(e.array,t.array),e._dirty=!0,e},a.sqrLen=function(e){return r[\"a\"].sqrLen(e.array)},a.squaredLength=a.sqrLen,a.fromMat3=function(e,t){return r[\"a\"].fromMat3(e.array,t.array),e._dirty=!0,e},a.setAxes=function(e,t,n,i){return r[\"a\"].setAxes(e.array,t.array,n.array,i.array),e._dirty=!0,e},a.rotationTo=function(e,t,n){return r[\"a\"].rotationTo(e.array,t.array,n.array),e._dirty=!0,e},a.fromEuler=function(e,t,n){e._dirty=!0,t=t.array;var r=e.array,i=Math.cos(t[0]/2),a=Math.cos(t[1]/2),o=Math.cos(t[2]/2),s=Math.sin(t[0]/2),l=Math.sin(t[1]/2),u=Math.sin(t[2]/2);n=(n||\"XYZ\").toUpperCase();switch(n){case\"XYZ\":r[0]=s*a*o+i*l*u,r[1]=i*l*o-s*a*u,r[2]=i*a*u+s*l*o,r[3]=i*a*o-s*l*u;break;case\"YXZ\":r[0]=s*a*o+i*l*u,r[1]=i*l*o-s*a*u,r[2]=i*a*u-s*l*o,r[3]=i*a*o+s*l*u;break;case\"ZXY\":r[0]=s*a*o-i*l*u,r[1]=i*l*o+s*a*u,r[2]=i*a*u+s*l*o,r[3]=i*a*o-s*l*u;break;case\"ZYX\":r[0]=s*a*o-i*l*u,r[1]=i*l*o+s*a*u,r[2]=i*a*u-s*l*o,r[3]=i*a*o+s*l*u;break;case\"YZX\":r[0]=s*a*o+i*l*u,r[1]=i*l*o+s*a*u,r[2]=i*a*u-s*l*o,r[3]=i*a*o-s*l*u;break;case\"XZY\":r[0]=s*a*o-i*l*u,r[1]=i*l*o-s*a*u,r[2]=i*a*u+s*l*o,r[3]=i*a*o+s*l*u;break}},t[\"a\"]=a},function(e,t,n){\"use strict\";var r=\"__dt__\",i=function(){this._contextId=0,this._caches=[],this._context={}};i.prototype={use:function(e,t){var n=this._caches;n[e]||(n[e]={},t&&(n[e]=t())),this._contextId=e,this._context=n[e]},put:function(e,t){this._context[e]=t},get:function(e){return this._context[e]},dirty:function(e){e=e||\"\";var t=r+e;this.put(t,!0)},dirtyAll:function(e){e=e||\"\";for(var t=r+e,n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][t]=!0)},fresh:function(e){e=e||\"\";var t=r+e;this.put(t,!1)},freshAll:function(e){e=e||\"\";for(var t=r+e,n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][t]=!1)},isDirty:function(e){e=e||\"\";var t=r+e,n=this._context;return!n.hasOwnProperty(t)||!0===n[t]},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,t){var n=Object.keys(this._caches);n.forEach((function(n){e&&e.call(t,n)}))},miss:function(e){return!this._context.hasOwnProperty(e)}},i.prototype.constructor=i,t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(35),i=n(7),a=n(59),o=n(54),s=n(33),l=n(12),u=r[\"a\"].extend((function(){return{projectionMatrix:new i[\"a\"],invProjectionMatrix:new i[\"a\"],viewMatrix:new i[\"a\"],frustum:new a[\"a\"]}}),(function(){this.update(!0)}),{update:function(e){r[\"a\"].prototype.update.call(this,e),i[\"a\"].invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),i[\"a\"].invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){i[\"a\"].copy(this.viewMatrix,e),i[\"a\"].invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){i[\"a\"].copy(this.projectionMatrix,e),i[\"a\"].invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=s[\"a\"].create();return function(t,n){var r=void 0!==n?n:new o[\"a\"],i=t.array[0],a=t.array[1];return s[\"a\"].set(e,i,a,-1,1),s[\"a\"].transformMat4(e,e,this.invProjectionMatrix.array),s[\"a\"].transformMat4(e,e,this.worldTransform.array),l[\"a\"].scale(r.origin.array,e,1/e[3]),s[\"a\"].set(e,i,a,1,1),s[\"a\"].transformMat4(e,e,this.invProjectionMatrix.array),s[\"a\"].transformMat4(e,e,this.worldTransform.array),l[\"a\"].scale(e,e,1/e[3]),l[\"a\"].sub(r.direction.array,e,r.origin.array),l[\"a\"].normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()});t[\"a\"]=u},function(e,t,n){\"use strict\";var r=n(18),i=n(73),a=n(12),o=a[\"a\"].set,s=a[\"a\"].copy,l=a[\"a\"].transformMat4,u=Math.min,c=Math.max,d=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new i[\"a\"]);this.boundingBox=new r[\"a\"],this.vertices=[];for(e=0;e<8;e++)this.vertices[e]=a[\"a\"].fromValues(0,0,0)};d.prototype={setFromProjection:function(e){var t=this.planes,n=e.array,r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],d=n[7],f=n[8],h=n[9],p=n[10],m=n[11],v=n[12],g=n[13],_=n[14],y=n[15];o(t[0].normal.array,s-r,d-l,m-f),t[0].distance=-(y-v),t[0].normalize(),o(t[1].normal.array,s+r,d+l,m+f),t[1].distance=-(y+v),t[1].normalize(),o(t[2].normal.array,s+i,d+u,m+h),t[2].distance=-(y+g),t[2].normalize(),o(t[3].normal.array,s-i,d-u,m-h),t[3].distance=-(y-g),t[3].normalize(),o(t[4].normal.array,s-a,d-c,m-p),t[4].distance=-(y-_),t[4].normalize(),o(t[5].normal.array,s+a,d+c,m+p),t[5].distance=-(y+_),t[5].normalize();var x=this.boundingBox,b=this.vertices;if(0===y){var w=u/r,A=-_/(p-1),T=-_/(p+1),S=-T/u,E=-A/u;x.min.set(-S*w,-S,T),x.max.set(S*w,S,A),o(b[0],-S*w,-S,T),o(b[1],-S*w,S,T),o(b[2],S*w,-S,T),o(b[3],S*w,S,T),o(b[4],-E*w,-E,A),o(b[5],-E*w,E,A),o(b[6],E*w,-E,A),o(b[7],E*w,E,A)}else{var C=(-1-v)/r,M=(1-v)/r,D=(1-g)/u,N=(-1-g)/u,L=(-1-_)/p,I=(1-_)/p;x.min.set(Math.min(C,M),Math.min(N,D),Math.min(I,L)),x.max.set(Math.max(M,C),Math.max(D,N),Math.max(L,I));var P=x.min.array,O=x.max.array;o(b[0],P[0],P[1],P[2]),o(b[1],P[0],O[1],P[2]),o(b[2],O[0],P[1],P[2]),o(b[3],O[0],O[1],P[2]),o(b[4],P[0],P[1],O[2]),o(b[5],P[0],O[1],O[2]),o(b[6],O[0],P[1],O[2]),o(b[7],O[0],O[1],O[2])}},getTransformedBoundingBox:function(){var e=a[\"a\"].create();return function(t,n){var r=this.vertices,i=n.array,a=t.min,o=t.max,d=a.array,f=o.array,h=r[0];l(e,h,i),s(d,e),s(f,e);for(var p=1;p<8;p++)h=r[p],l(e,h,i),d[0]=u(e[0],d[0]),d[1]=u(e[1],d[1]),d[2]=u(e[2],d[2]),f[0]=c(e[0],f[0]),f[1]=c(e[1],f[1]),f[2]=c(e[2],f[2]);return a._dirty=!0,o._dirty=!0,t}}()},t[\"a\"]=d},function(e,t,n){\"use strict\";var r=n(5),i=n(27),a=n(13),o=n(61),s=n(75),l=n(36),u=n(121),c=n(122),d={loadTexture:function(e,t,n,a){var o;if(\"function\"===typeof t?(n=t,a=n,t={}):t=t||{},\"string\"===typeof e){if(e.match(/.hdr$/)||\"hdr\"===t.fileType)return o=new r[\"a\"]({width:0,height:0,sRGB:!1}),d._fetchTexture(e,(function(e){c[\"a\"].parseRGBE(e,o,t.exposure),o.dirty(),n&&n(o)}),a),o;e.match(/.dds$/)||\"dds\"===t.fileType?(o=new r[\"a\"]({width:0,height:0}),d._fetchTexture(e,(function(e){u[\"a\"].parse(e,o),o.dirty(),n&&n(o)}),a)):(o=new r[\"a\"],o.load(e),o.success(n),o.error(a))}else\"object\"===typeof e&&\"undefined\"!==typeof e.px&&(o=new i[\"a\"],o.load(e),o.success(n),o.error(a));return o},loadPanorama:function(e,t,n,r,i,a){var o=this;\"function\"===typeof r?(i=r,a=i,r={}):r=r||{},d.loadTexture(t,r,(function(t){t.flipY=r.flipY||!1,o.panoramaToCubeMap(e,t,n,r),t.dispose(e),i&&i(n)}),a)},panoramaToCubeMap:function(e,t,n,r){var i=new o[\"a\"],a=new s[\"a\"]({scene:new l[\"a\"]});return a.setEnvironmentMap(t),r=r||{},r.encodeRGBM&&a.material.define(\"fragment\",\"RGBM_ENCODE\"),n.sRGB=t.sRGB,i.texture=n,i.render(e,a.scene),i.texture=null,i.dispose(e),n},heightToNormal:function(e,t){var n=document.createElement(\"canvas\"),r=n.width=e.width,i=n.height=e.height,a=n.getContext(\"2d\");a.drawImage(e,0,0,r,i),t=t||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),l=0;l<o.data.length;l+=4){if(t){var u=o.data[l],c=o.data[l+1],d=o.data[l+2],f=Math.abs(u-c)+Math.abs(c-d);if(f>20)return console.warn(\"Given image is not a height map\"),e}var h,p,m,v;l%(4*r)===0?(h=o.data[l],m=o.data[l+4]):l%(4*r)===4*(r-1)?(h=o.data[l-4],m=o.data[l]):(h=o.data[l-4],m=o.data[l+4]),l<4*r?(p=o.data[l],v=o.data[l+4*r]):l>r*(i-1)*4?(p=o.data[l-4*r],v=o.data[l]):(p=o.data[l-4*r],v=o.data[l+4*r]),s.data[l]=h-m+127,s.data[l+1]=p-v+127,s.data[l+2]=255,s.data[l+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(e,t,n){if(!e||!e.width||!e.height)return!1;var r=document.createElement(\"canvas\"),i=r.getContext(\"2d\"),a=t||32;n=n||20,r.width=r.height=a,i.drawImage(e,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var l=o.data[s],u=o.data[s+1],c=o.data[s+2],d=Math.abs(l-u)+Math.abs(u-c);if(d>n)return!1}return!0},_fetchTexture:function(e,t,n){a[\"a\"].request.get({url:e,responseType:\"arraybuffer\",onload:t,onerror:n})},createChessboard:function(e,t,n,i){e=e||512,t=t||64,n=n||\"black\",i=i||\"white\";var a=Math.ceil(e/t),o=document.createElement(\"canvas\");o.width=e,o.height=e;var s=o.getContext(\"2d\");s.fillStyle=i,s.fillRect(0,0,e,e),s.fillStyle=n;for(var l=0;l<a;l++)for(var u=0;u<a;u++){var c=u%2?l%2:l%2-1;c&&s.fillRect(l*t,u*t,t,t)}var d=new r[\"a\"]({image:o,anisotropic:8});return d},createBlank:function(e){var t=document.createElement(\"canvas\");t.width=1,t.height=1;var n=t.getContext(\"2d\");n.fillStyle=e,n.fillRect(0,0,1,1);var i=new r[\"a\"]({image:t});return i}};t[\"a\"]=d},function(e,t,n){\"use strict\";var r=n(8),i=n(3),a=n(37),o=n(10),s=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"],l=r[\"a\"].extend((function(){var e={position:new i[\"a\"],far:1e3,near:.1,texture:null,shadowMapPass:null},t=e._cameras={px:new a[\"a\"]({fov:90}),nx:new a[\"a\"]({fov:90}),py:new a[\"a\"]({fov:90}),ny:new a[\"a\"]({fov:90}),pz:new a[\"a\"]({fov:90}),nz:new a[\"a\"]({fov:90})};return t.px.lookAt(i[\"a\"].POSITIVE_X,i[\"a\"].NEGATIVE_Y),t.nx.lookAt(i[\"a\"].NEGATIVE_X,i[\"a\"].NEGATIVE_Y),t.py.lookAt(i[\"a\"].POSITIVE_Y,i[\"a\"].POSITIVE_Z),t.ny.lookAt(i[\"a\"].NEGATIVE_Y,i[\"a\"].NEGATIVE_Z),t.pz.lookAt(i[\"a\"].POSITIVE_Z,i[\"a\"].NEGATIVE_Y),t.nz.lookAt(i[\"a\"].NEGATIVE_Z,i[\"a\"].NEGATIVE_Y),e._frameBuffer=new o[\"a\"],e}),{getCamera:function(e){return this._cameras[e]},render:function(e,t,n){var r=e.gl;n||t.update();for(var a=this.texture.width,o=2*Math.atan(a/(a-.5))/Math.PI*180,l=0;l<6;l++){var u=s[l],c=this._cameras[u];if(i[\"a\"].copy(c.position,this.position),c.far=this.far,c.near=this.near,c.fov=o,this.shadowMapPass){c.update();var d=t.getBoundingBox();d.applyTransform(c.viewMatrix),t.viewBoundingBoxLastFrame.copy(d),this.shadowMapPass.render(e,t,c,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+l),this._frameBuffer.bind(e),e.render(t,c,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}});t[\"a\"]=l},function(e,t,n){\"use strict\";var r=n(1),i=n(164),a=n(165);r[\"a\"].Shader.import(a[\"a\"]),t[\"a\"]=r[\"a\"].Mesh.extend((function(){var e=new i[\"a\"]({dynamic:!0}),t=new r[\"a\"].Material({shader:r[\"a\"].createShader(\"ecgl.labels\"),transparent:!0,depthMask:!1});return{geometry:e,material:t,culling:!1,castShadow:!1,ignorePicking:!0}}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(206),s=n(25),l=n(2),u=n(6),c=n(64),d=n(65),f=n(46),h=u[\"a\"].vec3;function p(e){this.rootNode=new a[\"a\"].Node,this._triangulationResults={},this._shadersMap=a[\"a\"].COMMON_SHADERS.reduce((function(e,t){return e[t]=a[\"a\"].createShader(\"ecgl.\"+t),e}),{}),this._linesShader=a[\"a\"].createShader(\"ecgl.meshLines3D\");var t={};a[\"a\"].COMMON_SHADERS.forEach((function(e){t[e]=new a[\"a\"].Material({shader:a[\"a\"].createShader(\"ecgl.\"+e)})})),this._groundMaterials=t,this._groundMesh=new a[\"a\"].Mesh({geometry:new a[\"a\"].PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new d[\"a\"](512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}a[\"a\"].Shader.import(f[\"a\"]),p.prototype={constructor:p,extrudeY:!0,update:function(e,t,n,r,i){var a=e.getData();null==r&&(r=0),null==i&&(i=a.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(e,r,i);var o=this._getShader(e.get(\"shading\"));this._prepareMesh(e,o,n,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,n,r,i);var s=e.coordinateSystem;\"geo3D\"===s.type&&this._updateGroundPlane(e,s,n);var l=this;this._labelsBuilder.updateData(a,r,i),this._labelsBuilder.getLabelPosition=function(e,t,n){var r=a.getName(e),i=n;if(\"geo3D\"===s.type){var o=s.getRegion(r);if(!o)return[NaN,NaN,NaN];d=o.center;var u=s.dataToPoint([d[0],d[1],i]);return u}var c=l._triangulationResults[e-l._startIndex],d=l.extrudeY?[(c.max[0]+c.min[0])/2,c.max[1]+i,(c.max[2]+c.min[2])/2]:[(c.max[0]+c.min[0])/2,(c.max[1]+c.min[1])/2,c.max[2]+i]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this;function t(){var t=new a[\"a\"].Mesh({name:\"Polygon\",material:new a[\"a\"].Material({shader:e._shadersMap.lambert}),geometry:new a[\"a\"].Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return i.a.util.extend(t.geometry,c[\"a\"]),t}var n=t(),r=new a[\"a\"].Mesh({material:new a[\"a\"].Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new s[\"a\"]({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(r),n.material.define(\"both\",\"VERTEX_COLOR\"),n.material.define(\"fragment\",\"DOUBLE_SIDED\"),this._polygonMesh=n,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(e){var t=this._shadersMap[e];return t||(console.warn(\"Unkown shading \"+e),t=this._shadersMap.lambert),t.__shading=e,t},_prepareMesh:function(e,t,n,r,i){for(var o=0,s=0,l=0,u=0,c=r;c<i;c++){var d=this._getRegionPolygonInfo(c),f=this._getRegionLinesInfo(c,e,this._linesMesh.geometry);o+=d.vertexCount,s+=d.triangleCount,l+=f.vertexCount,u+=f.triangleCount}var h=this._polygonMesh,p=h.geometry;[\"position\",\"normal\",\"texcoord0\",\"color\"].forEach((function(e){p.attributes[e].init(o)})),p.indices=o>65535?new Uint32Array(3*s):new Uint16Array(3*s),h.material.shader!==t&&h.material.attachShader(t,!0),a[\"a\"].setMaterialFromModel(t.__shading,h.material,e,n),l>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(l),this._linesMesh.geometry.setTriangleCount(u)),this._dataIndexOfVertex=new Uint32Array(o),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(e,t,n,r){for(var i=e.getData(),o=0,s=0,u=!1,c=this._polygonMesh,d=this._linesMesh,f=n;f<r;f++){var h=e.getRegionModel(f),p=h.getModel(\"itemStyle\"),m=p.get(\"color\"),v=l[\"a\"].firstNotNull(p.get(\"opacity\"),1),g=i.getItemVisual(f,\"color\",!0);null!=g&&i.hasValue(f)&&(m=g),i.setItemVisual(f,\"color\",m),i.setItemVisual(f,\"opacity\",v),m=a[\"a\"].parseColor(m);var _=a[\"a\"].parseColor(p.get(\"borderColor\"));m[3]*=v,_[3]*=v;var y=m[3]<.99;c.material.set(\"color\",[1,1,1,1]),u=u||y;for(var x=l[\"a\"].firstNotNull(h.get(\"height\",!0),e.get(\"regionHeight\")),b=this._updatePolygonGeometry(e,c.geometry,f,x,o,s,m),w=o;w<b.vertexOffset;w++)this._dataIndexOfVertex[w]=f;this._vertexRangeOfDataIndex[2*(f-n)]=o,this._vertexRangeOfDataIndex[2*(f-n)+1]=b.vertexOffset,o=b.vertexOffset,s=b.triangleOffset;var A=p.get(\"borderWidth\"),T=A>0;T&&(A*=t.getDevicePixelRatio(),this._updateLinesGeometry(d.geometry,e,f,x,A,e.coordinateSystem.transform)),d.invisible=!T,d.material.set({color:_})}c=this._polygonMesh;c.material.transparent=u,c.material.depthMask=!u,c.geometry.updateBoundingBox(),c.frontFace=this.extrudeY?a[\"a\"].Mesh.CCW:a[\"a\"].Mesh.CW,c.material.get(\"normalMap\")&&c.geometry.generateTangents(),c.seriesIndex=e.seriesIndex,c.on(\"mousemove\",this._onmousemove,this),c.on(\"mouseout\",this._onmouseout,this)},_updateDebugWireframe:function(e){var t=e.getModel(\"debug.wireframe\");if(t.get(\"show\")){var n=a[\"a\"].parseColor(t.get(\"lineStyle.color\")||\"rgba(0,0,0,0.5)\"),r=l[\"a\"].firstNotNull(t.get(\"lineStyle.width\"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define(\"both\",\"WIREFRAME_TRIANGLE\"),i.material.set(\"wireframeLineColor\",n),i.material.set(\"wireframeLineWidth\",r)}},_onmousemove:function(e){var t=this._dataIndexOfVertex[e.triangle[0]];null==t&&(t=-1),t!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(t),this._labelsBuilder.updateLabels([t])),this._lastHoverDataIndex=t,this._polygonMesh.dataIndex=t},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,t,n){var r=e.getModel(\"groundPlane\",e);if(this._groundMesh.invisible=!r.get(\"show\",!0),!this._groundMesh.invisible){var i=e.get(\"shading\"),o=this._groundMaterials[i];o||(console.warn(\"Unkown shading \"+i),o=this._groundMaterials.lambert),a[\"a\"].setMaterialFromModel(i,o,r,n),o.get(\"normalMap\")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=o,this._groundMesh.material.set(\"color\",a[\"a\"].parseColor(r.get(\"color\"))),this._groundMesh.scale.set(t.size[0],t.size[2],1)}},_triangulation:function(e,t,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=e.coordinateSystem,s=t;s<n;s++){for(var l=[],u=e.getRegionPolygonCoords(s),c=0;c<u.length;c++){var d=u[c].exterior,f=u[c].interiors,p=[],m=[];if(!(d.length<3)){for(var v=0,g=0;g<d.length;g++){var _=d[g];p[v++]=_[0],p[v++]=_[1]}for(g=0;g<f.length;g++)if(!(f[g].length<3)){for(var y=p.length/2,x=0;x<f[g].length;x++){_=f[g][x];p.push(_[0]),p.push(_[1])}m.push(y)}var b=Object(o[\"a\"])(p,m),w=new Float64Array(p.length/2*3),A=[],T=[1/0,1/0,1/0],S=[-1/0,-1/0,-1/0],E=0;for(g=0;g<p.length;)h.set(A,p[g++],0,p[g++]),a&&a.transform&&h.transformMat4(A,A,a.transform),h.min(T,T,A),h.max(S,S,A),w[E++]=A[0],w[E++]=A[1],w[E++]=A[2];h.min(r,r,T),h.max(i,i,S),l.push({points:w,indices:b,min:T,max:S})}}this._triangulationResults.push(l)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(e){for(var t=this._triangulationResults[e-this._startIndex],n=0,r=0,i=0;i<t.length;i++)n+=t[i].points.length/3,r+=t[i].indices.length/3;var a=2*n+4*n,o=2*r+2*n;return{vertexCount:a,triangleCount:o}},_updatePolygonGeometry:function(e,t,n,r,i,a,o){var s=e.get(\"projectUVOnGround\"),l=t.attributes.position,u=t.attributes.normal,c=t.attributes.texcoord0,d=t.attributes.color,f=this._triangulationResults[n-this._startIndex],p=d.value&&o,m=t.indices,v=this.extrudeY?1:2,g=this.extrudeY?2:1,_=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=h.mul([],this._geoBoundingBox[0],_),x=h.mul([],this._geoBoundingBox[1],_),b=Math.max(x[0]-y[0],x[2]-y[2]);function w(e,t,n){for(var r=e.points,a=r.length,s=[],u=[],f=0;f<a;f+=3)s[0]=r[f],s[v]=t,s[g]=r[f+2],u[0]=(r[f]*_[0]-y[0])/b,u[1]=(r[f+2]*_[g]-y[2])/b,l.set(i,s),p&&d.set(i,o),c.set(i++,u)}function A(e,t,n){var r=i;w(e,t,n);for(var o=e.indices.length,s=0;s<o;s++)m[3*a+s]=e.indices[s]+r;a+=e.indices.length/3}for(var T=this.extrudeY?[0,1,0]:[0,0,1],S=h.negate([],T),E=0;E<f.length;E++){var C=i,M=f[E];A(M,0,0),A(M,r,0);for(var D=M.points.length/3,N=0;N<D;N++)u.set(C+N,S),u.set(C+N+D,T);var L=[0,3,1,1,3,2],I=[[],[],[],[]],P=[],O=[],R=[],k=[],F=0;for(N=0;N<D;N++){for(var B=(N+1)%D,z=(M.points[3*B]-M.points[3*N])*_[0],H=(M.points[3*B+2]-M.points[3*N+2])*_[g],U=Math.sqrt(z*z+H*H),G=0;G<4;G++){var j=0===G||3===G,V=3*(j?N:B);I[G][0]=M.points[V],I[G][v]=G>1?r:0,I[G][g]=M.points[V+2],l.set(i+G,I[G]),s?(k[0]=(M.points[V]*_[0]-y[0])/b,k[1]=(M.points[V+2]*_[g]-y[g])/b):(k[0]=(j?F:F+U)/b,k[1]=(I[G][v]*_[v]-y[v])/b),c.set(i+G,k)}h.sub(P,I[1],I[0]),h.sub(O,I[3],I[0]),h.cross(R,P,O),h.normalize(R,R);for(G=0;G<4;G++)u.set(i+G,R),p&&d.set(i+G,o);for(G=0;G<6;G++)m[3*a+G]=L[G]+i;i+=4,a+=2,F+=U}}return t.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(e,t,n){var r=0,i=0,a=t.getRegionModel(e),o=a.getModel(\"itemStyle\"),s=o.get(\"borderWidth\");if(s>0){var l=t.getRegionPolygonCoords(e);l.forEach((function(e){var t=e.exterior,a=e.interiors;r+=n.getPolylineVertexCount(t),i+=n.getPolylineTriangleCount(t);for(var o=0;o<a.length;o++)r+=n.getPolylineVertexCount(a[o]),i+=n.getPolylineTriangleCount(a[o])}),this)}return{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(e,t,n,r,i,a){function o(e){for(var t=new Float64Array(3*e.length),n=0,i=[],o=0;o<e.length;o++)i[0]=e[o][0],i[1]=r+.1,i[2]=e[o][1],a&&h.transformMat4(i,i,a),t[n++]=i[0],t[n++]=i[1],t[n++]=i[2];return t}var s=[1,1,1,1],l=t.getRegionPolygonCoords(n);l.forEach((function(t){var n=t.exterior,r=t.interiors;e.addPolyline(o(n),s,i);for(var a=0;a<r.length;a++)e.addPolyline(o(r[a]),s,i)}))},highlight:function(e){var t=this._data;if(t){var n=t.getItemModel(e),r=n.getModel(\"emphasis.itemStyle\"),o=r.get(\"color\"),s=l[\"a\"].firstNotNull(r.get(\"opacity\"),t.getItemVisual(e,\"opacity\"),1);if(null==o){var u=t.getItemVisual(e,\"color\");o=i.a.color.lift(u,-.4)}null==s&&(s=t.getItemVisual(e,\"opacity\"));var c=a[\"a\"].parseColor(o);c[3]*=s,this._setColorOfDataIndex(t,e,c)}},downplay:function(e){var t=this._data;if(t){var n=t.getItemVisual(e,\"color\"),r=l[\"a\"].firstNotNull(t.getItemVisual(e,\"opacity\"),1),i=a[\"a\"].parseColor(n);i[3]*=r,this._setColorOfDataIndex(t,e,i)}},_setColorOfDataIndex:function(e,t,n){if(!(t<this._startIndex&&t>this._endIndex)){t-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[2*t];r<this._vertexRangeOfDataIndex[2*t+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}},t[\"a\"]=p},function(e,t,n){\"use strict\";var r=n(96),i=n(6),a=i[\"a\"].vec3,o=a.create(),s=a.create(),l=a.create();t[\"a\"]={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,t){var n=this.indices;if(0===t){var r=this.attributes.position;e=e.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i,u=0,c=0;c<n.length;){r.get(n[c++],o),r.get(n[c++],s),r.get(n[c++],l);var d=a.sqrDist(o,e),f=a.sqrDist(s,e),h=a.sqrDist(l,e),p=Math.min(d,f);p=Math.min(p,h),3===c?(i=p,p=0):p-=i,this._triangleZList[u++]=p}}var m=this._sortedTriangleIndices;for(c=0;c<m.length;c++)m[c]=c;if(this.triangleCount<2e4)0===t&&this._simpleSort(!0);else for(c=0;c<3;c++)this._progressiveQuickSort(3*t+c);var v=this._indicesTmp,g=this._triangleZListTmp,_=this._triangleZList;for(c=0;c<this.triangleCount;c++){var y=3*m[c],x=3*c;v[x++]=n[y++],v[x++]=n[y++],v[x]=n[y],g[c]=_[m[c]]}var b=this._indicesTmp;this._indicesTmp=this.indices,this.indices=b;b=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=b,this.dirtyIndices()},_simpleSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;function i(e,n){return t[n]-t[e]}e?Array.prototype.sort.call(n,i):r[\"a\"].sort(n,i,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new r[\"a\"],this._quickSort.step(n,(function(e,n){return t[n]-t[e]}),e)}}},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(82),o=n(62),s=n(2),l=1,u=2;function c(e,t,n){this._labelsMesh=new o[\"a\"],this._labelTextureSurface=new a[\"a\"]({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set(\"textureAtlas\",this._labelTextureSurface.getTexture())}c.prototype.getLabelPosition=function(e,t,n){return[0,0,0]},c.prototype.getLabelDistance=function(e,t,n){return 0},c.prototype.getMesh=function(){return this._labelsMesh},c.prototype.updateData=function(e,t,n){null==t&&(t=0),null==n&&(n=e.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-t||(this._labelsVisibilitiesBits=new Uint8Array(n-t));for(var r=[\"label\",\"show\"],i=[\"emphasis\",\"label\",\"show\"],a=t;a<n;a++){var o=e.getItemModel(a),s=o.get(r),c=o.get(i);null==c&&(c=s);var d=(s?l:0)|(c?u:0);this._labelsVisibilitiesBits[a-t]=d}this._start=t,this._end=n,this._data=e},c.prototype.updateLabels=function(e){if(this._data){e=e||[];for(var t=e.length>0,n={},r=0;r<e.length;r++)n[e[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var a=[\"label\"],o=[\"emphasis\",\"label\"],c=this._data.hostModel,d=this._data,f=c.getModel(a),h=c.getModel(o,f),p={left:\"right\",right:\"left\",top:\"center\",bottom:\"center\"},m={left:\"middle\",right:\"middle\",top:\"bottom\",bottom:\"top\"},v=this._start;v<this._end;v++){var g=!1;t&&n[v]&&(g=!0);var _=this._labelsVisibilitiesBits[v-this._start]&(g?u:l);if(_){var y=d.getItemModel(v),x=y.getModel(g?o:a,g?h:f),b=x.get(\"distance\")||0,w=x.get(\"position\"),A=x.getModel(\"textStyle\"),T=this._api.getDevicePixelRatio(),S=c.getFormattedLabel(v,g?\"emphasis\":\"normal\");if(null==S||\"\"===S)return;var E=new i.a.graphic.Text;i.a.graphic.setTextStyle(E.style,A,{text:S,textFill:A.get(\"color\")||d.getItemVisual(v,\"color\")||\"#000\",textAlign:\"left\",textVerticalAlign:\"top\",opacity:s[\"a\"].firstNotNull(A.get(\"opacity\"),d.getItemVisual(v,\"opacity\"),1)});var C=E.getBoundingRect(),M=1.2;C.height*=M;var D=this._labelTextureSurface.add(E),N=p[w]||\"center\",L=m[w]||\"bottom\";this._labelsMesh.geometry.addSprite(this.getLabelPosition(v,w,b),[C.width*T,C.height*T],D,N,L,this.getLabelDistance(v,w,b)*T)}}this._labelsMesh.material.set(\"uvScale\",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},t[\"a\"]=c},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(241),s=n(242),l=n(65),u=n(7),c=n(2),d=20,f=-10;function h(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function p(e,t){this.rootNode=new a[\"a\"].Node,this.is2D=e,this._labelsBuilder=new l[\"a\"](256,256,t),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=t,this._spriteImageCanvas=document.createElement(\"canvas\"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}p.prototype={constructor:p,highlightOnMouseover:!0,update:function(e,t,n,r,i){var o=this._prevMesh;this._prevMesh=this._mesh,this._mesh=o;var l=e.getData();if(null==r&&(r=0),null==i&&(i=l.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var u=this._prevMesh&&this._prevMesh.material;this._mesh=new s[\"a\"]({renderOrder:10,frustumCulling:!1}),u&&(this._mesh.material=u)}u=this._mesh.material;var c=this._mesh.geometry,d=c.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var h=this._getSymbolInfo(e,r,i),p=n.getDevicePixelRatio(),m=e.getModel(\"itemStyle\").getItemStyle(),v=e.get(\"large\"),g=1;h.maxSize>2?(g=this._updateSymbolSprite(e,m,h,p),u.enableTexture(\"sprite\")):u.disableTexture(\"sprite\"),d.position.init(i-r);var _=[];if(v){u.undefine(\"VERTEX_SIZE\"),u.undefine(\"VERTEX_COLOR\");var y=l.getVisual(\"color\"),x=l.getVisual(\"opacity\");a[\"a\"].parseColor(y,_),_[3]*=x,u.set({color:_,u_Size:h.maxSize*this._sizeScale})}else u.set({color:[1,1,1,1]}),u.define(\"VERTEX_SIZE\"),u.define(\"VERTEX_COLOR\"),d.size.init(i-r),d.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var b=l.getLayout(\"points\"),w=d.position.value,A=0;A<i-r;A++){var T=3*A,S=2*A;if(this.is2D?(w[T]=b[S],w[T+1]=b[S+1],w[T+2]=f):(w[T]=b[T],w[T+1]=b[T+1],w[T+2]=b[T+2]),!v){y=l.getItemVisual(A,\"color\"),x=l.getItemVisual(A,\"opacity\");a[\"a\"].parseColor(y,_),_[3]*=x,d.color.set(A,_),_[3]<.99&&!0;var E=l.getItemVisual(A,\"symbolSize\");E=E instanceof Array?Math.max(E[0],E[1]):E,isNaN(E)&&(E=0),d.size.value[A]=E*g*this._sizeScale,this._originalOpacity[A]=_[3]}}this._mesh.sizeScale=g,c.updateBoundingBox(),c.dirty(),this._updateMaterial(e,m);var C=e.coordinateSystem;if(C&&C.viewGL){var M=C.viewGL.isLinearSpace()?\"define\":\"undefine\";u[M](\"fragment\",\"SRGB_DECODE\")}v||this._updateLabelBuilder(e,r,i),this._updateHandler(e,t,n),this._updateAnimation(e),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},_updateSymbolSprite:function(e,t,n,r){n.maxSize=Math.min(2*n.maxSize,200);var i=[];return n.aspect>1?(i[0]=n.maxSize,i[1]=n.maxSize/n.aspect):(i[1]=n.maxSize,i[0]=n.maxSize*n.aspect),i[0]=i[0]||1,i[1]=i[1]||1,this._symbolType===n.type&&h(this._symbolSize,i)&&this._lineWidth===t.lineWidth||(o[\"a\"].createSymbolSprite(n.type,i,{fill:\"#fff\",lineWidth:t.lineWidth,stroke:\"transparent\",shadowColor:\"transparent\",minMargin:Math.min(i[0]/2,10)},this._spriteImageCanvas),o[\"a\"].createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),d,this._mesh.material.get(\"sprite\").image),this._symbolType=n.type,this._symbolSize=i,this._lineWidth=t.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(e,t){var n=\"lighter\"===e.get(\"blendMode\")?a[\"a\"].additiveBlend:null,r=this._mesh.material;r.blend=n,r.set(\"lineWidth\",t.lineWidth/d);var i=a[\"a\"].parseColor(t.stroke);r.set(\"strokeColor\",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(e,t,n){var r=e.getData(),i=this._mesh.geometry,a=i.attributes.position.value,o=(t=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(r,t,n),this._labelsBuilder.getLabelPosition=function(e,n,r){var i=3*(e-t);return[a[i],a[i+1],a[i+2]]},this._labelsBuilder.getLabelDistance=function(e,n,r){var a=i.attributes.size.get(e-t)/o;return a/2+r},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){a[\"a\"].updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevSize\",\"size\"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,t,n){var r,i=e.getData(),a=this._mesh,o=this,s=-1,l=e.coordinateSystem&&\"cartesian3D\"===e.coordinateSystem.type;l&&(r=e.coordinateSystem.model),a.seriesIndex=e.seriesIndex,a.off(\"mousemove\"),a.off(\"mouseout\"),a.on(\"mousemove\",(function(t){var u=t.vertexIndex+o._startDataIndex;u!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,u),this._labelsBuilder.updateLabels([u])),l&&n.dispatchAction({type:\"grid3DShowAxisPointer\",value:[i.get(e.coordDimToDataDim(\"x\")[0],u),i.get(e.coordDimToDataDim(\"y\")[0],u),i.get(e.coordDimToDataDim(\"z\")[0],u)],grid3DIndex:r.componentIndex})),a.dataIndex=u,s=u}),this),a.on(\"mouseout\",(function(e){var t=e.vertexIndex+o._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,t),this._labelsBuilder.updateLabels()),s=-1,a.dataIndex=-1,l&&n.dispatchAction({type:\"grid3DHideAxisPointer\",grid3DIndex:r.componentIndex})}),this)},updateLayout:function(e,t,n){var r=e.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=r.getLayout(\"points\");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,l=2*o;i[s]=a[l],i[s+1]=a[l+1],i[s+2]=f}else for(o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(e){if(this._mesh){var t=new u[\"a\"];u[\"a\"].mul(t,e.viewMatrix,this._mesh.worldTransform),u[\"a\"].mul(t,e.projectionMatrix,t),this._mesh.updateNDCPosition(t,this.is2D,this._api)}},highlight:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=e.getItemModel(t),r=n.getModel(\"emphasis.itemStyle\"),o=r.get(\"color\"),s=r.get(\"opacity\");if(null==o){var l=e.getItemVisual(t,\"color\");o=i.a.color.lift(l,-.4)}null==s&&(s=e.getItemVisual(t,\"opacity\"));var u=a[\"a\"].parseColor(o);u[3]*=s,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,u),this._mesh.geometry.dirtyAttribute(\"color\"),this._api.getZr().refresh()}},downplay:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=e.getItemVisual(t,\"color\"),r=e.getItemVisual(t,\"opacity\"),i=a[\"a\"].parseColor(n);i[3]*=r,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute(\"color\"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var t=this._mesh.geometry,n=0;n<t.vertexCount;n++){var r=this._originalOpacity[n]*e;t.attributes.color.value[4*n+3]=r}t.dirtyAttribute(\"color\"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var t=this._mesh.material.get(\"u_Size\");this._mesh.material.set(\"u_Size\",t/this._sizeScale*e);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,t){t&&e.material.set(\"positionTexture\",t),e.material[t?\"enableTexture\":\"disableTexture\"](\"positionTexture\")},_getSymbolInfo:function(e,t,n){if(e.get(\"large\")){var r=c[\"a\"].firstNotNull(e.get(\"symbolSize\"),1);return r instanceof Array?(u=Math.max(r[0],r[1]),i=r[0]/r[1]):(u=r,i=1),{maxSize:r,type:e.get(\"symbol\"),aspect:i}}for(var i,a=e.getData(),o=!1,s=a.getItemVisual(0,\"symbol\")||\"circle\",l=!1,u=0,d=t;d<n;d++){r=a.getItemVisual(d,\"symbolSize\");var f,h=a.getItemVisual(d,\"symbol\");if(r instanceof Array)f=r[0]/r[1],u=Math.max(Math.max(r[0],r[1]),u);else{if(isNaN(r))return;f=1,u=Math.max(r,u)}null!=i&&Math.abs(f-i)>.05&&(o=!0),h!==s&&(l=!0),s=h,i=f}return o&&console.warn(\"Different symbol width / height ratio will be ignored.\"),l&&console.warn(\"Different symbol type will be ignored.\"),{maxSize:u,type:s,aspect:i}}},t[\"a\"]=p},function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(r){\"object\"===typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";var r=n(113),i=function(e){this._list=new r[\"a\"],this._map={},this._maxSize=e||10};i.prototype.setMaxSize=function(e){this._maxSize=e},i.prototype.put=function(e,t){if(!this._map.hasOwnProperty(e)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(t);i.key=e,this._map[e]=i}},i.prototype.get=function(e){var t=this._map[e];if(this._map.hasOwnProperty(e))return t!==this._list.tail&&(this._list.remove(t),this._list.insertEntry(t)),t.value},i.prototype.remove=function(e){var t=this._map[e];\"undefined\"!==typeof t&&(delete this._map[e],this._list.remove(t))},i.prototype.clear=function(){this._list.clear(),this._map={}},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(20),i={create:function(){var e=new r[\"a\"](2);return e[0]=0,e[1]=0,e},clone:function(e){var t=new r[\"a\"](2);return t[0]=e[0],t[1]=e[1],t},fromValues:function(e,t){var n=new r[\"a\"](2);return n[0]=e,n[1]=t,n},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}};i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},i.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},i.lerp=function(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e},i.random=function(e,t){t=t||1;var n=2*GLMAT_RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},i.transformMat2=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e},i.transformMat2d=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,a,o){var s,l;for(n||(n=2),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}(),t[\"a\"]=i},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.prez.vertex\\n#define SHADER_NAME prez\\nuniform mat4 WVP : WORLDVIEWPROJECTION;\\nattribute vec3 pos : POSITION;\\nattribute vec2 uv : TEXCOORD_0;\\nuniform vec2 uvRepeat : [1.0, 1.0];\\nuniform vec2 uvOffset : [0.0, 0.0];\\n@import clay.chunk.skinning_header\\n@import clay.chunk.instancing_header\\n@import clay.util.logdepth_vertex_header\\nvarying vec2 v_Texcoord;\\nvoid main()\\n{\\n vec4 P = vec4(pos, 1.0);\\n#ifdef SKINNING\\n @import clay.chunk.skin_matrix\\n P = skinMatrixWS * P;\\n#endif\\n#ifdef INSTANCING\\n @import clay.chunk.instancing_matrix\\n P = instanceMat * P;\\n#endif\\n gl_Position = WVP * P;\\n v_Texcoord = uv * uvRepeat + uvOffset;\\n @import clay.util.logdepth_vertex_main\\n}\\n@end\\n@export clay.prez.fragment\\nuniform sampler2D alphaMap;\\nuniform float alphaCutoff: 0.0;\\n@import clay.util.logdepth_fragment_header\\nvarying vec2 v_Texcoord;\\nvoid main()\\n{\\n if (alphaCutoff > 0.0) {\\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\\n discard;\\n }\\n }\\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\\n @import clay.util.logdepth_fragment_main\\n}\\n@end\"},function(e,t,n){\"use strict\";var r=n(35),i=n(11),a=r[\"a\"].extend({material:null,geometry:null,mode:i[\"a\"].TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:i[\"a\"].BACK,frontFace:i[\"a\"].CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,t){},getBoundingBox:function(e,t){return t=r[\"a\"].prototype.getBoundingBox.call(this,e,t),this.geometry&&this.geometry.boundingBox&&t.union(this.geometry.boundingBox),t},clone:function(){var e=[\"castShadow\",\"receiveShadow\",\"mode\",\"culling\",\"cullFace\",\"frontFace\",\"frustumCulling\",\"renderOrder\",\"lineWidth\",\"ignorePicking\",\"ignorePreZ\",\"ignoreGBuffer\"];return function(){var t=r[\"a\"].prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var n=0;n<e.length;n++){var i=e[n];t[i]!==this[i]&&(t[i]=this[i])}return t}}()});a.POINTS=i[\"a\"].POINTS,a.LINES=i[\"a\"].LINES,a.LINE_LOOP=i[\"a\"].LINE_LOOP,a.LINE_STRIP=i[\"a\"].LINE_STRIP,a.TRIANGLES=i[\"a\"].TRIANGLES,a.TRIANGLE_STRIP=i[\"a\"].TRIANGLE_STRIP,a.TRIANGLE_FAN=i[\"a\"].TRIANGLE_FAN,a.BACK=i[\"a\"].BACK,a.FRONT=i[\"a\"].FRONT,a.FRONT_AND_BACK=i[\"a\"].FRONT_AND_BACK,a.CW=i[\"a\"].CW,a.CCW=i[\"a\"].CCW,t[\"a\"]=a},function(e,t,n){\"use strict\";var r={isPowerOfTwo:function(e){return 0===(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}};t[\"a\"]=r},function(e,t,n){\"use strict\";var r=n(3),i=n(21),a=n(12),o=n(33),s=function(e,t){this.normal=e||new r[\"a\"](0,1,0),this.distance=t||0};s.prototype={constructor:s,distanceToPoint:function(e){return a[\"a\"].dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,t){t||(t=new r[\"a\"]);var n=this.distanceToPoint(e);return a[\"a\"].scaleAndAdd(t.array,e.array,this.normal.array,-n),t._dirty=!0,t},normalize:function(){var e=1/a[\"a\"].len(this.normal.array);a[\"a\"].scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var t=e.vertices,n=this.normal.array,r=a[\"a\"].dot(t[0].array,n)>this.distance,i=1;i<8;i++)if(a[\"a\"].dot(t[i].array,n)>this.distance!=r)return!0},intersectLine:function(){var e=a[\"a\"].create();return function(t,n,i){var o=this.distanceToPoint(t),s=this.distanceToPoint(n);if(o>0&&s>0||o<0&&s<0)return null;var l=this.normal.array,u=this.distance,c=t.array;a[\"a\"].sub(e,n.array,t.array),a[\"a\"].normalize(e,e);var d=a[\"a\"].dot(l,e);if(0===d)return null;i||(i=new r[\"a\"]);var f=(a[\"a\"].dot(l,c)-u)/d;return a[\"a\"].scaleAndAdd(i.array,c,e,-f),i._dirty=!0,i}}(),applyTransform:function(){var e=i[\"a\"].create(),t=o[\"a\"].create(),n=o[\"a\"].create();return n[3]=1,function(r){r=r.array,a[\"a\"].scale(n,this.normal.array,this.distance),o[\"a\"].transformMat4(n,n,r),this.distance=a[\"a\"].dot(n,this.normal.array),i[\"a\"].invert(e,r),i[\"a\"].transpose(e,e),t[3]=0,a[\"a\"].copy(t,this.normal.array),o[\"a\"].transformMat4(t,t,e),a[\"a\"].copy(this.normal.array,t)}}(),copy:function(e){a[\"a\"].copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new s;return e.copy(this),e}},t[\"a\"]=s},function(e,t){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(e){var t=new i(e);return this.insertEntry(t),t},r.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(e){this.value=e,this.next,this.prev},a=function(e){this._list=new n,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(e,t){var n=this._list,r=this._map,a=null;if(null==r[e]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new i(t),s.key=e,n.insertEntry(s),r[e]=s}return a},o.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;e.exports=s},function(e,t,n){\"use strict\";var r=n(42);t[\"a\"]=r[\"a\"]},function(e,t,n){\"use strict\";var r=n(14),i=n(43),a=n(7),o=n(3),s=n(18),l=n(13),u=new a[\"a\"],c=r[\"a\"].extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var e={px:d(\"px\",this.depthSegments,this.heightSegments),nx:d(\"nx\",this.depthSegments,this.heightSegments),py:d(\"py\",this.widthSegments,this.depthSegments),ny:d(\"ny\",this.widthSegments,this.depthSegments),pz:d(\"pz\",this.widthSegments,this.heightSegments),nz:d(\"nz\",this.widthSegments,this.heightSegments)},t=[\"position\",\"texcoord0\",\"normal\"],n=0,r=0;for(var i in e)n+=e[i].vertexCount,r+=e[i].indices.length;for(var a=0;a<t.length;a++)this.attributes[t[a]].init(n);this.indices=new l[\"a\"].Uint16Array(r);var o=0,u=0;for(var i in e){var c=e[i];for(a=0;a<t.length;a++)for(var f=t[a],h=c.attributes[f].value,p=c.attributes[f].size,m=\"normal\"===f,v=0;v<h.length;v++){var g=h[v];this.inside&&m&&(g=-g),this.attributes[f].value[v+p*u]=g}var _=c.indices.length;for(v=0;v<c.indices.length;v++)this.indices[v+o]=u+c.indices[this.inside?_-v-1:v];o+=c.indices.length,u+=c.vertexCount}this.boundingBox=new s[\"a\"],this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function d(e,t,n){u.identity();var r=new i[\"a\"]({widthSegments:t,heightSegments:n});switch(e){case\"px\":a[\"a\"].translate(u,u,o[\"a\"].POSITIVE_X),a[\"a\"].rotateY(u,u,Math.PI/2);break;case\"nx\":a[\"a\"].translate(u,u,o[\"a\"].NEGATIVE_X),a[\"a\"].rotateY(u,u,-Math.PI/2);break;case\"py\":a[\"a\"].translate(u,u,o[\"a\"].POSITIVE_Y),a[\"a\"].rotateX(u,u,-Math.PI/2);break;case\"ny\":a[\"a\"].translate(u,u,o[\"a\"].NEGATIVE_Y),a[\"a\"].rotateX(u,u,Math.PI/2);break;case\"pz\":a[\"a\"].translate(u,u,o[\"a\"].POSITIVE_Z);break;case\"nz\":a[\"a\"].translate(u,u,o[\"a\"].NEGATIVE_Z),a[\"a\"].rotateY(u,u,Math.PI);break}return r.applyTransform(u),r}t[\"a\"]=c},function(e,t,n){\"use strict\";var r=n(5),i=n(27),a=n(4),o=n(10),s=n(15),l=n(19),u=n(9),c=n(42),d=n(36),f=n(61),h=n(13),p=n(60),m=n(126),v=n(127),g={},_=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"];g.prefilterEnvironmentMap=function(e,t,n,s,m){m&&s||(s=g.generateNormalDistribution(),m=g.integrateBRDF(e,s)),n=n||{};var y=n.width||64,x=n.height||64,b=n.type||t.type,w=new i[\"a\"]({width:y,height:x,type:b,flipY:!1,mipmaps:[]});w.isPowerOfTwo()||console.warn(\"Width and height must be power of two to enable mipmap.\");var A=Math.min(y,x),T=Math.log(A)/Math.log(2)+1,S=new l[\"a\"]({shader:new u[\"a\"]({vertex:u[\"a\"].source(\"clay.skybox.vertex\"),fragment:v[\"a\"]})});S.set(\"normalDistribution\",s),n.encodeRGBM&&S.define(\"fragment\",\"RGBM_ENCODE\"),n.decodeRGBM&&S.define(\"fragment\",\"RGBM_DECODE\");var E,C=new d[\"a\"];if(\"texture2D\"===t.textureType){var M=new i[\"a\"]({width:y,height:x,type:b===a[\"a\"].FLOAT?a[\"a\"].HALF_FLOAT:b});p[\"a\"].panoramaToCubeMap(e,t,M,{encodeRGBM:n.decodeRGBM}),t=M}E=new c[\"a\"]({scene:C,material:S}),E.material.set(\"environmentMap\",t);var D=new f[\"a\"]({texture:w});n.encodeRGBM&&(b=w.type=a[\"a\"].UNSIGNED_BYTE);for(var N=new r[\"a\"]({width:y,height:x,type:b}),L=new o[\"a\"]({depthBuffer:!1}),I=h[\"a\"][b===a[\"a\"].UNSIGNED_BYTE?\"Uint8Array\":\"Float32Array\"],P=0;P<T;P++){w.mipmaps[P]={pixels:{}},E.material.set(\"roughness\",P/(T-1));for(var O=N.width,R=2*Math.atan(O/(O-.5))/Math.PI*180,k=0;k<_.length;k++){var F=new I(N.width*N.height*4);L.attach(N),L.bind(e);var B=D.getCamera(_[k]);B.fov=R,e.render(C,B),e.gl.readPixels(0,0,N.width,N.height,a[\"a\"].RGBA,b,F),L.unbind(e),w.mipmaps[P].pixels[_[k]]=F}N.width/=2,N.height/=2,N.dirty()}return L.dispose(e),N.dispose(e),E.dispose(e),s.dispose(e),{environmentMap:w,brdfLookup:m,normalDistribution:s,maxMipmapLevel:T}},g.integrateBRDF=function(e,t){t=t||g.generateNormalDistribution();var n=new o[\"a\"]({depthBuffer:!1}),i=new s[\"a\"]({fragment:m[\"a\"]}),l=new r[\"a\"]({width:512,height:256,type:a[\"a\"].HALF_FLOAT,wrapS:a[\"a\"].CLAMP_TO_EDGE,wrapT:a[\"a\"].CLAMP_TO_EDGE,minFilter:a[\"a\"].NEAREST,magFilter:a[\"a\"].NEAREST,useMipmap:!1});return i.setUniform(\"normalDistribution\",t),i.setUniform(\"viewportSize\",[512,256]),i.attachOutput(l),i.render(e,n),n.dispose(e),l},g.generateNormalDistribution=function(e,t){e=e||256,t=t||1024;for(var n=new r[\"a\"]({width:e,height:t,type:a[\"a\"].FLOAT,minFilter:a[\"a\"].NEAREST,magFilter:a[\"a\"].NEAREST,wrapS:a[\"a\"].CLAMP_TO_EDGE,wrapT:a[\"a\"].CLAMP_TO_EDGE,useMipmap:!1}),i=new Float32Array(t*e*4),o=[],s=0;s<e;s++){for(var l=s/e,u=l*l,c=0;c<t;c++){var d=(c<<16|c>>>16)>>>0;d=((1431655765&d)<<1|(2863311530&d)>>>1)>>>0,d=((858993459&d)<<2|(3435973836&d)>>>2)>>>0,d=((252645135&d)<<4|(4042322160&d)>>>4)>>>0,d=(((16711935&d)<<8|(4278255360&d)>>>8)>>>0)/4294967296;var f=Math.sqrt((1-d)/(1+(u*u-1)*d));o[c]=f}for(c=0;c<t;c++){var h=4*(c*e+s),p=(f=o[c],Math.sqrt(1-f*f)),m=c/t,v=2*Math.PI*m;i[h]=p*Math.cos(v),i[h+1]=f,i[h+2]=p*Math.sin(v),i[h+3]=1}}return n.pixels=i,n},t[\"a\"]=g},function(e,t,n){\"use strict\";var r=n(20),i={create:function(){var e=new r[\"a\"](4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var t=new r[\"a\"](4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(o=1/o,e[0]=a*o,e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null},adjoint:function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*s+a*l,e[1]=i*s+o*l,e[2]=r*u+a*c,e[3]=i*u+o*c,e}};i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=r*-s+a*l,e[3]=i*-s+o*l,e},i.scale=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],l=n[1];return e[0]=r*s,e[1]=i*s,e[2]=a*l,e[3]=o*l,e},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},i.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(20),i={create:function(){var e=new r[\"a\"](6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var t=new r[\"a\"](6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=n*a-r*i;return l?(l=1/l,e[0]=a*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-a*o)*l,e[5]=(r*o-n*s)*l,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=n[0],c=n[1],d=n[2],f=n[3],h=n[4],p=n[5];return e[0]=r*u+a*c,e[1]=i*u+o*c,e[2]=r*d+a*f,e[3]=i*d+o*f,e[4]=r*h+a*p+s,e[5]=i*h+o*p+l,e}};i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=i*c+o*u,e[2]=r*-u+a*c,e[3]=i*-u+o*c,e[4]=s,e[5]=l,e},i.scale=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r*u,e[1]=i*u,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=l,e},i.translate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*u+a*c+s,e[5]=i*u+o*c+l,e},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},t[\"a\"]=i},function(e,t){var n={\"[object Function]\":1,\"[object RegExp]\":1,\"[object Date]\":1,\"[object Error]\":1,\"[object CanvasGradient]\":1,\"[object CanvasPattern]\":1,\"[object Image]\":1,\"[object Canvas]\":1},r={\"[object Int8Array]\":1,\"[object Uint8Array]\":1,\"[object Uint8ClampedArray]\":1,\"[object Int16Array]\":1,\"[object Uint16Array]\":1,\"[object Int32Array]\":1,\"[object Uint32Array]\":1,\"[object Float32Array]\":1,\"[object Float64Array]\":1},i=Object.prototype.toString,a=Array.prototype,o=a.forEach,s=a.filter,l=a.slice,u=a.map,c=a.reduce,d={};function f(e,t){\"createCanvas\"===e&&(_=null),d[e]=t}function h(e){if(null==e||\"object\"!=typeof e)return e;var t=e,a=i.call(e);if(\"[object Array]\"===a){if(!X(e)){t=[];for(var o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}else if(r[a]){if(!X(e)){var l=e.constructor;if(e.constructor.from)t=l.from(e);else{t=new l(e.length);for(o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}}else if(!n[a]&&!X(e)&&!B(e))for(var u in t={},e)e.hasOwnProperty(u)&&(t[u]=h(e[u]));return t}function p(e,t,n){if(!R(t)||!R(e))return n?h(t):e;for(var r in t)if(t.hasOwnProperty(r)){var i=e[r],a=t[r];!R(a)||!R(i)||I(a)||I(i)||B(a)||B(i)||k(a)||k(i)||X(a)||X(i)?!n&&r in e||(e[r]=h(t[r],!0)):p(i,a,n)}return e}function m(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)n=p(n,e[r],t);return n}function v(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function g(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n?null!=t[r]:null==e[r])&&(e[r]=t[r]);return e}var _,y=function(){return d.createCanvas()};function x(){return _||(_=y().getContext(\"2d\")),_}function b(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function w(e,t){var n=e.prototype;function r(){}for(var i in r.prototype=t.prototype,e.prototype=new r,n)e.prototype[i]=n[i];e.prototype.constructor=e,e.superClass=t}function A(e,t,n){e=\"prototype\"in e?e.prototype:e,t=\"prototype\"in t?t.prototype:t,g(e,t,n)}function T(e){if(e)return\"string\"!=typeof e&&\"number\"==typeof e.length}function S(e,t,n){if(e&&t)if(e.forEach&&e.forEach===o)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function E(e,t,n){if(e&&t){if(e.map&&e.map===u)return e.map(t,n);for(var r=[],i=0,a=e.length;i<a;i++)r.push(t.call(n,e[i],i,e));return r}}function C(e,t,n,r){if(e&&t){if(e.reduce&&e.reduce===c)return e.reduce(t,n,r);for(var i=0,a=e.length;i<a;i++)n=t.call(r,n,e[i],i,e);return n}}function M(e,t,n){if(e&&t){if(e.filter&&e.filter===s)return e.filter(t,n);for(var r=[],i=0,a=e.length;i<a;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}}function D(e,t,n){if(e&&t)for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}function N(e,t){var n=l.call(arguments,2);return function(){return e.apply(t,n.concat(l.call(arguments)))}}function L(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}}function I(e){return\"[object Array]\"===i.call(e)}function P(e){return\"function\"===typeof e}function O(e){return\"[object String]\"===i.call(e)}function R(e){var t=typeof e;return\"function\"===t||!!e&&\"object\"==t}function k(e){return!!n[i.call(e)]}function F(e){return!!r[i.call(e)]}function B(e){return\"object\"===typeof e&&\"number\"===typeof e.nodeType&&\"object\"===typeof e.ownerDocument}function z(e){return e!==e}function H(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function U(e,t){return null!=e?e:t}function G(e,t,n){return null!=e?e:null!=t?t:n}function j(){return Function.call.apply(l,arguments)}function V(e){if(\"number\"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function W(e,t){if(!e)throw new Error(t)}function $(e){return null==e?null:\"function\"===typeof e.trim?e.trim():e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")}d.createCanvas=function(){return document.createElement(\"canvas\")};var q=\"__ec_primitive__\";function Y(e){e[q]=!0}function X(e){return e[q]}function Q(e){var t=I(e);this.data={};var n=this;function r(e,r){t?n.set(e,r):n.set(r,e)}e instanceof Q?e.each(r):e&&S(e,r)}function K(e){return new Q(e)}function Z(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var i=e.length;for(r=0;r<t.length;r++)n[r+i]=t[r];return n}function J(){}Q.prototype={constructor:Q,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=N(e,t)),this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}},t.$override=f,t.clone=h,t.merge=p,t.mergeAll=m,t.extend=v,t.defaults=g,t.createCanvas=y,t.getContext=x,t.indexOf=b,t.inherits=w,t.mixin=A,t.isArrayLike=T,t.each=S,t.map=E,t.reduce=C,t.filter=M,t.find=D,t.bind=N,t.curry=L,t.isArray=I,t.isFunction=P,t.isString=O,t.isObject=R,t.isBuiltInObject=k,t.isTypedArray=F,t.isDom=B,t.eqNaN=z,t.retrieve=H,t.retrieve2=U,t.retrieve3=G,t.slice=j,t.normalizeCssArray=V,t.assert=W,t.trim=$,t.setAsPrimitive=Y,t.isPrimitive=X,t.createHashMap=K,t.concatArray=Z,t.noop=J},function(e,t){var n=\"undefined\"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)};e.exports=n},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(5);function o(e,t,n,r,i,a,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=t,this.offsetY=n,this.dpr=o,this.gap=a}function s(e){e=e||{},e.width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var t=document.createElement(\"canvas\");t.width=e.width*e.devicePixelRatio,t.height=e.height*e.devicePixelRatio,this._canvas=t,this._texture=new a[\"a\"]({image:t,flipY:!1});var n=this;this._zr=i.a.zrender.init(t);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new o(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}o.prototype={constructor:o,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,t,n){var r=e.getBoundingRect();null==t&&(t=r.width),null==n&&(n=r.height),t*=this.dpr,n*=this.dpr,this._fitElement(e,t,n);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,l=this.gap;if(i+t+l>o&&(i=this._x=0,a+=this._rowHeight+l,this._y=a,this._rowHeight=0),this._x+=t+l,this._rowHeight=Math.max(this._rowHeight,n),a+n+l>s)return null;e.position[0]+=this.offsetX*this.dpr+i,e.position[1]+=this.offsetY*this.dpr+a,this._zr.add(e);var u=[this.offsetX/this.width,this.offsetY/this.height],c=[[i/o+u[0],a/s+u[1]],[(i+t)/o+u[0],(a+n)/s+u[1]]];return c},_fitElement:function(e,t,n){var r=e.getBoundingRect(),i=t/r.width,a=n/r.height;e.position=[-r.x*i,-r.y*a],e.scale=[i,a],e.update()}},s.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes,n=t.length,r=n*this._nodeWidth%e,i=Math.floor(n*this._nodeWidth/e)*this._nodeHeight;if(!(i>=e)){var a=(r+this._nodeWidth)*this._dpr,s=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:a,height:s})}catch(u){this._canvas.width=a,this._canvas.height=s}var l=new o(this._zr,r,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(l),l}console.error(\"Too much labels. Some will be ignored.\")},add:function(e,t,n){if(this._coords[e.id])return console.warn(\"Element already been add\"),this._coords[e.id];var r=this._getCurrentNode().add(e,t,n);if(!r){var i=this._expand();if(!i)return;r=i.add(e,t,n)}return this._coords[e.id]=r,r},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]}},t[\"a\"]=s},function(e,t,n){var r=n(170),i=n(171),a=r.applyTransform,o=Math.min,s=Math.max;function l(e,t,n,r){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}l.prototype={constructor:l,union:function(e){var t=o(e.x,this.x),n=o(e.y,this.y);this.width=s(e.x+e.width,this.x+this.width)-t,this.height=s(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],r=[];return function(i){if(i){e[0]=n[0]=this.x,e[1]=r[1]=this.y,t[0]=r[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,a(e,e,i),a(t,t,i),a(n,n,i),a(r,r,i),this.x=o(e[0],t[0],n[0],r[0]),this.y=o(e[1],t[1],n[1],r[1]);var l=s(e[0],t[0],n[0],r[0]),u=s(e[1],t[1],n[1],r[1]);this.width=l-this.x,this.height=u-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e.height/t.height,a=i.create();return i.translate(a,a,[-t.x,-t.y]),i.scale(a,a,[n,r]),i.translate(a,a,[e.x,e.y]),a},intersect:function(e){if(!e)return!1;e instanceof l||(e=l.create(e));var t=this,n=t.x,r=t.x+t.width,i=t.y,a=t.y+t.height,o=e.x,s=e.x+e.width,u=e.y,c=e.y+e.height;return!(r<o||s<n||a<u||c<i)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new l(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},l.create=function(e){return new l(e.x,e.y,e.width,e.height)};var u=l;e.exports=u},function(e,t,n){var r=n(16),i=1e-4;function a(e){return e.replace(/^\\s+|\\s+$/g,\"\")}function o(e,t,n,r){var i=t[1]-t[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/i*a+n[0]}function s(e,t){switch(e){case\"center\":case\"middle\":e=\"50%\";break;case\"left\":case\"top\":e=\"0%\";break;case\"right\":case\"bottom\":e=\"100%\";break}return\"string\"===typeof e?a(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function l(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function u(e){return e.sort((function(e,t){return e-t})),e}function c(e){if(e=+e,isNaN(e))return 0;var t=1,n=0;while(Math.round(e*t)/t!==e)t*=10,n++;return n}function d(e){var t=e.toString(),n=t.indexOf(\"e\");if(n>0){var r=+t.slice(n+1);return r<0?-r:0}var i=t.indexOf(\".\");return i<0?0:t.length-1-i}function f(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),a=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function h(e,t,n){if(!e[t])return 0;var i=r.reduce(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===i)return 0;var a=Math.pow(10,n),o=r.map(e,(function(e){return(isNaN(e)?0:e)/i*a*100})),s=100*a,l=r.map(o,(function(e){return Math.floor(e)})),u=r.reduce(l,(function(e,t){return e+t}),0),c=r.map(o,(function(e,t){return e-l[t]}));while(u<s){for(var d=Number.NEGATIVE_INFINITY,f=null,h=0,p=c.length;h<p;++h)c[h]>d&&(d=c[h],f=h);++l[f],c[f]=0,++u}return l[t]/a}var p=9007199254740991;function m(e){var t=2*Math.PI;return(e%t+t)%t}function v(e){return e>-i&&e<i}var g=/^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/;function _(e){if(e instanceof Date)return e;if(\"string\"===typeof e){var t=g.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return\"Z\"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function y(e){return Math.pow(10,x(e))}function x(e){return Math.floor(Math.log(e)/Math.LN10)}function b(e,t){var n,r=x(e),i=Math.pow(10,r),a=e/i;return n=t?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,e=n*i,r>=-20?+e.toFixed(r<0?-r:0):e}function w(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i}function A(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,n=1,r=0;r<e.length;){for(var i=e[r].interval,a=e[r].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-n),t=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(r,1):r++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function T(e){return e-parseFloat(e)>=0}t.linearMap=o,t.parsePercent=s,t.round=l,t.asc=u,t.getPrecision=c,t.getPrecisionSafe=d,t.getPixelPrecision=f,t.getPercentWithPrecision=h,t.MAX_SAFE_INTEGER=p,t.remRadian=m,t.isRadianAroundZero=v,t.parseDate=_,t.quantity=y,t.nice=b,t.quantile=w,t.reformIntervals=A,t.isNumeric=T},function(e,t,n){\"use strict\";var r=n(5),i=n(11),a=n(23),o=function(){this._pool={},this._allocatedTextures=[]};o.prototype={constructor:o,get:function(e){var t=u(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var n=this._pool[t];if(!n.length){var i=new r[\"a\"](e);return this._allocatedTextures.push(i),i}return n.pop()},put:function(e){var t=u(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var n=this._pool[t];n.push(e)},clear:function(e){for(var t=0;t<this._allocatedTextures.length;t++)this._allocatedTextures[t].dispose(e);this._pool={},this._allocatedTextures=[]}};var s={width:512,height:512,type:i[\"a\"].UNSIGNED_BYTE,format:i[\"a\"].RGBA,wrapS:i[\"a\"].CLAMP_TO_EDGE,wrapT:i[\"a\"].CLAMP_TO_EDGE,minFilter:i[\"a\"].LINEAR_MIPMAP_LINEAR,magFilter:i[\"a\"].LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},l=Object.keys(s);function u(e){a[\"a\"].defaultsWithPropList(e,s,l),c(e);for(var t=\"\",n=0;n<l.length;n++){var r=l[n],i=e[r].toString();t+=i}return t}function c(e){var t=d(e.width,e.height);e.format===i[\"a\"].DEPTH_COMPONENT&&(e.useMipmap=!1),t&&e.useMipmap||(e.minFilter==i[\"a\"].NEAREST_MIPMAP_NEAREST||e.minFilter==i[\"a\"].NEAREST_MIPMAP_LINEAR?e.minFilter=i[\"a\"].NEAREST:e.minFilter!=i[\"a\"].LINEAR_MIPMAP_LINEAR&&e.minFilter!=i[\"a\"].LINEAR_MIPMAP_NEAREST||(e.minFilter=i[\"a\"].LINEAR)),t||(e.wrapS=i[\"a\"].CLAMP_TO_EDGE,e.wrapT=i[\"a\"].CLAMP_TO_EDGE)}function d(e,t){return 0===(e&e-1)&&0===(t&t-1)}t[\"a\"]=o},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.kernel.gaussian_9\\nfloat gaussianKernel[9];\\ngaussianKernel[0] = 0.07;\\ngaussianKernel[1] = 0.09;\\ngaussianKernel[2] = 0.12;\\ngaussianKernel[3] = 0.14;\\ngaussianKernel[4] = 0.16;\\ngaussianKernel[5] = 0.14;\\ngaussianKernel[6] = 0.12;\\ngaussianKernel[7] = 0.09;\\ngaussianKernel[8] = 0.07;\\n@end\\n@export clay.compositor.kernel.gaussian_13\\nfloat gaussianKernel[13];\\ngaussianKernel[0] = 0.02;\\ngaussianKernel[1] = 0.03;\\ngaussianKernel[2] = 0.06;\\ngaussianKernel[3] = 0.08;\\ngaussianKernel[4] = 0.11;\\ngaussianKernel[5] = 0.13;\\ngaussianKernel[6] = 0.14;\\ngaussianKernel[7] = 0.13;\\ngaussianKernel[8] = 0.11;\\ngaussianKernel[9] = 0.08;\\ngaussianKernel[10] = 0.06;\\ngaussianKernel[11] = 0.03;\\ngaussianKernel[12] = 0.02;\\n@end\\n@export clay.compositor.gaussian_blur\\n#define SHADER_NAME gaussian_blur\\nuniform sampler2D texture;varying vec2 v_Texcoord;\\nuniform float blurSize : 2.0;\\nuniform vec2 textureSize : [512.0, 512.0];\\nuniform float blurDir : 0.0;\\n@import clay.util.rgbm\\n@import clay.util.clamp_sample\\nvoid main (void)\\n{\\n @import clay.compositor.kernel.gaussian_9\\n vec2 off = blurSize / textureSize;\\n off *= vec2(1.0 - blurDir, blurDir);\\n vec4 sum = vec4(0.0);\\n float weightAll = 0.0;\\n for (int i = 0; i < 9; i++) {\\n float w = gaussianKernel[i];\\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\\n sum += texel * w;\\n weightAll += w;\\n }\\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\\n}\\n@end\\n\"},function(e,t,n){\"use strict\";t[\"a\"]=\"\\n@export clay.compositor.lut\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform sampler2D lookup;\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n float blueColor = tex.b * 63.0;\\n vec2 quad1;\\n quad1.y = floor(floor(blueColor) / 8.0);\\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\\n vec2 quad2;\\n quad2.y = floor(ceil(blueColor) / 8.0);\\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\\n vec2 texPos1;\\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\\n vec2 texPos2;\\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\\n vec4 newColor1 = texture2D(lookup, texPos1);\\n vec4 newColor2 = texture2D(lookup, texPos2);\\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\\n gl_FragColor = vec4(newColor.rgb, tex.w);\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.output\\n#define OUTPUT_ALPHA\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\\n gl_FragColor.rgb = tex.rgb;\\n#ifdef OUTPUT_ALPHA\\n gl_FragColor.a = tex.a;\\n#else\\n gl_FragColor.a = 1.0;\\n#endif\\n gl_FragColor = encodeHDR(gl_FragColor);\\n#ifdef PREMULTIPLY_ALPHA\\n gl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.bright\\nuniform sampler2D texture;\\nuniform float threshold : 1;\\nuniform float scale : 1.0;\\nuniform vec2 textureSize: [512, 512];\\nvarying vec2 v_Texcoord;\\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\\n@import clay.util.rgbm\\nvec4 median(vec4 a, vec4 b, vec4 c)\\n{\\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\\n}\\nvoid main()\\n{\\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\\n#ifdef ANTI_FLICKER\\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\\n texel = median(median(texel, s1, s2), s3, s4);\\n#endif\\n float lum = dot(texel.rgb , lumWeight);\\n vec4 color;\\n if (lum > threshold && texel.a > 0.0)\\n {\\n color = vec4(texel.rgb * scale, texel.a * scale);\\n }\\n else\\n {\\n color = vec4(0.0);\\n }\\n gl_FragColor = encodeHDR(color);\\n}\\n@end\\n\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.downsample\\nuniform sampler2D texture;\\nuniform vec2 textureSize : [512, 512];\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\nfloat brightness(vec3 c)\\n{\\n return max(max(c.r, c.g), c.b);\\n}\\n@import clay.util.clamp_sample\\nvoid main()\\n{\\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\\n#ifdef ANTI_FLICKER\\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\\n float s1w = 1.0 / (brightness(s1) + 1.0);\\n float s2w = 1.0 / (brightness(s2) + 1.0);\\n float s3w = 1.0 / (brightness(s3) + 1.0);\\n float s4w = 1.0 / (brightness(s4) + 1.0);\\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\\n vec4 color = vec4(\\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\\n 1.0\\n );\\n#else\\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\\n color *= 0.25;\\n#endif\\n gl_FragColor = encodeHDR(color);\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"\\n@export clay.compositor.upsample\\n#define HIGH_QUALITY\\nuniform sampler2D texture;\\nuniform vec2 textureSize : [512, 512];\\nuniform float sampleScale: 0.5;\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\n@import clay.util.clamp_sample\\nvoid main()\\n{\\n#ifdef HIGH_QUALITY\\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\\n vec4 s;\\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\\n gl_FragColor = encodeHDR(s / 16.0);\\n#else\\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\\n vec4 s;\\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\\n gl_FragColor = encodeHDR(s / 4.0);\\n#endif\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.hdr.composite\\n#define TONEMAPPING\\nuniform sampler2D texture;\\n#ifdef BLOOM_ENABLED\\nuniform sampler2D bloom;\\n#endif\\n#ifdef LENSFLARE_ENABLED\\nuniform sampler2D lensflare;\\nuniform sampler2D lensdirt;\\n#endif\\n#ifdef LUM_ENABLED\\nuniform sampler2D lum;\\n#endif\\n#ifdef LUT_ENABLED\\nuniform sampler2D lut;\\n#endif\\n#ifdef COLOR_CORRECTION\\nuniform float brightness : 0.0;\\nuniform float contrast : 1.0;\\nuniform float saturation : 1.0;\\n#endif\\n#ifdef VIGNETTE\\nuniform float vignetteDarkness: 1.0;\\nuniform float vignetteOffset: 1.0;\\n#endif\\nuniform float exposure : 1.0;\\nuniform float bloomIntensity : 0.25;\\nuniform float lensflareIntensity : 1;\\nvarying vec2 v_Texcoord;\\n@import clay.util.srgb\\nvec3 ACESToneMapping(vec3 color)\\n{\\n const float A = 2.51;\\n const float B = 0.03;\\n const float C = 2.43;\\n const float D = 0.59;\\n const float E = 0.14;\\n return (color * (A * color + B)) / (color * (C * color + D) + E);\\n}\\nfloat eyeAdaption(float fLum)\\n{\\n return mix(0.2, fLum, 0.5);\\n}\\n#ifdef LUT_ENABLED\\nvec3 lutTransform(vec3 color) {\\n float blueColor = color.b * 63.0;\\n vec2 quad1;\\n quad1.y = floor(floor(blueColor) / 8.0);\\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\\n vec2 quad2;\\n quad2.y = floor(ceil(blueColor) / 8.0);\\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\\n vec2 texPos1;\\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\\n vec2 texPos2;\\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\\n vec4 newColor1 = texture2D(lut, texPos1);\\n vec4 newColor2 = texture2D(lut, texPos2);\\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\\n return newColor.rgb;\\n}\\n#endif\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 texel = vec4(0.0);\\n vec4 originalTexel = vec4(0.0);\\n#ifdef TEXTURE_ENABLED\\n texel = decodeHDR(texture2D(texture, v_Texcoord));\\n originalTexel = texel;\\n#endif\\n#ifdef BLOOM_ENABLED\\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\\n texel.rgb += bloomTexel.rgb * bloomIntensity;\\n texel.a += bloomTexel.a * bloomIntensity;\\n#endif\\n#ifdef LENSFLARE_ENABLED\\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\\n#endif\\n texel.a = min(texel.a, 1.0);\\n#ifdef LUM_ENABLED\\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\\n float exposureBias = adaptedLumDest * exposure;\\n#else\\n float exposureBias = exposure;\\n#endif\\n#ifdef TONEMAPPING\\n texel.rgb *= exposureBias;\\n texel.rgb = ACESToneMapping(texel.rgb);\\n#endif\\n texel = linearTosRGB(texel);\\n#ifdef LUT_ENABLED\\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\\n#endif\\n#ifdef COLOR_CORRECTION\\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\\n#endif\\n#ifdef VIGNETTE\\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\\n#endif\\n gl_FragColor = encodeHDR(texel);\\n#ifdef DEBUG\\n #if DEBUG == 1\\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\\n #elif DEBUG == 2\\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\\n #elif DEBUG == 3\\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\\n #endif\\n#endif\\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\\n }\\n#ifdef PREMULTIPLY_ALPHA\\n gl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.blend\\n#define SHADER_NAME blend\\n#ifdef TEXTURE1_ENABLED\\nuniform sampler2D texture1;\\nuniform float weight1 : 1.0;\\n#endif\\n#ifdef TEXTURE2_ENABLED\\nuniform sampler2D texture2;\\nuniform float weight2 : 1.0;\\n#endif\\n#ifdef TEXTURE3_ENABLED\\nuniform sampler2D texture3;\\nuniform float weight3 : 1.0;\\n#endif\\n#ifdef TEXTURE4_ENABLED\\nuniform sampler2D texture4;\\nuniform float weight4 : 1.0;\\n#endif\\n#ifdef TEXTURE5_ENABLED\\nuniform sampler2D texture5;\\nuniform float weight5 : 1.0;\\n#endif\\n#ifdef TEXTURE6_ENABLED\\nuniform sampler2D texture6;\\nuniform float weight6 : 1.0;\\n#endif\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 tex = vec4(0.0);\\n#ifdef TEXTURE1_ENABLED\\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\\n#endif\\n#ifdef TEXTURE2_ENABLED\\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\\n#endif\\n#ifdef TEXTURE3_ENABLED\\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\\n#endif\\n#ifdef TEXTURE4_ENABLED\\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\\n#endif\\n#ifdef TEXTURE5_ENABLED\\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\\n#endif\\n#ifdef TEXTURE6_ENABLED\\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\\n#endif\\n gl_FragColor = encodeHDR(tex);\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.fxaa\\nuniform sampler2D texture;\\nuniform vec4 viewport : VIEWPORT;\\nvarying vec2 v_Texcoord;\\n#define FXAA_REDUCE_MIN (1.0/128.0)\\n#define FXAA_REDUCE_MUL (1.0/8.0)\\n#define FXAA_SPAN_MAX 8.0\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec2 resolution = 1.0 / viewport.zw;\\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\\n vec3 rgbM = rgbaM.xyz;\\n float opacity = rgbaM.w;\\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\\n float lumaNW = dot( rgbNW, luma );\\n float lumaNE = dot( rgbNE, luma );\\n float lumaSW = dot( rgbSW, luma );\\n float lumaSE = dot( rgbSE, luma );\\n float lumaM = dot( rgbM, luma );\\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\\n vec2 dir;\\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n dir * rcpDirMin)) * resolution;\\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\\n rgbA *= 0.5;\\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\\n rgbB *= 0.25;\\n rgbB += rgbA * 0.5;\\n float lumaB = dot( rgbB, luma );\\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\\n {\\n gl_FragColor = vec4( rgbA, opacity );\\n }\\n else {\\n gl_FragColor = vec4( rgbB, opacity );\\n }\\n}\\n@end\"},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);t[\"a\"]={getFilledRegions:function(e,t){var n,r=(e||[]).slice();if(\"string\"===typeof t?(t=i.a.getMap(t),n=t&&t.geoJson):t&&t.features&&(n=t),!n)return console.error(\"Map \"+t+\" not exists. You can download map file on http://echarts.baidu.com/download-map.html\"),n.features||console.error(\"Invalid GeoJSON for map3D\"),[];for(var a={},o=n.features,s=0;s<r.length;s++)a[r[s].name]=r[s];for(s=0;s<o.length;s++){var l=o[s].properties.name;a[l]||r.push({name:l})}return r},defaultOption:{show:!0,zlevel:-10,map:\"\",left:0,top:0,width:\"100%\",height:\"100%\",boxWidth:100,boxHeight:10,boxDepth:\"auto\",regionHeight:3,environment:\"auto\",groundPlane:{show:!1,color:\"#aaa\"},shading:\"lambert\",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:4}},itemStyle:{color:\"#fff\",borderWidth:0,borderColor:\"#333\"},emphasis:{itemStyle:{color:\"#639fc0\"},label:{show:!0}}}}},function(e,t,n){\"use strict\";function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,i,a){var o=n,s=e[t];r(e,t,i);for(var l=n;l<i;l++)a(e[l],s)<0&&(r(e,l,o),o++);return r(e,i,o),o}function a(e,t,n,r){if(n<r){var o=Math.floor((n+r)/2),s=i(e,o,n,r,t);a(e,t,n,s-1),a(e,t,s+1,r)}}function o(){this._parts=[]}o.prototype.step=function(e,t,n){var r=e.length;if(0===n){this._parts=[],this._sorted=!1;var o=Math.floor(r/2);this._parts.push({pivot:o,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var s=this._parts;if(0===s.length)return this._sorted=!0,!0;if(s.length<512){for(var l=0;l<s.length;l++)s[l].pivot=i(e,s[l].pivot,s[l].left,s[l].right,t);var u=[];for(l=0;l<s.length;l++){var c=s[l].left,d=s[l].pivot-1;d>c&&u.push({pivot:Math.floor((d+c)/2),left:c,right:d});c=s[l].pivot+1,d=s[l].right;d>c&&u.push({pivot:Math.floor((d+c)/2),left:c,right:d})}s=this._parts=u}else for(l=0;l<Math.floor(s.length/10);l++){var f=s.length-1-this._currentSortPartIdx;if(a(e,t,s[f].left,s[f].right),this._currentSortPartIdx++,this._currentSortPartIdx===s.length)return this._sorted=!0,!0}return!1}},o.sort=a,t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(98),i=n(0),a=n.n(i),o=n(47),s=n.n(o),l=n(22),u=n(2);function c(e,t){var n=e.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(e.get(\"aspectScale\")||.75),o=e.get(\"boxWidth\"),l=e.get(\"boxDepth\"),u=e.get(\"boxHeight\");null==u&&(u=5),isNaN(o)&&isNaN(l)&&(o=100),isNaN(l)?l=o/a:isNaN(o)&&(o=l/a),this.setSize(o,u,l),this.regionHeight=e.get(\"regionHeight\"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(u-this.regionHeight,0))}function d(e,t){var n=[1/0,-1/0];if(e.eachSeries((function(e){if(e.coordinateSystem===this&&\"series.map3D\"!==e.type){var t=e.getData(),r=e.coordDimToDataDim(\"alt\"),i=r&&r[0];if(i){var a=t.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:\"value\",min:\"dataMin\",max:\"dataMax\"});this.altitudeAxis=new a.a.Axis(\"altitude\",r),this.resize(this.model,t)}}var f=function(e){console.error(\"Map \"+e+\" not exists. You can download map file on http://echarts.baidu.com/download-map.html\")},h=0,p={dimensions:r[\"a\"].prototype.dimensions,create:function(e,t){var n=[];if(!a.a.getMap)throw new Error(\"geo3D component depends on geo component\");function r(e,r){var i=p.createGeo3D(e);e.__viewGL=e.__viewGL||new l[\"a\"],i.viewGL=e.__viewGL,e.coordinateSystem=i,i.model=e,n.push(i),i.resize=c,i.resize(e,t),i.update=d}return e.eachComponent(\"geo3D\",(function(e,t){r(e,t)})),e.eachSeriesByType(\"map3D\",(function(e,t){var n=e.get(\"coordinateSystem\");null==n&&(n=\"geo3D\"),\"geo3D\"===n&&r(e,t)})),e.eachSeries((function(t){if(\"geo3D\"===t.get(\"coordinateSystem\")){if(\"series.map3D\"===t.type)return;var n=t.getReferringComponents(\"geo3D\")[0];if(n||(n=e.getComponent(\"geo3D\")),!n)throw new Error('geo \"'+u[\"a\"].firstNotNull(t.get(\"geo3DIndex\"),t.get(\"geo3DId\"),0)+'\" not found');t.coordinateSystem=n.coordinateSystem}})),n},createGeo3D:function(e){var t,n=e.get(\"map\");if(\"string\"===typeof n?(t=n,n=a.a.getMap(n)):n&&n.features&&(n={geoJson:n}),n||f(n),!n.geoJson.features)throw new Error(\"Invalid GeoJSON for map3D\");return null==t&&(t=\"GEO_ANONYMOUS_\"+h++),new r[\"a\"](t+h++,t,n&&n.geoJson,n&&n.specialAreas,e.get(\"nameMap\"))}};a.a.registerCoordinateSystem(\"geo3D\",p),t[\"a\"]=p},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(6),o=n(207),s=n.n(o),l=n(208),u=n.n(l),c=a[\"a\"].vec3,d=a[\"a\"].mat4,f=[s.a,u.a];function h(e,t,n,r,i){this.name=e,this.map=t,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,i),this.transform=d.identity(new Float64Array(16)),this.invTransform=d.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}h.prototype={constructor:h,type:\"geo3D\",dimensions:[\"lng\",\"lat\",\"alt\"],containPoint:function(){},loadGeoJson:function(e,t,n){var r=i.a.parseGeoJSON||i.a.parseGeoJson;try{this.regions=e?r(e):[]}catch(c){throw\"Invalid geoJson format\\n\"+c}t=t||{},n=n||{};for(var a=this.regions,o={},s=0;s<a.length;s++){var l=a[s].name;l=n[l]||l,a[s].name=l,o[l]=a[s],this.addGeoCoord(l,a[s].center);var u=t[l];u&&a[s].transformTo(u.left,u.top,u.width,u.height)}this._regionsMap=o,this._geoRect=null,f.forEach((function(e){e(this)}),this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,t=this.regions,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return this._geoRect=e||new i.a.graphic.BoundingRect(0,0,0,0)},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},setSize:function(e,t,n){this.size=[e,t,n];var r=this.getGeoBoundingRect(),i=e/r.width,a=-n/r.height,o=-e/2-r.x*i,s=n/2-r.y*a,l=this.extrudeY?[o,0,s]:[o,s,0],u=this.extrudeY?[i,1,a]:[i,a,1],c=this.transform;d.identity(c),d.translate(c,c,l),d.scale(c,c,u),d.invert(this.invTransform,c)},dataToPoint:function(e,t){t=t||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,i=e[2];return isNaN(i)&&(i=0),t[0]=e[0],t[r]=e[1],this.altitudeAxis?t[n]=this.altitudeAxis.dataToCoord(i):t[n]=0,t[n]+=this.regionHeight,c.transformMat4(t,t,this.transform),t},pointToData:function(e,t){}},t[\"a\"]=h},function(e,t,n){\"use strict\";var r=n(6),i=r[\"a\"].mat4,a=512,o=.6435011087932844,s=Math.PI,l=.1;function u(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight=\"auto\",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}u.prototype={constructor:u,dimensions:[\"lng\",\"lat\",\"alt\"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,a)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(o/2)*this.height*l,t=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=o/2,r=Math.PI/2+t,s=Math.sin(n)*e/Math.sin(Math.PI-r-n),u=Math.cos(Math.PI/2-t)*s+e,c=1.1*u;this.pitch>50&&(c=1e3);var d=[];i.perspective(d,o,this.width/this.height,1,c),this.viewGL.camera.projectionMatrix.setArray(d),this.viewGL.camera.decomposeProjectionMatrix();d=i.identity([]);var f=this.dataToPoint(this.center);i.scale(d,d,[1,-1,1]),i.translate(d,d,[0,0,-e]),i.rotateX(d,d,t),i.rotateZ(d,d,-this.bearing/180*Math.PI),i.translate(d,d,[-f[0]*this.getScale()*l,-f[1]*this.getScale()*l,0]),this.viewGL.camera.viewMatrix.array=d;var h=[];i.invert(h,d),this.viewGL.camera.worldTransform.array=h,this.viewGL.camera.decomposeWorldTransform();var p,m=a*this.getScale();if(this.altitudeExtent&&!isNaN(this.boxHeight)){var v=this.altitudeExtent[1]-this.altitudeExtent[0];p=this.boxHeight/v*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else p=m/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*l;this.viewGL.rootNode.scale.set(this.getScale()*l,this.getScale()*l,p)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,t){return this.projectOnTileWithScale(e,this.getScale()*a,t)},projectOnTileWithScale:function(e,t,n){var r=e[0],i=e[1],a=r*s/180,o=i*s/180,l=t*(a+s)/(2*s),u=t*(s-Math.log(Math.tan(s/4+.5*o)))/(2*s);return n=n||[],n[0]=l,n[1]=u,n},unprojectFromTile:function(e,t){return this.unprojectOnTileWithScale(e,this.getScale()*a,t)},unprojectOnTileWithScale:function(e,t,n){var r=e[0],i=e[1],a=r/t*(2*s)-s,o=2*(Math.atan(Math.exp(s-i/t*(2*s)))-s/4);return n=n||[],n[0]=180*a/s,n[1]=180*o/s,n},dataToPoint:function(e,t){return t=this.projectOnTileWithScale(e,a,t),t[0]-=this._origin[0],t[1]-=this._origin[1],t[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(t[2]=e[2],this.altitudeExtent&&(t[2]-=this.altitudeExtent[0])),t}},t[\"a\"]=u},function(e,t,n){\"use strict\";var r=n(2),i=n(1),a=n(22);t[\"a\"]=function(e,t,n){function o(e,t){var n=t.getWidth(),r=t.getHeight(),i=t.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,r,i),this.width=n,this.height=r,this.altitudeScale=e.get(\"altitudeScale\"),this.boxHeight=e.get(\"boxHeight\")}function s(e,t){if(\"auto\"!==this.model.get(\"boxHeight\")){var n=[1/0,-1/0];e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData(),r=e.coordDimToDataDim(\"alt\")[0];if(r){var i=t.getDataExtent(r,!0);n[0]=Math.min(n[0],i[0]),n[1]=Math.max(n[1],i[1])}}}),this),n&&isFinite(n[1]-n[0])&&(this.altitudeExtent=n)}}return{dimensions:t.prototype.dimensions,create:function(l,u){var c=[];return l.eachComponent(e,(function(e){var n=e.__viewGL;n||(n=e.__viewGL=new a[\"a\"],n.setRootNode(new i[\"a\"].Node));var r=new t;r.viewGL=e.__viewGL,r.resize=o,r.resize(e,u),c.push(r),e.coordinateSystem=r,r.model=e,r.update=s})),l.eachSeries((function(t){if(t.get(\"coordinateSystem\")===e){var n=t.getReferringComponents(e)[0];if(n||(n=l.getComponent(e)),!n)throw new Error(e+' \"'+r[\"a\"].firstNotNull(t.get(e+\"Index\"),t.get(e+\"Id\"),0)+'\" not found');t.coordinateSystem=n.coordinateSystem}})),n&&n(c,l,u),c}}}},function(e,t,n){\"use strict\";t[\"a\"]=\"\\n@export ecgl.displayShadow.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n@import ecgl.common.attributes\\n\\nvarying vec3 v_WorldPosition;\\n\\nvarying vec3 v_Normal;\\n\\nvoid main()\\n{\\n @import ecgl.common.uv.main\\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\\n\\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n}\\n\\n@end\\n\\n\\n@export ecgl.displayShadow.fragment\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform float roughness: 0.2;\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import clay.plugin.compute_shadow_map\\n\\nvoid main()\\n{\\n float shadow = 1.0;\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\\n }\\n#endif\\n\\n shadow *= 0.5 + ao * 0.5;\\n shadow = clamp(shadow, 0.0, 1.0);\\n\\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";var r=n(264),i=n.n(r),a=n(265),o=n.n(a);function s(e){this.viewGL=e}s.prototype.reset=function(e,t){this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio()),this._viewTransform=i.a.create(),this.updateTransform(e,t)},s.prototype.updateTransform=function(e,t){var n=e.coordinateSystem;n.getRoamTransform&&(i.a.invert(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),t.getZr().refresh())},s.prototype.dataToPoint=function(e,t,n){n=e.dataToPoint(t,null,n);var r=this._viewTransform;r&&o.a.applyTransform(n,n,r)},s.prototype.removeTransformInPoint=function(e){return this._viewTransform&&o.a.applyTransform(e,e,this._viewTransform),e},s.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1},s.prototype._setCameraTransform=function(e){var t=this.viewGL.camera;t.position.set(e[4],e[5],0),t.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)},s.prototype._updateCamera=function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=t,r.right=e,r.near=0,r.far=100},t[\"a\"]=s},function(e,t,n){(function(e){var n;\"undefined\"!==typeof window?n=window.__DEV__:\"undefined\"!==typeof e&&(n=e.__DEV__),\"undefined\"===typeof n&&(n=!0);var r=n;t.__DEV__=r}).call(t,n(67))},function(e,t,n){\"use strict\";var r=n(14),i=n(0),a=n.n(i),o=n(39),s=n(6),l=s[\"a\"].vec2,u=[[0,0],[1,1]],c=r[\"a\"].extend((function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new r[\"a\"].Attribute(\"position\",\"float\",2,\"POSITION\"),normal:new r[\"a\"].Attribute(\"normal\",\"float\",2),offset:new r[\"a\"].Attribute(\"offset\",\"float\",1),color:new r[\"a\"].Attribute(\"color\",\"float\",4,\"COLOR\")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.offset.init(e),t.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,t,n,r){var i=l.dist(e,t)+l.dist(n,t)+l.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(u)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(u)},getPolylineVertexCount:function(e){var t;if(\"number\"===typeof e)t=e;else{var n=\"number\"!==typeof e[0];t=n?e.length:e.length/2}return this.useNativeLine?2*(t-1):2*(t-1)+2},getPolylineTriangleCount:function(e){var t;if(\"number\"===typeof e)t=e;else{var n=\"number\"!==typeof e[0];t=n?e.length:e.length/2}return this.useNativeLine?0:2*(t-1)},addCubicCurve:function(e,t,n,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],l=t[0],u=t[1],c=n[0],d=n[1],f=r[0],h=r[1],p=this._getCubicCurveApproxStep(e,t,n,r),m=p*p,v=m*p,g=3*p,_=3*m,y=6*m,x=6*v,b=o-2*l+c,w=s-2*u+d,A=3*(l-c)-o+f,T=3*(u-d)-s+h,S=o,E=s,C=(l-o)*g+b*_+A*v,M=(u-s)*g+w*_+T*v,D=b*y+A*x,N=w*y+T*x,L=A*x,I=T*x,P=0,O=0,R=Math.ceil(1/p),k=new Float32Array(3*(R+1)),F=(k=[],0);for(O=0;O<R+1;O++)k[F++]=S,k[F++]=E,S+=C,E+=M,C+=D,M+=N,D+=L,N+=I,P+=p,P>1&&(S=C>0?Math.min(S,f):Math.max(S,f),E=M>0?Math.min(E,h):Math.max(E,h));this.addPolyline(k,i,a)},addLine:function(e,t,n,r){this.addPolyline([e,t],n,r)},addPolyline:function(){var e=l.create(),t=l.create(),n=l.create(),r=l.create(),i=[],a=[],o=[];return function(s,u,c,d,f){if(s.length){var h=\"number\"!==typeof s[0];if(null==f&&(f=h?s.length:s.length/2),!(f<2)){null==d&&(d=0),null==c&&(c=1),this._itemVertexOffsets.push(this._vertexOffset);for(var p,m=h?\"number\"!==typeof u[0]:u.length/4===f,v=this.attributes.position,g=this.attributes.color,_=this.attributes.offset,y=this.attributes.normal,x=this.indices,b=this._vertexOffset,w=0;w<f;w++){if(h)i=s[w+d],p=m?u[w+d]:u;else{var A=2*w+d;if(i=i||[],i[0]=s[A],i[1]=s[A+1],m){var T=4*w+d;p=p||[],p[0]=u[T],p[1]=u[T+1],p[2]=u[T+2],p[3]=u[T+3]}else p=u}if(this.useNativeLine)w>1&&(v.copy(b,b-1),g.copy(b,b-1),b++);else{var S;if(w<f-1){if(h)l.copy(a,s[w+1]);else{A=2*(w+1)+d;a=a||[],a[0]=s[A],a[1]=s[A+1]}if(w>0){l.sub(e,i,o),l.sub(t,a,i),l.normalize(e,e),l.normalize(t,t),l.add(r,e,t),l.normalize(r,r);var E=c/2*Math.min(1/l.dot(e,r),2);n[0]=-r[1],n[1]=r[0],S=E}else l.sub(e,a,i),l.normalize(e,e),n[0]=-e[1],n[1]=e[0],S=c/2}else l.sub(e,i,o),l.normalize(e,e),n[0]=-e[1],n[1]=e[0],S=c/2;y.set(b,n),y.set(b+1,n),_.set(b,S),_.set(b+1,-S),l.copy(o,i),v.set(b,i),v.set(b+1,i),g.set(b,p),g.set(b+1,p),b+=2}if(this.useNativeLine)g.set(b,p),v.set(b,i),b++;else if(w>0){var C=3*this._faceOffset;x=this.indices;x[C]=b-4,x[C+1]=b-3,x[C+2]=b-2,x[C+3]=b-3,x[C+4]=b-1,x[C+5]=b-2,this._faceOffset+=2}}this._vertexOffset=b}}}}(),setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,t);this.dirty(\"color\")}});a.a.util.defaults(c.prototype,o[\"a\"]),t[\"a\"]=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});n(106),n(153),n(203),n(209),n(215),n(221),n(227),n(234),n(238),n(245),n(251),n(254),n(258),n(261),n(266),n(279),n(285)},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(107),o=n(108),s=n(152),l=n(1),u={version:\"1.1.2\",dependencies:{echarts:\"4.1.0\",claygl:\"1.2.1\"}},c=u.dependencies;function d(e){throw new Error(e+\" version is too old, needs \"+c[e]+\" or higher\")}function f(e,t){e.replace(\".\",\"\")-0<c[t].replace(\".\",\"\")-0&&d(t),console.log(\"Loaded \"+t+\", version \"+e)}function h(e){this._layers={},this._zr=e}f(a[\"a\"],\"claygl\"),f(i.a.version,\"echarts\"),h.prototype.update=function(e,t){var n=this,r=t.getZr();if(r.getWidth()&&r.getHeight()){for(var a in this._layers)this._layers[a].removeViewsAll();e.eachComponent((function(n,r){if(\"series\"!==n){var i=t.getViewOfComponentModel(r),a=r.coordinateSystem;if(i.__ecgl__){if(a){if(!a.viewGL)return void console.error(\"Can't find viewGL in coordinateSystem of component \"+r.id);o=a.viewGL}else{if(!r.viewGL)return void console.error(\"Can't find viewGL of component \"+r.id);o=a.viewGL}var o=a.viewGL,u=s(r);u.addView(o),i.afterRender&&i.afterRender(r,e,t,u),l(i.groupGL,r.get(\"silent\"))}}})),e.eachSeries((function(n){var r=t.getViewOfSeriesModel(n),i=n.coordinateSystem;if(r.__ecgl__){if(i&&!i.viewGL&&!r.viewGL)return void console.error(\"Can't find viewGL of series \"+r.id);var a=i&&i.viewGL||r.viewGL,o=s(n);o.addView(a),r.afterRender&&r.afterRender(n,e,t,o),l(r.groupGL,n.get(\"silent\"))}}))}else console.warn(\"Dom has no width or height\");function s(e){var t;t=(e.coordinateSystem&&e.coordinateSystem.model,e.get(\"zlevel\"));var a=n._layers,s=a[t];if(!s){if(s=a[t]=new o[\"a\"](\"gl-\"+t,r),r.painter.isSingleCanvas()){s.virtual=!0;var l=new i.a.graphic.Image({z:1e4,style:{image:s.renderer.canvas},silent:!0});s.__hostImage=l,r.add(l)}r.painter.insertLayer(t,s)}return s.__hostImage&&s.__hostImage.setStyle({width:s.renderer.getWidth(),height:s.renderer.getHeight()}),s}function l(e,t){e&&e.traverse((function(e){e.isRenderable&&e.isRenderable()&&(e.ignorePicking=null!=e.$ignorePicking?e.$ignorePicking:t)}))}};var p=i.a.init;i.a.init=function(){var e=p.apply(this,arguments);return e.getZr().painter.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas)return this._layers[0].dom;var t=document.createElement(\"canvas\"),n=e.pixelRatio||this.dpr;t.width=this.getWidth()*n,t.height=this.getHeight()*n;var r=t.getContext(\"2d\");r.dpr=n,r.clearRect(0,0,t.width,t.height),e.backgroundColor&&(r.fillStyle=e.backgroundColor,r.fillRect(0,0,t.width,t.height));var i,a=this.storage.getDisplayList(!0),o={},s=this;function l(e,t){var n,i=s._zlevelList;null==e&&(e=-1/0);for(var a=0;a<i.length;a++){var o=i[a],l=s._layers[o];if(!l.__builtin__&&o>e&&o<t){n=l;break}}n&&n.renderToCanvas&&(r.save(),n.renderToCanvas(r),r.restore())}for(var u={ctx:r},c=0;c<a.length;c++){var d=a[c];d.zlevel!==i&&(l(i,d.zlevel),i=d.zlevel),this._doPaintEl(d,u,!0,o)}return l(i,1/0),t},e},i.a.registerPostUpdate((function(e,t){var n=t.getZr(),r=n.__egl=n.__egl||new h(n);r.update(e,t)})),i.a.registerPreprocessor(s[\"a\"]),i.a.graphicGL=l[\"a\"]},function(e,t,n){\"use strict\";t[\"a\"]=\"1.3.0\"},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(52),o=n(116),s=n(4),l=n(1),u=n(53),c=n(81),d=n.n(c),f=function(e,t){this.id=e,this.zr=t;try{this.renderer=new a[\"a\"]({clearBit:0,devicePixelRatio:t.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(t.painter.getWidth(),t.painter.getHeight())}catch(r){return this.renderer=null,this.dom=document.createElement(\"div\"),this.dom.style.cssText=\"position:absolute; left: 0; top: 0; right: 0; bottom: 0;\",this.dom.className=\"ecgl-nowebgl\",this.dom.innerHTML=\"Sorry, your browser does not support WebGL\",void console.error(r)}this.onglobalout=this.onglobalout.bind(this),t.on(\"globalout\",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position=\"absolute\",n.left=\"0\",n.top=\"0\",this.views=[],this._picking=new o[\"a\"]({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new i.a.graphic.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null};function h(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}f.prototype.addView=function(e){if(e.layer!==this){var t=this._viewsToDispose.indexOf(e);t>=0&&this._viewsToDispose.splice(t,1),this.views.push(e),e.layer=this;var n=this.zr;e.scene.traverse((function(e){e.__zr=n,e.addAnimatorsToZr&&e.addAnimatorsToZr(n)}))}},f.prototype.removeView=function(e){if(e.layer===this){var t=this.views.indexOf(e);t>=0&&(this.views.splice(t,1),e.scene.traverse(h,this),e.layer=null,this._viewsToDispose.push(e))}},f.prototype.removeViewsAll=function(){this.views.forEach((function(e){e.scene.traverse(h,this),e.layer=null,this._viewsToDispose.push(e)}),this),this.views.length=0},f.prototype.resize=function(e,t){var n=this.renderer;n.resize(e,t)},f.prototype.clear=function(){var e=this.renderer.gl,t=this._backgroundColor||[0,0,0,0];e.clearColor(t[0],t[1],t[2],t[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)},f.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)},f.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},f.prototype.needsRefresh=function(){this.zr.refresh()},f.prototype.refresh=function(e){this._backgroundColor=e?l[\"a\"].parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var t=0;t<this.views.length;t++)this.views[t].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(t=0;t<this._viewsToDispose.length;t++)this._viewsToDispose[t].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},f.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)},f.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var t=0;t<this.views.length;t++)this.views[t].render(this.renderer,e);this.renderer.restoreViewport()},f.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var p=1;function m(e){for(var t=0;t<e.length;t++)e[t].__used__=0}function v(e,t){for(var n=0;n<t.length;n++)t[n].__used__||t[n].dispose(e)}function g(e,t){e.__used__=e.__used__||0,e.__used__++,1===e.__used__&&t.push(e)}function _(e,t,n){var r,i;e.traverse((function(e){if(e.isRenderable()){var a=e.geometry,o=e.material;if(o!==r)for(var l=o.getTextureUniforms(),u=0;u<l.length;u++){var c=l[u],d=o.uniforms[c].value;if(d)if(d instanceof s[\"a\"])g(d,t);else if(d instanceof Array)for(var f=0;f<d.length;f++)d[f]instanceof s[\"a\"]&&g(d[f],t)}a!==i&&g(a,n),r=o,i=a}}));for(var a=0;a<e.lights.length;a++)e.lights[a].cubemap&&g(e.lights[a].cubemap,t)}f.prototype._startAccumulating=function(e){var t=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;function i(r){if(t._accumulatingId&&r===t._accumulatingId){for(var a=!0,o=0;o<t.views.length;o++)a=t.views[o].isAccumulateFinished()&&n;a||(t._doRender(!0),e?i(r):d()((function(){i(r)})))}}n&&(this._accumulatingId=p++,e?i(t._accumulatingId):this._accumulatingTimeout=setTimeout((function(){i(t._accumulatingId)}),50))},f.prototype._trackAndClean=function(){var e=[],t=[];this._textureList&&(m(this._textureList),m(this._geometriesList));for(var n=0;n<this.views.length;n++)_(this.views[n].scene,e,t);this._textureList&&(v(this.renderer,this._textureList),v(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=t},f.prototype.dispose=function(){this._stopAccumulating(),this.renderer.disposeScene(this.scene),this.zr.off(\"globalout\",this.onglobalout)},f.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent(\"mousedown\",e,t),this._dispatchDataEvent(\"mousedown\",e,t)),this._downX=e.offsetX,this._downY=e.offsetY}},f.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY),n=t&&t.target,r=this._hovered;this._hovered=t,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent(\"mouseout\",e,r),this.zr.setCursorStyle(\"default\")),this._dispatchEvent(\"mousemove\",e,t),t&&(this.zr.setCursorStyle(\"pointer\"),r&&n===r.target||this._dispatchEvent(\"mouseover\",e,t)),this._dispatchDataEvent(\"mousemove\",e,t)}},f.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent(\"mouseup\",e,t),this._dispatchDataEvent(\"mouseup\",e,t)),this._upX=e.offsetX,this._upY=e.offsetY}},f.prototype.onclick=f.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var t=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(t*t+n*n)>20)){e=e.event;var r=this.pickObject(e.offsetX,e.offsetY);r&&(this._dispatchEvent(e.type,e,r),this._dispatchDataEvent(e.type,e,r));var i=this._clickToSetFocusPoint(e);if(i){var a=i.view.setDOFFocusOnPoint(i.distance);a&&this.zr.refresh()}}}},f.prototype._clickToSetFocusPoint=function(e){for(var t=this.renderer,n=t.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(e.offsetX,e.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,t.viewport=i.viewport;var a=this._picking.pick(e.offsetX,e.offsetY,!0);if(a)return a.view=i,a}}t.viewport=n},f.prototype.onglobalout=function(e){var t=this._hovered;t&&this._dispatchEvent(\"mouseout\",e,{target:t.target})},f.prototype.pickObject=function(e,t){for(var n=[],r=this.renderer,i=r.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(e,t)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(e,t,n))}return r.viewport=i,n.sort((function(e,t){return e.distance-t.distance})),n[0]},f.prototype._dispatchEvent=function(e,t,n){n||(n={});var r=n.target;n.cancelBubble=!1,n.event=t,n.type=e,n.offsetX=t.offsetX,n.offsetY=t.offsetY;while(r)if(r.trigger(e,n),r=r.getParent(),n.cancelBubble)break;this._dispatchToView(e,n)},f.prototype._dispatchDataEvent=function(e,t,n){var r=n&&n.target,i=r&&r.dataIndex,a=r&&r.seriesIndex,o=r&&r.eventData,s=!1,l=this._zrEventProxy;l.position=[t.offsetX,t.offsetY],l.update();var u={target:l};\"mousemove\"===e&&(null!=i?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(l.dataIndex=this._lastDataIndex,l.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(u,\"mouseout\",t)),s=!0):null!=o&&o!==this._lastEventData&&(null!=this._lastEventData&&(l.eventData=this._lastEventData,this.zr.handler.dispatchToElement(u,\"mouseout\",t)),s=!0),this._lastEventData=o,this._lastDataIndex=i,this._lastSeriesIndex=a),l.eventData=o,l.dataIndex=i,l.seriesIndex=a,(null!=o||parseInt(i,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(u,e,t),s&&this.zr.handler.dispatchToElement(u,\"mouseover\",t))},f.prototype._dispatchToView=function(e,t){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(t.offsetX,t.offsetY)&&this.views[n].trigger(e,t)},i.a.util.extend(f.prototype,u[\"a\"]),t[\"a\"]=f},function(e,t,n){\"use strict\";function r(e,t,n){\"object\"==typeof t&&(n=t,t=null);var r,o=this;if(!(e instanceof Function))for(var s in r=[],e)e.hasOwnProperty(s)&&r.push(s);var l=function(t){if(o.apply(this,arguments),e instanceof Function?i(this,e.call(this,t)):a(this,e,r),this.constructor===l)for(var n=l.__initializers__,s=0;s<n.length;s++)n[s].apply(this,arguments)};l.__super__=o,o.__initializers__?l.__initializers__=o.__initializers__.slice():l.__initializers__=[],t&&l.__initializers__.push(t);var u=function(){};return u.prototype=o.prototype,l.prototype=new u,l.prototype.constructor=l,i(l.prototype,n),l.extend=o.extend,l.derive=o.extend,l}function i(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function a(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];e[i]=t[i]}}t[\"a\"]={extend:r,derive:r}},function(e,t,n){\"use strict\";var r=[\"OES_texture_float\",\"OES_texture_half_float\",\"OES_texture_float_linear\",\"OES_texture_half_float_linear\",\"OES_standard_derivatives\",\"OES_vertex_array_object\",\"OES_element_index_uint\",\"WEBGL_compressed_texture_s3tc\",\"WEBGL_compressed_texture_etc\",\"WEBGL_compressed_texture_etc1\",\"WEBGL_compressed_texture_pvrtc\",\"WEBGL_compressed_texture_atc\",\"WEBGL_compressed_texture_astc\",\"WEBGL_depth_texture\",\"EXT_texture_filter_anisotropic\",\"EXT_shader_texture_lod\",\"WEBGL_draw_buffers\",\"EXT_frag_depth\",\"EXT_sRGB\",\"ANGLE_instanced_arrays\"],i=[\"MAX_TEXTURE_SIZE\",\"MAX_CUBE_MAP_TEXTURE_SIZE\"];function a(e){for(var t={},n={},a=0;a<r.length;a++){var o=r[a];l(o)}for(a=0;a<i.length;a++){var s=i[a];n[s]=e.getParameter(e[s])}function l(n){if(e.getExtension){var r=e.getExtension(n);r||(r=e.getExtension(\"MOZ_\"+n)),r||(r=e.getExtension(\"WEBKIT_\"+n)),t[n]=r}}this.getExtension=function(e){return e in t||l(e),t[e]},this.getParameter=function(e){return n[e]}}t[\"a\"]=a},function(e,t,n){\"use strict\";function r(e){var t=new XMLHttpRequest;t.open(\"get\",e.url),t.responseType=e.responseType||\"text\",e.onprogress&&(t.onprogress=function(t){if(t.lengthComputable){var n=t.loaded/t.total;e.onprogress(n,t.loaded,t.total)}else e.onprogress(null)}),t.onload=function(n){t.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(t.response)},e.onerror&&(t.onerror=e.onerror),t.send(null)}t[\"a\"]={get:r}},function(e,t,n){\"use strict\";var r=n(68),i={},a={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(e){return e=Math.round(e),e<0?0:e>255?255:e}function s(e){return e=Math.round(e),e<0?0:e>360?360:e}function l(e){return e<0?0:e>1?1:e}function u(e){return e.length&&\"%\"===e.charAt(e.length-1)?o(parseFloat(e)/100*255):o(parseInt(e,10))}function c(e){return e.length&&\"%\"===e.charAt(e.length-1)?l(parseFloat(e)/100):l(parseFloat(e))}function d(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function f(e,t,n){return e+(t-e)*n}function h(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function p(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var m=new r[\"a\"](20),v=null;function g(e,t){v&&p(v,t),v=m.put(e,v||t.slice())}function _(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=c(e[1]),i=c(e[2]),a=i<=.5?i*(r+1):i+r-i*r,s=2*i-a;return t=t||[],h(t,o(255*d(s,a,n+1/3)),o(255*d(s,a,n)),o(255*d(s,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function y(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o,u=(s+o)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+o):l/(2-s-o);var c=((s-r)/6+l/2)/l,d=((s-i)/6+l/2)/l,f=((s-a)/6+l/2)/l;r===s?t=f-d:i===s?t=1/3+c-f:a===s&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,n,u];return null!=e[3]&&h.push(e[3]),h}}i.parse=function(e,t){if(e){t=t||[];var n=m.get(e);if(n)return p(t,n);e+=\"\";var r=e.replace(/ /g,\"\").toLowerCase();if(r in a)return p(t,a[r]),g(e,t),t;if(\"#\"!==r.charAt(0)){var i=r.indexOf(\"(\"),o=r.indexOf(\")\");if(-1!==i&&o+1===r.length){var s=r.substr(0,i),l=r.substr(i+1,o-(i+1)).split(\",\"),d=1;switch(s){case\"rgba\":if(4!==l.length)return void h(t,0,0,0,1);d=c(l.pop());case\"rgb\":return 3!==l.length?void h(t,0,0,0,1):(h(t,u(l[0]),u(l[1]),u(l[2]),d),g(e,t),t);case\"hsla\":return 4!==l.length?void h(t,0,0,0,1):(l[3]=c(l[3]),_(l,t),g(e,t),t);case\"hsl\":return 3!==l.length?void h(t,0,0,0,1):(_(l,t),g(e,t),t);default:return}}h(t,0,0,0,1)}else{if(4===r.length){var f=parseInt(r.substr(1),16);return f>=0&&f<=4095?(h(t,(3840&f)>>4|(3840&f)>>8,240&f|(240&f)>>4,15&f|(15&f)<<4,1),g(e,t),t):void h(t,0,0,0,1)}if(7===r.length){f=parseInt(r.substr(1),16);return f>=0&&f<=16777215?(h(t,(16711680&f)>>16,(65280&f)>>8,255&f,1),g(e,t),t):void h(t,0,0,0,1)}}}},i.parseToFloat=function(e,t){if(t=i.parse(e,t),t)return t[0]/=255,t[1]/=255,t[2]/=255,t},i.lift=function(e,t){var n=i.parse(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0;return i.stringify(n,4===n.length?\"rgba\":\"rgb\")}},i.toHex=function(e){var t=i.parse(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},i.fastLerp=function(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),s=t[i],u=t[a],c=r-i;return n[0]=o(f(s[0],u[0],c)),n[1]=o(f(s[1],u[1],c)),n[2]=o(f(s[2],u[2],c)),n[3]=l(f(s[3],u[3],c)),n}},i.fastMapToColor=i.fastLerp,i.lerp=function(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),a=Math.floor(r),s=Math.ceil(r),u=i.parse(t[a]),c=i.parse(t[s]),d=r-a,h=i.stringify([o(f(u[0],c[0],d)),o(f(u[1],c[1],d)),o(f(u[2],c[2],d)),l(f(u[3],c[3],d))],\"rgba\");return n?{color:h,leftIndex:a,rightIndex:s,value:r}:h}},i.mapToColor=i.lerp,i.modifyHSL=function(e,t,n,r){if(e=i.parse(e),e)return e=y(e),null!=t&&(e[0]=s(t)),null!=n&&(e[1]=c(n)),null!=r&&(e[2]=c(r)),i.stringify(_(e),\"rgba\")},i.modifyAlpha=function(e,t){if(e=i.parse(e),e&&null!=t)return e[3]=l(t),i.stringify(e,\"rgba\")},i.stringify=function(e,t){if(e&&e.length){var n=e[0]+\",\"+e[1]+\",\"+e[2];return\"rgba\"!==t&&\"hsva\"!==t&&\"hsla\"!==t||(n+=\",\"+e[3]),t+\"(\"+n+\")\"}},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=function(){this.head=null,this.tail=null,this._length=0};r.prototype.insert=function(e){var t=new r.Entry(e);return this.insertEntry(t),t},r.prototype.insertAt=function(e,t){if(!(e<0)){var n=this.head,i=0;while(n&&i!=e)n=n.next,i++;if(n){var a=new r.Entry(t),o=n.prev;o?(o.next=a,a.prev=o):this.head=a,a.next=n,n.prev=a}else this.insert(t)}},r.prototype.insertBeforeEntry=function(e,t){var n=new r.Entry(e),i=t.prev;i?(i.next=n,n.prev=i):this.head=n,n.next=t,t.prev=n,this._length++},r.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},r.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._length--},r.prototype.removeAt=function(e){if(!(e<0)){var t=this.head,n=0;while(t&&n!=e)t=t.next,n++;return t?(this.remove(t),t.value):void 0}},r.prototype.getHead=function(){if(this.head)return this.head.value},r.prototype.getTail=function(){if(this.tail)return this.tail.value},r.prototype.getAt=function(e){if(!(e<0)){var t=this.head,n=0;while(t&&n!=e)t=t.next,n++;return t.value}},r.prototype.indexOf=function(e){var t=this.head,n=0;while(t){if(t.value===e)return n;t=t.next,n++}},r.prototype.length=function(){return this._length},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.forEach=function(e,t){var n=this.head,r=0,i=\"undefined\"!=typeof t;while(n)i?e.call(t,n.value,r):e(n.value,r),n=n.next,r++},r.prototype.clear=function(){this.tail=this.head=null,this._length=0},r.Entry=function(e){this.value=e,this.next=null,this.prev=null},t[\"a\"]=r},function(e,t,n){\"use strict\";var r=n(115),i=/for\\s*?\\(int\\s*?_idx_\\s*\\=\\s*([\\w-]+)\\;\\s*_idx_\\s*<\\s*([\\w-]+);\\s*_idx_\\s*\\+\\+\\s*\\)\\s*\\{\\{([\\s\\S]+?)(?=\\}\\})\\}\\}/g;function a(e,t,n){function r(e,n,r,i){var o=\"\";isNaN(n)&&(n=n in t?t[n]:a[n]),isNaN(r)&&(r=r in t?t[r]:a[r]);for(var s=parseInt(n);s<parseInt(r);s++)o+=\"{\"+i.replace(/float\\s*\\(\\s*_idx_\\s*\\)/g,s.toFixed(1)).replace(/_idx_/g,s)+\"}\";return o}var a={};for(var o in n)a[o+\"_COUNT\"]=n[o];return e.replace(i,r)}function o(e,t,n){var r=[];if(t)for(var i in t){var a=t[i];a>0&&r.push(\"#define \"+i.toUpperCase()+\"_COUNT \"+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push(\"#define \"+s.toUpperCase()+\"_ENABLED\")}for(var s in e){var l=e[s];null===l?r.push(\"#define \"+s):r.push(\"#define \"+s+\" \"+l.toString())}return r.join(\"\\n\")}function s(e){for(var t=[],n=0;n<e.length;n++)t.push(\"#extension GL_\"+e[n][0]+\" : enable\");return t.join(\"\\n\")}function l(e){return[\"precision\",e,\"float\"].join(\" \")+\";\\n\"+[\"precision\",e,\"int\"].join(\" \")+\";\\n\"+[\"precision\",e,\"sampler2D\"].join(\" \")+\";\\n\"}function u(e){this._renderer=e,this._cache={}}u.prototype.getProgram=function(e,t,n,i){var u=this._cache,c=e.isSkinnedMesh&&e.isSkinnedMesh(),d=e.isInstancedMesh&&e.isInstancedMesh(),f=\"s\"+t.shader.shaderID+\"m\"+t.getProgramKey();n&&(f+=\"se\"+n.getProgramKey(e.lightGroup)),c&&(f+=\",sk\"+e.joints.length),d&&(f+=\",is\"),i.logDepthBuffer&&(f+=\",ld\");var h=u[f];if(h)return h;var p=n?n.getLightsNumbers(e.lightGroup):{},m=(i=this._renderer,i.gl),v=t.getEnabledTextures(),g=\"\";if(c){var _={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>i.getMaxJointNumber()&&(_.USE_SKIN_MATRICES_TEXTURE=null),g+=\"\\n\"+o(_)+\"\\n\"}d&&(g+=\"\\n#define INSTANCING\\n\"),i.logDepthBuffer&&(g+=\"\\n#define LOG_DEPTH\\n\");for(var y=g+o(t.vertexDefines,p,v),x=g+o(t.fragmentDefines,p,v),b=[[\"OES_standard_derivatives\",\"TEXTURE_LOD\"],[\"EXT_shader_texture_lod\",\"STANDARD_DERIVATIVES\"],[\"EXT_frag_depth\",\"FRAG_DEPTH\"]].filter((function(e){return null!=i.getGLExtension(e[0])})),w=0;w<b.length;w++){var A=\"\\n#define SUPPORT_\"+b[w][1];x+=A,y+=A}var T=y+\"\\n\"+t.shader.vertex,S=s(b)+\"\\n\"+l(t.precision)+\"\\n\"+x+\"\\n\"+t.shader.fragment,E=a(T,t.vertexDefines,p),C=a(S,t.fragmentDefines,p);h=new r[\"a\"];h.uniformSemantics=t.shader.uniformSemantics,h.attributes=t.shader.attributes;var M=h.buildProgram(m,t.shader,E,C);return h.__error=M,u[f]=h,h},t[\"a\"]=u},function(e,t,n){\"use strict\";var r=n(13),i=n(8),a=1,o=2,s=3,l={};function u(e){for(var t=e.split(\"\\n\"),n=0,r=t.length;n<r;n++)t[n]=n+1+\": \"+t[n];return t.join(\"\\n\")}function c(e,t,n){if(!e.getShaderParameter(t,e.COMPILE_STATUS))return[e.getShaderInfoLog(t),u(n)].join(\"\\n\")}var d=new r[\"a\"].Float32Array(16),f=i[\"a\"].extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){var t=this._locations[e];return null!==t&&void 0!==t},useTextureSlot:function(e,t,n){t&&(e.gl.activeTexture(e.gl.TEXTURE0+n),t.isRenderable()?t.bind(e):t.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,t){var n=this._textureSlot;return this.useTextureSlot(e,t,n),this._textureSlot++,n},setUniform:function(e,t,n,i){var a=this._locations,o=a[n];if(null===o||void 0===o)return!1;switch(t){case\"m4\":if(!(i instanceof Float32Array)){for(var s=0;s<i.length;s++)d[s]=i[s];i=d}e.uniformMatrix4fv(o,!1,i);break;case\"2i\":e.uniform2i(o,i[0],i[1]);break;case\"2f\":e.uniform2f(o,i[0],i[1]);break;case\"3i\":e.uniform3i(o,i[0],i[1],i[2]);break;case\"3f\":e.uniform3f(o,i[0],i[1],i[2]);break;case\"4i\":e.uniform4i(o,i[0],i[1],i[2],i[3]);break;case\"4f\":e.uniform4f(o,i[0],i[1],i[2],i[3]);break;case\"1i\":e.uniform1i(o,i);break;case\"1f\":e.uniform1f(o,i);break;case\"1fv\":e.uniform1fv(o,i);break;case\"1iv\":e.uniform1iv(o,i);break;case\"2iv\":e.uniform2iv(o,i);break;case\"2fv\":e.uniform2fv(o,i);break;case\"3iv\":e.uniform3iv(o,i);break;case\"3fv\":e.uniform3fv(o,i);break;case\"4iv\":e.uniform4iv(o,i);break;case\"4fv\":e.uniform4fv(o,i);break;case\"m2\":case\"m2v\":e.uniformMatrix2fv(o,!1,i);break;case\"m3\":case\"m3v\":e.uniformMatrix3fv(o,!1,i);break;case\"m4v\":if(Array.isArray(i)&&Array.isArray(i[0])){var l=new r[\"a\"].Float32Array(16*i.length),u=0;for(s=0;s<i.length;s++)for(var c=i[s],f=0;f<16;f++)l[u++]=c[f];e.uniformMatrix4fv(o,!1,l)}else e.uniformMatrix4fv(o,!1,i);break}return!0},setUniformOfSemantic:function(e,t,n){var r=this.uniformSemantics[t];return!!r&&this.setUniform(e,r.type,r.symbol,n)},enableAttributes:function(e,t,n){var r,i=e.gl,u=this._program,c=this._locations;r=n?n.__enabledAttributeList:l[e.__uid__],r||(r=n?n.__enabledAttributeList=[]:l[e.__uid__]=[]);for(var d=[],f=0;f<t.length;f++){var h=t[f];if(this.attributes[h]){var p=c[h];if(null==p){if(p=i.getAttribLocation(u,h),-1===p){d[f]=-1;continue}c[h]=p}d[f]=p,r[p]?r[p]=o:r[p]=a}else d[f]=-1}for(f=0;f<r.length;f++)switch(r[f]){case a:i.enableVertexAttribArray(f),r[f]=s;break;case o:r[f]=s;break;case s:i.disableVertexAttribArray(f),r[f]=0;break}return d},getAttribLocation:function(e,t){var n=this._locations,r=n[t];return null==r&&(r=e.getAttribLocation(this._program,t),n[t]=r),r},isAttribEnabled:function(e,t){var n=l[e.__uid__]||[];return!!n[t]},buildProgram:function(e,t,n,r){var i=e.createShader(e.VERTEX_SHADER),a=e.createProgram();e.shaderSource(i,n),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var s=c(e,i,n);if(s)return s;if(s=c(e,o,r),s)return s;if(e.attachShader(a,i),e.attachShader(a,o),t.attributeSemantics[\"POSITION\"])e.bindAttribLocation(a,0,t.attributeSemantics[\"POSITION\"].symbol);else{var l=Object.keys(this.attributes);e.bindAttribLocation(a,0,l[0])}if(e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=r,!e.getProgramParameter(a,e.LINK_STATUS))return\"Could not link program\\n\"+e.getProgramInfoLog(a);for(var u=0;u<t.uniforms.length;u++){var d=t.uniforms[u];this._locations[d]=e.getUniformLocation(a,d)}}});t[\"a\"]=f},function(e,t,n){\"use strict\";var r=n(8),i=n(54),a=n(26),o=n(3),s=n(7),l=n(71),u=n(11),c=n(12),d=r[\"a\"].extend({scene:null,camera:null,renderer:null},(function(){this._ray=new i[\"a\"],this._ndc=new a[\"a\"]}),{pick:function(e,t,n){var r=this.pickAll(e,t,[],n);return r[0]||null},pickAll:function(e,t,n,r){return this.renderer.screenToNDC(e,t,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(e,t,n){e instanceof l[\"a\"]&&e.isRenderable()&&(e.ignorePicking&&!n||!(e.mode===u[\"a\"].TRIANGLES&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)||this._intersectRenderable(e,t));for(var r=0;r<e._children.length;r++)this._intersectNode(e._children[r],t,n)},_intersectRenderable:function(){var e=new o[\"a\"],t=new o[\"a\"],n=new o[\"a\"],r=new i[\"a\"],a=new s[\"a\"];return function(i,l){var f=i.isSkinnedMesh();r.copy(this._ray),s[\"a\"].invert(a,i.worldTransform),f||r.applyTransform(a);var h=i.geometry,p=f?i.skeleton.boundingBox:h.boundingBox;if(!p||r.intersectBoundingBox(p))if(h.pick)h.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,i,l);else if(h.pickByRay)h.pickByRay(r,i,l);else{var m,v,g=i.cullFace===u[\"a\"].BACK&&i.frontFace===u[\"a\"].CCW||i.cullFace===u[\"a\"].FRONT&&i.frontFace===u[\"a\"].CW,_=h.indices,y=h.attributes.position,x=h.attributes.weight,b=h.attributes.joint,w=[];if(y&&y.value&&_){if(f){v=i.skeleton.getSubSkinMatrices(i.__uid__,i.joints);for(var A=0;A<i.joints.length;A++){w[A]=w[A]||[];for(var T=0;T<16;T++)w[A][T]=v[16*A+T]}var S=[],E=[],C=[],M=[],D=[],N=h.attributes.skinnedPosition;N&&N.value||(h.createAttribute(\"skinnedPosition\",\"f\",3),N=h.attributes.skinnedPosition,N.init(h.vertexCount));for(A=0;A<h.vertexCount;A++){y.get(A,S),x.get(A,E),b.get(A,C),E[3]=1-E[0]-E[1]-E[2],c[\"a\"].set(M,0,0,0);for(T=0;T<4;T++)C[T]>=0&&E[T]>1e-4&&(c[\"a\"].transformMat4(D,S,w[C[T]]),c[\"a\"].scaleAndAdd(M,M,D,E[T]));N.set(A,M)}}for(A=0;A<_.length;A+=3){var L=_[A],I=_[A+1],P=_[A+2],O=f?h.attributes.skinnedPosition:y;if(O.get(L,e.array),O.get(I,t.array),O.get(P,n.array),m=g?r.intersectTriangle(e,t,n,i.culling):r.intersectTriangle(e,n,t,i.culling),m){var R=new o[\"a\"];f?o[\"a\"].copy(R,m):o[\"a\"].transformMat4(R,m,i.worldTransform),l.push(new d.Intersection(m,R,i,[L,I,P],A/3,o[\"a\"].dist(R,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,t){return e.distance-t.distance}});d.Intersection=function(e,t,n,r,i,a){this.point=e,this.pointWorld=t,this.target=n,this.triangle=r,this.triangleIndex=i,this.distance=a},t[\"a\"]=d},function(e,t,n){\"use strict\";var r=n(8),i=n(11),a=n(57),o=n(13);function s(e){return{byte:o[\"a\"].Int8Array,ubyte:o[\"a\"].Uint8Array,short:o[\"a\"].Int16Array,ushort:o[\"a\"].Uint16Array}[e]||o[\"a\"].Float32Array}function l(e){return\"attr_\"+e}function u(e,t,n,r){switch(this.name=e,this.type=t,this.size=n,this.semantic=r||\"\",this.value=null,n){case 1:this.get=function(e){return this.value[e]},this.set=function(e,t){this.value[e]=t},this.copy=function(e,t){this.value[e]=this.value[e]};break;case 2:this.get=function(e,t){var n=this.value;return t[0]=n[2*e],t[1]=n[2*e+1],t},this.set=function(e,t){var n=this.value;n[2*e]=t[0],n[2*e+1]=t[1]},this.copy=function(e,t){var n=this.value;t*=2,e*=2,n[e]=n[t],n[e+1]=n[t+1]};break;case 3:this.get=function(e,t){var n=3*e,r=this.value;return t[0]=r[n],t[1]=r[n+1],t[2]=r[n+2],t},this.set=function(e,t){var n=3*e,r=this.value;r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2]},this.copy=function(e,t){var n=this.value;t*=3,e*=3,n[e]=n[t],n[e+1]=n[t+1],n[e+2]=n[t+2]};break;case 4:this.get=function(e,t){var n=this.value,r=4*e;return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],t},this.set=function(e,t){var n=this.value,r=4*e;n[r]=t[0],n[r+1]=t[1],n[r+2]=t[2],n[r+3]=t[3]},this.copy=function(e,t){var n=this.value;t*=4,e*=4,n[e]=n[t],n[e+1]=n[t+1],n[e+2]=n[t+2],n[e+3]=n[t+3]}}}function c(e,t,n,r,i){this.name=e,this.type=t,this.buffer=n,this.size=r,this.semantic=i,this.symbol=\"\",this.needsRemove=!1}function d(e){this.buffer=e,this.count=0}u.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var t=s(this.type);this.value=new t(e*this.size)}},u.prototype.fromArray=function(e){var t,n=s(this.type);if(e[0]&&e[0].length){var r=0,i=this.size;t=new n(e.length*i);for(var a=0;a<e.length;a++)for(var o=0;o<i;o++)t[r++]=e[a][o]}else t=new n(e);this.value=t},u.prototype.clone=function(e){var t=new u(this.name,this.type,this.size,this.semantic);return e&&console.warn(\"todo\"),t};var f=r[\"a\"].extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new a[\"a\"],this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:\"\",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),t=0;t<e.length;t++)this.dirtyAttribute(e[t]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirtyAll(\"any\")},dirtyIndices:function(){this._cache.dirtyAll(\"indices\")},dirtyAttribute:function(e){this._cache.dirtyAll(l(e)),this._cache.dirtyAll(\"attributes\")},getTriangleIndices:function(e,t){if(e<this.triangleCount&&e>=0){t||(t=[]);var n=this.indices;return t[0]=n[3*e],t[1]=n[3*e+1],t[2]=n[3*e+2],t}},setTriangleIndices:function(e,t){var n=this.indices;n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var t,n=this.vertexCount>65535?o[\"a\"].Uint32Array:o[\"a\"].Uint16Array;if(e[0]&&e[0].length){var r=0,i=3;t=new n(e.length*i);for(var a=0;a<e.length;a++)for(var s=0;s<i;s++)t[r++]=e[a][s]}else t=new n(e);this.indices=t},createAttribute:function(e,t,n,r){var i=new u(e,t,n,r);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=i,this._attributeList.push(e),i},removeAttribute:function(e){var t=this._attributeList,n=t.indexOf(e);return n>=0&&(t.splice(n,1),delete this.attributes[e],!0)},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,t=this._attributeList;if(e)return e;for(var n=[],r=this.vertexCount,i=0;i<t.length;i++){var a=t[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&n.push(a)}return this._enabledAttributes=n,n},getBufferChunks:function(e){var t=this._cache;t.use(e.__uid__);var n=t.isDirty(\"attributes\"),r=t.isDirty(\"indices\");if(n||r){this._updateBuffer(e.gl,n,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)t.fresh(l(i[a]));t.fresh(\"attributes\"),t.fresh(\"indices\")}return t.fresh(\"any\"),t.get(\"chunks\")},_updateBuffer:function(e,t,n){var r=this._cache,i=r.get(\"chunks\"),a=!1;i||(i=[],i[0]={attributeBuffers:[],indicesBuffer:null},r.put(\"chunks\",i),a=!0);var o=i[0],s=o.attributeBuffers,u=o.indicesBuffer;if(t||a){var f=this.getEnabledAttributes(),h={};if(!a)for(var p=0;p<s.length;p++)h[s[p].name]=s[p];for(var m=0;m<f.length;m++){var v,g,_=f[m],y=this.attributes[_];a||(v=h[_]),g=v?v.buffer:e.createBuffer(),r.isDirty(l(_))&&(e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,y.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),s[m]=new c(_,y.type,g,y.size,y.semantic)}for(p=m;p<s.length;p++)e.deleteBuffer(s[p].buffer);s.length=m}this.isUseIndices()&&(n||a)&&(u||(u=new d(e.createBuffer()),o.indicesBuffer=u),u.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get(\"chunks\");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension(\"OES_vertex_array_object\");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(f.prototype,\"vertexCount\",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),e&&e.value?e.value.length/e.size:0}}),Object.defineProperty(f.prototype,\"triangleCount\",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}})),f.STATIC_DRAW=i[\"a\"].STATIC_DRAW,f.DYNAMIC_DRAW=i[\"a\"].DYNAMIC_DRAW,f.STREAM_DRAW=i[\"a\"].STREAM_DRAW,f.AttributeBuffer=c,f.IndicesBuffer=d,f.Attribute=u,t[\"a\"]=f},function(e,t,n){\"use strict\";var r=n(119),i=\"uniform vec3 \",a=\"uniform float \",o=\"@export clay.header.\",s=\"@end\",l=\":unconfigurable;\";t[\"a\"]=[o+\"directional_light\",i+\"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]\"+l,i+\"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]\"+l,s,o+\"ambient_light\",i+\"ambientLightColor[AMBIENT_LIGHT_COUNT]\"+l,s,o+\"ambient_sh_light\",i+\"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]\"+l,i+\"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]\"+l,r[\"a\"],s,o+\"ambient_cubemap_light\",i+\"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]\"+l,\"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]\"+l,\"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]\"+l,s,o+\"point_light\",i+\"pointLightPosition[POINT_LIGHT_COUNT]\"+l,a+\"pointLightRange[POINT_LIGHT_COUNT]\"+l,i+\"pointLightColor[POINT_LIGHT_COUNT]\"+l,s,o+\"spot_light\",i+\"spotLightPosition[SPOT_LIGHT_COUNT]\"+l,i+\"spotLightDirection[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightRange[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightFalloffFactor[SPOT_LIGHT_COUNT]\"+l,i+\"spotLightColor[SPOT_LIGHT_COUNT]\"+l,s].join(\"\\n\")},function(e,t,n){\"use strict\";t[\"a\"]=\"vec3 calcAmbientSHLight(int idx, vec3 N) {\\n int offset = 9 * idx;\\n return ambientSHLightCoefficients[0]\\n + ambientSHLightCoefficients[1] * N.x\\n + ambientSHLightCoefficients[2] * N.y\\n + ambientSHLightCoefficients[3] * N.z\\n + ambientSHLightCoefficients[4] * N.x * N.z\\n + ambientSHLightCoefficients[5] * N.z * N.y\\n + ambientSHLightCoefficients[6] * N.y * N.x\\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\\n}\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.skybox.vertex\\n#define SHADER_NAME skybox\\nuniform mat4 world : WORLD;\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nattribute vec3 position : POSITION;\\nvarying vec3 v_WorldPosition;\\nvoid main()\\n{\\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n}\\n@end\\n@export clay.skybox.fragment\\n#define PI 3.1415926\\nuniform mat4 viewInverse : VIEWINVERSE;\\n#ifdef EQUIRECTANGULAR\\nuniform sampler2D environmentMap;\\n#else\\nuniform samplerCube environmentMap;\\n#endif\\nuniform float lod: 0.0;\\nvarying vec3 v_WorldPosition;\\n@import clay.util.rgbm\\n@import clay.util.srgb\\n@import clay.util.ACES\\nvoid main()\\n{\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(v_WorldPosition - eyePos);\\n#ifdef EQUIRECTANGULAR\\n float phi = acos(V.y);\\n float theta = atan(-V.x, V.z) + PI * 0.5;\\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\\n#else\\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\\n #else\\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\\n #endif\\n#endif\\n#ifdef SRGB_DECODE\\n texel = sRGBToLinear(texel);\\n#endif\\n#ifdef TONEMAPPING\\n texel.rgb = ACESToneMapping(texel.rgb);\\n#endif\\n#ifdef SRGB_ENCODE\\n texel = linearTosRGB(texel);\\n#endif\\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\\n}\\n@end\"},function(e,t,n){\"use strict\";var r=n(4),i=n(5),a=(n(27),542327876),o=131072,s=512,l=4;function u(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var c=31,d=u(\"DXT1\"),f=u(\"DXT3\"),h=u(\"DXT5\"),p=0,m=1,v=2,g=3,_=4,y=7,x=20,b=21,w=28,A={parse:function(e,t){var n=new Int32Array(e,0,c);if(n[p]!==a)return null;if(!n(x)&l)return null;var u,A,T=n(b),S=n[_],E=n[g],C=n[w]&s,M=n[v]&o;switch(T){case d:u=8,A=r[\"a\"].COMPRESSED_RGB_S3TC_DXT1_EXT;break;case f:u=16,A=r[\"a\"].COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case h:u=16,A=r[\"a\"].COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var D=n[m]+4,N=C?6:1,L=1;M&&(L=Math.max(1,n[y]));for(var I=[],P=0;P<N;P++){var O=S,R=E;I[P]=new i[\"a\"]({width:O,height:R,format:A});for(var k=[],F=0;F<L;F++){var B=Math.max(4,O)/4*Math.max(4,R)/4*u,z=new Uint8Array(e,D,B);D+=B,O*=.5,R*=.5,k[F]=z}I[P].pixels=k[0],M&&(I[P].mipmaps=k)}if(!t)return I[0];t.width=I[0].width,t.height=I[0].height,t.format=I[0].format,t.pixels=I[0].pixels,t.mipmaps=I[0].mipmaps}};t[\"a\"]=A},function(e,t,n){\"use strict\";var r=n(4),i=n(5),a=String.fromCharCode,o=8,s=32767;function l(e,t,n,r){if(e[3]>0){var i=Math.pow(2,e[3]-128-8+r);t[n+0]=e[0]*i,t[n+1]=e[1]*i,t[n+2]=e[2]*i}else t[n+0]=0,t[n+1]=0,t[n+2]=0;return t[n+3]=1,t}function u(e,t,n){for(var r=\"\",i=t;i<n;i++)r+=a(e[i]);return r}function c(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]}function d(e,t,n,r){var i=0,a=0,o=r;while(o>0)if(e[a][0]=t[n++],e[a][1]=t[n++],e[a][2]=t[n++],e[a][3]=t[n++],1===e[a][0]&&1===e[a][1]&&1===e[a][2]){for(var s=e[a][3]<<i>>>0;s>0;s--)c(e[a-1],e[a]),a++,o--;i+=8}else a++,o--,i=0;return n}function f(e,t,n,r){if(r<o|r>s)return d(e,t,n,r);var i=t[n++];if(2!=i)return d(e,t,n-1,r);if(e[0][1]=t[n++],e[0][2]=t[n++],i=t[n++],(e[0][2]<<8>>>0|i)>>>0!==r)return null;for(i=0;i<4;i++)for(var a=0;a<r;){var l=t[n++];if(l>128){l=(127&l)>>>0;var u=t[n++];while(l--)e[a++][i]=u}else while(l--)e[a++][i]=t[n++]}return n}var h={parseRGBE:function(e,t,n){null==n&&(n=0);var o=new Uint8Array(e),s=o.length;if(\"#?\"===u(o,0,2)){for(var c=2;c<s;c++)if(\"\\n\"===a(o[c])&&\"\\n\"===a(o[c+1]))break;if(!(c>=s)){c+=2;for(var d=\"\";c<s;c++){var h=a(o[c]);if(\"\\n\"===h)break;d+=h}var p=d.split(\" \"),m=parseInt(p[1]),v=parseInt(p[3]);if(v&&m){for(var g=c+1,_=[],y=0;y<v;y++){_[y]=[];for(var x=0;x<4;x++)_[y][x]=0}for(var b=new Float32Array(v*m*4),w=0,A=0;A<m;A++){g=f(_,o,g,v);if(!g)return null;for(y=0;y<v;y++)l(_[y],b,w,n),w+=4}return t||(t=new i[\"a\"]),t.width=v,t.height=m,t.pixels=b,t.type=r[\"a\"].FLOAT,t}}}},parseRGBEFromPNG:function(e){}};t[\"a\"]=h},function(e,t,n){\"use strict\";var r=n(5),i=n(3),a=n(26),o=[\"mousedown\",\"mouseup\",\"mousemove\",\"mouseover\",\"mouseout\",\"click\",\"dblclick\",\"contextmenu\"];function s(e){return\"_on\"+e}var l=function(e){var t=this;this._texture=new r[\"a\"]({anisotropic:32,flipY:!1,surface:this,dispose:function(e){t.dispose(),r[\"a\"].prototype.dispose.call(this,e)}}),o.forEach((function(e){this[s(e)]=function(t){t.triangle&&this._meshes.forEach((function(n){this.dispatchEvent(e,n,t.triangle,t.point)}),this)}}),this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};l.prototype={constructor:l,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var t=e.getDom();if(t instanceof HTMLCanvasElement){var n=this,r=e.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error(\"ECharts must init on canvas if it is used as texture.\"),t=document.createElement(\"canvas\");this._texture.image=t,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new i[\"a\"],t=new i[\"a\"],n=new i[\"a\"],r=new a[\"a\"],o=new a[\"a\"],s=new a[\"a\"],l=new a[\"a\"],u=new i[\"a\"];return function(c,d,f,h){var p=d.geometry,m=p.attributes.position,v=p.attributes.texcoord0,g=i[\"a\"].dot,_=i[\"a\"].cross;m.get(f[0],e.array),m.get(f[1],t.array),m.get(f[2],n.array),v.get(f[0],r.array),v.get(f[1],o.array),v.get(f[2],s.array),_(u,t,n);var y=g(e,u),x=g(h,u)/y;_(u,n,e);var b=g(h,u)/y;_(u,e,t);var w=g(h,u)/y;a[\"a\"].scale(l,r,x),a[\"a\"].scaleAndAdd(l,l,o,b),a[\"a\"].scaleAndAdd(l,l,s,w);var A=l.x*this._chart.getWidth(),T=l.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(c,{zrX:A,zrY:T})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(o.forEach((function(t){e.on(t,this[s(t)],this)}),this),this._meshes.push(e))},detachFromMesh:function(e){var t=this._meshes.indexOf(e);t>=0&&this._meshes.splice(t,1),o.forEach((function(t){e.off(t,this[s(t)])}),this)},dispose:function(){this._meshes.forEach((function(e){this.detachFromMesh(e)}),this)}},t[\"a\"]=l},function(e,t,n){\"use strict\";var r=n(24),i=n(77),a=r[\"a\"].extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:\"AMBIENT_CUBEMAP_LIGHT\",prefilter:function(e,t){if(e.getGLExtension(\"EXT_shader_texture_lod\")){this._brdfLookup||(this._normalDistribution=i[\"a\"].generateNormalDistribution(),this._brdfLookup=i[\"a\"].integrateBRDF(e,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=i[\"a\"].prefilterEnvironmentMap(e,n,{encodeRGBM:!0,width:t,height:t},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(e)}}else console.warn(\"Device not support textureCubeLodEXT\")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:\"3f\",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientCubemapLightCubemap:{type:\"t\",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:\"t\",value:function(e){return e._brdfLookup}}}});t[\"a\"]=a},function(e,t,n){\"use strict\";t[\"a\"]=\"\\n@export clay.compositor.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\nvarying vec2 v_Texcoord;\\nvoid main()\\n{\\n v_Texcoord = texcoord;\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"#define SAMPLE_NUMBER 1024\\n#define PI 3.14159265358979\\nuniform sampler2D normalDistribution;\\nuniform vec2 viewportSize : [512, 256];\\nconst vec3 N = vec3(0.0, 0.0, 1.0);\\nconst float fSampleNumber = float(SAMPLE_NUMBER);\\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\\n vec3 tangentX = normalize(cross(N, upVector));\\n vec3 tangentZ = cross(N, tangentX);\\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\\n}\\nfloat G_Smith(float roughness, float NoV, float NoL) {\\n float k = roughness * roughness / 2.0;\\n float G1V = NoV / (NoV * (1.0 - k) + k);\\n float G1L = NoL / (NoL * (1.0 - k) + k);\\n return G1L * G1V;\\n}\\nvoid main() {\\n vec2 uv = gl_FragCoord.xy / viewportSize;\\n float NoV = uv.x;\\n float roughness = uv.y;\\n vec3 V;\\n V.x = sqrt(1.0 - NoV * NoV);\\n V.y = 0.0;\\n V.z = NoV;\\n float A = 0.0;\\n float B = 0.0;\\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\\n vec3 L = reflect(-V, H);\\n float NoL = clamp(L.z, 0.0, 1.0);\\n float NoH = clamp(H.z, 0.0, 1.0);\\n float VoH = clamp(dot(V, H), 0.0, 1.0);\\n if (NoL > 0.0) {\\n float G = G_Smith(roughness, NoV, NoL);\\n float G_Vis = G * VoH / (NoH * NoV);\\n float Fc = pow(1.0 - VoH, 5.0);\\n A += (1.0 - Fc) * G_Vis;\\n B += Fc * G_Vis;\\n }\\n }\\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\\n}\\n\"},function(e,t,n){\"use strict\";t[\"a\"]=\"#define SHADER_NAME prefilter\\n#define SAMPLE_NUMBER 1024\\n#define PI 3.14159265358979\\nuniform mat4 viewInverse : VIEWINVERSE;\\nuniform samplerCube environmentMap;\\nuniform sampler2D normalDistribution;\\nuniform float roughness : 0.5;\\nvarying vec2 v_Texcoord;\\nvarying vec3 v_WorldPosition;\\n@import clay.util.rgbm\\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\\n vec3 tangentX = normalize(cross(N, upVector));\\n vec3 tangentZ = cross(N, tangentX);\\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\\n}\\nvoid main() {\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(v_WorldPosition - eyePos);\\n vec3 N = V;\\n vec3 prefilteredColor = vec3(0.0);\\n float totalWeight = 0.0;\\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\\n vec3 L = reflect(-V, H);\\n float NoL = clamp(dot(N, L), 0.0, 1.0);\\n if (NoL > 0.0) {\\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\\n totalWeight += NoL;\\n }\\n }\\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\\n}\\n\"},function(e,t,n){\"use strict\";var r=n(24),i=n(13),a=r[\"a\"].extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new i[\"a\"].Float32Array(27)}),{type:\"AMBIENT_SH_LIGHT\",uniformTemplates:{ambientSHLightColor:{type:\"3f\",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientSHLightCoefficients:{type:\"3f\",value:function(e){for(var t=e._coefficientsTmpArr,n=0;n<e.coefficients.length;n++)t[n]=e.coefficients[n];return t}}}});t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(4),i=n(10),a=n(5),o=(n(15),n(13)),s=n(42),l=n(75),u=n(61),c=n(36),d=n(12),f=(n(130),{}),h=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"];function p(e,t){var n=e[0],r=e[1],i=e[2];return 0===t?1:1===t?n:2===t?r:3===t?i:4===t?n*i:5===t?r*i:6===t?n*r:7===t?3*i*i-1:n*n-r*r}var m={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function v(e,t,n,r){for(var i=new o[\"a\"].Float32Array(27),a=d[\"a\"].create(),s=d[\"a\"].create(),l=d[\"a\"].create(),u=0;u<9;u++){for(var c=d[\"a\"].create(),f=0;f<h.length;f++){for(var v=t[h[f]],g=d[\"a\"].create(),_=0,y=0,x=m[h[f]],b=0;b<r;b++)for(var w=0;w<n;w++){a[0]=w/(n-1)*2-1,a[1]=b/(r-1)*2-1,a[2]=-1,d[\"a\"].normalize(a,a),l[0]=a[x[0]]*x[3],l[1]=a[x[1]]*x[4],l[2]=a[x[2]]*x[5],s[0]=v[y++]/255,s[1]=v[y++]/255,s[2]=v[y++]/255;var A=v[y++]/255*8.12;s[0]*=A,s[1]*=A,s[2]*=A,d[\"a\"].scaleAndAdd(g,g,s,p(l,u)*-a[2]),_+=-a[2]}d[\"a\"].scaleAndAdd(c,c,g,1/_)}i[3*u]=c[0]/6,i[3*u+1]=c[1]/6,i[3*u+2]=c[2]/6}return i}f.projectEnvironmentMap=function(e,t,n){var o;n=n||{},n.lod=n.lod||0;var d=new c[\"a\"],f=64;\"texture2D\"===t.textureType?o=new l[\"a\"]({scene:d,environmentMap:t}):(f=t.image&&t.image.px?t.image.px.width:t.width,o=new s[\"a\"]({scene:d,environmentMap:t}));var p=Math.ceil(f/Math.pow(2,n.lod)),m=Math.ceil(f/Math.pow(2,n.lod)),g=new a[\"a\"]({width:p,height:m}),_=new i[\"a\"];o.material.define(\"fragment\",\"RGBM_ENCODE\"),n.decodeRGBM&&o.material.define(\"fragment\",\"RGBM_DECODE\"),o.material.set(\"lod\",n.lod);for(var y=new u[\"a\"]({texture:g}),x={},b=0;b<h.length;b++){x[h[b]]=new Uint8Array(p*m*4);var w=y.getCamera(h[b]);w.fov=90,_.attach(g),_.bind(e),e.render(d,w),e.gl.readPixels(0,0,p,m,r[\"a\"].RGBA,r[\"a\"].UNSIGNED_BYTE,x[h[b]]),_.unbind(e)}return o.dispose(e),_.dispose(e),g.dispose(e),v(e,x,p,m)},t[\"a\"]=f},function(e,t,n){\"use strict\";t[\"a\"]=\"uniform samplerCube environmentMap;\\nvarying vec2 v_Texcoord;\\n#define TEXTURE_SIZE 16\\nmat3 front = mat3(\\n 1.0, 0.0, 0.0,\\n 0.0, 1.0, 0.0,\\n 0.0, 0.0, 1.0\\n);\\nmat3 back = mat3(\\n -1.0, 0.0, 0.0,\\n 0.0, 1.0, 0.0,\\n 0.0, 0.0, -1.0\\n);\\nmat3 left = mat3(\\n 0.0, 0.0, -1.0,\\n 0.0, 1.0, 0.0,\\n 1.0, 0.0, 0.0\\n);\\nmat3 right = mat3(\\n 0.0, 0.0, 1.0,\\n 0.0, 1.0, 0.0,\\n -1.0, 0.0, 0.0\\n);\\nmat3 up = mat3(\\n 1.0, 0.0, 0.0,\\n 0.0, 0.0, 1.0,\\n 0.0, -1.0, 0.0\\n);\\nmat3 down = mat3(\\n 1.0, 0.0, 0.0,\\n 0.0, 0.0, -1.0,\\n 0.0, 1.0, 0.0\\n);\\nfloat harmonics(vec3 normal){\\n int index = int(gl_FragCoord.x);\\n float x = normal.x;\\n float y = normal.y;\\n float z = normal.z;\\n if(index==0){\\n return 1.0;\\n }\\n else if(index==1){\\n return x;\\n }\\n else if(index==2){\\n return y;\\n }\\n else if(index==3){\\n return z;\\n }\\n else if(index==4){\\n return x*z;\\n }\\n else if(index==5){\\n return y*z;\\n }\\n else if(index==6){\\n return x*y;\\n }\\n else if(index==7){\\n return 3.0*z*z - 1.0;\\n }\\n else{\\n return x*x - y*y;\\n }\\n}\\nvec3 sampleSide(mat3 rot)\\n{\\n vec3 result = vec3(0.0);\\n float divider = 0.0;\\n for (int i = 0; i < TEXTURE_SIZE * TEXTURE_SIZE; i++) {\\n float x = mod(float(i), float(TEXTURE_SIZE));\\n float y = float(i / TEXTURE_SIZE);\\n vec2 sidecoord = ((vec2(x, y) + vec2(0.5, 0.5)) / vec2(TEXTURE_SIZE)) * 2.0 - 1.0;\\n vec3 normal = normalize(vec3(sidecoord, -1.0));\\n vec3 fetchNormal = rot * normal;\\n vec3 texel = textureCube(environmentMap, fetchNormal).rgb;\\n result += harmonics(fetchNormal) * texel * -normal.z;\\n divider += -normal.z;\\n }\\n return result / divider;\\n}\\nvoid main()\\n{\\n vec3 result = (\\n sampleSide(front) +\\n sampleSide(back) +\\n sampleSide(left) +\\n sampleSide(right) +\\n sampleSide(up) +\\n sampleSide(down)\\n ) / 6.0;\\n gl_FragColor = vec4(result, 1.0);\\n}\"},function(e,t,n){\"use strict\";var r=n(14),i=n(18),a=r[\"a\"].extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var e=this.heightSegments,t=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,a=this.attributes.normal,o=(t+1)*(e+1);n.init(o),r.init(o),a.init(o);var s,l,u,c,d,f,h,p,m,v,g,_=o>65535?Uint32Array:Uint16Array,y=this.indices=new _(t*e*6),x=this.radius,b=this.phiStart,w=this.phiLength,A=this.thetaStart,T=this.thetaLength,S=(x=this.radius,[]),E=[],C=0,M=1/x;for(h=0;h<=e;h++)for(f=0;f<=t;f++)c=f/t,d=h/e,s=-x*Math.cos(b+c*w)*Math.sin(A+d*T),l=x*Math.cos(A+d*T),u=x*Math.sin(b+c*w)*Math.sin(A+d*T),S[0]=s,S[1]=l,S[2]=u,E[0]=c,E[1]=d,n.set(C,S),r.set(C,E),S[0]*=M,S[1]*=M,S[2]*=M,a.set(C,S),C++;var D=t+1,N=0;for(h=0;h<e;h++)for(f=0;f<t;f++)m=h*D+f,p=h*D+f+1,g=(h+1)*D+f+1,v=(h+1)*D+f,y[N++]=p,y[N++]=m,y[N++]=g,y[N++]=m,y[N++]=v,y[N++]=g;this.boundingBox=new i[\"a\"],this.boundingBox.max.set(x,x,x),this.boundingBox.min.set(-x,-x,-x)}});t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(24),i=r[\"a\"].extend({castShadow:!1},{type:\"AMBIENT_LIGHT\",uniformTemplates:{ambientLightColor:{type:\"3f\",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}}});t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(24),i=n(3),a=r[\"a\"].extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:\"DIRECTIONAL_LIGHT\",uniformTemplates:{directionalLightDirection:{type:\"3f\",value:function(e){return e.__dir=e.__dir||new i[\"a\"],e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:\"3f\",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=r[\"a\"].prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(24),i=r[\"a\"].extend({range:100,castShadow:!1},{type:\"POINT_LIGHT\",uniformTemplates:{pointLightPosition:{type:\"3f\",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:\"1f\",value:function(e){return e.range}},pointLightColor:{type:\"3f\",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=r[\"a\"].prototype.clone.call(this);return e.range=this.range,e}});t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(24),i=n(3),a=r[\"a\"].extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:\"SPOT_LIGHT\",uniformTemplates:{spotLightPosition:{type:\"3f\",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:\"1f\",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:\"1f\",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:\"1f\",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:\"1f\",value:function(e){return e.falloffFactor}},spotLightDirection:{type:\"3f\",value:function(e){return e.__dir=e.__dir||new i[\"a\"],e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:\"3f\",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=r[\"a\"].prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(33),i=function(e,t,n,i){e=e||0,t=t||0,n=n||0,i=i||0,this.array=r[\"a\"].fromValues(e,t,n,i),this._dirty=!0};i.prototype={constructor:i,add:function(e){return r[\"a\"].add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z,this.w)},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return r[\"a\"].dist(this.array,e.array)},distance:function(e){return r[\"a\"].distance(this.array,e.array)},div:function(e){return r[\"a\"].div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return r[\"a\"].divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return r[\"a\"].dot(this.array,e.array)},len:function(){return r[\"a\"].len(this.array)},length:function(){return r[\"a\"].length(this.array)},lerp:function(e,t,n){return r[\"a\"].lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return r[\"a\"].min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return r[\"a\"].max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return r[\"a\"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r[\"a\"].normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return r[\"a\"].random(this.array,e),this._dirty=!0,this},scale:function(e){return r[\"a\"].scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return r[\"a\"].scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return r[\"a\"].sqrDist(this.array,e.array)},squaredDistance:function(e){return r[\"a\"].squaredDistance(this.array,e.array)},sqrLen:function(){return r[\"a\"].sqrLen(this.array)},squaredLength:function(){return r[\"a\"].squaredLength(this.array)},sub:function(e){return r[\"a\"].sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return r[\"a\"].subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return r[\"a\"].transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return r[\"a\"].transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,\"x\",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),a(o,\"y\",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),a(o,\"z\",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),a(o,\"w\",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}i.add=function(e,t,n){return r[\"a\"].add(e.array,t.array,n.array),e._dirty=!0,e},i.set=function(e,t,n,i,a){r[\"a\"].set(e.array,t,n,i,a),e._dirty=!0},i.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},i.dist=function(e,t){return r[\"a\"].distance(e.array,t.array)},i.distance=i.dist,i.div=function(e,t,n){return r[\"a\"].divide(e.array,t.array,n.array),e._dirty=!0,e},i.divide=i.div,i.dot=function(e,t){return r[\"a\"].dot(e.array,t.array)},i.len=function(e){return r[\"a\"].length(e.array)},i.lerp=function(e,t,n,i){return r[\"a\"].lerp(e.array,t.array,n.array,i),e._dirty=!0,e},i.min=function(e,t,n){return r[\"a\"].min(e.array,t.array,n.array),e._dirty=!0,e},i.max=function(e,t,n){return r[\"a\"].max(e.array,t.array,n.array),e._dirty=!0,e},i.mul=function(e,t,n){return r[\"a\"].multiply(e.array,t.array,n.array),e._dirty=!0,e},i.multiply=i.mul,i.negate=function(e,t){return r[\"a\"].negate(e.array,t.array),e._dirty=!0,e},i.normalize=function(e,t){return r[\"a\"].normalize(e.array,t.array),e._dirty=!0,e},i.random=function(e,t){return r[\"a\"].random(e.array,t),e._dirty=!0,e},i.scale=function(e,t,n){return r[\"a\"].scale(e.array,t.array,n),e._dirty=!0,e},i.scaleAndAdd=function(e,t,n,i){return r[\"a\"].scaleAndAdd(e.array,t.array,n.array,i),e._dirty=!0,e},i.sqrDist=function(e,t){return r[\"a\"].sqrDist(e.array,t.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(e){return r[\"a\"].sqrLen(e.array)},i.squaredLength=i.sqrLen,i.sub=function(e,t,n){return r[\"a\"].subtract(e.array,t.array,n.array),e._dirty=!0,e},i.subtract=i.sub,i.transformMat4=function(e,t,n){return r[\"a\"].transformMat4(e.array,t.array,n.array),e._dirty=!0,e},i.transformQuat=function(e,t,n){return r[\"a\"].transformQuat(e.array,t.array,n.array),e._dirty=!0,e},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(78),i=function(){this.array=r[\"a\"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return r[\"a\"].adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return r[\"a\"].determinant(this.array)},identity:function(){return r[\"a\"].identity(this.array),this._dirty=!0,this},invert:function(){return r[\"a\"].invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return r[\"a\"].mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return r[\"a\"].multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return r[\"a\"].rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return r[\"a\"].scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return r[\"a\"].transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(e,t){return r[\"a\"].adjoint(e.array,t.array),e._dirty=!0,e},i.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},i.determinant=function(e){return r[\"a\"].determinant(e.array)},i.identity=function(e){return r[\"a\"].identity(e.array),e._dirty=!0,e},i.invert=function(e,t){return r[\"a\"].invert(e.array,t.array),e._dirty=!0,e},i.mul=function(e,t,n){return r[\"a\"].mul(e.array,t.array,n.array),e._dirty=!0,e},i.multiply=i.mul,i.rotate=function(e,t,n){return r[\"a\"].rotate(e.array,t.array,n),e._dirty=!0,e},i.scale=function(e,t,n){return r[\"a\"].scale(e.array,t.array,n.array),e._dirty=!0,e},i.transpose=function(e,t){return r[\"a\"].transpose(e.array,t.array),e._dirty=!0,e},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(79),i=function(){this.array=r[\"a\"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return r[\"a\"].determinant(this.array)},identity:function(){return r[\"a\"].identity(this.array),this._dirty=!0,this},invert:function(){return r[\"a\"].invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return r[\"a\"].mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return r[\"a\"].multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return r[\"a\"].rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return r[\"a\"].scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return r[\"a\"].translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},i.determinant=function(e){return r[\"a\"].determinant(e.array)},i.identity=function(e){return r[\"a\"].identity(e.array),e._dirty=!0,e},i.invert=function(e,t){return r[\"a\"].invert(e.array,t.array),e._dirty=!0,e},i.mul=function(e,t,n){return r[\"a\"].mul(e.array,t.array,n.array),e._dirty=!0,e},i.multiply=i.mul,i.rotate=function(e,t,n){return r[\"a\"].rotate(e.array,t.array,n),e._dirty=!0,e},i.scale=function(e,t,n){return r[\"a\"].scale(e.array,t.array,n.array),e._dirty=!0,e},i.translate=function(e,t,n){return r[\"a\"].translate(e.array,t.array,n.array),e._dirty=!0,e},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(34),i=function(){this.array=r[\"a\"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return r[\"a\"].adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(e){return r[\"a\"].copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return r[\"a\"].determinant(this.array)},fromMat2d:function(e){return r[\"a\"].fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return r[\"a\"].fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return r[\"a\"].fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return r[\"a\"].identity(this.array),this._dirty=!0,this},invert:function(){return r[\"a\"].invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return r[\"a\"].mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return r[\"a\"].mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return r[\"a\"].multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return r[\"a\"].multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return r[\"a\"].rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return r[\"a\"].scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return r[\"a\"].translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return r[\"a\"].normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return r[\"a\"].transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(e,t){return r[\"a\"].adjoint(e.array,t.array),e._dirty=!0,e},i.copy=function(e,t){return r[\"a\"].copy(e.array,t.array),e._dirty=!0,e},i.determinant=function(e){return r[\"a\"].determinant(e.array)},i.identity=function(e){return r[\"a\"].identity(e.array),e._dirty=!0,e},i.invert=function(e,t){return r[\"a\"].invert(e.array,t.array),e},i.mul=function(e,t,n){return r[\"a\"].mul(e.array,t.array,n.array),e._dirty=!0,e},i.multiply=i.mul,i.fromMat2d=function(e,t){return r[\"a\"].fromMat2d(e.array,t.array),e._dirty=!0,e},i.fromMat4=function(e,t){return r[\"a\"].fromMat4(e.array,t.array),e._dirty=!0,e},i.fromQuat=function(e,t){return r[\"a\"].fromQuat(e.array,t.array),e._dirty=!0,e},i.normalFromMat4=function(e,t){return r[\"a\"].normalFromMat4(e.array,t.array),e._dirty=!0,e},i.rotate=function(e,t,n){return r[\"a\"].rotate(e.array,t.array,n),e._dirty=!0,e},i.scale=function(e,t,n){return r[\"a\"].scale(e.array,t.array,n.array),e._dirty=!0,e},i.transpose=function(e,t){return r[\"a\"].transpose(e.array,t.array),e._dirty=!0,e},i.translate=function(e,t,n){return r[\"a\"].translate(e.array,t.array,n.array),e._dirty=!0,e},t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(141),i=n.n(r),a={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,t){this._animators=this._animators||[];var n,r=this;if(e){for(var a=e.split(\".\"),o=r,s=0,l=a.length;s<l;s++)o&&(o=o[a[s]]);o&&(n=o)}else n=r;if(null==n)throw new Error(\"Target \"+e+\" not exists\");var u=this._animators,c=new i.a(n,t),d=this;return c.during((function(){d.__zr&&d.__zr.refresh()})).done((function(){var e=u.indexOf(c);e>=0&&u.splice(e,1)})),u.push(c),this.__zr&&this.__zr.animation.addAnimator(c),c},stopAnimation:function(e){this._animators=this._animators||[];for(var t=this._animators,n=t.length,r=0;r<n;r++)t[r].stop(e);return t.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.addAnimator(this._animators[t])},removeAnimatorsFromZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.removeAnimator(this._animators[t])}};t[\"a\"]=a},function(e,t,n){var r=n(142),i=n(144),a=n(80),o=a.isArrayLike,s=Array.prototype.slice;function l(e,t){return e[t]}function u(e,t,n){e[t]=n}function c(e,t,n){return(t-e)*n+e}function d(e,t,n){return n>.5?t:e}function f(e,t,n,r,i){var a=e.length;if(1==i)for(var o=0;o<a;o++)r[o]=c(e[o],t[o],n);else{var s=a&&e[0].length;for(o=0;o<a;o++)for(var l=0;l<s;l++)r[o][l]=c(e[o][l],t[o][l],n)}}function h(e,t,n){var r=e.length,i=t.length;if(r!==i){var a=r>i;if(a)e.length=i;else for(var o=r;o<i;o++)e.push(1===n?t[o]:s.call(t[o]))}var l=e[0]&&e[0].length;for(o=0;o<e.length;o++)if(1===n)isNaN(e[o])&&(e[o]=t[o]);else for(var u=0;u<l;u++)isNaN(e[o][u])&&(e[o][u]=t[o][u])}function p(e,t,n){if(e===t)return!0;var r=e.length;if(r!==t.length)return!1;if(1===n){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1}else{var a=e[0].length;for(i=0;i<r;i++)for(var o=0;o<a;o++)if(e[i][o]!==t[i][o])return!1}return!0}function m(e,t,n,r,i,a,o,s,l){var u=e.length;if(1==l)for(var c=0;c<u;c++)s[c]=v(e[c],t[c],n[c],r[c],i,a,o);else{var d=e[0].length;for(c=0;c<u;c++)for(var f=0;f<d;f++)s[c][f]=v(e[c][f],t[c][f],n[c][f],r[c][f],i,a,o)}}function v(e,t,n,r,i,a,o){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*o+(-3*(t-n)-2*s-l)*a+s*i+t}function g(e){if(o(e)){var t=e.length;if(o(e[0])){for(var n=[],r=0;r<t;r++)n.push(s.call(e[r]));return n}return s.call(e)}return e}function _(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),\"rgba(\"+e.join(\",\")+\")\"}function y(e){var t=e[e.length-1].value;return o(t&&t[0])?2:1}function x(e,t,n,a,s,l){var u=e._getter,g=e._setter,x=\"spline\"===t,b=a.length;if(b){var w,A=a[0].value,T=o(A),S=!1,E=!1,C=T?y(a):0;a.sort((function(e,t){return e.time-t.time})),w=a[b-1].time;for(var M=[],D=[],N=a[0].value,L=!0,I=0;I<b;I++){M.push(a[I].time/w);var P=a[I].value;if(T&&p(P,N,C)||!T&&P===N||(L=!1),N=P,\"string\"==typeof P){var O=i.parse(P);O?(P=O,S=!0):E=!0}D.push(P)}if(l||!L){var R=D[b-1];for(I=0;I<b-1;I++)T?h(D[I],R,C):!isNaN(D[I])||isNaN(R)||E||S||(D[I]=R);T&&h(u(e._target,s),R,C);var k,F,B,z,H,U,G=0,j=0;if(S)var V=[0,0,0,0];var W=function(e,t){var n;if(t<0)n=0;else if(t<j){for(k=Math.min(G+1,b-1),n=k;n>=0;n--)if(M[n]<=t)break;n=Math.min(n,b-2)}else{for(n=G;n<b;n++)if(M[n]>t)break;n=Math.min(n-1,b-2)}G=n,j=t;var r=M[n+1]-M[n];if(0!==r)if(F=(t-M[n])/r,x)if(z=D[n],B=D[0===n?n:n-1],H=D[n>b-2?b-1:n+1],U=D[n>b-3?b-1:n+2],T)m(B,z,H,U,F,F*F,F*F*F,u(e,s),C);else{if(S)i=m(B,z,H,U,F,F*F,F*F*F,V,1),i=_(V);else{if(E)return d(z,H,F);i=v(B,z,H,U,F,F*F,F*F*F)}g(e,s,i)}else if(T)f(D[n],D[n+1],F,u(e,s),C);else{var i;if(S)f(D[n],D[n+1],F,V,1),i=_(V);else{if(E)return d(D[n],D[n+1],F);i=c(D[n],D[n+1],F)}g(e,s,i)}},$=new r({target:e._target,life:w,loop:e._loop,delay:e._delay,onframe:W,ondestroy:n});return t&&\"spline\"!==t&&($.easing=t),$}}}var b=function(e,t,n,r){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||l,this._setter=r||u,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(e,t){var n=this._tracks;for(var r in t)if(t.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==e&&n[r].push({time:0,value:g(i)})}n[r].push({time:e,value:t[r]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,r=this,i=0,a=function(){i--,i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=x(this,e,a,this._tracks[o],o,t);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(e,t){l(e,t);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,r=0;r<t.length;r++){var i=t[r];e&&i.onframe(this._target,1),n&&n.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var w=b;e.exports=w},function(e,t,n){var r=n(143);function i(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||\"Linear\",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,a=\"string\"==typeof i?r[i]:i,o=\"function\"===typeof a?a(n):n;return this.fire(\"frame\",o),1==n?this.loop?(this.restart(e),\"restart\"):(this._needsRemove=!0,\"destroy\"):null}}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e=\"on\"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var a=i;e.exports=a},function(e,t){var n={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r))},elasticOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-n.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5}},r=n;e.exports=r},function(e,t,n){var r=n(74),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function a(e){return e=Math.round(e),e<0?0:e>255?255:e}function o(e){return e=Math.round(e),e<0?0:e>360?360:e}function s(e){return e<0?0:e>1?1:e}function l(e){return e.length&&\"%\"===e.charAt(e.length-1)?a(parseFloat(e)/100*255):a(parseInt(e,10))}function u(e){return e.length&&\"%\"===e.charAt(e.length-1)?s(parseFloat(e)/100):s(parseFloat(e))}function c(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function d(e,t,n){return e+(t-e)*n}function f(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var p=new r(20),m=null;function v(e,t){m&&h(m,t),m=p.put(e,m||t.slice())}function g(e,t){if(e){t=t||[];var n=p.get(e);if(n)return h(t,n);e+=\"\";var r=e.replace(/ /g,\"\").toLowerCase();if(r in i)return h(t,i[r]),v(e,t),t;if(\"#\"!==r.charAt(0)){var a=r.indexOf(\"(\"),o=r.indexOf(\")\");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),c=r.substr(a+1,o-(a+1)).split(\",\"),d=1;switch(s){case\"rgba\":if(4!==c.length)return void f(t,0,0,0,1);d=u(c.pop());case\"rgb\":return 3!==c.length?void f(t,0,0,0,1):(f(t,l(c[0]),l(c[1]),l(c[2]),d),v(e,t),t);case\"hsla\":return 4!==c.length?void f(t,0,0,0,1):(c[3]=u(c[3]),_(c,t),v(e,t),t);case\"hsl\":return 3!==c.length?void f(t,0,0,0,1):(_(c,t),v(e,t),t);default:return}}f(t,0,0,0,1)}else{if(4===r.length){var m=parseInt(r.substr(1),16);return m>=0&&m<=4095?(f(t,(3840&m)>>4|(3840&m)>>8,240&m|(240&m)>>4,15&m|(15&m)<<4,1),v(e,t),t):void f(t,0,0,0,1)}if(7===r.length){m=parseInt(r.substr(1),16);return m>=0&&m<=16777215?(f(t,(16711680&m)>>16,(65280&m)>>8,255&m,1),v(e,t),t):void f(t,0,0,0,1)}}}}function _(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=u(e[1]),i=u(e[2]),o=i<=.5?i*(r+1):i+r-i*r,s=2*i-o;return t=t||[],f(t,a(255*c(s,o,n+1/3)),a(255*c(s,o,n)),a(255*c(s,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function y(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o,u=(s+o)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+o):l/(2-s-o);var c=((s-r)/6+l/2)/l,d=((s-i)/6+l/2)/l,f=((s-a)/6+l/2)/l;r===s?t=f-d:i===s?t=1/3+c-f:a===s&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,n,u];return null!=e[3]&&h.push(e[3]),h}}function x(e,t){var n=g(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:e[r]<0&&(n[r]=0);return M(n,4===n.length?\"rgba\":\"rgb\")}}function b(e){var t=g(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function w(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),i=Math.floor(r),o=Math.ceil(r),l=t[i],u=t[o],c=r-i;return n[0]=a(d(l[0],u[0],c)),n[1]=a(d(l[1],u[1],c)),n[2]=a(d(l[2],u[2],c)),n[3]=s(d(l[3],u[3],c)),n}}var A=w;function T(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),i=Math.floor(r),o=Math.ceil(r),l=g(t[i]),u=g(t[o]),c=r-i,f=M([a(d(l[0],u[0],c)),a(d(l[1],u[1],c)),a(d(l[2],u[2],c)),s(d(l[3],u[3],c))],\"rgba\");return n?{color:f,leftIndex:i,rightIndex:o,value:r}:f}}var S=T;function E(e,t,n,r){if(e=g(e),e)return e=y(e),null!=t&&(e[0]=o(t)),null!=n&&(e[1]=u(n)),null!=r&&(e[2]=u(r)),M(_(e),\"rgba\")}function C(e,t){if(e=g(e),e&&null!=t)return e[3]=s(t),M(e,\"rgba\")}function M(e,t){if(e&&e.length){var n=e[0]+\",\"+e[1]+\",\"+e[2];return\"rgba\"!==t&&\"hsva\"!==t&&\"hsla\"!==t||(n+=\",\"+e[3]),t+\"(\"+n+\")\"}}t.parse=g,t.lift=x,t.toHex=b,t.fastLerp=w,t.fastMapToColor=A,t.lerp=T,t.mapToColor=S,t.modifyHSL=E,t.modifyAlpha=C,t.stringify=M},function(e,t,n){\"use strict\";t[\"a\"]=\"\\n@export clay.util.rand\\nhighp float rand(vec2 uv) {\\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\\n return fract(sin(sn) * c);\\n}\\n@end\\n@export clay.util.calculate_attenuation\\nuniform float attenuationFactor : 5.0;\\nfloat lightAttenuation(float dist, float range)\\n{\\n float attenuation = 1.0;\\n attenuation = dist*dist/(range*range+1.0);\\n float att_s = attenuationFactor;\\n attenuation = 1.0/(attenuation*att_s+1.0);\\n att_s = 1.0/(att_s+1.0);\\n attenuation = attenuation - att_s;\\n attenuation /= 1.0 - att_s;\\n return clamp(attenuation, 0.0, 1.0);\\n}\\n@end\\n@export clay.util.edge_factor\\n#ifdef SUPPORT_STANDARD_DERIVATIVES\\nfloat edgeFactor(float width)\\n{\\n vec3 d = fwidth(v_Barycentric);\\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\\n return min(min(a3.x, a3.y), a3.z);\\n}\\n#else\\nfloat edgeFactor(float width)\\n{\\n return 1.0;\\n}\\n#endif\\n@end\\n@export clay.util.encode_float\\nvec4 encodeFloat(const in float depth)\\n{\\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\\n vec4 res = fract(depth * bitShifts);\\n res -= res.xxyz * bit_mask;\\n return res;\\n}\\n@end\\n@export clay.util.decode_float\\nfloat decodeFloat(const in vec4 color)\\n{\\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\\n return dot(color, bitShifts);\\n}\\n@end\\n@export clay.util.float\\n@import clay.util.encode_float\\n@import clay.util.decode_float\\n@end\\n@export clay.util.rgbm_decode\\nvec3 RGBMDecode(vec4 rgbm, float range) {\\n return range * rgbm.rgb * rgbm.a;\\n}\\n@end\\n@export clay.util.rgbm_encode\\nvec4 RGBMEncode(vec3 color, float range) {\\n if (dot(color, color) == 0.0) {\\n return vec4(0.0);\\n }\\n vec4 rgbm;\\n color /= range;\\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\\n rgbm.rgb = color / rgbm.a;\\n return rgbm;\\n}\\n@end\\n@export clay.util.rgbm\\n@import clay.util.rgbm_decode\\n@import clay.util.rgbm_encode\\nvec4 decodeHDR(vec4 color)\\n{\\n#if defined(RGBM_DECODE) || defined(RGBM)\\n return vec4(RGBMDecode(color, 8.12), 1.0);\\n#else\\n return color;\\n#endif\\n}\\nvec4 encodeHDR(vec4 color)\\n{\\n#if defined(RGBM_ENCODE) || defined(RGBM)\\n return RGBMEncode(color.xyz, 8.12);\\n#else\\n return color;\\n#endif\\n}\\n@end\\n@export clay.util.srgb\\nvec4 sRGBToLinear(in vec4 value) {\\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\\n}\\nvec4 linearTosRGB(in vec4 value) {\\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\\n}\\n@end\\n@export clay.chunk.skinning_header\\n#ifdef SKINNING\\nattribute vec3 weight : WEIGHT;\\nattribute vec4 joint : JOINT;\\n#ifdef USE_SKIN_MATRICES_TEXTURE\\nuniform sampler2D skinMatricesTexture : ignore;\\nuniform float skinMatricesTextureSize: ignore;\\nmat4 getSkinMatrix(sampler2D tex, float idx) {\\n float j = idx * 4.0;\\n float x = mod(j, skinMatricesTextureSize);\\n float y = floor(j / skinMatricesTextureSize) + 0.5;\\n vec2 scale = vec2(skinMatricesTextureSize);\\n return mat4(\\n texture2D(tex, vec2(x + 0.5, y) / scale),\\n texture2D(tex, vec2(x + 1.5, y) / scale),\\n texture2D(tex, vec2(x + 2.5, y) / scale),\\n texture2D(tex, vec2(x + 3.5, y) / scale)\\n );\\n}\\nmat4 getSkinMatrix(float idx) {\\n return getSkinMatrix(skinMatricesTexture, idx);\\n}\\n#else\\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\\nmat4 getSkinMatrix(float idx) {\\n return skinMatrix[int(idx)];\\n}\\n#endif\\n#endif\\n@end\\n@export clay.chunk.skin_matrix\\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\\nif (weight.y > 1e-4)\\n{\\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\\n}\\nif (weight.z > 1e-4)\\n{\\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\\n}\\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\\nif (weightW > 1e-4)\\n{\\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\\n}\\n@end\\n@export clay.chunk.instancing_header\\n#ifdef INSTANCING\\nattribute vec4 instanceMat1;\\nattribute vec4 instanceMat2;\\nattribute vec4 instanceMat3;\\n#endif\\n@end\\n@export clay.chunk.instancing_matrix\\nmat4 instanceMat = mat4(\\n vec4(instanceMat1.xyz, 0.0),\\n vec4(instanceMat2.xyz, 0.0),\\n vec4(instanceMat3.xyz, 0.0),\\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\\n);\\n@end\\n@export clay.util.parallax_correct\\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\\n vec3 first = (boxMax - pos) / dir;\\n vec3 second = (boxMin - pos) / dir;\\n vec3 further = max(first, second);\\n float dist = min(further.x, min(further.y, further.z));\\n vec3 fixedPos = pos + dir * dist;\\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\\n return normalize(fixedPos - boxCenter);\\n}\\n@end\\n@export clay.util.clamp_sample\\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\\n{\\n#ifdef STEREO\\n float eye = step(0.5, coord.x) * 0.5;\\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\\n#else\\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\\n#endif\\n return texture2D(texture, coordClamped);\\n}\\n@end\\n@export clay.util.ACES\\nvec3 ACESToneMapping(vec3 color)\\n{\\n const float A = 2.51;\\n const float B = 0.03;\\n const float C = 2.43;\\n const float D = 0.59;\\n const float E = 0.14;\\n return (color * (A * color + B)) / (color * (C * color + D) + E);\\n}\\n@end\\n@export clay.util.logdepth_vertex_header\\n#ifdef LOG_DEPTH\\n#ifdef SUPPORT_FRAG_DEPTH\\nvarying float v_FragDepth;\\n#else\\nuniform float logDepthBufFC: LOG_DEPTH_BUFFER_FC;\\n#endif\\n#endif\\n@end\\n@export clay.util.logdepth_vertex_main\\n#ifdef LOG_DEPTH\\n #ifdef SUPPORT_FRAG_DEPTH\\n v_FragDepth = 1.0 + gl_Position.w;\\n #else\\n gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC - 1.0;\\n gl_Position.z *= gl_Position.w;\\n #endif\\n#endif\\n@end\\n@export clay.util.logdepth_fragment_header\\n#if defined(LOG_DEPTH) && defined(SUPPORT_FRAG_DEPTH)\\nvarying float v_FragDepth;\\nuniform float logDepthBufFC : LOG_DEPTH_BUFFER_FC;\\n#endif\\n@end\\n@export clay.util.logdepth_fragment_main\\n#if defined(LOG_DEPTH) && defined(SUPPORT_FRAG_DEPTH)\\n gl_FragDepthEXT = log2(v_FragDepth) * logDepthBufFC * 0.5;\\n#endif\\n@end\\n\"},function(e,t,n){\"use strict\";t[\"a\"]=\"\\n@export ecgl.common.transformUniforms\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\\nuniform mat4 world : WORLD;\\n@end\\n\\n@export ecgl.common.attributes\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\nattribute vec3 normal : NORMAL;\\n@end\\n\\n@export ecgl.common.uv.header\\nuniform vec2 uvRepeat : [1.0, 1.0];\\nuniform vec2 uvOffset : [0.0, 0.0];\\nuniform vec2 detailUvRepeat : [1.0, 1.0];\\nuniform vec2 detailUvOffset : [0.0, 0.0];\\n\\nvarying vec2 v_Texcoord;\\nvarying vec2 v_DetailTexcoord;\\n@end\\n\\n@export ecgl.common.uv.main\\nv_Texcoord = texcoord * uvRepeat + uvOffset;\\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\\n@end\\n\\n@export ecgl.common.uv.fragmentHeader\\nvarying vec2 v_Texcoord;\\nvarying vec2 v_DetailTexcoord;\\n@end\\n\\n\\n@export ecgl.common.albedo.main\\n\\n vec4 albedoTexel = vec4(1.0);\\n#ifdef DIFFUSEMAP_ENABLED\\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\\n #ifdef SRGB_DECODE\\n albedoTexel = sRGBToLinear(albedoTexel);\\n #endif\\n#endif\\n\\n#ifdef DETAILMAP_ENABLED\\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\\n #ifdef SRGB_DECODE\\n detailTexel = sRGBToLinear(detailTexel);\\n #endif\\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.wireframe.vertexHeader\\n\\n#ifdef WIREFRAME_QUAD\\nattribute vec4 barycentric;\\nvarying vec4 v_Barycentric;\\n#elif defined(WIREFRAME_TRIANGLE)\\nattribute vec3 barycentric;\\nvarying vec3 v_Barycentric;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.wireframe.vertexMain\\n\\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\\n v_Barycentric = barycentric;\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.wireframe.fragmentHeader\\n\\nuniform float wireframeLineWidth : 1;\\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\\n\\n#ifdef WIREFRAME_QUAD\\nvarying vec4 v_Barycentric;\\nfloat edgeFactor () {\\n vec4 d = fwidth(v_Barycentric);\\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\\n}\\n#elif defined(WIREFRAME_TRIANGLE)\\nvarying vec3 v_Barycentric;\\nfloat edgeFactor () {\\n vec3 d = fwidth(v_Barycentric);\\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\\n return min(min(a3.x, a3.y), a3.z);\\n}\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.wireframe.fragmentMain\\n\\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\\n if (wireframeLineWidth > 0.) {\\n vec4 lineColor = wireframeLineColor;\\n#ifdef SRGB_DECODE\\n lineColor = sRGBToLinear(lineColor);\\n#endif\\n\\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\\n }\\n#endif\\n@end\\n\\n\\n\\n\\n@export ecgl.common.bumpMap.header\\n\\n#ifdef BUMPMAP_ENABLED\\nuniform sampler2D bumpMap;\\nuniform float bumpScale : 1.0;\\n\\n\\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\\n{\\n vec2 dSTdx = dFdx(v_Texcoord);\\n vec2 dSTdy = dFdy(v_Texcoord);\\n\\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\\n\\n vec3 vSigmaX = dFdx(surfPos);\\n vec3 vSigmaY = dFdy(surfPos);\\n vec3 vN = surfNormal;\\n\\n vec3 R1 = cross(vSigmaY, vN);\\n vec3 R2 = cross(vN, vSigmaX);\\n\\n float fDet = dot(vSigmaX, R1);\\n\\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\\n return normalize(abs(fDet) * baseNormal - vGrad);\\n\\n}\\n#endif\\n\\n@end\\n\\n@export ecgl.common.normalMap.vertexHeader\\n\\n#ifdef NORMALMAP_ENABLED\\nattribute vec4 tangent : TANGENT;\\nvarying vec3 v_Tangent;\\nvarying vec3 v_Bitangent;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.normalMap.vertexMain\\n\\n#ifdef NORMALMAP_ENABLED\\n if (dot(tangent, tangent) > 0.0) {\\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\\n }\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.normalMap.fragmentHeader\\n\\n#ifdef NORMALMAP_ENABLED\\nuniform sampler2D normalMap;\\nvarying vec3 v_Tangent;\\nvarying vec3 v_Bitangent;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.normalMap.fragmentMain\\n#ifdef NORMALMAP_ENABLED\\n if (dot(v_Tangent, v_Tangent) > 0.0) {\\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\\n N = normalize(tbn * N);\\n }\\n }\\n#endif\\n@end\\n\\n\\n\\n@export ecgl.common.vertexAnimation.header\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nattribute vec3 prevNormal;\\nuniform float percent;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.vertexAnimation.main\\n\\n#ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n vec3 norm = mix(prevNormal, normal, percent);\\n#else\\n vec3 pos = position;\\n vec3 norm = normal;\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.ssaoMap.header\\n#ifdef SSAOMAP_ENABLED\\nuniform sampler2D ssaoMap;\\nuniform vec4 viewport : VIEWPORT;\\n#endif\\n@end\\n\\n@export ecgl.common.ssaoMap.main\\n float ao = 1.0;\\n#ifdef SSAOMAP_ENABLED\\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\\n#endif\\n@end\\n\\n\\n\\n\\n@export ecgl.common.diffuseLayer.header\\n\\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\\n#endif\\n\\n@end\\n\\n@export ecgl.common.emissiveLayer.header\\n\\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\\n#endif\\n\\n@end\\n\\n@export ecgl.common.layers.header\\n@import ecgl.common.diffuseLayer.header\\n@import ecgl.common.emissiveLayer.header\\n@end\\n\\n@export ecgl.common.diffuseLayer.main\\n\\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\\n float intensity = layerDiffuseIntensity[_idx_];\\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\\n #ifdef SRGB_DECODE\\n texel2 = sRGBToLinear(texel2);\\n #endif\\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\\n }}\\n#endif\\n\\n@end\\n\\n@export ecgl.common.emissiveLayer.main\\n\\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\\n {{\\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\\n #ifdef SRGB_DECODE\\n texel2 = sRGBToLinear(texel2);\\n #endif\\n float intensity = layerEmissionIntensity[_idx_];\\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\\n }}\\n#endif\\n\\n@end\\n\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.color.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\n@import ecgl.common.uv.header\\n\\nattribute vec2 texcoord : TEXCOORD_0;\\nattribute vec3 position: POSITION;\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nuniform float percent : 1.0;\\n#endif\\n\\nvoid main()\\n{\\n#ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n#else\\n vec3 pos = position;\\n#endif\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n @import ecgl.common.uv.main\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.vertexMain\\n\\n}\\n\\n@end\\n\\n@export ecgl.color.fragment\\n\\n#define LAYER_DIFFUSEMAP_COUNT 0\\n#define LAYER_EMISSIVEMAP_COUNT 0\\n\\nuniform sampler2D diffuseMap;\\nuniform sampler2D detailMap;\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n@import ecgl.common.layers.header\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color);\\n#else\\n gl_FragColor = color;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n gl_FragColor *= v_Color;\\n#endif\\n\\n @import ecgl.common.albedo.main\\n\\n @import ecgl.common.diffuseLayer.main\\n\\n gl_FragColor *= albedoTexel;\\n\\n @import ecgl.common.emissiveLayer.main\\n\\n @import ecgl.common.wireframe.fragmentMain\\n\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"/**\\n * http: */\\n\\n@export ecgl.lambert.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n\\n@import ecgl.common.attributes\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n\\n@import ecgl.common.vertexAnimation.header\\n\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nvoid main()\\n{\\n @import ecgl.common.uv.main\\n\\n @import ecgl.common.vertexAnimation.main\\n\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.vertexMain\\n}\\n\\n@end\\n\\n\\n@export ecgl.lambert.fragment\\n\\n#define LAYER_DIFFUSEMAP_COUNT 0\\n#define LAYER_EMISSIVEMAP_COUNT 0\\n\\n#define NORMAL_UP_AXIS 1\\n#define NORMAL_FRONT_AXIS 2\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform sampler2D diffuseMap;\\nuniform sampler2D detailMap;\\n\\n@import ecgl.common.layers.header\\n\\nuniform float emissionIntensity: 1.0;\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n@import clay.header.ambient_light\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n@import clay.header.ambient_sh_light\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import ecgl.common.bumpMap.header\\n\\n@import clay.util.srgb\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.plugin.compute_shadow_map\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color);\\n#else\\n gl_FragColor = color;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n #ifdef SRGB_DECODE\\n gl_FragColor *= sRGBToLinear(v_Color);\\n #else\\n gl_FragColor *= v_Color;\\n #endif\\n#endif\\n\\n @import ecgl.common.albedo.main\\n\\n @import ecgl.common.diffuseLayer.main\\n\\n gl_FragColor *= albedoTexel;\\n\\n vec3 N = v_Normal;\\n#ifdef DOUBLE_SIDED\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n\\n if (dot(N, V) < 0.0) {\\n N = -N;\\n }\\n#endif\\n\\n float ambientFactor = 1.0;\\n\\n#ifdef BUMPMAP_ENABLED\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n ambientFactor = dot(v_Normal, N);\\n#endif\\n\\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\\n\\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\\n {\\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\\n }\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\\n {{\\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\\n }}\\n#endif\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n#endif\\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\\n {\\n vec3 lightDirection = -directionalLightDirection[i];\\n vec3 lightColor = directionalLightColor[i];\\n\\n float shadowContrib = 1.0;\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n if (shadowEnabled)\\n {\\n shadowContrib = shadowContribsDir[i];\\n }\\n#endif\\n\\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\\n\\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\\n }\\n#endif\\n\\n gl_FragColor.rgb *= diffuseColor;\\n\\n @import ecgl.common.emissiveLayer.main\\n\\n @import ecgl.common.wireframe.fragmentMain\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.realistic.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n@import ecgl.common.attributes\\n\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n#ifdef NORMALMAP_ENABLED\\nattribute vec4 tangent : TANGENT;\\nvarying vec3 v_Tangent;\\nvarying vec3 v_Bitangent;\\n#endif\\n\\n@import ecgl.common.vertexAnimation.header\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nvoid main()\\n{\\n\\n @import ecgl.common.uv.main\\n\\n @import ecgl.common.vertexAnimation.main\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n\\n#ifdef NORMALMAP_ENABLED\\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\\n#endif\\n\\n @import ecgl.common.wireframe.vertexMain\\n\\n}\\n\\n@end\\n\\n\\n\\n@export ecgl.realistic.fragment\\n\\n#define LAYER_DIFFUSEMAP_COUNT 0\\n#define LAYER_EMISSIVEMAP_COUNT 0\\n#define PI 3.14159265358979\\n#define ROUGHNESS_CHANEL 0\\n#define METALNESS_CHANEL 1\\n\\n#define NORMAL_UP_AXIS 1\\n#define NORMAL_FRONT_AXIS 2\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform sampler2D diffuseMap;\\n\\nuniform sampler2D detailMap;\\nuniform sampler2D metalnessMap;\\nuniform sampler2D roughnessMap;\\n\\n@import ecgl.common.layers.header\\n\\nuniform float emissionIntensity: 1.0;\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nuniform float metalness : 0.0;\\nuniform float roughness : 0.5;\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n@import clay.header.ambient_light\\n#endif\\n\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n@import clay.header.ambient_sh_light\\n#endif\\n\\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\\n@import clay.header.ambient_cubemap_light\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n@import ecgl.common.normalMap.fragmentHeader\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import ecgl.common.bumpMap.header\\n\\n@import clay.util.srgb\\n\\n@import clay.util.rgbm\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.plugin.compute_shadow_map\\n\\nvec3 F_Schlick(float ndv, vec3 spec) {\\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\\n}\\n\\nfloat D_Phong(float g, float ndh) {\\n float a = pow(8192.0, g);\\n return (a + 2.0) / 8.0 * pow(ndh, a);\\n}\\n\\nvoid main()\\n{\\n vec4 albedoColor = color;\\n\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n#ifdef VERTEX_COLOR\\n #ifdef SRGB_DECODE\\n albedoColor *= sRGBToLinear(v_Color);\\n #else\\n albedoColor *= v_Color;\\n #endif\\n#endif\\n\\n @import ecgl.common.albedo.main\\n\\n @import ecgl.common.diffuseLayer.main\\n\\n albedoColor *= albedoTexel;\\n\\n float m = metalness;\\n\\n#ifdef METALNESSMAP_ENABLED\\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\\n#endif\\n\\n vec3 baseColor = albedoColor.rgb;\\n albedoColor.rgb = baseColor * (1.0 - m);\\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\\n\\n float g = 1.0 - roughness;\\n\\n#ifdef ROUGHNESSMAP_ENABLED\\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\\n#endif\\n\\n vec3 N = v_Normal;\\n\\n#ifdef DOUBLE_SIDED\\n if (dot(N, V) < 0.0) {\\n N = -N;\\n }\\n#endif\\n\\n float ambientFactor = 1.0;\\n\\n#ifdef BUMPMAP_ENABLED\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n ambientFactor = dot(v_Normal, N);\\n#endif\\n\\n@import ecgl.common.normalMap.fragmentMain\\n\\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\\n\\n vec3 diffuseTerm = vec3(0.0);\\n vec3 specularTerm = vec3(0.0);\\n\\n float ndv = clamp(dot(N, V), 0.0, 1.0);\\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\\n {{\\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\\n }}\\n#endif\\n\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\\n {{\\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\\n }}\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n#endif\\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\\n {{\\n vec3 L = -directionalLightDirection[_idx_];\\n vec3 lc = directionalLightColor[_idx_];\\n\\n vec3 H = normalize(L + V);\\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\\n float ndh = clamp(dot(N, H), 0.0, 1.0);\\n\\n float shadowContrib = 1.0;\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n if (shadowEnabled)\\n {\\n shadowContrib = shadowContribsDir[_idx_];\\n }\\n#endif\\n\\n vec3 li = lc * ndl * shadowContrib;\\n\\n diffuseTerm += li;\\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\\n }}\\n#endif\\n\\n\\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\\n vec3 L = reflect(-V, N);\\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\\n float bias2 = rough2 * 5.0;\\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\\n vec3 envTexel2;\\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\\n {{\\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\\n }}\\n#endif\\n\\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\\n gl_FragColor.a = albedoColor.a;\\n\\n#ifdef SRGB_ENCODE\\n gl_FragColor = linearTosRGB(gl_FragColor);\\n#endif\\n\\n @import ecgl.common.emissiveLayer.main\\n\\n @import ecgl.common.wireframe.fragmentMain\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.hatching.vertex\\n\\n@import ecgl.realistic.vertex\\n\\n@end\\n\\n\\n@export ecgl.hatching.fragment\\n\\n#define NORMAL_UP_AXIS 1\\n#define NORMAL_FRONT_AXIS 2\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n@import clay.header.ambient_light\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n@import clay.header.ambient_sh_light\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import ecgl.common.bumpMap.header\\n\\n@import clay.util.srgb\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.plugin.compute_shadow_map\\n\\nuniform sampler2D hatch1;\\nuniform sampler2D hatch2;\\nuniform sampler2D hatch3;\\nuniform sampler2D hatch4;\\nuniform sampler2D hatch5;\\nuniform sampler2D hatch6;\\n\\nfloat shade(in float tone) {\\n vec4 c = vec4(1. ,1., 1., 1.);\\n float step = 1. / 6.;\\n vec2 uv = v_DetailTexcoord;\\n if (tone <= step / 2.0) {\\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\\n }\\n else if (tone <= step) {\\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\\n }\\n if(tone > step && tone <= 2. * step){\\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\\n }\\n if(tone > 2. * step && tone <= 3. * step){\\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\\n }\\n if(tone > 3. * step && tone <= 4. * step){\\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\\n }\\n if(tone > 4. * step && tone <= 5. * step){\\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\\n }\\n if(tone > 5. * step){\\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\\n }\\n\\n return c.r;\\n}\\n\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n vec4 inkColor = sRGBToLinear(color);\\n#else\\n vec4 inkColor = color;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n #ifdef SRGB_DECODE\\n inkColor *= sRGBToLinear(v_Color);\\n #else\\n inkColor *= v_Color;\\n #endif\\n#endif\\n\\n vec3 N = v_Normal;\\n#ifdef DOUBLE_SIDED\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n\\n if (dot(N, V) < 0.0) {\\n N = -N;\\n }\\n#endif\\n\\n float tone = 0.0;\\n\\n float ambientFactor = 1.0;\\n\\n#ifdef BUMPMAP_ENABLED\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n ambientFactor = dot(v_Normal, N);\\n#endif\\n\\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\\n {\\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\\n }\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\\n {{\\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\\n }}\\n#endif\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n#endif\\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\\n {\\n vec3 lightDirection = -directionalLightDirection[i];\\n float lightTone = dot(directionalLightColor[i], w);\\n\\n float shadowContrib = 1.0;\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n if (shadowEnabled)\\n {\\n shadowContrib = shadowContribsDir[i];\\n }\\n#endif\\n\\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\\n\\n tone += lightTone * clamp(ndl, 0.0, 1.0);\\n }\\n#endif\\n\\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\\n }\\n@end\\n\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.sm.depth.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nuniform float percent : 1.0;\\n#endif\\n\\nvarying vec4 v_ViewPosition;\\nvarying vec2 v_Texcoord;\\n\\nvoid main(){\\n\\n#ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n#else\\n vec3 pos = position;\\n#endif\\n\\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\\n gl_Position = v_ViewPosition;\\n\\n v_Texcoord = texcoord;\\n\\n}\\n@end\\n\\n\\n\\n@export ecgl.sm.depth.fragment\\n\\n@import clay.sm.depth.fragment\\n\\n@end\"},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=[\"bar3D\",\"line3D\",\"map3D\",\"scatter3D\",\"surface\",\"lines3D\",\"scatterGL\",\"scatter3D\"];function o(e,t){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,r=e[t].emphasis;n&&(e[t]=n),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function s(e){o(e,\"itemStyle\"),o(e,\"lineStyle\"),o(e,\"areaStyle\"),o(e,\"label\")}function l(e){e&&(e instanceof Array||(e=[e]),i.a.util.each(e,(function(e){if(e.axisLabel){var t=e.axisLabel;i.a.util.extend(t,t.textStyle),t.textStyle=null}})))}t[\"a\"]=function(e){i.a.util.each(e.series,(function(t){i.a.util.indexOf(a,t.type)>=0&&(s(t),\"mapbox\"===t.coordinateSystem&&(t.coordinateSystem=\"mapbox3D\",e.mapbox3D=e.mapbox))})),l(e.xAxis3D),l(e.yAxis3D),l(e.zAxis3D),l(e.grid3D),o(e.geo3D)}},function(e,t,n){\"use strict\";n(154),n(158),n(159),n(166);var r=n(0),i=n.n(r);i.a.registerAction({type:\"grid3DChangeCamera\",event:\"grid3dcamerachanged\",update:\"series:updateCamera\"},(function(e,t){t.eachComponent({mainType:\"grid3D\",query:e},(function(t){t.setView(e)}))})),i.a.registerAction({type:\"grid3DShowAxisPointer\",event:\"grid3dshowaxispointer\",update:\"grid3D:showAxisPointer\"},(function(e,t){})),i.a.registerAction({type:\"grid3DHideAxisPointer\",event:\"grid3dhideaxispointer\",update:\"grid3D:hideAxisPointer\"},(function(e,t){}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(155),o=i.a.extendComponentModel({type:\"cartesian3DAxis\",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"grid3D\",index:this.option.gridIndex,id:this.option.gridId})[0]}});function s(e,t){return t.type||(t.data?\"category\":\"value\")}i.a.helper.mixinAxisModelCommonMethods(o),Object(a[\"a\"])(\"x\",o,s,{name:\"X\"}),Object(a[\"a\"])(\"y\",o,s,{name:\"Y\"}),Object(a[\"a\"])(\"z\",o,s,{name:\"Z\"})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(156),o=n(157),s=n.n(o),l=[\"value\",\"category\",\"time\",\"log\"];t[\"a\"]=function(e,t,n,r){i.a.util.each(l,(function(o){t.extend({type:e+\"Axis3D.\"+o,__ordinalMeta:null,mergeDefaultAndTheme:function(t,r){var a=r.getTheme();i.a.util.merge(t,a.get(o+\"Axis3D\")),i.a.util.merge(t,this.getDefaultOption()),t.type=n(e,t)},optionUpdated:function(){var e=this.option;\"category\"===e.type&&(this.__ordinalMeta=s.a.createByAxisModel(this))},getCategories:function(){if(\"category\"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i.a.util.merge(i.a.util.clone(a[\"a\"][o+\"Axis3D\"]),r||{},!0)})})),t.superClass.registerSubTypeDefaulter(e+\"Axis3D\",i.a.util.curry(n,e))}},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a={show:!0,grid3DIndex:0,inverse:!1,name:\"\",nameLocation:\"middle\",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},o=i.a.util.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:\"auto\"},axisLabel:{interval:\"auto\"},axisPointer:{label:{show:!1}}},a),s=i.a.util.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},a),l=i.a.util.defaults({scale:!0,min:\"dataMin\",max:\"dataMax\"},s),u=i.a.util.defaults({logBase:10},s);u.scale=!0,t[\"a\"]={categoryAxis3D:o,valueAxis3D:s,timeAxis3D:l,logAxis3D:u}},function(e,t,n){var r=n(16),i=r.createHashMap,a=r.isObject,o=r.map;function s(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}s.createByAxisModel=function(e){var t=e.option,n=t.data,r=n&&o(n,c);return new s({categories:r,needCollect:!r,deduplication:!1!==t.dedplication})};var l=s.prototype;function u(e){return e._map||(e._map=i(e.categories))}function c(e){return a(e)&&null!=e.value?e.value:e+\"\"}l.getOrdinal=function(e){return u(this).get(e)},l.parseAndCollect=function(e){var t,n=this._needCollect;if(\"string\"!==typeof e&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=u(this);return t=r.get(e),null==t&&(n?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t};var d=s;e.exports=d},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=i.a.extendComponentModel({type:\"grid3D\",dependencies:[\"xAxis3D\",\"yAxis3D\",\"zAxis3D\"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:\"100%\",height:\"100%\",environment:\"auto\",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:\"rgba(0, 0, 0, 0.8)\",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:\"#fff\",backgroundColor:\"rgba(0,0,0,0.5)\",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:\"#333\",width:2,type:\"solid\"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:[\"#ccc\"],width:1,type:\"solid\"}},splitArea:{show:!1,areaStyle:{color:[\"rgba(250,250,250,0.3)\",\"rgba(200,200,200,0.3)\"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});i.a.util.merge(l.prototype,a[\"a\"]),i.a.util.merge(l.prototype,o[\"a\"]),i.a.util.merge(l.prototype,s[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(25),l=n(2),u=n(82),c=n(30),d=n(161),f=n(163),h=n(62),p=n(46),m=l[\"a\"].firstNotNull;a[\"a\"].Shader.import(p[\"a\"]),[\"x\",\"y\",\"z\"].forEach((function(e){i.a.extendComponentView({type:e+\"Axis3D\"})}));var v={x:0,y:2,z:1};i.a.extendComponentView({type:\"grid3D\",__ecgl__:!0,init:function(e,t){var n=[[\"y\",\"z\",\"x\",-1,\"left\"],[\"y\",\"z\",\"x\",1,\"right\"],[\"x\",\"y\",\"z\",-1,\"bottom\"],[\"x\",\"y\",\"z\",1,\"top\"],[\"x\",\"z\",\"y\",-1,\"far\"],[\"x\",\"z\",\"y\",1,\"near\"]],r=[\"x\",\"y\",\"z\"],i=new a[\"a\"].Material({shader:a[\"a\"].createShader(\"ecgl.color\"),depthMask:!1,transparent:!0}),l=new a[\"a\"].Material({shader:a[\"a\"].createShader(\"ecgl.meshLines3D\"),depthMask:!1,transparent:!0});i.define(\"fragment\",\"DOUBLE_SIDED\"),i.define(\"both\",\"VERTEX_COLOR\"),this.groupGL=new a[\"a\"].Node,this._control=new o[\"a\"]({zr:t.getZr()}),this._control.init(),this._faces=n.map((function(e){var t=new d[\"a\"](e,l,i);return this.groupGL.add(t.rootNode),t}),this),this._axes=r.map((function(e){var t=new f[\"a\"](e,l);return this.groupGL.add(t.rootNode),t}),this);var p=t.getDevicePixelRatio();this._axisLabelSurface=new u[\"a\"]({width:256,height:256,devicePixelRatio:p}),this._axisLabelSurface.onupdate=function(){t.getZr().refresh()},this._axisPointerLineMesh=new a[\"a\"].Mesh({geometry:new s[\"a\"]({useNativeLine:!1}),material:l,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new u[\"a\"]({width:128,height:128,devicePixelRatio:p}),this._axisPointerLabelsMesh=new h[\"a\"]({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set(\"textureAtlas\",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new a[\"a\"].Node,this._sceneHelper=new c[\"a\"],this._sceneHelper.initLight(this._lightRoot)},render:function(e,t,n){this._model=e,this._api=n;var r=e.coordinateSystem;r.viewGL.add(this._lightRoot),e.get(\"show\")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel(\"viewControl\");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off(\"update\"),e.get(\"show\")&&(this._faces.forEach((function(r){r.update(e,t,n)}),this),this._axes.forEach((function(t){t.update(e,this._axisLabelSurface,n)}),this)),i.on(\"update\",this._onCameraChange.bind(this,e,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel(\"postEffect\"),n),r.viewGL.setTemporalSuperSampling(e.getModel(\"temporalSuperSampling\")),this._initMouseHandler(e)},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},showAxisPointer:function(e,t,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(e,t,n,r){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem,n=t.viewGL;e.get(\"show\")&&e.get(\"axisPointer.show\")?n.on(\"mousemove\",this._updateAxisPointerOnMousePosition,this):n.off(\"mousemove\",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var t,n=this._model,r=n.coordinateSystem,i=r.viewGL,o=i.castRay(e.offsetX,e.offsetY,new a[\"a\"].Ray),s=0;s<this._faces.length;s++){var l=this._faces[s];if(!l.rootNode.invisible){l.plane.normal.dot(i.camera.worldTransform.z)<0&&l.plane.normal.negate();var u=o.intersectPlane(l.plane);if(u){var c=r.getAxis(l.faceInfo[0]),d=r.getAxis(l.faceInfo[1]),f=v[l.faceInfo[0]],h=v[l.faceInfo[1]];c.contain(u.array[f])&&d.contain(u.array[h])&&(t=u)}}}if(t){var p=r.pointToData(t.array,[],!0);this._updateAxisPointer(p),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,t){e.get(\"show\")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;t.dispatchAction({type:\"grid3DChangeCamera\",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),t=new a[\"a\"].Vector3;e.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],i=0;i<2;i++){var o=this._faces[2*n+i];o.rootNode.getWorldPosition(t),t.transformMat4(e.viewMatrix),r[i]=t.z}var s=r[0]>r[1]?0:1,l=this._faces[2*n+s],u=this._faces[2*n+1-s];l.rootNode.invisible=!0,u.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,t=e.getAxis(\"x\"),n=e.getAxis(\"y\"),r=e.getAxis(\"z\"),i=r.getExtentMax(),a=r.getExtentMin(),o=t.getExtentMin(),s=t.getExtentMax(),l=n.getExtentMax(),u=n.getExtentMin(),c=this._axes[0].rootNode,d=this._axes[1].rootNode,f=this._axes[2].rootNode,h=this._faces,p=h[4].rootNode.invisible?u:l,m=h[2].rootNode.invisible?i:a,v=h[0].rootNode.invisible?o:s,g=h[2].rootNode.invisible?i:a,_=h[0].rootNode.invisible?s:o,y=h[4].rootNode.invisible?u:l;c.rotation.identity(),d.rotation.identity(),f.rotation.identity(),h[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),h[0].rootNode.invisible&&(this._axes[1].flipped=!0,d.rotation.rotateZ(Math.PI)),h[4].rootNode.invisible&&(this._axes[2].flipped=!0,f.rotation.rotateY(Math.PI)),c.position.set(0,m,p),d.position.set(v,g,0),f.position.set(_,0,y),c.update(),d.update(),f.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),t=[new a[\"a\"].Vector4,new a[\"a\"].Vector4],n=new a[\"a\"].Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach((function(r){for(var i=r.axisLineCoords,a=(r.labelsMesh.geometry,0);a<t.length;a++)t[a].setArray(i[a]),t[a].w=1,t[a].transformMat4(r.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t[a].x/=t[a].w,t[a].y/=t[a].w;var o,s,l=t[1].x-t[0].x,u=t[1].y-t[0].y,c=(t[1].x+t[0].x)/2,d=(t[1].y+t[0].y)/2;Math.abs(u/l)<.5?(o=\"center\",s=d>n.y?\"bottom\":\"top\"):(s=\"middle\",o=c>n.x?\"left\":\"right\"),r.setSpriteAlign(o,s,this._api)}),this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var t=this._model.coordinateSystem,n=t.dataToPoint(e),r=this._axisPointerLineMesh,i=r.geometry,o=this._model.getModel(\"axisPointer\"),s=this._api.getDevicePixelRatio();function u(e){return l[\"a\"].firstNotNull(e.model.get(\"axisPointer.show\"),o.get(\"show\"))}function c(e){var t=e.model.getModel(\"axisPointer\",o),n=t.getModel(\"lineStyle\"),r=a[\"a\"].parseColor(n.get(\"color\")),i=m(n.get(\"width\"),1),s=m(n.get(\"opacity\"),1);return r[3]*=s,{color:r,lineWidth:i}}i.convertToDynamicArray(!0);for(var d=0;d<this._faces.length;d++){var f=this._faces[d];if(!f.rootNode.invisible){for(var h=f.faceInfo,p=h[3]<0?t.getAxis(h[2]).getExtentMin():t.getAxis(h[2]).getExtentMax(),g=v[h[2]],_=0;_<2;_++){var y=h[_],x=h[1-_],b=t.getAxis(y),w=t.getAxis(x);if(u(b)){var A=[0,0,0],T=[0,0,0],S=v[y],E=v[x];A[S]=T[S]=n[S],A[g]=T[g]=p,A[E]=w.getExtentMin(),T[E]=w.getExtentMax();var C=c(b);i.addLine(A,T,C.color,C.lineWidth*s)}}if(u(t.getAxis(h[2]))){A=n.slice(),T=n.slice();T[g]=p;C=c(t.getAxis(h[2]));i.addLine(A,T,C.color,C.lineWidth*s)}}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var t=this._model,n=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,a=t.coordinateSystem,o=t.getModel(\"axisPointer\");n.geometry.convertToDynamicArray(!0),r.clear();var s={x:\"y\",y:\"x\",z:\"y\"};this._axes.forEach((function(t,l){var u=a.getAxis(t.dim),c=u.model,d=c.getModel(\"axisPointer\",o),f=d.getModel(\"label\"),h=d.get(\"lineStyle.color\");if(f.get(\"show\")&&d.get(\"show\")){var p=e[l],m=f.get(\"formatter\"),g=u.scale.getLabel(p);if(null!=m)g=m(g,e);else if(\"interval\"===u.scale.type||\"log\"===u.scale.type){var _=i.a.number.getPrecisionSafe(u.scale.getTicks()[0]);g=p.toFixed(_+2)}var y=f.getModel(\"textStyle\"),x=y.get(\"color\"),b=new i.a.graphic.Text;i.a.graphic.setTextStyle(b.style,y,{text:g,textFill:x||h,textAlign:\"left\",textVerticalAlign:\"top\"});var w=r.add(b),A=b.getBoundingRect(),T=this._api.getDevicePixelRatio(),S=t.rootNode.position.toArray(),E=v[s[t.dim]];S[E]+=(t.flipped?-1:1)*f.get(\"margin\"),S[v[t.dim]]=u.dataToCoord(e[l]),n.geometry.addSprite(S,[A.width*T,A.height*T],w,t.textAlign,t.textVerticalAlign)}}),this),r.getZr().refreshImmediately(),n.material.set(\"uvScale\",r.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(e,t,n){\"use strict\";var r=n(69),i=n(12),a=n(33),o=n(78),s=n(79),l=n(34),u=n(21),c=n(55);t[\"a\"]={vec2:r[\"a\"],vec3:i[\"a\"],vec4:a[\"a\"],mat2:o[\"a\"],mat2d:s[\"a\"],mat3:l[\"a\"],mat4:u[\"a\"],quat:c[\"a\"]}},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),l=n(162),u=o[\"a\"].firstNotNull,c={x:0,y:2,z:1};function d(e,t,n,r){var i=[0,0,0],a=r<0?n.getExtentMin():n.getExtentMax();i[c[n.dim]]=a,e.position.setArray(i),e.rotation.identity(),t.distance=-Math.abs(a),t.normal.set(0,0,0),\"x\"===n.dim?(e.rotation.rotateY(r*Math.PI/2),t.normal.x=-r):\"z\"===n.dim?(e.rotation.rotateX(-r*Math.PI/2),t.normal.y=-r):(r>0&&e.rotation.rotateY(Math.PI),t.normal.z=-r)}function f(e,t,n){this.rootNode=new a[\"a\"].Node;var r=new a[\"a\"].Mesh({geometry:new s[\"a\"]({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new a[\"a\"].Mesh({geometry:new l[\"a\"],material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=e,this.plane=new a[\"a\"].Plane,this.linesMesh=r,this.quadsMesh=i}f.prototype.update=function(e,t,n){var r=e.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,e,n),this._udpateSplitAreas(o,i,e,n),a.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);d(this.rootNode,this.plane,s,this.faceInfo[3])},f.prototype._updateSplitLines=function(e,t,n,r){var o=r.getDevicePixelRatio();t.forEach((function(r,s){var l=r.model,c=t[1-s].getExtent();if(!r.scale.isBlank()){var d=l.getModel(\"splitLine\",n.getModel(\"splitLine\"));if(d.get(\"show\")){var f=d.getModel(\"lineStyle\"),h=f.get(\"color\"),p=u(f.get(\"opacity\"),1),m=u(f.get(\"width\"),1);h=i.a.util.isArray(h)?h:[h];for(var v=r.getTicksCoords({tickModel:d}),g=0,_=0;_<v.length;_++){var y=v[_].coord,x=a[\"a\"].parseColor(h[g%h.length]);x[3]*=p;var b=[0,0,0],w=[0,0,0];b[s]=w[s]=y,b[1-s]=c[0],w[1-s]=c[1],e.addLine(b,w,x,m*o),g++}}}}))},f.prototype._udpateSplitAreas=function(e,t,n,r){t.forEach((function(r,o){var s=r.model,l=t[1-o].getExtent();if(!r.scale.isBlank()){var c=s.getModel(\"splitArea\",n.getModel(\"splitArea\"));if(c.get(\"show\")){var d=c.getModel(\"areaStyle\"),f=d.get(\"color\"),h=u(d.get(\"opacity\"),1);f=i.a.util.isArray(f)?f:[f];for(var p=r.getTicksCoords({tickModel:c,clamp:!0}),m=0,v=[0,0,0],g=[0,0,0],_=0;_<p.length;_++){var y=p[_].coord,x=[0,0,0],b=[0,0,0];if(x[o]=b[o]=y,x[1-o]=l[0],b[1-o]=l[1],0!==_){var w=a[\"a\"].parseColor(f[m%f.length]);w[3]*=h,e.addQuad([v,x,b,g],w),v=x,g=b,m++}else v=x,g=b}}}}))},t[\"a\"]=f},function(e,t,n){\"use strict\";var r=n(14),i=n(0),a=n.n(i),o=n(39),s=n(6),l=s[\"a\"].vec3,u=r[\"a\"].extend((function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new r[\"a\"].Attribute(\"position\",\"float\",3,\"POSITION\"),normal:new r[\"a\"].Attribute(\"normal\",\"float\",3,\"NORMAL\"),color:new r[\"a\"].Attribute(\"color\",\"float\",4,\"COLOR\")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var t=this.attributes,n=this.getQuadVertexCount()*e,r=this.getQuadTriangleCount()*e;this.vertexCount!==n&&(t.position.init(n),t.normal.init(n),t.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=l.create(),t=l.create(),n=l.create(),r=[0,3,1,3,2,1];return function(i,a){var o=this.attributes.position,s=this.attributes.normal,u=this.attributes.color;l.sub(e,i[1],i[0]),l.sub(t,i[2],i[1]),l.cross(n,e,t),l.normalize(n,n);for(var c=0;c<4;c++)o.set(this._vertexOffset+c,i[c]),u.set(this._vertexOffset+c,a),s.set(this._vertexOffset+c,n);var d=3*this._faceOffset;for(c=0;c<6;c++)this.indices[d+c]=r[c]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});a.a.util.defaults(u.prototype,o[\"a\"]),t[\"a\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(2),l=n(62),u=s[\"a\"].firstNotNull,c={x:0,y:2,z:1};function d(e,t){var n=new a[\"a\"].Mesh({geometry:new o[\"a\"]({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new l[\"a\"];r.material.depthMask=!1;var i=new a[\"a\"].Node;i.add(n),i.add(r),this.rootNode=i,this.dim=e,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var f={x:\"y\",y:\"x\",z:\"y\"};d.prototype.update=function(e,t,n){var r=e.coordinateSystem,o=r.getAxis(this.dim),s=this.linesMesh.geometry,l=this.labelsMesh.geometry;s.convertToDynamicArray(!0),l.convertToDynamicArray(!0);var d=o.model,h=o.getExtent(),p=n.getDevicePixelRatio(),m=d.getModel(\"axisLine\",e.getModel(\"axisLine\")),v=d.getModel(\"axisTick\",e.getModel(\"axisTick\")),g=d.getModel(\"axisLabel\",e.getModel(\"axisLabel\")),_=m.get(\"lineStyle.color\");if(m.get(\"show\")){var y=m.getModel(\"lineStyle\"),x=[0,0,0],b=[0,0,0],w=c[o.dim];x[w]=h[0],b[w]=h[1],this.axisLineCoords=[x,b];var A=a[\"a\"].parseColor(_),T=u(y.get(\"width\"),1),S=u(y.get(\"opacity\"),1);A[3]*=S,s.addLine(x,b,A,T*p)}if(v.get(\"show\")){var E=v.getModel(\"lineStyle\"),C=a[\"a\"].parseColor(u(E.get(\"color\"),_));T=u(E.get(\"width\"),1);C[3]*=u(E.get(\"opacity\"),1);for(var M=o.getTicksCoords(),D=v.get(\"length\"),N=0;N<M.length;N++){var L=M[N].coord,I=(x=[0,0,0],b=[0,0,0],w=c[o.dim],c[f[o.dim]]);x[w]=b[w]=L,b[I]=D,s.addLine(x,b,C,T*p)}}this.labelElements=[];p=n.getDevicePixelRatio();if(g.get(\"show\")){M=o.getTicksCoords();var P=d.get(\"data\"),O=g.get(\"margin\"),R=o.getViewLabels();for(N=0;N<R.length;N++){var k=R[N].tickValue,F=R[N].formattedLabel,B=R[N].rawLabel,z=(L=o.dataToCoord(k),[0,0,0]);w=c[o.dim],I=c[f[o.dim]];z[w]=z[w]=L,z[I]=O;var H=g;P&&P[k]&&P[k].textStyle&&(H=new i.a.Model(P[k].textStyle,g,d.ecModel));var U=u(H.get(\"color\"),_),G=new i.a.graphic.Text;i.a.graphic.setTextStyle(G.style,H,{text:F,textFill:\"function\"===typeof U?U(\"category\"===o.type?B:\"value\"===o.type?k+\"\":k,N):U,textVerticalAlign:\"top\",textAlign:\"left\"});var j=t.add(G),V=G.getBoundingRect();l.addSprite(z,[V.width*p,V.height*p],j),this.labelElements.push(G)}}if(d.get(\"name\")){var W=d.getModel(\"nameTextStyle\"),$=(z=[0,0,0],w=c[o.dim],I=c[f[o.dim]],u(W.get(\"color\"),_)),q=W.get(\"borderColor\");T=W.get(\"borderWidth\");z[w]=z[w]=(h[0]+h[1])/2,z[I]=d.get(\"nameGap\");G=new i.a.graphic.Text;i.a.graphic.setTextStyle(G.style,W,{text:d.get(\"name\"),textFill:$,textStroke:q,lineWidth:T});j=t.add(G),V=G.getBoundingRect();l.addSprite(z,[V.width*p,V.height*p],j),G.__idx=this.labelElements.length,this.nameLabelElement=G}this.labelsMesh.material.set(\"textureAtlas\",t.getTexture()),this.labelsMesh.material.set(\"uvScale\",t.getCoordsScale()),s.convertToTypedArray(),l.convertToTypedArray()},d.prototype.setSpriteAlign=function(e,t,n){for(var r=n.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a],s=o.getBoundingRect();i.setSpriteAlign(a,[s.width*r,s.height*r],e,t)}var l=this.nameLabelElement;if(l){s=l.getBoundingRect();i.setSpriteAlign(l.__idx,[s.width*r,s.height*r],e,t),i.dirty()}this.textAlign=e,this.textVerticalAlign=t},t[\"a\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(14),o=n(39),s=[0,1,2,0,2,3],l=a[\"a\"].extend((function(){return{attributes:{position:new a[\"a\"].Attribute(\"position\",\"float\",3,\"POSITION\"),texcoord:new a[\"a\"].Attribute(\"texcoord\",\"float\",2,\"TEXCOORD_0\"),offset:new a[\"a\"].Attribute(\"offset\",\"float\",2),color:new a[\"a\"].Attribute(\"color\",\"float\",4,\"COLOR\")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var t=4*e,n=2*e;this.vertexCount!==t&&(this.attributes.position.init(t),this.attributes.offset.init(t),this.attributes.color.init(t)),this.triangleCount!==n&&(this.indices=t>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(e,t,n,r,i){var a,o,s,l;switch(null==n&&(n=\"left\"),null==r&&(r=\"top\"),i=i||0,n){case\"left\":a=i,s=t[0]+i;break;case\"center\":case\"middle\":a=-t[0]/2,s=t[0]/2;break;case\"right\":a=-t[0]-i,s=-i;break}switch(r){case\"bottom\":o=i,l=t[1]+i;break;case\"middle\":o=-t[1]/2,l=t[1]/2;break;case\"top\":o=-t[1]-i,l=-i;break}var u=4*e,c=this.attributes.offset;c.set(u,[a,l]),c.set(u+1,[s,l]),c.set(u+2,[s,o]),c.set(u+3,[a,o])},addSprite:function(e,t,n,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,t,n,r,i,a);for(var l=0;l<s.length;l++)this.indices[3*this._faceOffset+l]=s[l]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(e,t,n,r,i,a,o){for(var s=4*e,l=this.attributes,u=0;u<4;u++)l.position.set(s+u,t);var c=l.texcoord;c.set(s,[r[0][0],r[0][1]]),c.set(s+1,[r[1][0],r[0][1]]),c.set(s+2,[r[1][0],r[1][1]]),c.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(e,n,i,a,o)}});i.a.util.defaults(l.prototype,o[\"a\"]),t[\"a\"]=l},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.labels.vertex\\n\\nattribute vec3 position: POSITION;\\nattribute vec2 texcoord: TEXCOORD_0;\\nattribute vec2 offset;\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main()\\n{\\n vec4 proj = worldViewProjection * vec4(position, 1.0);\\n\\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\\n\\n screen += offset;\\n\\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\\n gl_Position = proj;\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n v_Texcoord = texcoord;\\n}\\n@end\\n\\n\\n@export ecgl.labels.fragment\\n\\nuniform vec3 color : [1.0, 1.0, 1.0];\\nuniform float alpha : 1.0;\\nuniform sampler2D textureAtlas;\\nuniform vec2 uvScale: [1.0, 1.0];\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\nvarying float v_Miter;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main()\\n{\\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\\n#ifdef VERTEX_COLOR\\n gl_FragColor *= v_Color;\\n#endif\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";var r=n(167),i=n(169),a=n(0),o=n.n(a),s=n(47),l=n.n(s),u=n(22),c=n(2);function d(e,t){var n=e.getBoxLayoutParams(),r=l.a.getLayoutRect(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var i=e.get(\"boxWidth\"),a=e.get(\"boxHeight\"),o=e.get(\"boxDepth\");[\"x\",\"y\",\"z\"].forEach((function(t){if(!this.getAxis(t))throw new Error(\"Grid\"+e.id+\" don't have \"+t+\"Axis\")}),this),this.getAxis(\"x\").setExtent(-i/2,i/2),this.getAxis(\"y\").setExtent(o/2,-o/2),this.getAxis(\"z\").setExtent(-a/2,a/2),this.size=[i,a,o]}function f(e,t){var n={};function r(e,t){n[e]=n[e]||[1/0,-1/0],n[e][0]=Math.min(t[0],n[e][0]),n[e][1]=Math.max(t[1],n[e][1])}e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();[\"x\",\"y\",\"z\"].forEach((function(e){t.mapDimension(e,!0).forEach((function(n){r(e,t.getDataExtent(n,!0))}))}))}}),this),[\"xAxis3D\",\"yAxis3D\",\"zAxis3D\"].forEach((function(t){e.eachComponent(t,(function(e){var r=t.charAt(0),a=e.getReferringComponents(\"grid3D\")[0],s=a.coordinateSystem;if(s===this){var l=s.getAxis(r);if(l)console.warn(\"Can't have two %s in one grid3D\",t);else{var u=o.a.helper.createScale(n[r]||[1/0,-1/0],e);l=new i[\"a\"](r,u),l.type=e.get(\"type\");var c=\"category\"===l.type;l.onBand=c&&e.get(\"boundaryGap\"),l.inverse=e.get(\"inverse\"),e.axis=l,l.model=e,l.getLabelModel=function(){return e.getModel(\"axisLabel\",a.getModel(\"axisLabel\"))},l.getTickModel=function(){return e.getModel(\"axisTick\",a.getModel(\"axisTick\"))},s.addAxis(l)}}}),this)}),this),this.resize(this.model,t)}var h={dimensions:r[\"a\"].prototype.dimensions,create:function(e,t){var n=[];e.eachComponent(\"grid3D\",(function(e){e.__viewGL=e.__viewGL||new u[\"a\"];var t=new r[\"a\"];t.model=e,t.viewGL=e.__viewGL,e.coordinateSystem=t,n.push(t),t.resize=d,t.update=f}));var i=[\"xAxis3D\",\"yAxis3D\",\"zAxis3D\"];function a(e,t){return i.map((function(n){var r=e.getReferringComponents(n)[0];if(null==r&&(r=t.getComponent(n)),!r)throw new Error(n+' \"'+c[\"a\"].firstNotNull(e.get(n+\"Index\"),e.get(n+\"Id\"),0)+'\" not found');return r}))}return e.eachSeries((function(t){if(\"cartesian3D\"===t.get(\"coordinateSystem\")){var n=t.getReferringComponents(\"grid3D\")[0];if(null==n){var r=a(t,e);n=r[0].getCoordSysModel();r.forEach((function(e){var t=e.getCoordSysModel();if(!t)throw new Error('grid3D \"'+c[\"a\"].firstNotNull(e.get(\"gridIndex\"),e.get(\"gridId\"),0)+'\" not found');if(t!==n)throw new Error(\"xAxis3D, yAxis3D, zAxis3D must use the same grid\")}))}var i=n.coordinateSystem;t.coordinateSystem=i}})),n}};o.a.registerCoordinateSystem(\"grid3D\",h)},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(168),o=n.n(a);function s(e){o.a.call(this,e),this.size=[0,0,0]}s.prototype={constructor:s,type:\"cartesian3D\",dimensions:[\"x\",\"y\",\"z\"],model:null,containPoint:function(e){return this.getAxis(\"x\").contain(e[0])&&this.getAxis(\"y\").contain(e[2])&&this.getAxis(\"z\").contain(e[1])},containData:function(e){return this.getAxis(\"x\").containData(e[0])&&this.getAxis(\"y\").containData(e[1])&&this.getAxis(\"z\").containData(e[2])},dataToPoint:function(e,t,n){return t=t||[],t[0]=this.getAxis(\"x\").dataToCoord(e[0],n),t[2]=this.getAxis(\"y\").dataToCoord(e[1],n),t[1]=this.getAxis(\"z\").dataToCoord(e[2],n),t},pointToData:function(e,t,n){return t=t||[],t[0]=this.getAxis(\"x\").coordToData(e[0],n),t[1]=this.getAxis(\"y\").coordToData(e[2],n),t[2]=this.getAxis(\"z\").coordToData(e[1],n),t}},i.a.util.inherits(s,o.a),t[\"a\"]=s},function(e,t,n){var r=n(16);function i(e){return this._axes[e]}var a=function(e){this._axes={},this._dimList=[],this.name=e||\"\"};a.prototype={constructor:a,type:\"cartesian\",getAxis:function(e){return this._axes[e]},getAxes:function(){return r.map(this._dimList,i,this)},getAxesByScale:function(e){return e=e.toLowerCase(),r.filter(this.getAxes(),(function(t){return t.scale.type===e}))},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,\"dataToCoord\")},coordToData:function(e){return this._dataCoordConvert(e,\"coordToData\")},_dataCoordConvert:function(e,t){for(var n=this._dimList,r=e instanceof Array?[]:{},i=0;i<n.length;i++){var a=n[i],o=this._axes[a];r[a]=o[t](e[a])}return r}};var o=a;e.exports=o},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);function a(e,t,n){i.a.Axis.call(this,e,t,n)}a.prototype={constructor:a,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},i.a.util.inherits(a,i.a.Axis),t[\"a\"]=a},function(e,t){var n=\"undefined\"===typeof Float32Array?Array:Float32Array;function r(e,t){var r=new n(2);return null==e&&(e=0),null==t&&(t=0),r[0]=e,r[1]=t,r}function i(e,t){return e[0]=t[0],e[1]=t[1],e}function a(e){var t=new n(2);return t[0]=e[0],t[1]=e[1],t}function o(e,t,n){return e[0]=t,e[1]=n,e}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function l(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function u(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function c(e){return Math.sqrt(f(e))}var d=c;function f(e){return e[0]*e[0]+e[1]*e[1]}var h=f;function p(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function m(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function v(e,t){return e[0]*t[0]+e[1]*t[1]}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function _(e,t){var n=c(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function y(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var x=y;function b(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var w=b;function A(e,t){return e[0]=-t[0],e[1]=-t[1],e}function T(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function S(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function E(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function C(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}t.create=r,t.copy=i,t.clone=a,t.set=o,t.add=s,t.scaleAndAdd=l,t.sub=u,t.len=c,t.length=d,t.lenSquare=f,t.lengthSquare=h,t.mul=p,t.div=m,t.dot=v,t.scale=g,t.normalize=_,t.distance=y,t.dist=x,t.distanceSquare=b,t.distSquare=w,t.negate=A,t.lerp=T,t.applyTransform=S,t.min=E,t.max=C},function(e,t){var n=\"undefined\"===typeof Float32Array?Array:Float32Array;function r(){var e=new n(6);return i(e),e}function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e}function s(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function l(e,t,n){var r=t[0],i=t[2],a=t[4],o=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=-r*u+o*c,e[2]=i*c+s*u,e[3]=-i*u+c*s,e[4]=c*a+u*l,e[5]=c*l-u*a,e}function u(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function c(e,t){var n=t[0],r=t[2],i=t[4],a=t[1],o=t[3],s=t[5],l=n*o-a*r;return l?(l=1/l,e[0]=o*l,e[1]=-a*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-o*i)*l,e[5]=(a*i-n*s)*l,e):null}function d(e){var t=r();return a(t,e),t}t.create=r,t.identity=i,t.copy=a,t.mul=o,t.translate=s,t.rotate=l,t.scale=u,t.invert=c,t.clone=d},function(e,t,n){var r=n(16),i=n(173),a=n(84);function o(e){return isNaN(e)?\"-\":(e=(e+\"\").split(\".\"),e[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,\"$1,\")+(e.length>1?\".\"+e[1]:\"\"))}function s(e,t){return e=(e||\"\").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var l=r.normalizeCssArray,u=/([&<>\"'])/g,c={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"};function d(e){return null==e?\"\":(e+\"\").replace(u,(function(e,t){return c[t]}))}var f=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"],h=function(e,t){return\"{\"+e+(null==t?\"\":t)+\"}\"};function p(e,t,n){r.isArray(t)||(t=[t]);var i=t.length;if(!i)return\"\";for(var a=t[0].$vars||[],o=0;o<a.length;o++){var s=f[o];e=e.replace(h(s),h(s,0))}for(var l=0;l<i;l++)for(var u=0;u<a.length;u++){var c=t[l][a[u]];e=e.replace(h(f[u],l),n?d(c):c)}return e}function m(e,t,n){return r.each(t,(function(t,r){e=e.replace(\"{\"+r+\"}\",n?d(t):t)})),e}function v(e,t){e=r.isString(e)?{color:e,extraCssText:t}:e||{};var n=e.color,i=e.type,a=(t=e.extraCssText,e.renderMode||\"html\"),o=e.markerId||\"X\";return n?\"html\"===a?\"subItem\"===i?'<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+d(n)+\";\"+(t||\"\")+'\"></span>':'<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+d(n)+\";\"+(t||\"\")+'\"></span>':{renderMode:a,content:\"{marker\"+o+\"|}  \",style:{color:n}}:\"\"}function g(e,t){return e+=\"\",\"0000\".substr(0,t-e.length)+e}function _(e,t,n){\"week\"!==e&&\"month\"!==e&&\"quarter\"!==e&&\"half-year\"!==e&&\"year\"!==e||(e=\"MM-dd\\nyyyy\");var r=a.parseDate(t),i=n?\"UTC\":\"\",o=r[\"get\"+i+\"FullYear\"](),s=r[\"get\"+i+\"Month\"]()+1,l=r[\"get\"+i+\"Date\"](),u=r[\"get\"+i+\"Hours\"](),c=r[\"get\"+i+\"Minutes\"](),d=r[\"get\"+i+\"Seconds\"](),f=r[\"get\"+i+\"Milliseconds\"]();return e=e.replace(\"MM\",g(s,2)).replace(\"M\",s).replace(\"yyyy\",o).replace(\"yy\",o%100).replace(\"dd\",g(l,2)).replace(\"d\",l).replace(\"hh\",g(u,2)).replace(\"h\",u).replace(\"mm\",g(c,2)).replace(\"m\",c).replace(\"ss\",g(d,2)).replace(\"s\",d).replace(\"SSS\",g(f,3)),e}function y(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var x=i.truncateText;function b(e){return i.getBoundingRect(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function w(e,t,n,r,a,o,s,l){return i.getBoundingRect(e,t,n,r,a,l,o,s)}t.addCommas=o,t.toCamelCase=s,t.normalizeCssArray=l,t.encodeHTML=d,t.formatTpl=p,t.formatTplSimple=m,t.getTooltipMarker=v,t.formatTime=_,t.capitalFirst=y,t.truncateText=x,t.getTextBoundingRect=b,t.getTextRect=w},function(e,t,n){var r=n(83),i=n(174),a=n(16),o=a.getContext,s=a.extend,l=a.retrieve2,u=a.retrieve3,c=a.trim,d={},f=0,h=5e3,p=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g,m=\"12px sans-serif\",v={};function g(e,t){v[e]=t}function _(e,t){t=t||m;var n=e+\":\"+t;if(d[n])return d[n];for(var r=(e+\"\").split(\"\\n\"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(L(r[a],t).width,i);return f>h&&(f=0,d={}),f++,d[n]=i,i}function y(e,t,n,r,i,a,o,s){return o?b(e,t,n,r,i,a,o,s):x(e,t,n,r,i,a,s)}function x(e,t,n,i,a,o,s){var l=I(e,t,a,o,s),u=_(e,t);a&&(u+=a[1]+a[3]);var c=l.outerHeight,d=w(0,u,n),f=A(0,c,i),h=new r(d,f,u,c);return h.lineHeight=l.lineHeight,h}function b(e,t,n,i,a,o,s,l){var u=P(e,{rich:s,truncate:l,font:t,textAlign:n,textPadding:a,textLineHeight:o}),c=u.outerWidth,d=u.outerHeight,f=w(0,c,n),h=A(0,d,i);return new r(f,h,c,d)}function w(e,t,n){return\"right\"===n?e-=t:\"center\"===n&&(e-=t/2),e}function A(e,t,n){return\"middle\"===n?e-=t/2:\"bottom\"===n&&(e-=t),e}function T(e,t,n){var r=t.textPosition,i=t.textDistance,a=n.x,o=n.y,s=n.height,l=n.width,u=s/2,c=\"left\",d=\"top\";switch(r){case\"left\":a-=i,o+=u,c=\"right\",d=\"middle\";break;case\"right\":a+=i+l,o+=u,d=\"middle\";break;case\"top\":a+=l/2,o-=i,c=\"center\",d=\"bottom\";break;case\"bottom\":a+=l/2,o+=s+i,c=\"center\";break;case\"inside\":a+=l/2,o+=u,c=\"center\",d=\"middle\";break;case\"insideLeft\":a+=i,o+=u,d=\"middle\";break;case\"insideRight\":a+=l-i,o+=u,c=\"right\",d=\"middle\";break;case\"insideTop\":a+=l/2,o+=i,c=\"center\";break;case\"insideBottom\":a+=l/2,o+=s-i,c=\"center\",d=\"bottom\";break;case\"insideTopLeft\":a+=i,o+=i;break;case\"insideTopRight\":a+=l-i,o+=i,c=\"right\";break;case\"insideBottomLeft\":a+=i,o+=s-i,d=\"bottom\";break;case\"insideBottomRight\":a+=l-i,o+=s-i,c=\"right\",d=\"bottom\";break}return e=e||{},e.x=a,e.y=o,e.textAlign=c,e.textVerticalAlign=d,e}function S(e,t,n){var r={textPosition:e,textDistance:n};return T({},r,t)}function E(e,t,n,r,i){if(!t)return\"\";var a=(e+\"\").split(\"\\n\");i=C(t,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=M(a[o],i);return a.join(\"\\n\")}function C(e,t,n,r){r=s({},r),r.font=t;n=l(n,\"...\");r.maxIterations=l(r.maxIterations,2);var i=r.minChar=l(r.minChar,0);r.cnCharWidth=_(\"国\",t);var a=r.ascCharWidth=_(\"a\",t);r.placeholder=l(r.placeholder,\"\");for(var o=e=Math.max(0,e-1),u=0;u<i&&o>=a;u++)o-=a;var c=_(n,t);return c>o&&(n=\"\",c=0),o=e-c,r.ellipsis=n,r.ellipsisWidth=c,r.contentWidth=o,r.containerWidth=e,r}function M(e,t){var n=t.containerWidth,r=t.font,i=t.contentWidth;if(!n)return\"\";var a=_(e,r);if(a<=n)return e;for(var o=0;;o++){if(a<=i||o>=t.maxIterations){e+=t.ellipsis;break}var s=0===o?D(e,i,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(e.length*i/a):0;e=e.substr(0,s),a=_(e,r)}return\"\"===e&&(e=t.placeholder),e}function D(e,t,n,r){for(var i=0,a=0,o=e.length;a<o&&i<t;a++){var s=e.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function N(e){return _(\"国\",e)}function L(e,t){return v.measureText(e,t)}function I(e,t,n,r,i){null!=e&&(e+=\"\");var a=l(r,N(t)),o=e?e.split(\"\\n\"):[],s=o.length*a,u=s;if(n&&(u+=n[0]+n[2]),e&&i){var c=i.outerHeight,d=i.outerWidth;if(null!=c&&u>c)e=\"\",o=[];else if(null!=d)for(var f=C(d-(n?n[1]+n[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),h=0,p=o.length;h<p;h++)o[h]=M(o[h],f)}return{lines:o,height:s,outerHeight:u,lineHeight:a}}function P(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=\"\"),!e)return n;var r,a=p.lastIndex=0;while(null!=(r=p.exec(e))){var o=r.index;o>a&&O(n,e.substring(a,o)),O(n,r[2],r[1]),a=p.lastIndex}a<e.length&&O(n,e.substring(a,e.length));var s=n.lines,c=0,d=0,f=[],h=t.textPadding,m=t.truncate,v=m&&m.outerWidth,g=m&&m.outerHeight;h&&(null!=v&&(v-=h[1]+h[3]),null!=g&&(g-=h[0]+h[2]));for(var y=0;y<s.length;y++){for(var x=s[y],b=0,w=0,A=0;A<x.tokens.length;A++){var T=x.tokens[A],S=T.styleName&&t.rich[T.styleName]||{},C=T.textPadding=S.textPadding,M=T.font=S.font||t.font,D=T.textHeight=l(S.textHeight,N(M));if(C&&(D+=C[0]+C[2]),T.height=D,T.lineHeight=u(S.textLineHeight,t.textLineHeight,D),T.textAlign=S&&S.textAlign||t.textAlign,T.textVerticalAlign=S&&S.textVerticalAlign||\"middle\",null!=g&&c+T.lineHeight>g)return{lines:[],width:0,height:0};T.textWidth=_(T.text,M);var L=S.textWidth,I=null==L||\"auto\"===L;if(\"string\"===typeof L&&\"%\"===L.charAt(L.length-1))T.percentWidth=L,f.push(T),L=0;else{if(I){L=T.textWidth;var P=S.textBackgroundColor,R=P&&P.image;R&&(R=i.findExistImage(R),i.isImageReady(R)&&(L=Math.max(L,R.width*D/R.height)))}var k=C?C[1]+C[3]:0;L+=k;var F=null!=v?v-w:null;null!=F&&F<L&&(!I||F<k?(T.text=\"\",T.textWidth=L=0):(T.text=E(T.text,F-k,M,m.ellipsis,{minChar:m.minChar}),T.textWidth=_(T.text,M),L=T.textWidth+k))}w+=T.width=L,S&&(b=Math.max(b,T.lineHeight))}x.width=w,x.lineHeight=b,c+=b,d=Math.max(d,w)}n.outerWidth=n.width=l(t.textWidth,d),n.outerHeight=n.height=l(t.textHeight,c),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(y=0;y<f.length;y++){T=f[y];var B=T.percentWidth;T.width=parseInt(B,10)/100*d}return n}function O(e,t,n){for(var r=\"\"===t,i=t.split(\"\\n\"),a=e.lines,o=0;o<i.length;o++){var s=i[o],l={styleName:n,text:s,isLineHolder:!s&&!r};if(o)a.push({tokens:[l]});else{var u=(a[a.length-1]||(a[0]={tokens:[]})).tokens,c=u.length;1===c&&u[0].isLineHolder?u[0]=l:(s||!c||r)&&u.push(l)}}}function R(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+\"px\",e.fontFamily||\"sans-serif\"].join(\" \");return t&&c(t)||e.textFont||e.font}v.measureText=function(e,t){var n=o();return n.font=t||m,n.measureText(e)},t.DEFAULT_FONT=m,t.$override=g,t.getWidth=_,t.getBoundingRect=y,t.adjustTextX=w,t.adjustTextY=A,t.calculateTextPosition=T,t.adjustTextPositionOnRect=S,t.truncateText=E,t.getLineHeight=N,t.measureText=L,t.parsePlainText=I,t.parseRichText=P,t.makeFont=R},function(e,t,n){var r=n(175),i=new r(50);function a(e){if(\"string\"===typeof e){var t=i.get(e);return t&&t.image}return e}function o(e,t,n,r,a){if(e){if(\"string\"===typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=i.get(e),u={hostEl:n,cb:r,cbPayload:a};return o?(t=o.image,!l(t)&&o.pending.push(u)):(t=new Image,t.onload=t.onerror=s,i.put(e,t.__cachedImgObj={image:t,pending:[u]}),t.src=t.__zrImageSrc=e),t}return e}return t}function s(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function l(e){return e&&e.width&&e.height}t.findExistImage=a,t.createOrUpdateImage=o,t.isImageReady=l},function(e,t){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(e){var t=new i(e);return this.insertEntry(t),t},r.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(e){this.value=e,this.next,this.prev},a=function(e){this._list=new n,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(e,t){var n=this._list,r=this._map,a=null;if(null==r[e]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new i(t),s.key=e,n.insertEntry(s),r[e]=s}return a},o.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;e.exports=s},function(e,t,n){\"use strict\";var r=n(8),i=n(11),a=n(3),o=n(18),s=n(59),l=n(7),u=n(52),c=n(9),d=n(19),f=n(10),h=n(4),p=n(5),m=n(27),v=n(37),g=n(38),_=n(15),y=n(85),x=n(21),b=n(177),w=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"];function A(e,t,n){if(\"alphaMap\"===n)return e.material.get(\"diffuseMap\");if(\"alphaCutoff\"===n){if(e.material.isDefined(\"fragment\",\"ALPHA_TEST\")&&e.material.get(\"diffuseMap\")){var r=e.material.get(\"alphaCutoff\");return r||0}return 0}return\"uvRepeat\"===n?e.material.get(\"uvRepeat\"):\"uvOffset\"===n?e.material.get(\"uvOffset\"):t.get(n)}function T(e,t){var n=e.material,r=t.material;return n.get(\"diffuseMap\")!==r.get(\"diffuseMap\")||(n.get(\"alphaCutoff\")||0)!==(r.get(\"alphaCutoff\")||0)}c[\"a\"][\"import\"](b[\"a\"]);var S=r[\"a\"].extend((function(){return{softShadow:S.PCF,shadowBlur:1,lightFrustumBias:\"auto\",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:\"highp\",_lastRenderNotCastShadow:!1,_frameBuffer:new f[\"a\"],_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new y[\"a\"]}}),(function(){this._gaussianPassH=new _[\"a\"]({fragment:c[\"a\"].source(\"clay.compositor.gaussian_blur\")}),this._gaussianPassV=new _[\"a\"]({fragment:c[\"a\"].source(\"clay.compositor.gaussian_blur\")}),this._gaussianPassH.setUniform(\"blurSize\",this.shadowBlur),this._gaussianPassH.setUniform(\"blurDir\",0),this._gaussianPassV.setUniform(\"blurSize\",this.shadowBlur),this._gaussianPassV.setUniform(\"blurDir\",1),this._outputDepthPass=new _[\"a\"]({fragment:c[\"a\"].source(\"clay.sm.debug_depth\")})}),{render:function(e,t,n,r){n||(n=t.getMainCamera()),this.trigger(\"beforerender\",this,e,t,n),this._renderShadowPass(e,t,n,r),this.trigger(\"afterrender\",this,e,t,n)},renderDebug:function(e,t){e.saveClear();var n=e.viewport,r=0,i=0,a=t||n.width/4,o=a;for(var s in this.softShadow===S.VSM?this._outputDepthPass.material.define(\"fragment\",\"USE_VSM\"):this._outputDepthPass.material.undefine(\"fragment\",\"USE_VSM\"),this._textures){var l=this._textures[s];e.setViewport(r,i,a*l.width/l.height,o),this._outputDepthPass.setUniform(\"depthMap\",l),this._outputDepthPass.render(e),r+=a*l.width/l.height}e.setViewport(n),e.restoreClear()},_updateReceivers:function(e,t){if(t.receiveShadow?(this._receivers.push(t),t.material.set(\"shadowEnabled\",1),t.material.set(\"pcfKernel\",this.kernelPCF)):t.material.set(\"shadowEnabled\",0),this.softShadow===S.VSM)t.material.define(\"fragment\",\"USE_VSM\"),t.material.undefine(\"fragment\",\"PCF_KERNEL_SIZE\");else{t.material.undefine(\"fragment\",\"USE_VSM\");var n=this.kernelPCF;n&&n.length?t.material.define(\"fragment\",\"PCF_KERNEL_SIZE\",n.length/2):t.material.undefine(\"fragment\",\"PCF_KERNEL_SIZE\")}},_update:function(e,t){var n=this;t.traverse((function(t){t.isRenderable()&&n._updateReceivers(e,t)}));for(var r=0;r<t.lights.length;r++){var i=t.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(e,t,n,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=e.gl;if(r||t.update(),n&&n.update(),t.updateLights(),this._update(e,t),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o,s=[],l=[],u=[],c=[],d=[],f=[],h=0;h<this._lightsCastShadow.length;h++){var p=this._lightsCastShadow[h];if(\"DIRECTIONAL_LIGHT\"===p.type){if(o){console.warn(\"Only one direectional light supported with shadow cascade\");continue}if(p.shadowCascade>4){console.warn(\"Support at most 4 cascade\");continue}p.shadowCascade>1&&(o=p),this.renderDirectionalLightShadow(e,t,n,p,d,c,u)}else\"SPOT_LIGHT\"===p.type?this.renderSpotLightShadow(e,t,p,l,s):\"POINT_LIGHT\"===p.type&&this.renderPointLightShadow(e,t,p,f);this._shadowMapNumber[p.type]++}for(var m in this._shadowMapNumber){var v=this._shadowMapNumber[m],g=m+\"_SHADOWMAP_COUNT\";for(h=0;h<this._receivers.length;h++){var _=this._receivers[h],y=_.material;y.fragmentDefines[g]!==v&&(v>0?y.define(\"fragment\",g,v):y.isDefined(\"fragment\",g)&&y.undefine(\"fragment\",g))}}for(h=0;h<this._receivers.length;h++){_=this._receivers[h],y=_.material;o?y.define(\"fragment\",\"SHADOW_CASCADE\",o.shadowCascade):y.undefine(\"fragment\",\"SHADOW_CASCADE\")}var x=t.shadowUniforms;if(u.length>0){var b=u.map(S);if(x.directionalLightShadowMaps={value:u,type:\"tv\"},x.directionalLightMatrices={value:c,type:\"m4v\"},x.directionalLightShadowMapSizes={value:b,type:\"1fv\"},o){var w=d.slice(),A=d.slice();w.pop(),A.shift(),w.reverse(),A.reverse(),c.reverse(),x.shadowCascadeClipsNear={value:w,type:\"1fv\"},x.shadowCascadeClipsFar={value:A,type:\"1fv\"}}}if(s.length>0){var T=s.map(S);x=t.shadowUniforms;x.spotLightShadowMaps={value:s,type:\"tv\"},x.spotLightMatrices={value:l,type:\"m4v\"},x.spotLightShadowMapSizes={value:T,type:\"1fv\"}}f.length>0&&(x.pointLightShadowMaps={value:f,type:\"tv\"})}function S(e){return e.height}},renderDirectionalLightShadow:function(){var e=new s[\"a\"],t=new l[\"a\"],n=new o[\"a\"],r=new l[\"a\"],i=new l[\"a\"],a=new l[\"a\"],c=new l[\"a\"];return function(o,s,d,f,h,p,m){var g=this._getDepthMaterial(f),_={getMaterial:function(e){return e.shadowDepthMaterial||g},isMaterialChanged:T,getUniform:A,ifRender:function(e){return e.castShadow},sortCompare:u[\"a\"].opaqueSortCompare};if(!s.viewBoundingBoxLastFrame.isFinite()){var y=s.getBoundingBox();s.viewBoundingBoxLastFrame.copy(y).applyTransform(d.viewMatrix)}var b=Math.min(-s.viewBoundingBoxLastFrame.min.z,d.far),w=Math.max(-s.viewBoundingBoxLastFrame.max.z,d.near),E=this._getDirectionalLightCamera(f,s,d),C=a.array;c.copy(E.projectionMatrix),x[\"a\"].invert(i.array,E.worldTransform.array),x[\"a\"].multiply(i.array,i.array,d.worldTransform.array),x[\"a\"].multiply(C,c.array,i.array);for(var M=[],D=d instanceof v[\"a\"],N=(d.near+d.far)/(d.near-d.far),L=2*d.near*d.far/(d.near-d.far),I=0;I<=f.shadowCascade;I++){var P=w*Math.pow(b/w,I/f.shadowCascade),O=w+(b-w)*I/f.shadowCascade,R=P*f.cascadeSplitLogFactor+O*(1-f.cascadeSplitLogFactor);M.push(R),h.push(-(-R*N+L)/-R)}var k=this._getTexture(f,f.shadowCascade);m.push(k);var F=o.viewport,B=o.gl;this._frameBuffer.attach(k),this._frameBuffer.bind(o),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT);for(I=0;I<f.shadowCascade;I++){var z=M[I],H=M[I+1];D?x[\"a\"].perspective(t.array,d.fov/180*Math.PI,d.aspect,z,H):x[\"a\"].ortho(t.array,d.left,d.right,d.bottom,d.top,z,H),e.setFromProjection(t),e.getTransformedBoundingBox(n,i),n.applyProjection(c);var U=n.min.array,G=n.max.array;U[0]=Math.max(U[0],-1),U[1]=Math.max(U[1],-1),G[0]=Math.min(G[0],1),G[1]=Math.min(G[1],1),r.ortho(U[0],G[0],U[1],G[1],1,-1),E.projectionMatrix.multiplyLeft(r);var j=f.shadowResolution||512;o.setViewport((f.shadowCascade-I-1)*j,0,j,j,1);var V=s.updateRenderList(E);o.renderPass(V.opaque,E,_),this.softShadow===S.VSM&&this._gaussianFilter(o,k,k.width);var W=new l[\"a\"];W.copy(E.viewMatrix).multiplyLeft(E.projectionMatrix),p.push(W.array),E.projectionMatrix.copy(c)}this._frameBuffer.unbind(o),o.setViewport(F)}}(),renderSpotLightShadow:function(e,t,n,r,i){var a=this._getTexture(n),o=this._getSpotLightCamera(n),s=e.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var c=this._getDepthMaterial(n),d={getMaterial:function(e){return e.shadowDepthMaterial||c},isMaterialChanged:T,getUniform:A,ifRender:function(e){return e.castShadow},sortCompare:u[\"a\"].opaqueSortCompare},f=t.updateRenderList(o);e.renderPass(f.opaque,o,d),this._frameBuffer.unbind(e),this.softShadow===S.VSM&&this._gaussianFilter(e,a,a.width);var h=new l[\"a\"];h.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),r.push(h.array)},renderPointLightShadow:function(e,t,n,r){var i=this._getTexture(n),s=e.gl;r.push(i);var l=this._getDepthMaterial(n),c={getMaterial:function(e){return e.shadowDepthMaterial||l},getUniform:A,sortCompare:u[\"a\"].opaqueSortCompare},d={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},f=new o[\"a\"],h=n.getWorldPosition().array,p=new o[\"a\"],m=n.range;p.min.setArray(h),p.max.setArray(h);var v=new a[\"a\"](m,m,m);p.max.add(v),p.min.sub(v);var g={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};t.traverse((function(e){if(e.isRenderable()&&e.castShadow){var t=e.geometry;if(!t.boundingBox){for(var n=0;n<w.length;n++)d[w[n]].push(e);return}if(f.transformFrom(t.boundingBox,e.worldTransform),!f.intersectBoundingBox(p))return;f.updateVertices();for(n=0;n<w.length;n++)g[w[n]]=!1;for(n=0;n<8;n++){var r=f.vertices[n],i=r[0]-h[0],a=r[1]-h[1],o=r[2]-h[2],s=Math.abs(i),l=Math.abs(a),u=Math.abs(o);s>l?s>u?g[i>0?\"px\":\"nx\"]=!0:g[o>0?\"pz\":\"nz\"]=!0:l>u?g[a>0?\"py\":\"ny\"]=!0:g[o>0?\"pz\":\"nz\"]=!0}for(n=0;n<w.length;n++)g[w[n]]&&d[w[n]].push(e)}}));for(var _=0;_<6;_++){var y=w[_],x=this._getPointLightCamera(n,y);this._frameBuffer.attach(i,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+_),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),e.renderPass(d[y],x,c)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var t=this._lightMaterials[e.__uid__],n=\"POINT_LIGHT\"===e.type;if(!t){var r=n?\"clay.sm.distance.\":\"clay.sm.depth.\";t=new d[\"a\"]({precision:this.precision,shader:new c[\"a\"](c[\"a\"].source(r+\"vertex\"),c[\"a\"].source(r+\"fragment\"))}),this._lightMaterials[e.__uid__]=t}return null!=e.shadowSlopeScale&&t.setUniform(\"slopeScale\",e.shadowSlopeScale),null!=e.shadowBias&&t.setUniform(\"bias\",e.shadowBias),this.softShadow===S.VSM?t.define(\"fragment\",\"USE_VSM\"):t.undefine(\"fragment\",\"USE_VSM\"),n&&(t.set(\"lightPosition\",e.getWorldPosition().array),t.set(\"range\",e.range)),t},_gaussianFilter:function(e,t,n){var r={width:n,height:n,type:h[\"a\"].FLOAT},i=this._texturePool.get(r);this._frameBuffer.attach(i),this._frameBuffer.bind(e),this._gaussianPassH.setUniform(\"texture\",t),this._gaussianPassH.setUniform(\"textureWidth\",n),this._gaussianPassH.render(e),this._frameBuffer.attach(t),this._gaussianPassV.setUniform(\"texture\",i),this._gaussianPassV.setUniform(\"textureHeight\",n),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(i)},_getTexture:function(e,t){var n=e.__uid__,r=this._textures[n],a=e.shadowResolution||512;return t=t||1,r||(r=\"POINT_LIGHT\"===e.type?new m[\"a\"]:new p[\"a\"],r.width=a*t,r.height=a,this.softShadow===S.VSM?(r.type=h[\"a\"].FLOAT,r.anisotropic=4):(r.minFilter=i[\"a\"].NEAREST,r.magFilter=i[\"a\"].NEAREST,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(e,t){this._lightCameras.point||(this._lightCameras.point={px:new v[\"a\"],nx:new v[\"a\"],py:new v[\"a\"],ny:new v[\"a\"],pz:new v[\"a\"],nz:new v[\"a\"]});var n=this._lightCameras.point[t];switch(n.far=e.range,n.fov=90,n.position.set(0,0,0),t){case\"px\":n.lookAt(a[\"a\"].POSITIVE_X,a[\"a\"].NEGATIVE_Y);break;case\"nx\":n.lookAt(a[\"a\"].NEGATIVE_X,a[\"a\"].NEGATIVE_Y);break;case\"py\":n.lookAt(a[\"a\"].POSITIVE_Y,a[\"a\"].POSITIVE_Z);break;case\"ny\":n.lookAt(a[\"a\"].NEGATIVE_Y,a[\"a\"].NEGATIVE_Z);break;case\"pz\":n.lookAt(a[\"a\"].POSITIVE_Z,a[\"a\"].NEGATIVE_Y);break;case\"nz\":n.lookAt(a[\"a\"].NEGATIVE_Z,a[\"a\"].NEGATIVE_Y);break}return e.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var e=new l[\"a\"],t=new o[\"a\"],n=new o[\"a\"];return function(r,i,a){this._lightCameras.directional||(this._lightCameras.directional=new g[\"a\"]);var o=this._lightCameras.directional;t.copy(i.viewBoundingBoxLastFrame),t.intersection(a.frustum.boundingBox),o.position.copy(t.min).add(t.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),l[\"a\"].invert(e,o.worldTransform),l[\"a\"].multiply(e,e,a.worldTransform),n.copy(t).applyTransform(e);var s=n.min.array,u=n.max.array;return o.position.set((s[0]+u[0])/2,(s[1]+u[1])/2,u[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+u[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=u[0],o.top=u[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new v[\"a\"]);var t=this._lightCameras.spot;return t.fov=2*e.penumbraAngle,t.far=e.range,t.worldTransform.copy(e.worldTransform),t.updateProjectionMatrix(),x[\"a\"].invert(t.viewMatrix.array,t.worldTransform.array),t},dispose:function(e){var t=e.gl||e;for(var n in this._frameBuffer&&this._frameBuffer.dispose(t),this._textures)this._textures[n].dispose(t);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var a=i.material;a.undefine(\"fragment\",\"POINT_LIGHT_SHADOW_COUNT\"),a.undefine(\"fragment\",\"DIRECTIONAL_LIGHT_SHADOW_COUNT\"),a.undefine(\"fragment\",\"AMBIENT_LIGHT_SHADOW_COUNT\"),a.set(\"shadowEnabled\",0)}}this._receivers=[],this._lightsCastShadow=[]}});S.VSM=1,S.PCF=2,t[\"a\"]=S},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.sm.depth.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\\nuniform vec2 uvOffset = vec2(0.0, 0.0);\\n@import clay.chunk.skinning_header\\n@import clay.chunk.instancing_header\\nvarying vec4 v_ViewPosition;\\nvarying vec2 v_Texcoord;\\nvoid main(){\\n vec4 P = vec4(position, 1.0);\\n#ifdef SKINNING\\n @import clay.chunk.skin_matrix\\n P = skinMatrixWS * P;\\n#endif\\n#ifdef INSTANCING\\n @import clay.chunk.instancing_matrix\\n P = instanceMat * P;\\n#endif\\n v_ViewPosition = worldViewProjection * P;\\n gl_Position = v_ViewPosition;\\n v_Texcoord = texcoord * uvRepeat + uvOffset;\\n}\\n@end\\n@export clay.sm.depth.fragment\\nvarying vec4 v_ViewPosition;\\nvarying vec2 v_Texcoord;\\nuniform float bias : 0.001;\\nuniform float slopeScale : 1.0;\\nuniform sampler2D alphaMap;\\nuniform float alphaCutoff: 0.0;\\n@import clay.util.encode_float\\nvoid main(){\\n float depth = v_ViewPosition.z / v_ViewPosition.w;\\n if (alphaCutoff > 0.0) {\\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\\n discard;\\n }\\n }\\n#ifdef USE_VSM\\n depth = depth * 0.5 + 0.5;\\n float moment1 = depth;\\n float moment2 = depth * depth;\\n #ifdef SUPPORT_STANDARD_DERIVATIVES\\n float dx = dFdx(depth);\\n float dy = dFdy(depth);\\n moment2 += 0.25*(dx*dx+dy*dy);\\n #endif\\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\\n#else\\n #ifdef SUPPORT_STANDARD_DERIVATIVES\\n float dx = dFdx(depth);\\n float dy = dFdy(depth);\\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\\n #else\\n depth += bias;\\n #endif\\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\\n#endif\\n}\\n@end\\n@export clay.sm.debug_depth\\nuniform sampler2D depthMap;\\nvarying vec2 v_Texcoord;\\n@import clay.util.decode_float\\nvoid main() {\\n vec4 tex = texture2D(depthMap, v_Texcoord);\\n#ifdef USE_VSM\\n gl_FragColor = vec4(tex.rgb, 1.0);\\n#else\\n float depth = decodeFloat(tex);\\n gl_FragColor = vec4(depth, depth, depth, 1.0);\\n#endif\\n}\\n@end\\n@export clay.sm.distance.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform mat4 world : WORLD;\\nattribute vec3 position : POSITION;\\n@import clay.chunk.skinning_header\\nvarying vec3 v_WorldPosition;\\nvoid main (){\\n vec4 P = vec4(position, 1.0);\\n#ifdef SKINNING\\n @import clay.chunk.skin_matrix\\n P = skinMatrixWS * P;\\n#endif\\n#ifdef INSTANCING\\n @import clay.chunk.instancing_matrix\\n P = instanceMat * P;\\n#endif\\n gl_Position = worldViewProjection * P;\\n v_WorldPosition = (world * P).xyz;\\n}\\n@end\\n@export clay.sm.distance.fragment\\nuniform vec3 lightPosition;\\nuniform float range : 100;\\nvarying vec3 v_WorldPosition;\\n@import clay.util.encode_float\\nvoid main(){\\n float dist = distance(lightPosition, v_WorldPosition);\\n#ifdef USE_VSM\\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\\n#else\\n dist = dist / range;\\n gl_FragColor = encodeFloat(dist);\\n#endif\\n}\\n@end\\n@export clay.plugin.shadow_map_common\\n@import clay.util.decode_float\\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\\n vec4 tex = texture2D(map, uv);\\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\\n}\\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\\n float shadowContrib = tapShadowMap(map, uv, z);\\n vec2 offset = vec2(1.0 / textureSize) * scale;\\n#ifdef PCF_KERNEL_SIZE\\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\\n }}\\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\\n#else\\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\\n return shadowContrib / 9.0;\\n#endif\\n}\\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\\n return pcf(map, uv, z, textureSize, vec2(1.0));\\n}\\nfloat chebyshevUpperBound(vec2 moments, float z){\\n float p = 0.0;\\n z = z * 0.5 + 0.5;\\n if (z <= moments.x) {\\n p = 1.0;\\n }\\n float variance = moments.y - moments.x * moments.x;\\n variance = max(variance, 0.0000001);\\n float mD = moments.x - z;\\n float pMax = variance / (variance + mD * mD);\\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\\n return max(p, pMax);\\n}\\nfloat computeShadowContrib(\\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\\n) {\\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\\n posInLightSpace.xyz /= posInLightSpace.w;\\n float z = posInLightSpace.z;\\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\\n #ifdef USE_VSM\\n vec2 moments = texture2D(map, uv * scale + offset).xy;\\n return chebyshevUpperBound(moments, z);\\n #else\\n return pcf(map, uv * scale + offset, z, textureSize, scale);\\n #endif\\n }\\n return 1.0;\\n}\\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\\n}\\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\\n{\\n float dist = length(direction);\\n vec4 shadowTex = textureCube(map, direction);\\n#ifdef USE_VSM\\n vec2 moments = shadowTex.xy;\\n float variance = moments.y - moments.x * moments.x;\\n float mD = moments.x - dist;\\n float p = variance / (variance + mD * mD);\\n if(moments.x + 0.001 < dist){\\n return clamp(p, 0.0, 1.0);\\n }else{\\n return 1.0;\\n }\\n#else\\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\\n#endif\\n}\\n@end\\n@export clay.plugin.compute_shadow_map\\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\n#endif\\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\\n#if defined(SHADOW_CASCADE)\\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\\n#else\\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\n#endif\\n#endif\\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\n#endif\\nuniform bool shadowEnabled : true;\\n#ifdef PCF_KERNEL_SIZE\\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\\n#endif\\n@import clay.plugin.shadow_map_common\\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\\n float shadowContrib;\\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\\n shadowContrib = computeShadowContrib(\\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\\n spotLightShadowMapSizes[_idx_]\\n );\\n shadowContribs[_idx_] = shadowContrib;\\n }}\\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#endif\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n#ifdef SHADOW_CASCADE\\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\\n / (gl_DepthRange.far - gl_DepthRange.near);\\n float shadowContrib;\\n shadowContribs[0] = 1.0;\\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\\n if (\\n depth >= shadowCascadeClipsNear[_idx_] &&\\n depth <= shadowCascadeClipsFar[_idx_]\\n ) {\\n shadowContrib = computeShadowContrib(\\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\\n directionalLightShadowMapSizes[0],\\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\\n );\\n shadowContribs[0] = shadowContrib;\\n }\\n }}\\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#else\\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\\n float shadowContrib;\\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\\n shadowContrib = computeShadowContrib(\\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\\n directionalLightShadowMapSizes[_idx_]\\n );\\n shadowContribs[_idx_] = shadowContrib;\\n }}\\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#endif\\n#endif\\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\\n vec3 lightPosition;\\n vec3 direction;\\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\\n lightPosition = pointLightPosition[_idx_];\\n direction = position - lightPosition;\\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\\n }}\\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#endif\\n#endif\\n@end\"},function(e,t,n){\"use strict\";var r=n(9),i=n(5),a=n(4),o=n(10),s=n(179),l=n(191),u=n(193),c=n(195),d=n(1),f=n(196),h=n(198),p=(n(7),n(199)),m=n(86),v=n(87),g=n(88),_=n(89),y=n(90),x=n(91),b=n(92),w=n(93),A=n(94),T=n(200),S=n(201);r[\"a\"][\"import\"](m[\"a\"]),r[\"a\"][\"import\"](v[\"a\"]),r[\"a\"][\"import\"](g[\"a\"]),r[\"a\"][\"import\"](_[\"a\"]),r[\"a\"][\"import\"](y[\"a\"]),r[\"a\"][\"import\"](x[\"a\"]),r[\"a\"][\"import\"](b[\"a\"]),r[\"a\"][\"import\"](w[\"a\"]),r[\"a\"][\"import\"](A[\"a\"]),r[\"a\"][\"import\"](T[\"a\"]),r[\"a\"][\"import\"](S[\"a\"]);var E={color:{parameters:{width:function(e){return e.getWidth()},height:function(e){return e.getHeight()}}}},C=[\"composite\",\"FXAA\"];function M(){this._sourceTexture=new i[\"a\"]({type:a[\"a\"].HALF_FLOAT}),this._depthTexture=new i[\"a\"]({format:a[\"a\"].DEPTH_COMPONENT,type:a[\"a\"].UNSIGNED_INT}),this._framebuffer=new o[\"a\"],this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,o[\"a\"].DEPTH_ATTACHMENT),this._normalPass=new f[\"a\"],this._compositor=Object(s[\"a\"])(p[\"a\"]);var e=this._compositor.getNodeByName(\"source\");e.texture=this._sourceTexture;var t=this._compositor.getNodeByName(\"coc\");this._sourceNode=e,this._cocNode=t,this._compositeNode=this._compositor.getNodeByName(\"composite\"),this._fxaaNode=this._compositor.getNodeByName(\"FXAA\"),this._dofBlurNodes=[\"dof_far_blur\",\"dof_near_blur\",\"dof_coc_blur\"].map((function(e){return this._compositor.getNodeByName(e)}),this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=C.map((function(e){return this._compositor.getNodeByName(e)}),this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new l[\"a\"](n),this._ssrPass=new u[\"a\"](n),this._edgePass=new h[\"a\"](n)}M.prototype.resize=function(e,t,n){n=n||1;e*=n,t*=n;var r=this._sourceTexture,i=this._depthTexture;r.width=e,r.height=t,i.width=e,i.height=t},M.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},M.prototype._getPrevNode=function(e){var t=C.indexOf(e.name)-1,n=this._finalNodesChain[t];while(n&&!this._compositor.getNodeByName(n.name))t-=1,n=this._finalNodesChain[t];return n},M.prototype._getNextNode=function(e){var t=C.indexOf(e.name)+1,n=this._finalNodesChain[t];while(n&&!this._compositor.getNodeByName(n.name))t+=1,n=this._finalNodesChain[t];return n},M.prototype._addChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(t.outputs=E,e.inputs.texture=t.name,n?(e.outputs=E,n.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))},M.prototype._removeChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(n?(t.outputs=E,n.inputs.texture=t.name):t.outputs=null,this._compositor.removeNode(e))},M.prototype.updateNormal=function(e,t,n,r){this._ifRenderNormalPass()&&this._normalPass.update(e,t,n)},M.prototype.updateSSAO=function(e,t,n,r){this._ssaoPass.update(e,n,r)},M.prototype.enableSSAO=function(){this._enableSSAO=!0},M.prototype.disableSSAO=function(){this._enableSSAO=!1},M.prototype.enableSSR=function(){this._enableSSR=!0},M.prototype.disableSSR=function(){this._enableSSR=!1},M.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},M.prototype.getSourceFrameBuffer=function(){return this._framebuffer},M.prototype.getSourceTexture=function(){return this._sourceTexture},M.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},M.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},M.prototype.enableBloom=function(){this._compositeNode.inputs.bloom=\"bloom_composite\",this._compositor.dirty()},M.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},M.prototype.enableDOF=function(){this._compositeNode.inputs.texture=\"dof_composite\",this._compositor.dirty()},M.prototype.disableDOF=function(){this._compositeNode.inputs.texture=\"source\",this._compositor.dirty()},M.prototype.enableColorCorrection=function(){this._compositeNode.define(\"COLOR_CORRECTION\"),this._enableColorCorrection=!0},M.prototype.disableColorCorrection=function(){this._compositeNode.undefine(\"COLOR_CORRECTION\"),this._enableColorCorrection=!1},M.prototype.enableEdge=function(){this._enableEdge=!0},M.prototype.disableEdge=function(){this._enableEdge=!1},M.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter(\"bloomIntensity\",e)},M.prototype.setSSAOParameter=function(e,t){switch(e){case\"quality\":var n={low:6,medium:12,high:32,ultra:62}[t]||12;this._ssaoPass.setParameter(\"kernelSize\",n);break;case\"radius\":this._ssaoPass.setParameter(e,t),this._ssaoPass.setParameter(\"bias\",t/200);break;case\"intensity\":this._ssaoPass.setParameter(e,t);break;default:console.warn(\"Unkown SSAO parameter \"+e)}},M.prototype.setDOFParameter=function(e,t){switch(e){case\"focalDistance\":case\"focalRange\":case\"fstop\":this._cocNode.setParameter(e,t);break;case\"blurRadius\":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter(\"blurRadius\",t);break;case\"quality\":var r={low:4,medium:8,high:16,ultra:32}[t]||8;this._dofBlurKernelSize=r;for(n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define(\"POISSON_KERNEL_SIZE\",r);this._dofBlurKernel=new Float32Array(2*r);break;default:console.warn(\"Unkown DOF parameter \"+e)}},M.prototype.setSSRParameter=function(e,t){if(null!=t)switch(e){case\"quality\":var n={low:10,medium:15,high:30,ultra:80}[t]||20,r={low:32,medium:16,high:8,ultra:4}[t]||16;this._ssrPass.setParameter(\"maxIteration\",n),this._ssrPass.setParameter(\"pixelStride\",r);break;case\"maxRoughness\":this._ssrPass.setParameter(\"minGlossiness\",Math.max(Math.min(1-t,1),0));break;case\"physical\":this.setPhysicallyCorrectSSR(t);break;default:console.warn(\"Unkown SSR parameter \"+e)}},M.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)},M.prototype.setEdgeColor=function(e){var t=d[\"a\"].parseColor(e);this._edgePass.setParameter(\"edgeColor\",t)},M.prototype.setExposure=function(e){this._compositeNode.setParameter(\"exposure\",Math.pow(2,e))},M.prototype.setColorLookupTexture=function(e,t){this._compositeNode.pass.material.setTextureImage(\"lut\",this._enableColorCorrection?e:\"none\",t,{minFilter:d[\"a\"].Texture.NEAREST,magFilter:d[\"a\"].Texture.NEAREST,flipY:!1})},M.prototype.setColorCorrection=function(e,t){this._compositeNode.setParameter(e,t)},M.prototype.isSSREnabled=function(){return this._enableSSR},M.prototype.composite=function(e,t,n,r,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(e,n,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,n,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter(\"depth\",this._depthTexture);for(var s=this._dofBlurKernel,l=this._dofBlurKernelSize,u=Math.floor(c[\"a\"].length/2/l),d=i%u,f=0;f<2*l;f++)s[f]=c[\"a\"][f+d*l*2];for(f=0;f<this._dofBlurNodes.length;f++)this._dofBlurNodes[f].setParameter(\"percent\",i/30),this._dofBlurNodes[f].setParameter(\"poissonKernel\",s);this._cocNode.setParameter(\"zNear\",n.near),this._cocNode.setParameter(\"zFar\",n.far),this._compositor.render(e,r)},M.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)},t[\"a\"]=M},function(e,t,n){\"use strict\";var r=n(180);t[\"a\"]=r[\"a\"]},function(e,t,n){\"use strict\";var r=n(23),i=n(181),a=n(183),o=n(184),s=n(185),l=n(9),u=n(4),c=n(5),d=n(27),f=n(186);Object(f[\"a\"])(l[\"a\"]);var h=/^#source\\((.*?)\\)/;function p(e,t){var n=new i[\"a\"];t=t||{};var r={textures:{},parameters:{}},a=function(i,a){for(var o=0;o<e.nodes.length;o++){var s=e.nodes[o],l=m(s,r,t);l&&n.addNode(l)}};for(var o in e.parameters){var s=e.parameters[o];r.parameters[o]=_(s)}return y(e,r,t,(function(e){r.textures=e,a()})),n}function m(e,t,n){var r,i,u,c,d=e.type||\"filter\";if(\"filter\"===d){var f=e.shader.trim(),p=h.exec(f);if(p?r=l[\"a\"].source(p[1].trim()):\"#\"===f.charAt(0)&&(r=t.shaders[f.substr(1)]),r||(r=f),!r)return}if(e.inputs)for(var m in i={},e.inputs)\"string\"===typeof e.inputs[m]?i[m]=e.inputs[m]:i[m]={node:e.inputs[m].node,pin:e.inputs[m].pin};if(e.outputs)for(var m in u={},e.outputs){var v=e.outputs[m];u[m]={},null!=v.attachment&&(u[m].attachment=v.attachment),null!=v.keepLastFrame&&(u[m].keepLastFrame=v.keepLastFrame),null!=v.outputLastFrame&&(u[m].outputLastFrame=v.outputLastFrame),v.parameters&&(u[m].parameters=_(v.parameters))}if(c=\"scene\"===d?new a[\"a\"]({name:e.name,scene:n.scene,camera:n.camera,outputs:u}):\"texture\"===d?new o[\"a\"]({name:e.name,outputs:u}):new s[\"a\"]({name:e.name,shader:r,inputs:i,outputs:u}),c){if(e.parameters)for(var m in e.parameters){var g=e.parameters[m];\"string\"===typeof g?(g=g.trim(),\"#\"===g.charAt(0)?g=t.textures[g.substr(1)]:c.on(\"beforerender\",x(m,w(g)))):\"function\"===typeof g&&c.on(\"beforerender\",g),c.setParameter(m,g)}if(e.defines&&c.pass)for(var m in e.defines){g=e.defines[m];c.pass.material.define(\"fragment\",m,g)}}return c}function v(e,t){return e}function g(e,t){return t}function _(e){var t={};if(!e)return t;[\"type\",\"minFilter\",\"magFilter\",\"wrapS\",\"wrapT\",\"flipY\",\"useMipmap\"].forEach((function(n){var r=e[n];null!=r&&(\"string\"===typeof r&&(r=u[\"a\"][r]),t[n]=r)}));var n=e.scale||1;return[\"width\",\"height\"].forEach((function(r){if(null!=e[r]){var i=e[r];\"string\"===typeof i?(i=i.trim(),t[r]=b(r,w(i),n)):t[r]=i}})),t.width||(t.width=v),t.height||(t.height=g),null!=e.useMipmap&&(t.useMipmap=e.useMipmap),t}function y(e,t,n,i){if(e.textures){var a={},o=0,s=!1,l=n.textureRootPath;r[\"a\"].each(e.textures,(function(e,t){var n,u=e.path,f=_(e.parameters);if(Array.isArray(u)&&6===u.length)l&&(u=u.map((function(e){return r[\"a\"].relative2absolute(e,l)}))),n=new d[\"a\"](f);else{if(\"string\"!==typeof u)return;l&&(u=r[\"a\"].relative2absolute(u,l)),n=new c[\"a\"](f)}n.load(u),o++,n.once(\"success\",(function(){a[t]=n,o--,0===o&&(i(a),s=!0)}))})),0!==o||s||i(a)}else i({})}function x(e,t){return function(n){var r=n.getDevicePixelRatio(),i=n.getWidth(),a=n.getHeight(),o=t(i,a,r);this.setParameter(e,o)}}function b(e,t,n){return n=n||1,function(e){var r=e.getDevicePixelRatio(),i=e.getWidth()*n,a=e.getHeight()*n;return t(i,a,r)}}function w(e){var t=/^expr\\((.*)\\)$/.exec(e);if(t)try{var n=new Function(\"width\",\"height\",\"dpr\",\"return \"+t[1]);return n(1,1),n}catch(r){throw new Error(\"Invalid expression.\")}}t[\"a\"]=p},function(e,t,n){\"use strict\";var r=n(182),i=n(85),a=n(10),o=r[\"a\"].extend((function(){return{_outputs:[],_texturePool:new i[\"a\"],_frameBuffer:new a[\"a\"]({depthBuffer:!1})}}),{addNode:function(e){r[\"a\"].prototype.addNode.call(this,e),e._compositor=this},render:function(e,t){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(e,t);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}});t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(8),i=n(48),a=r[\"a\"].extend((function(){return{nodes:[]}}),{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){\"string\"===typeof e&&(e=this.getNodeByName(e));var t=this.nodes.indexOf(e);t>=0&&(this.nodes.splice(t,1),this._dirty=!0)},getNodeByName:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].name===e)return this.nodes[t]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(e=0;e<this.nodes.length;e++){var t=this.nodes[e];if(t.inputs)for(var n in t.inputs)if(t.inputs[n])if(!t.pass||t.pass.material.isUniformEnabled(n)){var r=t.inputs[n],i=this.findPin(r);i?t.link(n,i.node,i.pin):\"string\"===typeof r?console.warn(\"Node \"+r+\" not exist\"):console.warn(\"Pin of \"+r.node+\".\"+r.pin+\" not exist\")}else console.warn(\"Pin \"+t.name+\".\"+n+\" not used.\")}},findPin:function(e){var t;if((\"string\"===typeof e||e instanceof i[\"a\"])&&(e={node:e}),\"string\"===typeof e.node)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===e.node&&(t=r)}else t=e.node;if(t){var a=e.pin;if(a||t.outputs&&(a=Object.keys(t.outputs)[0]),t.outputs[a])return{node:t,pin:a}}}});t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(48),i=n(11),a=n(10),o=r[\"a\"].extend({name:\"scene\",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},(function(){this.frameBuffer=new a[\"a\"]}),{render:function(e){this._rendering=!0;var t,n=e.gl;if(this.trigger(\"beforerender\"),this.outputs){var r=this.frameBuffer;for(var a in this.outputs){var o=this.updateParameter(a,e),s=this.outputs[a],l=this._compositor.allocateTexture(o);this._outputTextures[a]=l;var u=s.attachment||n.COLOR_ATTACHMENT0;\"string\"==typeof u&&(u=n[u]),r.attach(l,u)}r.bind(e);var c=e.getGLExtension(\"EXT_draw_buffers\");if(c){var d=[];for(var u in this.outputs)u=parseInt(u),u>=n.COLOR_ATTACHMENT0&&u<=n.COLOR_ATTACHMENT0+8&&d.push(u);c.drawBuffersEXT(d)}e.saveClear(),e.clearBit=i[\"a\"].DEPTH_BUFFER_BIT|i[\"a\"].COLOR_BUFFER_BIT,t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),r.unbind(e)}else t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger(\"afterrender\",t),this._rendering=!1,this._rendered=!0}});t[\"a\"]=o},function(e,t,n){\"use strict\";var r=n(48),i=r[\"a\"].extend((function(){return{texture:null,outputs:{color:{}}}}),(function(){}),{getOutput:function(e,t){return this.texture},beforeFrame:function(){},afterFrame:function(){}});t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(15),i=n(48),a=i[\"a\"].extend((function(){return{name:\"\",inputs:{},outputs:null,shader:\"\",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),(function(){var e=new r[\"a\"]({fragment:this.shader});this.pass=e}),{render:function(e,t){this.trigger(\"beforerender\",e),this._rendering=!0;var n=e.gl;for(var r in this.inputLinks){var i=this.inputLinks[r],a=i.node.getOutput(e,i.pin);this.pass.setUniform(r,a)}if(this.outputs){this.pass.outputs={};var o={};for(var s in this.outputs){var l=this.updateParameter(s,e);isNaN(l.width)&&this.updateParameter(s,e);var u=this.outputs[s],c=this._compositor.allocateTexture(l);this._outputTextures[s]=c;var d=u.attachment||n.COLOR_ATTACHMENT0;\"string\"===typeof d&&(d=n[d]),o[d]=c}for(var d in this._compositor.getFrameBuffer().bind(e),o)this._compositor.getFrameBuffer().attach(o[d],d);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,t);for(var r in this.inputLinks){i=this.inputLinks[r];i.node.removeReference(i.pin)}this._rendering=!1,this._rendered=!0,this.trigger(\"afterrender\",e)},updateParameter:function(e,t){var n,r,i=this.outputs[e],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)\"width\"!==s&&\"height\"!==s&&(o[s]=a[s]);return n=\"function\"===typeof a.width?a.width.call(this,t):a.width,r=\"function\"===typeof a.height?a.height.call(this,t):a.height,n=Math.ceil(n),r=Math.ceil(r),o.width===n&&o.height===r||this._outputTextures[e]&&this._outputTextures[e].dispose(t),o.width=n,o.height=r,o},setParameter:function(e,t){this.pass.setUniform(e,t)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},define:function(e,t){this.pass.material.define(\"fragment\",e,t)},undefine:function(e){this.pass.material.undefine(\"fragment\",e)},removeReference:function(e){if(this._outputReferences[e]--,0===this._outputReferences[e]){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},clear:function(){i[\"a\"].prototype.clear.call(this),this.pass.material.disableTexturesAll()}});t[\"a\"]=a},function(e,t,n){\"use strict\";t[\"a\"]=v;var r=n(187),i=n(86),a=n(188),o=n(87),s=n(189),l=n(88),u=n(89),c=n(90),d=n(91),f=n(92),h=n(190),p=n(93),m=n(94);function v(e){e[\"import\"](r[\"a\"]),e[\"import\"](i[\"a\"]),e[\"import\"](a[\"a\"]),e[\"import\"](o[\"a\"]),e[\"import\"](s[\"a\"]),e[\"import\"](l[\"a\"]),e[\"import\"](u[\"a\"]),e[\"import\"](c[\"a\"]),e[\"import\"](d[\"a\"]),e[\"import\"](f[\"a\"]),e[\"import\"](h[\"a\"]),e[\"import\"](p[\"a\"]),e[\"import\"](m[\"a\"])}},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.coloradjust\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float brightness : 0.0;\\nuniform float contrast : 1.0;\\nuniform float exposure : 0.0;\\nuniform float gamma : 1.0;\\nuniform float saturation : 1.0;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord);\\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\\n float luminance = dot( color, w );\\n color = mix(vec3(luminance), color, saturation);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.brightness\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float brightness : 0.0;\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord);\\n vec3 color = tex.rgb + vec3(brightness);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.contrast\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float contrast : 1.0;\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord);\\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.exposure\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float exposure : 0.0;\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n vec3 color = tex.rgb * pow(2.0, exposure);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.gamma\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float gamma : 1.0;\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n vec3 color = pow(tex.rgb, vec3(gamma));\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.saturation\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float saturation : 1.0;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n vec3 color = tex.rgb;\\n float luminance = dot(color, w);\\n color = mix(vec3(luminance), color, saturation);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.hdr.log_lum\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\\n float luminance = dot(tex.rgb, w);\\n luminance = log(luminance + 0.001);\\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\\n}\\n@end\\n@export clay.compositor.hdr.lum_adaption\\nvarying vec2 v_Texcoord;\\nuniform sampler2D adaptedLum;\\nuniform sampler2D currentLum;\\nuniform float frameTime : 0.02;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\\n}\\n@end\\n@export clay.compositor.lum\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord );\\n float luminance = dot(tex.rgb, w);\\n gl_FragColor = vec4(vec3(luminance), 1.0);\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.vignette\\n#define OUTPUT_ALPHA\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float darkness: 1;\\nuniform float offset: 1;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\\n gl_FragColor.rgb = texel.rgb;\\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\\n}\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export clay.compositor.lensflare\\n#define SAMPLE_NUMBER 8\\nuniform sampler2D texture;\\nuniform sampler2D lenscolor;\\nuniform vec2 textureSize : [512, 512];\\nuniform float dispersal : 0.3;\\nuniform float haloWidth : 0.4;\\nuniform float distortion : 1.0;\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\nvec4 textureDistorted(\\n in vec2 texcoord,\\n in vec2 direction,\\n in vec3 distortion\\n) {\\n return vec4(\\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\\n 1.0\\n );\\n}\\nvoid main()\\n{\\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\\n vec2 haloVec = normalize(ghostVec) * haloWidth;\\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\\n vec4 result = vec4(0.0);\\n for (int i = 0; i < SAMPLE_NUMBER; i++)\\n {\\n vec2 offset = fract(texcoord + ghostVec * float(i));\\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\\n weight = pow(1.0 - weight, 10.0);\\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\\n }\\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\\n weight = pow(1.0 - weight, 10.0);\\n vec2 offset = fract(texcoord + haloVec);\\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\\n gl_FragColor = result;\\n}\\n@end\"},function(e,t,n){\"use strict\";var r=n(7),i=n(3),a=n(5),o=n(4),s=n(15),l=n(9),u=n(10),c=n(49),d=n(192);function f(e){for(var t=new Uint8Array(e*e*4),n=0,r=new i[\"a\"],a=0;a<e;a++)for(var o=0;o<e;o++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),t[n++]=255*(.5*r.x+.5),t[n++]=255*(.5*r.y+.5),t[n++]=0,t[n++]=255;return t}function h(e){return new a[\"a\"]({pixels:f(e),wrapS:o[\"a\"].REPEAT,wrapT:o[\"a\"].REPEAT,width:e,height:e})}function p(e,t,n){var r=new Float32Array(3*e);t=t||0;for(var i=0;i<e;i++){var a=Object(c[\"a\"])(i+t,2)*(n?1:2)*Math.PI,o=Object(c[\"a\"])(i+t,3)*Math.PI,s=Math.random(),l=Math.cos(a)*Math.sin(o)*s,u=Math.cos(o)*s,d=Math.sin(a)*Math.sin(o)*s;r[3*i]=l,r[3*i+1]=u,r[3*i+2]=d}return r}function m(e){e=e||{},this._ssaoPass=new s[\"a\"]({fragment:l[\"a\"].source(\"ecgl.ssao.estimate\")}),this._blurPass=new s[\"a\"]({fragment:l[\"a\"].source(\"ecgl.ssao.blur\")}),this._framebuffer=new u[\"a\"]({depthBuffer:!1}),this._ssaoTexture=new a[\"a\"],this._blurTexture=new a[\"a\"],this._blurTexture2=new a[\"a\"],this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),null!=e.radius&&this.setParameter(\"radius\",e.radius),null!=e.power&&this.setParameter(\"power\",e.power),this._normalTex||(this._ssaoPass.material.disableTexture(\"normalTex\"),this._blurPass.material.disableTexture(\"normalTex\")),this._depthTex||this._blurPass.material.disableTexture(\"depthTex\"),this._blurPass.material.setUniform(\"normalTex\",this._normalTex),this._blurPass.material.setUniform(\"depthTex\",this._depthTex)}l[\"a\"].import(d[\"a\"]),m.prototype.setDepthTexture=function(e){this._depthTex=e},m.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?\"enableTexture\":\"disableTexture\"](\"normalTex\"),this.setKernelSize(this._kernelSize)},m.prototype.update=function(e,t,n){var i=e.getWidth(),a=e.getHeight(),o=this._ssaoPass,s=this._blurPass;o.setUniform(\"kernel\",this._kernels[n%this._kernels.length]),o.setUniform(\"depthTex\",this._depthTex),null!=this._normalTex&&o.setUniform(\"normalTex\",this._normalTex),o.setUniform(\"depthTexSize\",[this._depthTex.width,this._depthTex.height]);var l=new r[\"a\"];r[\"a\"].transpose(l,t.worldTransform),o.setUniform(\"projection\",t.projectionMatrix.array),o.setUniform(\"projectionInv\",t.invProjectionMatrix.array),o.setUniform(\"viewInverseTranspose\",l.array);var u=this._ssaoTexture,c=this._blurTexture,d=this._blurTexture2;u.width=i/2,u.height=a/2,c.width=i,c.height=a,d.width=i,d.height=a,this._framebuffer.attach(u),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),o.render(e),s.setUniform(\"textureSize\",[i/2,a/2]),s.setUniform(\"projection\",t.projectionMatrix.array),this._framebuffer.attach(c),s.setUniform(\"direction\",0),s.setUniform(\"ssaoTexture\",u),s.render(e),this._framebuffer.attach(d),s.setUniform(\"textureSize\",[i,a]),s.setUniform(\"direction\",1),s.setUniform(\"ssaoTexture\",c),s.render(e),this._framebuffer.unbind(e);var f=e.clearColor;e.gl.clearColor(f[0],f[1],f[2],f[3])},m.prototype.getTargetTexture=function(){return this._blurTexture2},m.prototype.setParameter=function(e,t){\"noiseTexSize\"===e?this.setNoiseSize(t):\"kernelSize\"===e?this.setKernelSize(t):\"intensity\"===e?this._ssaoPass.material.set(\"intensity\",t):this._ssaoPass.setUniform(e,t)},m.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define(\"fragment\",\"KERNEL_SIZE\",e),this._kernels=this._kernels||[];for(var t=0;t<30;t++)this._kernels[t]=p(e,t*e,!!this._normalTex)},m.prototype.setNoiseSize=function(e){var t=this._ssaoPass.getUniform(\"noiseTex\");t?(t.data=f(e),t.width=t.height=e,t.dirty()):(t=h(e),this._ssaoPass.setUniform(\"noiseTex\",h(e))),this._ssaoPass.setUniform(\"noiseTexSize\",[e,e])},m.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)},t[\"a\"]=m},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.ssao.estimate\\n\\nuniform sampler2D depthTex;\\n\\nuniform sampler2D normalTex;\\n\\nuniform sampler2D noiseTex;\\n\\nuniform vec2 depthTexSize;\\n\\nuniform vec2 noiseTexSize;\\n\\nuniform mat4 projection;\\n\\nuniform mat4 projectionInv;\\n\\nuniform mat4 viewInverseTranspose;\\n\\nuniform vec3 kernel[KERNEL_SIZE];\\n\\nuniform float radius : 1;\\n\\nuniform float power : 1;\\n\\nuniform float bias: 1e-2;\\n\\nuniform float intensity: 1.0;\\n\\nvarying vec2 v_Texcoord;\\n\\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\\n float occlusion = 0.0;\\n\\n for (int i = 0; i < KERNEL_SIZE; i++) {\\n vec3 samplePos = kernel[i];\\n#ifdef NORMALTEX_ENABLED\\n samplePos = kernelBasis * samplePos;\\n#endif\\n samplePos = samplePos * radius + originPos;\\n\\n vec4 texCoord = projection * vec4(samplePos, 1.0);\\n texCoord.xy /= texCoord.w;\\n\\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\\n\\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\\n if (projection[3][3] == 0.0) {\\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\\n }\\n else {\\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\\n }\\n \\n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\\n }\\n#ifdef NORMALTEX_ENABLED\\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\\n#else\\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\\n#endif\\n return pow(occlusion, power);\\n}\\n\\nvoid main()\\n{\\n\\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\\n\\n#ifdef NORMALTEX_ENABLED\\n vec4 tex = texture2D(normalTex, v_Texcoord);\\n if (dot(tex.rgb, tex.rgb) == 0.0) {\\n gl_FragColor = vec4(1.0);\\n return;\\n }\\n vec3 N = tex.rgb * 2.0 - 1.0;\\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\\n\\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\\n vec3 T = normalize(rvec - N * dot(rvec, N));\\n vec3 BT = normalize(cross(N, T));\\n mat3 kernelBasis = mat3(T, BT, N);\\n#else\\n if (depthTexel.r > 0.99999) {\\n gl_FragColor = vec4(1.0);\\n return;\\n }\\n mat3 kernelBasis;\\n#endif\\n\\n float z = depthTexel.r * 2.0 - 1.0;\\n\\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\\n vec4 p4 = projectionInv * projectedPos;\\n\\n vec3 position = p4.xyz / p4.w;\\n\\n float ao = ssaoEstimator(position, kernelBasis);\\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\\n gl_FragColor = vec4(vec3(ao), 1.0);\\n}\\n\\n@end\\n\\n\\n@export ecgl.ssao.blur\\n#define SHADER_NAME SSAO_BLUR\\n\\nuniform sampler2D ssaoTexture;\\n\\n#ifdef NORMALTEX_ENABLED\\nuniform sampler2D normalTex;\\n#endif\\n\\nvarying vec2 v_Texcoord;\\n\\nuniform vec2 textureSize;\\nuniform float blurSize : 1.0;\\n\\nuniform int direction: 0.0;\\n\\n#ifdef DEPTHTEX_ENABLED\\nuniform sampler2D depthTex;\\nuniform mat4 projection;\\nuniform float depthRange : 0.5;\\n\\nfloat getLinearDepth(vec2 coord)\\n{\\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\\n}\\n#endif\\n\\nvoid main()\\n{\\n float kernel[5];\\n kernel[0] = 0.122581;\\n kernel[1] = 0.233062;\\n kernel[2] = 0.288713;\\n kernel[3] = 0.233062;\\n kernel[4] = 0.122581;\\n\\n vec2 off = vec2(0.0);\\n if (direction == 0) {\\n off[0] = blurSize / textureSize.x;\\n }\\n else {\\n off[1] = blurSize / textureSize.y;\\n }\\n\\n vec2 coord = v_Texcoord;\\n\\n float sum = 0.0;\\n float weightAll = 0.0;\\n\\n#ifdef NORMALTEX_ENABLED\\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\\n#endif\\n#if defined(DEPTHTEX_ENABLED)\\n float centerDepth = getLinearDepth(v_Texcoord);\\n#endif\\n\\n for (int i = 0; i < 5; i++) {\\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\\n\\n float w = kernel[i];\\n#ifdef NORMALTEX_ENABLED\\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\\n#endif\\n#ifdef DEPTHTEX_ENABLED\\n float d = getLinearDepth(coord);\\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\\n#endif\\n\\n weightAll += w;\\n sum += texture2D(ssaoTexture, coord).r * w;\\n }\\n\\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\\n}\\n\\n@end\\n\"},function(e,t,n){\"use strict\";var r=n(7),i=(n(3),n(5)),a=n(4),o=n(15),s=n(9),l=n(10),u=(n(49),n(77)),c=n(194);function d(e){e=e||{},this._ssrPass=new o[\"a\"]({fragment:s[\"a\"].source(\"ecgl.ssr.main\"),clearColor:[0,0,0,0]}),this._blurPass1=new o[\"a\"]({fragment:s[\"a\"].source(\"ecgl.ssr.blur\"),clearColor:[0,0,0,0]}),this._blurPass2=new o[\"a\"]({fragment:s[\"a\"].source(\"ecgl.ssr.blur\"),clearColor:[0,0,0,0]}),this._blendPass=new o[\"a\"]({fragment:s[\"a\"].source(\"clay.compositor.blend\")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture([\"texture1\",\"texture2\"]),this._ssrPass.setUniform(\"gBufferTexture1\",e.normalTexture),this._ssrPass.setUniform(\"gBufferTexture2\",e.depthTexture),this._blurPass1.setUniform(\"gBufferTexture1\",e.normalTexture),this._blurPass1.setUniform(\"gBufferTexture2\",e.depthTexture),this._blurPass2.setUniform(\"gBufferTexture1\",e.normalTexture),this._blurPass2.setUniform(\"gBufferTexture2\",e.depthTexture),this._blurPass2.material.define(\"fragment\",\"VERTICAL\"),this._blurPass2.material.define(\"fragment\",\"BLEND\"),this._ssrTexture=new i[\"a\"]({type:a[\"a\"].HALF_FLOAT}),this._texture2=new i[\"a\"]({type:a[\"a\"].HALF_FLOAT}),this._texture3=new i[\"a\"]({type:a[\"a\"].HALF_FLOAT}),this._prevTexture=new i[\"a\"]({type:a[\"a\"].HALF_FLOAT}),this._currentTexture=new i[\"a\"]({type:a[\"a\"].HALF_FLOAT}),this._frameBuffer=new l[\"a\"]({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define(\"fragment\",\"SAMPLE_PER_FRAME\",this._samplePerFrame),this._ssrPass.material.define(\"fragment\",\"TOTAL_SAMPLES\",this._totalSamples),this._downScale=1}s[\"a\"].import(c[\"a\"]),d.prototype.setAmbientCubemap=function(e,t){this._ssrPass.material.set(\"specularCubemap\",e),this._ssrPass.material.set(\"specularIntensity\",t);var n=e&&t;this._ssrPass.material[n?\"enableTexture\":\"disableTexture\"](\"specularCubemap\")},d.prototype.update=function(e,t,n,i){var a=e.getWidth(),o=e.getHeight(),s=this._ssrTexture,l=this._texture2,u=this._texture3;s.width=this._prevTexture.width=this._currentTexture.width=a/this._downScale,s.height=this._prevTexture.height=this._currentTexture.height=o/this._downScale,l.width=u.width=a,l.height=u.height=o;var c=this._frameBuffer,d=this._ssrPass,f=this._blurPass1,h=this._blurPass2,p=this._blendPass,m=new r[\"a\"],v=new r[\"a\"];r[\"a\"].transpose(m,t.worldTransform),r[\"a\"].transpose(v,t.viewMatrix),d.setUniform(\"sourceTexture\",n),d.setUniform(\"projection\",t.projectionMatrix.array),d.setUniform(\"projectionInv\",t.invProjectionMatrix.array),d.setUniform(\"toViewSpace\",m.array),d.setUniform(\"toWorldSpace\",v.array),d.setUniform(\"nearZ\",t.near);var g=i/this._totalSamples*this._samplePerFrame;if(d.setUniform(\"jitterOffset\",g),d.setUniform(\"sampleOffset\",i*this._samplePerFrame),f.setUniform(\"textureSize\",[s.width,s.height]),h.setUniform(\"textureSize\",[a,o]),h.setUniform(\"sourceTexture\",n),f.setUniform(\"projection\",t.projectionMatrix.array),h.setUniform(\"projection\",t.projectionMatrix.array),c.attach(s),c.bind(e),d.render(e),this._physicallyCorrect&&(c.attach(this._currentTexture),p.setUniform(\"texture1\",this._prevTexture),p.setUniform(\"texture2\",s),p.material.set({weight1:i>=1?.95:0,weight2:i>=1?.05:1}),p.render(e)),c.attach(l),f.setUniform(\"texture\",this._physicallyCorrect?this._currentTexture:s),f.render(e),c.attach(u),h.setUniform(\"texture\",l),h.render(e),c.unbind(e),this._physicallyCorrect){var _=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=_}},d.prototype.getTargetTexture=function(){return this._texture3},d.prototype.setParameter=function(e,t){\"maxIteration\"===e?this._ssrPass.material.define(\"fragment\",\"MAX_ITERATION\",t):this._ssrPass.setUniform(e,t)},d.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=u[\"a\"].generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define(\"fragment\",\"PHYSICALLY_CORRECT\"),this._ssrPass.material.set(\"normalDistribution\",this._normalDistribution),this._ssrPass.material.set(\"normalDistributionSize\",[64,this._totalSamples])):this._ssrPass.material.undefine(\"fragment\",\"PHYSICALLY_CORRECT\"),this._physicallyCorrect=e},d.prototype.setSSAOTexture=function(e){var t=this._blurPass2;e?(t.material.enableTexture(\"ssaoTex\"),t.material.set(\"ssaoTex\",e)):t.material.disableTexture(\"ssaoTex\")},d.prototype.isFinished=function(e){return!this._physicallyCorrect||e>this._totalSamples/this._samplePerFrame},d.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)},t[\"a\"]=d},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.ssr.main\\n\\n#define SHADER_NAME SSR\\n#define MAX_ITERATION 20;\\n#define SAMPLE_PER_FRAME 5;\\n#define TOTAL_SAMPLES 128;\\n\\nuniform sampler2D sourceTexture;\\nuniform sampler2D gBufferTexture1;\\nuniform sampler2D gBufferTexture2;\\nuniform sampler2D gBufferTexture3;\\nuniform samplerCube specularCubemap;\\nuniform float specularIntensity: 1;\\n\\nuniform mat4 projection;\\nuniform mat4 projectionInv;\\nuniform mat4 toViewSpace;\\nuniform mat4 toWorldSpace;\\n\\nuniform float maxRayDistance: 200;\\n\\nuniform float pixelStride: 16;\\nuniform float pixelStrideZCutoff: 50; \\nuniform float screenEdgeFadeStart: 0.9; \\nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \\nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\\n\\nuniform float nearZ;\\nuniform vec2 viewportSize : VIEWPORT_SIZE;\\n\\nuniform float jitterOffset: 0;\\n\\nvarying vec2 v_Texcoord;\\n\\n#ifdef DEPTH_DECODE\\n@import clay.util.decode_float\\n#endif\\n\\n#ifdef PHYSICALLY_CORRECT\\nuniform sampler2D normalDistribution;\\nuniform float sampleOffset: 0;\\nuniform vec2 normalDistributionSize;\\n\\nvec3 transformNormal(vec3 H, vec3 N) {\\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\\n vec3 tangentX = normalize(cross(N, upVector));\\n vec3 tangentZ = cross(N, tangentX);\\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\\n}\\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\\n return transformNormal(H, N);\\n}\\nfloat G_Smith(float g, float ndv, float ndl) {\\n float roughness = 1.0 - g;\\n float k = roughness * roughness / 2.0;\\n float G1V = ndv / (ndv * (1.0 - k) + k);\\n float G1L = ndl / (ndl * (1.0 - k) + k);\\n return G1L * G1V;\\n}\\nvec3 F_Schlick(float ndv, vec3 spec) {\\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\\n}\\n#endif\\n\\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\\n{\\n vec4 depthTexel = texture2D(depthTexture, uv);\\n return depthTexel.r * 2.0 - 1.0;\\n}\\n\\nfloat linearDepth(float depth)\\n{\\n if (projection[3][3] == 0.0) {\\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\\n }\\n else {\\n return (depth - projection[3][2]) / projection[2][2];\\n }\\n}\\n\\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\\n{\\n if (rayZFar > rayZNear)\\n {\\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\\n }\\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\\n}\\n\\n\\nbool traceScreenSpaceRay(\\n vec3 rayOrigin, vec3 rayDir, float jitter,\\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\\n)\\n{\\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\\n\\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\\n\\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\\n vec4 H1 = projection * vec4(rayEnd, 1.0);\\n\\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\\n\\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\\n\\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\\n\\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\\n vec2 delta = P1 - P0;\\n\\n bool permute = false;\\n if (abs(delta.x) < abs(delta.y)) {\\n permute = true;\\n delta = delta.yx;\\n P0 = P0.yx;\\n P1 = P1.yx;\\n }\\n float stepDir = sign(delta.x);\\n float invdx = stepDir / delta.x;\\n\\n vec3 dQ = (Q1 - Q0) * invdx;\\n float dk = (k1 - k0) * invdx;\\n\\n vec2 dP = vec2(stepDir, delta.y * invdx);\\n\\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\\n float pixStride = 1.0 + strideScaler * pixelStride;\\n\\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\\n\\n vec4 pqk = vec4(P0, Q0.z, k0);\\n vec4 dPQK = vec4(dP, dQ.z, dk);\\n\\n pqk += dPQK * jitter;\\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\\n float rayZNear;\\n\\n bool intersect = false;\\n\\n vec2 texelSize = 1.0 / viewportSize;\\n\\n iterationCount = 0.0;\\n\\n for (int i = 0; i < MAX_ITERATION; i++)\\n {\\n pqk += dPQK;\\n\\n rayZNear = rayZFar;\\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\\n\\n hitPixel = permute ? pqk.yx : pqk.xy;\\n hitPixel *= texelSize;\\n\\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\\n\\n iterationCount += 1.0;\\n\\n dPQK *= 1.2;\\n\\n if (intersect) {\\n break;\\n }\\n }\\n\\n Q0.xy += dQ.xy * iterationCount;\\n Q0.z = pqk.z;\\n hitPoint = Q0 / pqk.w;\\n\\n return intersect;\\n}\\n\\nfloat calculateAlpha(\\n float iterationCount, float reflectivity,\\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\\n)\\n{\\n float alpha = clamp(reflectivity, 0.0, 1.0);\\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\\n\\n float _eyeFadeStart = eyeFadeStart;\\n float _eyeFadeEnd = eyeFadeEnd;\\n if (_eyeFadeStart > _eyeFadeEnd) {\\n float tmp = _eyeFadeEnd;\\n _eyeFadeEnd = _eyeFadeStart;\\n _eyeFadeStart = tmp;\\n }\\n\\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\\n\\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\\n\\n return alpha;\\n}\\n\\n@import clay.util.rand\\n\\n@import clay.util.rgbm\\n\\nvoid main()\\n{\\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\\n\\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\\n discard;\\n }\\n\\n float g = normalAndGloss.a;\\n#if !defined(PHYSICALLY_CORRECT)\\n if (g <= minGlossiness) {\\n discard;\\n }\\n#endif\\n\\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\\n\\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\\n\\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\\n vec4 pos = projectionInv * projectedPos;\\n vec3 rayOrigin = pos.xyz / pos.w;\\n vec3 V = -normalize(rayOrigin);\\n\\n float ndv = clamp(dot(N, V), 0.0, 1.0);\\n float iterationCount;\\n float jitter = rand(fract(v_Texcoord + jitterOffset));\\n\\n#ifdef PHYSICALLY_CORRECT\\n vec4 color = vec4(vec3(0.0), 1.0);\\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\\n vec3 albedo = albedoMetalness.rgb;\\n float m = albedoMetalness.a;\\n vec3 diffuseColor = albedo * (1.0 - m);\\n vec3 spec = mix(vec3(0.04), albedo, m);\\n\\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\\n\\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\\n vec3 rayDir = normalize(reflect(-V, H));\\n#else\\n vec3 rayDir = normalize(reflect(-V, N));\\n#endif\\n vec2 hitPixel;\\n vec3 hitPoint;\\n\\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\\n\\n float dist = distance(rayOrigin, hitPoint);\\n\\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\\n#ifdef PHYSICALLY_CORRECT\\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\\n float vdh = clamp(dot(V, H), 0.0, 1.0);\\n float ndh = clamp(dot(N, H), 0.0, 1.0);\\n vec3 litTexel = vec3(0.0);\\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\\n\\n }\\n else {\\n #ifdef SPECULARCUBEMAP_ENABLED\\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\\n#endif\\n }\\n color.rgb += ndl * litTexel * (\\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\\n );\\n }\\n color.rgb /= float(SAMPLE_PER_FRAME);\\n#else\\n #if !defined(SPECULARCUBEMAP_ENABLED)\\n if (dot(hitNormal, rayDir) >= 0.0) {\\n discard;\\n }\\n if (!intersect) {\\n discard;\\n }\\n#endif\\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\\n vec4 color = texture2D(sourceTexture, hitPixel);\\n color.rgb *= alpha;\\n\\n#ifdef SPECULARCUBEMAP_ENABLED\\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\\n alpha = alpha * (intersect ? 1.0 : 0.0);\\n float bias = (1.0 -g) * 5.0;\\n color.rgb += (1.0 - alpha)\\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\\n * specularIntensity;\\n#endif\\n\\n#endif\\n\\n gl_FragColor = encodeHDR(color);\\n}\\n@end\\n\\n@export ecgl.ssr.blur\\n\\nuniform sampler2D texture;\\nuniform sampler2D gBufferTexture1;\\nuniform sampler2D gBufferTexture2;\\nuniform mat4 projection;\\nuniform float depthRange : 0.05;\\n\\nvarying vec2 v_Texcoord;\\n\\nuniform vec2 textureSize;\\nuniform float blurSize : 1.0;\\n\\n#ifdef BLEND\\n #ifdef SSAOTEX_ENABLED\\nuniform sampler2D ssaoTex;\\n #endif\\nuniform sampler2D sourceTexture;\\n#endif\\n\\nfloat getLinearDepth(vec2 coord)\\n{\\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\\n}\\n\\n@import clay.util.rgbm\\n\\n\\nvoid main()\\n{\\n @import clay.compositor.kernel.gaussian_9\\n\\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\\n float g = centerNTexel.a;\\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\\n#ifdef VERTICAL\\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\\n#else\\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\\n#endif\\n\\n vec2 coord = v_Texcoord;\\n\\n vec4 sum = vec4(0.0);\\n float weightAll = 0.0;\\n\\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\\n float cD = getLinearDepth(v_Texcoord);\\n for (int i = 0; i < 9; i++) {\\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\\n float w = gaussianKernel[i]\\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\\n float d = getLinearDepth(coord);\\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\\n\\n weightAll += w;\\n sum += decodeHDR(texture2D(texture, coord)) * w;\\n }\\n\\n#ifdef BLEND\\n float aoFactor = 1.0;\\n #ifdef SSAOTEX_ENABLED\\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\\n #endif\\n gl_FragColor = encodeHDR(\\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\\n );\\n#else\\n gl_FragColor = encodeHDR(sum / weightAll);\\n#endif\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925]},function(e,t,n){\"use strict\";var r=n(5),i=n(4),a=n(9),o=n(10),s=n(19),l=n(15),u=n(60),c=n(197);function d(e,t,n,r,i){var a=e.gl;t.setUniform(a,\"1i\",n,i),a.activeTexture(a.TEXTURE0+i),r.isRenderable()?r.bind(e):r.unbind(e)}function f(e,t,n,r,i){var a,o,s,l,u=e.gl;return function(i,c,f){if(!l||l.material!==i.material){var h=i.material,p=i.__program,m=h.get(\"roughness\");null==m&&(m=1);var v=h.get(\"normalMap\")||t,g=h.get(\"roughnessMap\"),_=h.get(\"bumpMap\"),y=h.get(\"uvRepeat\"),x=h.get(\"uvOffset\"),b=h.get(\"detailUvRepeat\"),w=h.get(\"detailUvOffset\"),A=!!_&&h.isTextureEnabled(\"bumpMap\"),T=!!g&&h.isTextureEnabled(\"roughnessMap\"),S=h.isDefined(\"fragment\",\"DOUBLE_SIDED\");_=_||n,g=g||r,f!==c?(c.set(\"normalMap\",v),c.set(\"bumpMap\",_),c.set(\"roughnessMap\",g),c.set(\"useBumpMap\",A),c.set(\"useRoughnessMap\",T),c.set(\"doubleSide\",S),null!=y&&c.set(\"uvRepeat\",y),null!=x&&c.set(\"uvOffset\",x),null!=b&&c.set(\"detailUvRepeat\",b),null!=w&&c.set(\"detailUvOffset\",w),c.set(\"roughness\",m)):(p.setUniform(u,\"1f\",\"roughness\",m),a!==v&&d(e,p,\"normalMap\",v,0),o!==_&&_&&d(e,p,\"bumpMap\",_,1),s!==g&&g&&d(e,p,\"roughnessMap\",g,2),null!=y&&p.setUniform(u,\"2f\",\"uvRepeat\",y),null!=x&&p.setUniform(u,\"2f\",\"uvOffset\",x),null!=b&&p.setUniform(u,\"2f\",\"detailUvRepeat\",b),null!=w&&p.setUniform(u,\"2f\",\"detailUvOffset\",w),p.setUniform(u,\"1i\",\"useBumpMap\",+A),p.setUniform(u,\"1i\",\"useRoughnessMap\",+T),p.setUniform(u,\"1i\",\"doubleSide\",+S)),a=v,o=_,s=g,l=i}}}function h(e){e=e||{},this._depthTex=new r[\"a\"]({format:i[\"a\"].DEPTH_COMPONENT,type:i[\"a\"].UNSIGNED_INT}),this._normalTex=new r[\"a\"]({type:i[\"a\"].HALF_FLOAT}),this._framebuffer=new o[\"a\"],this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,o[\"a\"].DEPTH_ATTACHMENT),this._normalMaterial=new s[\"a\"]({shader:new a[\"a\"](a[\"a\"].source(\"ecgl.normal.vertex\"),a[\"a\"].source(\"ecgl.normal.fragment\"))}),this._normalMaterial.enableTexture([\"normalMap\",\"bumpMap\",\"roughnessMap\"]),this._defaultNormalMap=u[\"a\"].createBlank(\"#000\"),this._defaultBumpMap=u[\"a\"].createBlank(\"#000\"),this._defaultRoughessMap=u[\"a\"].createBlank(\"#000\"),this._debugPass=new l[\"a\"]({fragment:a[\"a\"].source(\"clay.compositor.output\")}),this._debugPass.setUniform(\"texture\",this._normalTex),this._debugPass.material.undefine(\"fragment\",\"OUTPUT_ALPHA\")}a[\"a\"].import(c[\"a\"]),h.prototype.getDepthTexture=function(){return this._depthTex},h.prototype.getNormalTexture=function(){return this._normalTex},h.prototype.update=function(e,t,n){var r=e.getWidth(),i=e.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=r,a.height=i,o.width=r,o.height=i;var l=t.getRenderList(n).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(l,n,{getMaterial:function(){return s},ifRender:function(e){return e.renderNormal},beforeRender:f(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)},h.prototype.renderDebug=function(e){this._debugPass.render(e)},h.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)},t[\"a\"]=h},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.normal.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n@import ecgl.common.attributes\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\n@import ecgl.common.normalMap.vertexHeader\\n\\n@import ecgl.common.vertexAnimation.header\\n\\nvoid main()\\n{\\n\\n @import ecgl.common.vertexAnimation.main\\n\\n @import ecgl.common.uv.main\\n\\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\\n\\n @import ecgl.common.normalMap.vertexMain\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n}\\n\\n\\n@end\\n\\n\\n@export ecgl.normal.fragment\\n\\n#define ROUGHNESS_CHANEL 0\\n\\nuniform bool useBumpMap;\\nuniform bool useRoughnessMap;\\nuniform bool doubleSide;\\nuniform float roughness;\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n@import ecgl.common.normalMap.fragmentHeader\\n@import ecgl.common.bumpMap.header\\n\\nuniform sampler2D roughnessMap;\\n\\nvoid main()\\n{\\n vec3 N = v_Normal;\\n \\n bool flipNormal = false;\\n if (doubleSide) {\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n\\n if (dot(N, V) < 0.0) {\\n flipNormal = true;\\n }\\n }\\n\\n @import ecgl.common.normalMap.fragmentMain\\n\\n if (useBumpMap) {\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n }\\n\\n float g = 1.0 - roughness;\\n\\n if (useRoughnessMap) {\\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\\n }\\n\\n if (flipNormal) {\\n N = -N;\\n }\\n\\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\\n gl_FragColor.a = g;\\n}\\n@end\"},function(e,t,n){\"use strict\";n(7),n(3);var r=n(5),i=n(4),a=n(15),o=n(9),s=n(10);function l(e){e=e||{},this._edgePass=new a[\"a\"]({fragment:o[\"a\"].source(\"ecgl.edge\")}),this._edgePass.setUniform(\"normalTexture\",e.normalTexture),this._edgePass.setUniform(\"depthTexture\",e.depthTexture),this._targetTexture=new r[\"a\"]({type:i[\"a\"].HALF_FLOAT}),this._frameBuffer=new s[\"a\"],this._frameBuffer.attach(this._targetTexture)}l.prototype.update=function(e,t,n,r){var i=e.getWidth(),a=e.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(e),this._edgePass.setUniform(\"projectionInv\",t.invProjectionMatrix.array),this._edgePass.setUniform(\"textureSize\",[i,a]),this._edgePass.setUniform(\"texture\",n),this._edgePass.render(e),s.unbind(e)},l.prototype.getTargetTexture=function(){return this._targetTexture},l.prototype.setParameter=function(e,t){this._edgePass.setUniform(e,t)},l.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)},t[\"a\"]=l},function(e,t,n){\"use strict\";t[\"a\"]={type:\"compositor\",nodes:[{name:\"source\",type:\"texture\",outputs:{color:{}}},{name:\"source_half\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"source\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"}},{name:\"bright\",shader:\"#source(clay.compositor.bright)\",inputs:{texture:\"source_half\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{threshold:2,scale:4,textureSize:\"expr([width * 1.0 / 2, height / 2])\"}},{name:\"bright_downsample_4\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 2, height / 2] )\"}},{name:\"bright_downsample_8\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright_downsample_4\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 4, height / 4] )\"}},{name:\"bright_downsample_16\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright_downsample_8\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 16)\",height:\"expr(height * 1.0 / 16)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 8, height / 8] )\"}},{name:\"bright_downsample_32\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright_downsample_16\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 32)\",height:\"expr(height * 1.0 / 32)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 16, height / 16] )\"}},{name:\"bright_upsample_16_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_32\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 16)\",height:\"expr(height * 1.0 / 16)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 32, height / 32] )\"}},{name:\"bright_upsample_16_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_16_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 16)\",height:\"expr(height * 1.0 / 16)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 16, height * 1.0 / 16] )\"}},{name:\"bright_upsample_8_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_16\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 16, height * 1.0 / 16] )\"}},{name:\"bright_upsample_8_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_8_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 8, height * 1.0 / 8] )\"}},{name:\"bright_upsample_8_blend\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_8_blur_v\",texture2:\"bright_upsample_16_blur_v\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"bright_upsample_4_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_8\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 8, height * 1.0 / 8] )\"}},{name:\"bright_upsample_4_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_4_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 4, height * 1.0 / 4] )\"}},{name:\"bright_upsample_4_blend\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_4_blur_v\",texture2:\"bright_upsample_8_blend\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"bright_upsample_2_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_4\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 4, height * 1.0 / 4] )\"}},{name:\"bright_upsample_2_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_2_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 2, height * 1.0 / 2] )\"}},{name:\"bright_upsample_2_blend\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_2_blur_v\",texture2:\"bright_upsample_4_blend\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"bright_upsample_full_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 2, height * 1.0 / 2] )\"}},{name:\"bright_upsample_full_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_full_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0, height * 1.0] )\"}},{name:\"bloom_composite\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_full_blur_v\",texture2:\"bright_upsample_2_blend\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"coc\",shader:\"#source(ecgl.dof.coc)\",outputs:{color:{parameters:{minFilter:\"NEAREST\",magFilter:\"NEAREST\",width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\"}}},parameters:{focalDist:50,focalRange:30}},{name:\"dof_far_blur\",shader:\"#source(ecgl.dof.diskBlur)\",inputs:{texture:\"source\",coc:\"coc\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"}},{name:\"dof_near_blur\",shader:\"#source(ecgl.dof.diskBlur)\",inputs:{texture:\"source\",coc:\"coc\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"},defines:{BLUR_NEARFIELD:null}},{name:\"dof_coc_blur\",shader:\"#source(ecgl.dof.diskBlur)\",inputs:{texture:\"coc\"},outputs:{color:{parameters:{minFilter:\"NEAREST\",magFilter:\"NEAREST\",width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"},defines:{BLUR_COC:null}},{name:\"dof_composite\",shader:\"#source(ecgl.dof.composite)\",inputs:{original:\"source\",blurred:\"dof_far_blur\",nearfield:\"dof_near_blur\",coc:\"coc\",nearcoc:\"dof_coc_blur\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}}},{name:\"composite\",shader:\"#source(clay.compositor.hdr.composite)\",inputs:{texture:\"source\",bloom:\"bloom_composite\"},defines:{}},{name:\"FXAA\",shader:\"#source(clay.compositor.fxaa)\",inputs:{texture:\"composite\"}}]}},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.dof.coc\\n\\nuniform sampler2D depth;\\n\\nuniform float zNear: 0.1;\\nuniform float zFar: 2000;\\n\\nuniform float focalDistance: 3;\\nuniform float focalRange: 1;\\nuniform float focalLength: 30;\\nuniform float fstop: 2.8;\\n\\nvarying vec2 v_Texcoord;\\n\\n@import clay.util.encode_float\\n\\nvoid main()\\n{\\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\\n\\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\\n\\n float aperture = focalLength / fstop;\\n\\n float coc;\\n\\n float uppper = focalDistance + focalRange;\\n float lower = focalDistance - focalRange;\\n if (dist <= uppper && dist >= lower) {\\n coc = 0.5;\\n }\\n else {\\n float focalAdjusted = dist > uppper ? uppper : lower;\\n\\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\\n\\n if (dist < lower) {\\n coc = -coc;\\n }\\n coc = coc * 0.5 + 0.5;\\n }\\n\\n gl_FragColor = encodeFloat(coc);\\n}\\n@end\\n\\n\\n@export ecgl.dof.composite\\n\\n#define DEBUG 0\\n\\nuniform sampler2D original;\\nuniform sampler2D blurred;\\nuniform sampler2D nearfield;\\nuniform sampler2D coc;\\nuniform sampler2D nearcoc;\\nvarying vec2 v_Texcoord;\\n\\n@import clay.util.rgbm\\n@import clay.util.float\\n\\nvoid main()\\n{\\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\\n vec4 originalColor = texture2D(original, v_Texcoord);\\n\\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\\n\\n fCoc = abs(fCoc * 2.0 - 1.0);\\n\\n float weight = smoothstep(0.0, 1.0, fCoc);\\n \\n#ifdef NEARFIELD_ENABLED\\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\\n\\n gl_FragColor = encodeHDR(\\n mix(\\n nearfieldColor, mix(originalColor, blurredColor, weight),\\n pow(1.0 - fNearCoc, 4.0)\\n )\\n );\\n#else\\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\\n#endif\\n\\n}\\n\\n@end\\n\\n\\n\\n@export ecgl.dof.diskBlur\\n\\n#define POISSON_KERNEL_SIZE 16;\\n\\nuniform sampler2D texture;\\nuniform sampler2D coc;\\nvarying vec2 v_Texcoord;\\n\\nuniform float blurRadius : 10.0;\\nuniform vec2 textureSize : [512.0, 512.0];\\n\\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\\n\\nuniform float percent;\\n\\nfloat nrand(const in vec2 n) {\\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\\n}\\n\\n@import clay.util.rgbm\\n@import clay.util.float\\n\\n\\nvoid main()\\n{\\n vec2 offset = blurRadius / textureSize;\\n\\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\\n float cosa = cos(rnd);\\n float sina = sin(rnd);\\n vec4 basis = vec4(cosa, -sina, sina, cosa);\\n\\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\\n#endif\\n\\n#ifdef BLUR_COC\\n float cocSum = 0.0;\\n#else\\n vec4 color = vec4(0.0);\\n#endif\\n\\n\\n float weightSum = 0.0;\\n\\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\\n vec2 ofs = poissonKernel[i];\\n\\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\\n\\n vec2 uv = v_Texcoord + ofs * offset;\\n vec4 texel = texture2D(texture, uv);\\n\\n float w = 1.0;\\n#ifdef BLUR_COC\\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\\n#else\\n texel = texel;\\n #if !defined(BLUR_NEARFIELD)\\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\\n w *= abs(fCoc);\\n #endif\\n texel.rgb *= texel.a;\\n color += texel * w;\\n#endif\\n\\n weightSum += w;\\n }\\n\\n#ifdef BLUR_COC\\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\\n#else\\n color /= weightSum;\\n color.rgb /= (color.a + 0.0001);\\n gl_FragColor = color;\\n#endif\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.edge\\n\\nuniform sampler2D texture;\\n\\nuniform sampler2D normalTexture;\\nuniform sampler2D depthTexture;\\n\\nuniform mat4 projectionInv;\\n\\nuniform vec2 textureSize;\\n\\nuniform vec4 edgeColor: [0,0,0,0.8];\\n\\nvarying vec2 v_Texcoord;\\n\\nvec3 packColor(vec2 coord) {\\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\\n vec4 p4 = projectionInv * p;\\n\\n return vec3(\\n texture2D(normalTexture, coord).rg,\\n -p4.z / p4.w / 5.0\\n );\\n}\\n\\nvoid main() {\\n vec2 cc = v_Texcoord;\\n vec3 center = packColor(cc);\\n\\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\\n float dx = size / textureSize.x;\\n float dy = size / textureSize.y;\\n\\n vec2 coord;\\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\\n vec3 top = packColor(cc+vec2(0.0, -dy));\\n vec3 topRight = packColor(cc+vec2(dx, -dy));\\n vec3 left = packColor(cc+vec2(-dx, 0.0));\\n vec3 right = packColor(cc+vec2(dx, 0.0));\\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\\n vec3 bottom = packColor(cc+vec2(0.0, dy));\\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\\n\\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\\n\\n float edge = sqrt(dot(h, h) + dot(v, v));\\n\\n edge = smoothstep(0.8, 1.0, edge);\\n\\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\\n}\\n@end\"},function(e,t,n){\"use strict\";var r=n(49),i=n(15),a=n(10),o=n(5),s=n(9),l=n(7);function u(e){for(var t=[],n=0;n<30;n++)t.push([Object(r[\"a\"])(n,2),Object(r[\"a\"])(n,3)]);this._haltonSequence=t,this._frame=0,this._sourceTex=new o[\"a\"],this._sourceFb=new a[\"a\"],this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new o[\"a\"],this._outputTex=new o[\"a\"];var l=this._blendPass=new i[\"a\"]({fragment:s[\"a\"].source(\"clay.compositor.blend\")});l.material.disableTexturesAll(),l.material.enableTexture([\"texture1\",\"texture2\"]),this._blendFb=new a[\"a\"]({depthBuffer:!1}),this._outputPass=new i[\"a\"]({fragment:s[\"a\"].source(\"clay.compositor.output\"),blendWithPrevious:!0}),this._outputPass.material.define(\"fragment\",\"OUTPUT_ALPHA\"),this._outputPass.material.blend=function(e){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)}}u.prototype={constructor:u,jitterProjection:function(e,t){var n=e.viewport,r=n.devicePixelRatio||e.getDevicePixelRatio(),i=n.width*r,a=n.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new l[\"a\"];s.array[12]=(2*o[0]-1)/i,s.array[13]=(2*o[1]-1)/a,l[\"a\"].mul(t.projectionMatrix,s,t.projectionMatrix),l[\"a\"].invert(t.invProjectionMatrix,t.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,t){this._prevFrameTex.width=e,this._prevFrameTex.height=t,this._outputTex.width=e,this._outputTex.height=t,this._sourceTex.width=e,this._sourceTex.height=t,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,t,n){var r=this._blendPass;0===this._frame?(r.setUniform(\"weight1\",0),r.setUniform(\"weight2\",1)):(r.setUniform(\"weight1\",.9),r.setUniform(\"weight2\",.1)),r.setUniform(\"texture1\",this._prevFrameTex),r.setUniform(\"texture2\",t||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),r.render(e),this._blendFb.unbind(e),n||(this._outputPass.setUniform(\"texture\",this._outputTex),this._outputPass.render(e));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}},t[\"a\"]=u},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);n(204),n(205),n(97);i.a.registerAction({type:\"geo3DChangeCamera\",event:\"geo3dcamerachanged\",update:\"series:updateCamera\"},(function(e,t){t.eachComponent({mainType:\"geo3D\",query:e},(function(t){t.setView(e)}))}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=n(31),u=n(95),c=i.a.extendComponentModel({type:\"geo3D\",layoutMode:\"box\",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var t=i.a.helper.completeDimensions([\"value\"],e.data,{encodeDef:this.get(\"encode\"),dimsDef:this.get(\"dimensions\")}),n=new i.a.List(t,this);n.initData(e.regions);var r={};n.each((function(e){var t=n.getName(e),i=n.getItemModel(e);r[t]=i})),this._regionModelMap=r,this._data=n},getData:function(){return this._data},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new i.a.Model(null,this)},getRegionPolygonCoords:function(e){var t=this.getData().getName(e),n=this.coordinateSystem.getRegion(t);return n?n.geometries:[]},getFormattedLabel:function(e,t){var n=this._data.getName(e),r=this.getRegionModel(n),i=r.get(\"normal\"===t?[\"label\",\"formatter\"]:[\"emphasis\",\"label\",\"formatter\"]);null==i&&(i=r.get([\"label\",\"formatter\"]));var a={name:n};if(\"function\"===typeof i)return a.status=t,i(a);if(\"string\"===typeof i){var o=a.seriesName;return i.replace(\"{a}\",null!=o?o:\"\")}return n},defaultOption:{regions:[]}});i.a.util.merge(c.prototype,u[\"a\"]),i.a.util.merge(c.prototype,a[\"a\"]),i.a.util.merge(c.prototype,o[\"a\"]),i.a.util.merge(c.prototype,s[\"a\"]),i.a.util.merge(c.prototype,l[\"a\"])},function(e,t,n){\"use strict\";var r=n(63),i=n(0),a=n.n(i),o=n(1),s=n(45),l=n(30);a.a.extendComponentView({type:\"geo3D\",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new r[\"a\"](t),this.groupGL=new o[\"a\"].Node,this._lightRoot=new o[\"a\"].Node,this._sceneHelper=new l[\"a\"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new s[\"a\"]({zr:t.getZr()}),this._control.init()},render:function(e,t,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),e.get(\"show\")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel(\"viewControl\");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel(\"postEffect\"),n),r.viewGL.setTemporalSuperSampling(e.getModel(\"temporalSuperSampling\")),this._geo3DBuilder.update(e,t,n,0,e.getData().count());var o=r.viewGL.isLinearSpace()?\"define\":\"undefine\";this._geo3DBuilder.rootNode.traverse((function(e){e.material&&e.material[o](\"fragment\",\"SRGB_DECODE\")})),i.off(\"update\"),i.on(\"update\",(function(){n.dispatchAction({type:\"geo3DChangeCamera\",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:e.id})})),i.update()}},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},dispose:function(){this._control.dispose()}})},function(e,t,n){\"use strict\";function r(e,t,n){n=n||2;var r,a,s,l,u,c,f,h=t&&t.length,p=h?t[0]*n:e.length,m=i(e,0,p,n,!0),v=[];if(!m)return v;if(h&&(m=d(e,t,m,n)),e.length>80*n){r=s=e[0],a=l=e[1];for(var g=n;g<p;g+=n)u=e[g],c=e[g+1],u<r&&(r=u),c<a&&(a=c),u>s&&(s=u),c>l&&(l=c);f=Math.max(s-r,l-a)}return o(m,v,n,r,a,f),v}function i(e,t,n,r,i){var a,o;if(i===L(e,t,n,r)>0)for(a=t;a<n;a+=r)o=M(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=M(a,e[a],e[a+1],o);return o&&w(o,o.next)&&(D(o),o=o.next),o}function a(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==b(r.prev,r,r.next))r=r.next;else{if(D(r),r=t=r.prev,r===r.next)return null;n=!0}}while(n||r!==t);return t}function o(e,t,n,r,i,d,f){if(e){!f&&d&&m(e,r,i,d);var h,p,v=e;while(e.prev!==e.next)if(h=e.prev,p=e.next,d?l(e,r,i,d):s(e))t.push(h.i/n),t.push(e.i/n),t.push(p.i/n),D(e),e=p.next,v=p.next;else if(e=p,e===v){f?1===f?(e=u(e,t,n),o(e,t,n,r,i,d,2)):2===f&&c(e,t,n,r,i,d):o(a(e),t,n,r,i,d,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(b(t,n,r)>=0)return!1;var i=e.next.next;while(i!==e.prev){if(y(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&b(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(e,t,n,r){var i=e.prev,a=e,o=e.next;if(b(i,a,o)>=0)return!1;var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=g(s,l,t,n,r),f=g(u,c,t,n,r),h=e.nextZ;while(h&&h.z<=f){if(h!==e.prev&&h!==e.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.nextZ}h=e.prevZ;while(h&&h.z>=d){if(h!==e.prev&&h!==e.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function u(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!w(i,a)&&A(i,r,r.next,a)&&S(i,a)&&S(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),D(r),D(r.next),r=e=a),r=r.next}while(r!==e);return r}function c(e,t,n,r,i,s){var l=e;do{var u=l.next.next;while(u!==l.prev){if(l.i!==u.i&&x(l,u)){var c=C(l,u);return l=a(l,l.next),c=a(c,c.next),o(l,t,n,r,i,s),void o(c,t,n,r,i,s)}u=u.next}l=l.next}while(l!==e)}function d(e,t,n,r){var o,s,l,u,c,d=[];for(o=0,s=t.length;o<s;o++)l=t[o]*r,u=o<s-1?t[o+1]*r:e.length,c=i(e,l,u,r,!1),c===c.next&&(c.steiner=!0),d.push(_(c));for(d.sort(f),o=0;o<d.length;o++)h(d[o],n),n=a(n,n.next);return n}function f(e,t){return e.x-t.x}function h(e,t){if(t=p(e,t),t){var n=C(t,e);a(n,n.next)}}function p(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var l,u=n,c=n.x,d=n.y,f=1/0;r=n.next;while(r!==u)i>=r.x&&r.x>=c&&i!==r.x&&y(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),(l<f||l===f&&r.x>n.x)&&S(r,e)&&(n=r,f=l)),r=r.next;return n}function m(e,t,n,r){var i=e;do{null===i.z&&(i.z=g(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,v(i)}function v(e){var t,n,r,i,a,o,s,l,u=1;do{n=e,e=null,a=null,o=0;while(n){for(o++,r=n,s=0,t=0;t<u;t++)if(s++,r=r.nextZ,!r)break;l=u;while(s>0||l>0&&r)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return e}function g(e,t,n,r,i){return e=32767*(e-n)/i,t=32767*(t-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function _(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function y(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!T(e,t)&&S(e,t)&&S(t,e)&&E(e,t)}function b(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function w(e,t){return e.x===t.x&&e.y===t.y}function A(e,t,n,r){return!!(w(e,t)&&w(n,r)||w(e,r)&&w(n,t))||b(e,t,n)>0!==b(e,t,r)>0&&b(n,r,e)>0!==b(n,r,t)>0}function T(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&A(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function S(e,t){return b(e.prev,e,e.next)<0?b(e,t,e.next)>=0&&b(e,e.prev,t)>=0:b(e,t,e.prev)<0||b(e,e.next,t)<0}function E(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function C(e,t){var n=new N(e.i,e.x,e.y),r=new N(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function M(e,t,n,r){var i=new N(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function D(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function N(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}t[\"a\"]=r,r.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(L(e,0,a,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;o-=Math.abs(L(e,u,c,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((e[f]-e[p])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[p+1]-e[f+1]))}return 0===o&&0===d?0:Math.abs((d-o)/o)}},function(e,t){var n={\"南海诸岛\":[32,80],\"广东\":[0,-10],\"香港\":[10,5],\"澳门\":[-10,10],\"天津\":[5,5]};function r(e,t){if(\"china\"===e){var r=n[t.name];if(r){var i=t.center;i[0]+=r[0]/10.5,i[1]+=-r[1]/14}}}e.exports=r},function(e,t){var n={Russia:[100,60],\"United States\":[-99,38],\"United States of America\":[-99,38]};function r(e,t){if(\"world\"===e){var r=n[t.name];if(r){var i=t.center;i[0]=r[0],i[1]=r[1]}}}e.exports=r},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);n(210),n(211),n(213);i.a.registerAction({type:\"globeChangeCamera\",event:\"globecamerachanged\",update:\"series:updateCamera\"},(function(e,t){t.eachComponent({mainType:\"globe\",query:e},(function(t){t.setView(e)}))})),i.a.registerAction({type:\"globeUpdateDisplacment\",event:\"globedisplacementupdated\",update:\"update\"},(function(e,t){}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=n(31);function u(e,t){e.id=e.id||e.name||t+\"\"}var c=i.a.extendComponentModel({type:\"globe\",layoutMode:\"box\",coordinateSystem:null,init:function(){c.superApply(this,\"init\",arguments),i.a.util.each(this.option.layers,(function(e,t){i.a.util.merge(e,this.defaultLayerOption),u(e,t)}),this)},mergeOption:function(e){var t=this.option.layers;function n(e){return i.a.util.reduce(e,(function(e,t,n){return u(t,n),e[t.id]=t,e}),{})}if(this.option.layers=null,c.superApply(this,\"mergeOption\",arguments),t&&t.length){var r=n(e.layers),a=n(t);for(var o in r)a[o]?i.a.util.merge(a[o],r[o],!0):t.push(e.layers[o]);this.option.layers=t}i.a.util.each(this.option.layers,(function(e){i.a.util.merge(e,this.defaultLayerOption)}),this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:\"overlay\"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:\"100%\",height:\"100%\",environment:\"auto\",baseColor:\"#fff\",baseTexture:\"\",heightTexture:\"\",displacementTexture:\"\",displacementScale:0,displacementQuality:\"medium\",globeRadius:100,globeOuterRadius:150,shading:\"lambert\",light:{main:{time:\"\"}},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},getDisplacementTexture:function(){return this.get(\"displacementTexture\")||this.get(\"heightTexture\")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),t=this.get(\"displacementScale\");return e&&\"none\"!==e||(t=0),t},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),t=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==t,this._displacementTexture=e,this._displacementScale=t},isDisplacementChanged:function(){return this._displacementChanged}});i.a.util.merge(c.prototype,a[\"a\"]),i.a.util.merge(c.prototype,o[\"a\"]),i.a.util.merge(c.prototype,s[\"a\"]),i.a.util.merge(c.prototype,l[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),l=n(212),u=n(2);i.a.extendComponentView({type:\"globe\",__ecgl__:!0,_displacementScale:0,init:function(e,t){this.groupGL=new a[\"a\"].Node,this._sphereGeometry=new a[\"a\"].SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new a[\"a\"].SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new a[\"a\"].PlaneGeometry,this._earthMesh=new a[\"a\"].Mesh({renderNormal:!0}),this._lightRoot=new a[\"a\"].Node,this._sceneHelper=new s[\"a\"],this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._earthMesh),this._control=new o[\"a\"]({zr:t.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,t,n){var r=e.coordinateSystem,i=e.get(\"shading\");r.viewGL.add(this._lightRoot),e.get(\"show\")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(e.getModel(\"postEffect\"),n),r.viewGL.setTemporalSuperSampling(e.getModel(\"temporalSuperSampling\"));var o=this._earthMesh;o.geometry=this._sphereGeometry;var s=\"ecgl.\"+i;o.material&&o.material.shader.name===s||(o.material=a[\"a\"].createMaterial(s)),a[\"a\"].setMaterialFromModel(i,o.material,e,n),[\"roughnessMap\",\"metalnessMap\",\"detailMap\",\"normalMap\"].forEach((function(e){var t=o.material.get(e);t&&(t.flipY=!1)})),o.material.set(\"color\",a[\"a\"].parseColor(e.get(\"baseColor\")));var l=.99*r.radius;o.scale.set(l,l,l);var u=o.material.setTextureImage(\"diffuseMap\",e.get(\"baseTexture\"),n,{flipY:!1,anisotropic:8});u&&u.surface&&u.surface.attachToMesh(o);var c=o.material.setTextureImage(\"bumpMap\",e.get(\"heightTexture\"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(o),o.material[e.get(\"postEffect.enable\")?\"define\":\"undefine\"](\"fragment\",\"SRGB_DECODE\"),this._updateLight(e,n),this._displaceVertices(e,n),this._updateViewControl(e,n),this._updateLayers(e,n)},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},_updateLayers:function(e,t){var n=e.coordinateSystem,r=e.get(\"layers\"),o=n.radius,s=[],l=[],c=[],d=[];i.a.util.each(r,(function(e){var r=new i.a.Model(e),f=r.get(\"type\"),h=a[\"a\"].loadTexture(r.get(\"texture\"),t,{flipY:!1,anisotropic:8});if(h.surface&&h.surface.attachToMesh(this._earthMesh),\"blend\"===f){var p=r.get(\"blendTo\"),m=u[\"a\"].firstNotNull(r.get(\"intensity\"),1);\"emission\"===p?(c.push(h),d.push(m)):(s.push(h),l.push(m))}else{var v=r.get(\"id\"),g=this._layerMeshes[v];g||(g=this._layerMeshes[v]=new a[\"a\"].Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var _=r.get(\"shading\");\"lambert\"===_?(g.material=g.__lambertMaterial||new a[\"a\"].Material({autoUpdateTextureStatus:!1,shader:a[\"a\"].createShader(\"ecgl.lambert\"),transparent:!0,depthMask:!1}),g.__lambertMaterial=g.material):(g.material=g.__colorMaterial||new a[\"a\"].Material({autoUpdateTextureStatus:!1,shader:a[\"a\"].createShader(\"ecgl.color\"),transparent:!0,depthMask:!1}),g.__colorMaterial=g.material),g.material.enableTexture(\"diffuseMap\");var y=r.get(\"distance\"),x=o+(null==y?n.radius/100:y);g.scale.set(x,x,x),o=x;var b=this._blankTexture||(this._blankTexture=a[\"a\"].createBlankTexture(\"rgba(255, 255, 255, 0)\"));g.material.set(\"diffuseMap\",b),a[\"a\"].loadTexture(r.get(\"texture\"),t,{flipY:!1,anisotropic:8},(function(e){e.surface&&e.surface.attachToMesh(g),g.material.set(\"diffuseMap\",e),t.getZr().refresh()})),r.get(\"show\")?this.groupGL.add(g):this.groupGL.remove(g)}}),this);var f=this._earthMesh.material;f.define(\"fragment\",\"LAYER_DIFFUSEMAP_COUNT\",s.length),f.define(\"fragment\",\"LAYER_EMISSIVEMAP_COUNT\",c.length),f.set(\"layerDiffuseMap\",s),f.set(\"layerDiffuseIntensity\",l),f.set(\"layerEmissiveMap\",c),f.set(\"layerEmissionIntensity\",d);var h=e.getModel(\"debug.wireframe\");if(h.get(\"show\")){f.define(\"both\",\"WIREFRAME_TRIANGLE\");var p=a[\"a\"].parseColor(h.get(\"lineStyle.color\")||\"rgba(0,0,0,0.5)\"),m=u[\"a\"].firstNotNull(h.get(\"lineStyle.width\"),1);f.set(\"wireframeLineWidth\",m),f.set(\"wireframeLineColor\",p)}else f.undefine(\"both\",\"WIREFRAME_TRIANGLE\")},_updateViewControl:function(e,t){var n=e.coordinateSystem,r=e.getModel(\"viewControl\"),i=(n.viewGL.camera,this);function a(){return{type:\"globeChangeCamera\",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-n.radius,center:o.getCenter(),from:i.uid,globeId:e.id}}var o=this._control;o.setViewGL(n.viewGL);var s,l,u=r.get(\"targetCoord\");null!=u&&(l=u[0]+90,s=u[1]),o.setFromViewControlModel(r,{baseDistance:n.radius,alpha:s,beta:l}),o.off(\"update\"),o.on(\"update\",(function(){t.dispatchAction(a())}))},_displaceVertices:function(e,t){var n=e.get(\"displacementQuality\"),r=e.get(\"debug.wireframe.show\"),i=e.coordinateSystem;if(e.isDisplacementChanged()||n!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=n,this._showDebugWireframe=r;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[n]||200,s=o/2;(a.widthSegments!==o||r)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),r&&a.generateBarycentric()}},_doDisplaceVertices:function(e,t){var n=e.attributes.position.value,r=e.attributes.texcoord0.value,i=e.__originalPosition;i&&i.length===n.length||(i=new Float32Array(n.length),i.set(n),e.__originalPosition=i);for(var a=t.displacementWidth,o=t.displacementHeight,s=t.displacementData,l=0;l<e.vertexCount;l++){var u=3*l,c=2*l,d=i[u+1],f=i[u+2],h=i[u+3],p=r[c++],m=r[c++],v=Math.round(p*(a-1)),g=Math.round(m*(o-1)),_=g*a+v,y=s?s[_]:0;n[u+1]=d+d*y,n[u+2]=f+f*y,n[u+3]=h+h*y}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,t){var n=this._earthMesh;this._sceneHelper.updateLight(e);var r=this._sceneHelper.mainLight,a=e.get(\"light.main.time\")||new Date,o=l[\"a\"].getPosition(i.a.number.parseDate(a),0,0),s=Math.cos(o.altitude);r.position.y=-s*Math.cos(o.azimuth),r.position.x=Math.sin(o.altitude),r.position.z=s*Math.sin(o.azimuth),r.lookAt(n.getWorldPosition())},dispose:function(e,t){this.groupGL.removeAll(),this._control.dispose()}})},function(e,t,n){\"use strict\";var r=Math.PI,i=Math.sin,a=Math.cos,o=Math.tan,s=Math.asin,l=Math.atan2,u=r/180,c=864e5,d=2440588,f=2451545;function h(e){return e.valueOf()/c-.5+d}function p(e){return h(e)-f}var m=23.4397*u;function v(e,t){return l(i(e)*a(m)-o(t)*i(m),a(e))}function g(e,t){return s(i(t)*a(m)+a(t)*i(m)*i(e))}function _(e,t,n){return l(i(e),a(e)*i(t)-o(n)*a(t))}function y(e,t,n){return s(i(t)*i(n)+a(t)*a(n)*a(e))}function x(e,t){return u*(280.16+360.9856235*e)-t}function b(e){return u*(357.5291+.98560028*e)}function w(e){var t=u*(1.9148*i(e)+.02*i(2*e)+3e-4*i(3*e)),n=102.9372*u;return e+t+n+r}function A(e){var t=b(e),n=w(t);return{dec:g(n,0),ra:v(n,0)}}var T={getPosition:function(e,t,n){var r=u*-n,i=u*t,a=p(e),o=A(a),s=x(a,r)-o.ra;return{azimuth:_(s,i,o.dec),altitude:y(s,i,o.dec)}}};t[\"a\"]=T},function(e,t,n){\"use strict\";var r=n(214),i=n(0),a=n.n(i),o=n(47),s=n.n(o),l=n(22),u=n(2),c=n(1);function d(e,t){var n=document.createElement(\"canvas\"),r=n.getContext(\"2d\"),i=e.width,a=e.height;n.width=i,n.height=a,r.drawImage(e,0,0,i,a);for(var o=r.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),l=0;l<o.length/4;l++){var u=o[4*l];s[l]=u/255*t}return{data:s,width:i,height:a}}function f(e,t){var n=e.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio()),this.radius=e.get(\"globeRadius\");var i=e.get(\"globeOuterRadius\");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function h(e,t){var n=[1/0,-1/0];if(e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData(),r=e.coordDimToDataDim(\"alt\"),i=r&&r[0];if(i){var a=t.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:\"value\",min:\"dataMin\",max:\"dataMax\"});this.altitudeAxis=new a.a.Axis(\"altitude\",r),this.resize(this.model,t)}}var p={dimensions:r[\"a\"].prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent(\"globe\",(function(e){e.__viewGL=e.__viewGL||new l[\"a\"];var i=new r[\"a\"];i.viewGL=e.__viewGL,e.coordinateSystem=i,i.model=e,n.push(i),i.resize=f,i.resize(e,t),i.update=h})),e.eachSeries((function(t){if(\"globe\"===t.get(\"coordinateSystem\")){var n=t.getReferringComponents(\"globe\")[0];if(n||(n=e.getComponent(\"globe\")),!n)throw new Error('globe \"'+u[\"a\"].firstNotNull(t.get(\"globe3DIndex\"),t.get(\"globe3DId\"),0)+'\" not found');var r=n.coordinateSystem;t.coordinateSystem=r}})),e.eachComponent(\"globe\",(function(e,n){var r=e.coordinateSystem,i=e.getDisplacementTexture(),a=e.getDisplacemenScale();if(e.isDisplacementChanged()){if(e.hasDisplacement()){var o=!0;c[\"a\"].loadTexture(i,t,(function(n){var r=n.image,i=d(r,a);e.setDisplacementData(i.data,i.width,i.height),o||t.dispatchAction({type:\"globeUpdateDisplacment\"})})),o=!1}else r.setDisplacementData(null,0,0);r.setDisplacementData(e.displacementData,e.displacementWidth,e.displacementHeight)}})),n}};a.a.registerCoordinateSystem(\"globe\",p)},function(e,t,n){\"use strict\";var r=n(6),i=r[\"a\"].vec3;function a(e){this.radius=e,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}a.prototype={constructor:a,dimensions:[\"lng\",\"lat\",\"alt\"],type:\"globe\",containPoint:function(){},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},_getDisplacementScale:function(e,t){var n=(e+180)/360*(this.displacementWidth-1),r=(90-t)/180*(this.displacementHeight-1),i=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(e,t){var n=e[0],r=e[1],i=e[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),n=n*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*a;return t=t||[],t[0]=-o*Math.cos(n+Math.PI),t[1]=Math.sin(r)*a,t[2]=o*Math.sin(n+Math.PI),t},pointToData:function(e,t){var n=e[0],r=e[1],a=e[2],o=i.len(e);n/=o,r/=o,a/=o;var s=Math.asin(r),l=Math.atan2(a,-n);l<0&&(l=2*Math.PI+l);var u=180*s/Math.PI,c=180*l/Math.PI-180;return t=t||[],t[0]=c,t[1]=u,t[2]=o-this.radius,this.altitudeAxis&&(t[2]=this.altitudeAxis.coordToData(t[2])),t}},t[\"a\"]=a},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);n(216),n(218),n(219);i.a.registerAction({type:\"mapbox3DChangeCamera\",event:\"mapbox3dcamerachanged\",update:\"mapbox3D:updateCamera\"},(function(e,t){t.eachComponent({mainType:\"mapbox3D\",query:e},(function(t){t.setMapboxCameraOption(e)}))}))},function(e,t,n){\"use strict\";var r=n(217),i=n(0),a=n.n(i),o=n(100),s=Object(o[\"a\"])(\"mapbox3D\",r[\"a\"],(function(e){e.forEach((function(e){e.setCameraOption(e.model.getMapboxCameraOption())}))}));a.a.registerCoordinateSystem(\"mapbox3D\",s)},function(e,t,n){\"use strict\";var r=n(99);function i(){r[\"a\"].apply(this,arguments)}i.prototype=new r[\"a\"],i.prototype.constructor=i,i.prototype.type=\"mapbox3D\",t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=[\"zoom\",\"center\",\"pitch\",\"bearing\"],l=i.a.extendComponentModel({type:\"mapbox3D\",layoutMode:\"box\",coordinateSystem:null,defaultOption:{zlevel:-10,style:\"mapbox://styles/mapbox/light-v9\",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:\"auto\"},getMapboxCameraOption:function(){var e=this;return s.reduce((function(t,n){return t[n]=e.get(n),t}),{})},setMapboxCameraOption:function(e){null!=e&&s.forEach((function(t){null!=e[t]&&(this.option[t]=e[t])}),this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});i.a.util.merge(l.prototype,a[\"a\"]),i.a.util.merge(l.prototype,o[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(220),o=n(30),s=n(1),l=n(101);s[\"a\"].Shader.import(l[\"a\"]);i.a.extendComponentView({type:\"mapbox3D\",__ecgl__:!0,init:function(e,t){var n=t.getZr();this._zrLayer=new a[\"a\"](\"mapbox3D\",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s[\"a\"].Node,this._sceneHelper=new o[\"a\"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,t,r);[\"zoom\",\"rotate\",\"drag\",\"pitch\",\"rotate\",\"move\"].forEach((function(e){r.on(e,i)})),this._groundMesh=new s[\"a\"].Mesh({geometry:new s[\"a\"].PlaneGeometry,material:new s[\"a\"].Material({shader:new s[\"a\"].Shader({vertex:s[\"a\"].Shader.source(\"ecgl.displayShadow.vertex\"),fragment:s[\"a\"].Shader.source(\"ecgl.displayShadow.fragment\")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,t,n){var r=this._zrLayer.getMapbox(),i=e.get(\"style\"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=a,r.setCenter(e.get(\"center\")),r.setZoom(e.get(\"zoom\")),r.setPitch(e.get(\"pitch\")),r.setBearing(e.get(\"bearing\")),e.setMapbox(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel(\"postEffect\"),n),o.viewGL.setTemporalSuperSampling(e.getModel(\"temporalSuperSampling\")),this._mapbox3DModel=e},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n),e.coordinateSystem.viewGL.scene.traverse((function(e){e.material&&(e.material.define(\"fragment\",\"NORMAL_UP_AXIS\",2),e.material.define(\"fragment\",\"NORMAL_FRONT_AXIS\",1))}))},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){e.dispatchAction({type:\"mapbox3DChangeCamera\",pitch:t.getPitch(),zoom:t.getZoom(),center:t.getCenter().toArray(),bearing:t.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new s[\"a\"].Plane(new s[\"a\"].Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new s[\"a\"].Vector2(-1,-1)),i=e.viewGL.camera.castRay(new s[\"a\"].Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),l=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(l,l,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}})},function(e,t,n){\"use strict\";function r(e,t){if(this.id=e,this.zr=t,this.dom=document.createElement(\"div\"),this.dom.style.cssText=\"position:absolute;left:0;right:0;top:0;bottom:0;\",!mapboxgl)throw new Error(\"Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/\");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}r.prototype.resize=function(){this._mapbox.resize()},r.prototype.getMapbox=function(){return this._mapbox},r.prototype.clear=function(){},r.prototype.refresh=function(){this._mapbox.resize()};var i=[\"mousedown\",\"mouseup\",\"click\",\"dblclick\",\"mousemove\",\"mousewheel\",\"wheel\",\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\"];r.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},i.forEach((function(t){this._handlers[t]=function(t){var n={};for(var r in t)n[r]=t[r];n.bubbles=!1;var i=new t.constructor(t.type,n);e.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])}),this),this.zr.dom.addEventListener(\"contextmenu\",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach((function(e){this.zr.dom.removeEventListener(e,this._handlers[e])}),this)},t[\"a\"]=r},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);n(222),n(224),n(225);i.a.registerAction({type:\"maptalks3DChangeCamera\",event:\"maptalks3dcamerachanged\",update:\"maptalks3D:updateCamera\"},(function(e,t){t.eachComponent({mainType:\"maptalks3D\",query:e},(function(t){t.setMaptalksCameraOption(e)}))}))},function(e,t,n){\"use strict\";var r=n(223),i=n(0),a=n.n(i),o=n(100),s=Object(o[\"a\"])(\"maptalks3D\",r[\"a\"],(function(e){e.forEach((function(e){e.setCameraOption(e.model.getMaptalksCameraOption())}))}));a.a.registerCoordinateSystem(\"maptalks3D\",s)},function(e,t,n){\"use strict\";var r=n(99);function i(){r[\"a\"].apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}i.prototype=new r[\"a\"],i.prototype.constructor=i,i.prototype.type=\"maptalks3D\",t[\"a\"]=i},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=[\"zoom\",\"center\",\"pitch\",\"bearing\"],l=i.a.extendComponentModel({type:\"maptalks3D\",layoutMode:\"box\",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:\"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\",attribution:'&copy; <a href=\"http://osm.org\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/\">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:\"auto\"},getMaptalksCameraOption:function(){var e=this;return s.reduce((function(t,n){return t[n]=e.get(n),t}),{})},setMaptalksCameraOption:function(e){null!=e&&s.forEach((function(t){null!=e[t]&&(this.option[t]=e[t])}),this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});i.a.util.merge(l.prototype,a[\"a\"]),i.a.util.merge(l.prototype,o[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(226),o=n(30),s=n(1),l=n(101);s[\"a\"].Shader.import(l[\"a\"]);i.a.extendComponentView({type:\"maptalks3D\",__ecgl__:!0,init:function(e,t){this._groundMesh=new s[\"a\"].Mesh({geometry:new s[\"a\"].PlaneGeometry,material:new s[\"a\"].Material({shader:new s[\"a\"].Shader({vertex:s[\"a\"].Shader.source(\"ecgl.displayShadow.vertex\"),fragment:s[\"a\"].Shader.source(\"ecgl.displayShadow.fragment\")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,t){var n=t.getZr();this._zrLayer=new a[\"a\"](\"maptalks3D\",n,e.get(\"center\"),e.get(\"zoom\")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s[\"a\"].Node,this._sceneHelper=new o[\"a\"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,t,r);[\"zoomend\",\"zooming\",\"zoomstart\",\"dragrotating\",\"pitch\",\"pitchend\",\"movestart\",\"moving\",\"moveend\",\"resize\",\"touchstart\",\"touchmove\",\"touchend\",\"animating\"].forEach((function(e){r.on(e,i)}))},render:function(e,t,n){this._zrLayer||this._initMaptalksLayer(e,n);var r=this._zrLayer.getMaptalks(),i=e.get(\"urlTemplate\"),a=r.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:e.get(\"attribution\")}):(a=new maptalks.TileLayer(\"maptalks-echarts-gl-baselayer\",{urlTemplate:i,subdomains:[\"a\",\"b\",\"c\"],attribution:e.get(\"attribution\")}),r.setBaseLayer(a))),this._oldUrlTemplate=i,r.setCenter(e.get(\"center\")),r.setZoom(e.get(\"zoom\"),{animation:!1}),r.setPitch(e.get(\"pitch\")),r.setBearing(e.get(\"bearing\")),e.setMaptalks(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel(\"postEffect\"),n),o.viewGL.setTemporalSuperSampling(e.getModel(\"temporalSuperSampling\")),this._maptalks3DModel=e},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n),e.coordinateSystem.viewGL.scene.traverse((function(e){e.material&&(e.material.define(\"fragment\",\"NORMAL_UP_AXIS\",2),e.material.define(\"fragment\",\"NORMAL_FRONT_AXIS\",1))}))},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){e.dispatchAction({type:\"maptalks3DChangeCamera\",pitch:t.getPitch(),zoom:c(t.getResolution())+1,center:t.getCenter().toArray(),bearing:t.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new s[\"a\"].Plane(new s[\"a\"].Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new s[\"a\"].Vector2(-1,-1)),i=e.viewGL.camera.castRay(new s[\"a\"].Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),l=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(l,l,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}});const u=12756274*Math.PI/(256*Math.pow(2,20));function c(e){return 19-Math.log(e/u)/Math.LN2}},function(e,t,n){\"use strict\";function r(e,t,n,r){if(this.id=e,this.zr=t,this.dom=document.createElement(\"div\"),this.dom.style.cssText=\"position:absolute;left:0;right:0;top:0;bottom:0;\",!maptalks)throw new Error(\"Maptalks library must be included. See https://maptalks.org\");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,doubleClickZoom:!1,fog:!1}),this._initEvents()}r.prototype.resize=function(){this._maptalks.checkSize()},r.prototype.getMaptalks=function(){return this._maptalks},r.prototype.clear=function(){},r.prototype.refresh=function(){this._maptalks.checkSize()};var i=[\"mousedown\",\"mouseup\",\"click\",\"dblclick\",\"mousemove\",\"mousewheel\",\"DOMMouseScroll\",\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\"];r.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},i.forEach((function(t){this._handlers[t]=function(n){var r={};for(var i in n)r[i]=n[i];r.bubbles=!1;var a=new n.constructor(n.type,r);\"mousewheel\"===t||\"DOMMouseScroll\"===t?e.dispatchEvent(a):e.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(t,this._handlers[t])}),this),this.zr.dom.addEventListener(\"contextmenu\",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach((function(e){this.zr.dom.removeEventListener(e,this._handlers[e])}),this),this._maptalks.remove()},t[\"a\"]=r},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(228),n(231),n(233),n(17));i.a.registerVisual(Object(a[\"a\"])(\"bar3D\")),i.a.registerProcessor((function(e,t){e.eachSeriesByType(\"bar3d\",(function(e){var t=e.getData();t.filterSelf((function(e){return t.hasValue(e)}))}))}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(3),o=n(6),s=n(229),l=n(230),u=o[\"a\"].vec3,c=i.a.helper.dataStack.isDimensionStacked;function d(e,t){var n=e.getData(),r=e.get(\"minHeight\")||0,o=e.get(\"barSize\"),s=[\"lng\",\"lat\",\"alt\"].map((function(t){return e.coordDimToDataDim(t)[0]}));if(null==o){var c=t.radius*Math.PI,d=Object(l[\"a\"])(n,s[0],s[1]);o=[c/Math.sqrt(n.count()/d),c/Math.sqrt(n.count()/d)]}else i.a.util.isArray(o)||(o=[o,o]);var f=p(n,s);n.each(s,(function(e,i,a,s){var l=n.get(f.dimension,s),c=f.isStacked?l-a:t.altitudeAxis.scale.getExtent()[0],d=Math.max(t.altitudeAxis.dataToCoord(a),r),h=t.dataToPoint([e,i,c]),p=t.dataToPoint([e,i,l]),m=u.sub([],p,h);u.normalize(m,m);var v=[o[0],d,o[1]];n.setItemLayout(s,[h,m,v])})),n.setLayout(\"orient\",a[\"a\"].UP.array)}function f(e,t){var n=e.getData(),r=e.get(\"barSize\"),a=e.get(\"minHeight\")||0,o=[\"lng\",\"lat\",\"alt\"].map((function(t){return e.coordDimToDataDim(t)[0]}));if(null==r){var s=Math.min(t.size[0],t.size[2]),u=Object(l[\"a\"])(n,o[0],o[1]);r=[s/Math.sqrt(n.count()/u),s/Math.sqrt(n.count()/u)]}else i.a.util.isArray(r)||(r=[r,r]);var c=[0,1,0],d=p(n,o);n.each(o,(function(e,i,o,s){var l=n.get(d.dimension,s),u=d.isStacked?l-o:t.altitudeAxis.scale.getExtent()[0],f=Math.max(t.altitudeAxis.dataToCoord(o),a),h=t.dataToPoint([e,i,u]),p=[r[0],f,r[1]];n.setItemLayout(s,[h,c,p])})),n.setLayout(\"orient\",[1,0,0])}function h(e,t){var n=e.getData(),r=e.coordDimToDataDim(\"lng\")[0],a=e.coordDimToDataDim(\"lat\")[0],o=e.coordDimToDataDim(\"alt\")[0],s=e.get(\"barSize\"),u=e.get(\"minHeight\")||0;if(null==s){var c=n.getDataExtent(r),d=n.getDataExtent(a),f=t.dataToPoint([c[0],d[0]]),h=t.dataToPoint([c[1],d[1]]),m=Math.min(Math.abs(f[0]-h[0]),Math.abs(f[1]-h[1]))||1,v=Object(l[\"a\"])(n,r,a);s=[m/Math.sqrt(n.count()/v),m/Math.sqrt(n.count()/v)]}else i.a.util.isArray(s)||(s=[s,s]),s[0]/=t.getScale()/16,s[1]/=t.getScale()/16;var g=[0,0,1],_=[r,a,o],y=p(n,_);n.each(_,(function(e,r,i,a){var o=n.get(y.dimension,a),l=y.isStacked?o-i:0,c=t.dataToPoint([e,r,l]),d=t.dataToPoint([e,r,o]),f=Math.max(d[2]-c[2],u),h=[s[0],f,s[1]];n.setItemLayout(a,[c,g,h])})),n.setLayout(\"orient\",[1,0,0])}function p(e,t){var n=c(e,t[2]);return{dimension:n?e.getCalculationInfo(\"stackResultDimension\"):t[2],isStacked:n}}i.a.registerLayout((function(e,t){e.eachSeriesByType(\"bar3D\",(function(e){var t=e.coordinateSystem,n=t&&t.type;if(\"globe\"===n)d(e,t);else if(\"cartesian3D\"===n)Object(s[\"a\"])(e,t);else if(\"geo3D\"===n)f(e,t);else{if(\"mapbox3D\"!==n&&\"maptalks3D\"!==n)throw t?new Error(\"bar3D doesn't support coordinate system \"+t.type):new Error(\"bar3D doesn't have coordinate system.\");h(e,t)}}))}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(6),o=a[\"a\"].vec3,s=i.a.helper.dataStack.isDimensionStacked;function l(e){var t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function u(e,t){var n=e.getData(),r=e.get(\"barSize\");if(null==r){var a,u,c=t.size,d=t.getAxis(\"x\"),f=t.getAxis(\"y\");a=\"category\"===d.type?.7*d.getBandWidth():.6*Math.round(c[0]/Math.sqrt(n.count())),u=\"category\"===f.type?.7*f.getBandWidth():.6*Math.round(c[1]/Math.sqrt(n.count())),r=[a,u]}else i.a.util.isArray(r)||(r=[r,r]);var h=t.getAxis(\"z\").scale.getExtent(),p=l(h),m=[\"x\",\"y\",\"z\"].map((function(t){return e.coordDimToDataDim(t)[0]})),v=s(n,m[2]),g=v?n.getCalculationInfo(\"stackResultDimension\"):m[2];n.each(m,(function(e,i,a,s){var l=n.get(g,s),u=v?l-a:p?0:h[0],c=t.dataToPoint([e,i,u]),d=t.dataToPoint([e,i,l]),f=o.dist(c,d),m=[0,d[1]<c[1]?-1:1,0];0===Math.abs(f)&&(f=.1);var _=[r[0],f,r[1]];n.setItemLayout(s,[c,m,_])})),n.setLayout(\"orient\",[1,0,0])}t[\"a\"]=u},function(e,t,n){\"use strict\";t[\"a\"]=function(e,t,n){for(var r=e.getDataExtent(t),i=e.getDataExtent(n),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],s=50,l=new Uint8Array(s*s),u=0;u<e.count();u++){var c=e.get(t,u),d=e.get(n,u),f=Math.floor((c-r[0])/a*(s-1)),h=Math.floor((d-i[0])/o*(s-1)),p=h*s+f;l[p]=l[p]||1}var m=0;for(u=0;u<l.length;u++)l[u]&&m++;return m/l.length}},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),l=n(232),u=n(65),c=n(6),d=c[\"a\"].vec3;i.a.extendChartView({type:\"bar3D\",__ecgl__:!0,init:function(e,t){this.groupGL=new a[\"a\"].Node,this._api=t,this._labelsBuilder=new u[\"a\"](256,256,t);var n=this;this._labelsBuilder.getLabelPosition=function(e,t,r){if(n._data){var i=n._data.getItemLayout(e),a=i[0],o=i[1],s=i[2][1];return d.scaleAndAdd([],a,o,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,t,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new a[\"a\"].Mesh({geometry:new l[\"a\"],shadowDepthMaterial:new a[\"a\"].Material({shader:new a[\"a\"].Shader(a[\"a\"].Shader.source(\"ecgl.sm.depth.vertex\"),a[\"a\"].Shader.source(\"ecgl.sm.depth.fragment\"))}),culling:\"cartesian3D\"===e.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=e.coordinateSystem;if(this._doRender(e,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?\"define\":\"undefine\";this._barMesh.material[o](\"fragment\",\"SRGB_DECODE\")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){a[\"a\"].updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevNormal\",\"normal\"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,t){var n=e.getData(),r=e.get(\"shading\"),i=\"color\"!==r,o=this,s=this._barMesh,l=\"ecgl.\"+r;s.material&&s.material.shader.name===l||(s.material=a[\"a\"].createMaterial(l,[\"VERTEX_COLOR\"])),a[\"a\"].setMaterialFromModel(r,s.material,e,t),s.geometry.enableNormal=i,s.geometry.resetOffset();var u=e.get(\"bevelSize\"),c=e.get(\"bevelSmoothness\");s.geometry.bevelSegments=c,s.geometry.bevelSize=u;var d=[],f=new Float32Array(4*n.count()),h=0,p=0,m=!1;n.each((function(e){if(n.hasValue(e)){var t=n.getItemVisual(e,\"color\"),r=n.getItemVisual(e,\"opacity\");null==r&&(r=1),a[\"a\"].parseColor(t,d),d[3]*=r,f[h++]=d[0],f[h++]=d[1],f[h++]=d[2],f[h++]=d[3],d[3]>0&&(p++,d[3]<.99&&(m=!0))}})),s.geometry.setBarCount(p);var v=n.getLayout(\"orient\"),g=this._barIndexOfData=new Int32Array(n.count());p=0;n.each((function(e){if(n.hasValue(e)){var t=n.getItemLayout(e),r=t[0],i=t[1],a=t[2],s=4*e;d[0]=f[s++],d[1]=f[s++],d[2]=f[s++],d[3]=f[s++],d[3]>0&&(o._barMesh.geometry.addBar(r,i,v,a,d,e),g[e]=p++)}else g[e]=-1})),s.geometry.dirty(),s.geometry.updateBoundingBox();var _=s.material;_.transparent=m,_.depthMask=!m,s.geometry.sortTriangles=m,this._initHandler(e,t)},_initHandler:function(e,t){var n=e.getData(),r=this._barMesh,i=\"cartesian3D\"===e.coordinateSystem.type;r.seriesIndex=e.seriesIndex;var a=-1;r.off(\"mousemove\"),r.off(\"mouseout\"),r.on(\"mousemove\",(function(e){var o=r.geometry.getDataIndexOfVertex(e.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&t.dispatchAction({type:\"grid3DShowAxisPointer\",value:[n.get(\"x\",o),n.get(\"y\",o),n.get(\"z\",o,!0)]})),a=o,r.dataIndex=o}),this),r.on(\"mouseout\",(function(e){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&t.dispatchAction({type:\"grid3DHideAxisPointer\"})}),this)},_highlight:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var r=t.getItemModel(e),o=r.getModel(\"emphasis.itemStyle\"),s=o.get(\"color\"),l=o.get(\"opacity\");if(null==s){var u=t.getItemVisual(e,\"color\");s=i.a.color.lift(u,-.4)}null==l&&(l=t.getItemVisual(e,\"opacity\"));var c=a[\"a\"].parseColor(s);c[3]*=l,this._barMesh.geometry.setColor(n,c),this._api.getZr().refresh()}}},_downplay:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var r=t.getItemVisual(e,\"color\"),i=t.getItemVisual(e,\"opacity\"),o=a[\"a\"].parseColor(r);o[3]*=i,this._barMesh.geometry.setColor(n,o),this._api.getZr().refresh()}}},highlight:function(e,t,n,r){this._toggleStatus(\"highlight\",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus(\"downplay\",e,t,n,r)},_toggleStatus:function(e,t,n,r,a){var l=t.getData(),u=o[\"a\"].queryDataIndex(l,a),c=this;null!=u?i.a.util.each(s[\"a\"].normalizeToArray(u),(function(t){\"highlight\"===e?this._highlight(t):this._downplay(t)}),this):l.each((function(t){\"highlight\"===e?c._highlight(t):c._downplay(t)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(39),o=n(64),s=n(14),l=n(6),u=l[\"a\"].vec3,c=l[\"a\"].mat3,d=s[\"a\"].extend((function(){return{attributes:{position:new s[\"a\"].Attribute(\"position\",\"float\",3,\"POSITION\"),normal:new s[\"a\"].Attribute(\"normal\",\"float\",3,\"NORMAL\"),color:new s[\"a\"].Attribute(\"color\",\"float\",4,\"COLOR\"),prevPosition:new s[\"a\"].Attribute(\"prevPosition\",\"float\",3),prevNormal:new s[\"a\"].Attribute(\"prevNormal\",\"float\",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var t=this.enableNormal,n=this.getBarVertexCount()*e,r=this.getBarTriangleCount()*e;this.vertexCount!==n&&(this.attributes.position.init(n),t?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return 4*(e+1)*(e+1)*2},_getBevelBarTriangleCount:function(e){var t=4*e+3,n=2*e+1;return(t+1)*n*2+4},setColor:function(e,t){for(var n=this.getBarVertexCount(),r=n*e,i=n*(e+1),a=r;a<i;a++)this.attributes.color.set(a,t);this.dirtyAttribute(\"color\")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=u.create,t=u.scaleAndAdd,n=e(),r=e(),i=e(),a=e(),o=e(),s=e(),l=e(),c=[],d=[],f=0;f<8;f++)c[f]=e();var h=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],p=[0,1,2,0,2,3],m=[];for(f=0;f<h.length;f++)for(var v=h[f],g=0;g<2;g++){for(var _=[],y=0;y<3;y++)_.push(v[p[3*g+y]]);m.push(_)}return function(e,f,v,g,_,y){var x=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(e,f,v,g,this.bevelSize,this.bevelSegments,_);else{u.copy(i,f),u.normalize(i,i),u.cross(a,v,i),u.normalize(a,a),u.cross(r,i,a),u.normalize(a,a),u.negate(o,r),u.negate(s,i),u.negate(l,a),t(c[0],e,r,g[0]/2),t(c[0],c[0],a,g[2]/2),t(c[1],e,r,g[0]/2),t(c[1],c[1],l,g[2]/2),t(c[2],e,o,g[0]/2),t(c[2],c[2],l,g[2]/2),t(c[3],e,o,g[0]/2),t(c[3],c[3],a,g[2]/2),t(n,e,i,g[1]),t(c[4],n,r,g[0]/2),t(c[4],c[4],a,g[2]/2),t(c[5],n,r,g[0]/2),t(c[5],c[5],l,g[2]/2),t(c[6],n,o,g[0]/2),t(c[6],c[6],l,g[2]/2),t(c[7],n,o,g[0]/2),t(c[7],c[7],a,g[2]/2);var b=this.attributes;if(this.enableNormal){d[0]=r,d[1]=o,d[2]=i,d[3]=s,d[4]=a,d[5]=l;for(var w=this._vertexOffset,A=0;A<h.length;A++){for(var T=3*this._triangleOffset,S=0;S<6;S++)this.indices[T++]=w+p[S];w+=4,this._triangleOffset+=2}for(A=0;A<h.length;A++){var E=d[A];for(S=0;S<4;S++){var C=h[A][S];b.position.set(this._vertexOffset,c[C]),b.normal.set(this._vertexOffset,E),b.color.set(this._vertexOffset++,_)}}}else{for(A=0;A<m.length;A++){for(T=3*this._triangleOffset,S=0;S<3;S++)this.indices[T+S]=m[A][S]+this._vertexOffset;this._triangleOffset++}for(A=0;A<c.length;A++)b.position.set(this._vertexOffset,c[A]),b.color.set(this._vertexOffset++,_)}}var M=this._vertexOffset;for(A=x;A<M;A++)this._dataIndices[A]=y}}(),_addBevelBar:function(){var e=u.create(),t=u.create(),n=u.create(),r=c.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(l,c,d,f,h,p,m){u.copy(t,c),u.normalize(t,t),u.cross(n,d,t),u.normalize(n,n),u.cross(e,t,n),u.normalize(n,n),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],h=Math.min(f[0],f[2])/2*h;for(var v=0;v<3;v++)i[v]=Math.max(f[v]-2*h,0);var g=(f[0]-i[0])/2,_=(f[1]-i[1])/2,y=(f[2]-i[2])/2,x=[],b=[],w=this._vertexOffset,A=[];for(v=0;v<2;v++){A[v]=A[v]=[];for(var T=0;T<=p;T++)for(var S=0;S<4;S++){(0===T&&0===v||1===v&&T===p)&&A[v].push(w);for(var E=0;E<=p;E++){var C=E/p*Math.PI/2+Math.PI/2*S,M=T/p*Math.PI/2+Math.PI/2*v;b[0]=g*Math.cos(C)*Math.sin(M),b[1]=_*Math.cos(M),b[2]=y*Math.sin(C)*Math.sin(M),x[0]=b[0]+a[S]*i[0]/2,x[1]=b[1]+_+s[v]*i[1]/2,x[2]=b[2]+o[S]*i[2]/2,Math.abs(g-_)<1e-6&&Math.abs(_-y)<1e-6||(b[0]/=g*g,b[1]/=_*_,b[2]/=y*y),u.normalize(b,b),u.transformMat3(x,x,r),u.transformMat3(b,b,r),u.add(x,x,l),this.attributes.position.set(w,x),this.enableNormal&&this.attributes.normal.set(w,b),this.attributes.color.set(w,m),w++}}}var D=4*p+3,N=2*p+1,L=D+1;for(S=0;S<N;S++)for(v=0;v<=D;v++){var I=S*L+v+this._vertexOffset,P=S*L+(v+1)%L+this._vertexOffset,O=(S+1)*L+(v+1)%L+this._vertexOffset,R=(S+1)*L+v+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[O,I,P]),this.setTriangleIndices(this._triangleOffset++,[O,R,I])}this.setTriangleIndices(this._triangleOffset++,[A[0][0],A[0][2],A[0][1]]),this.setTriangleIndices(this._triangleOffset++,[A[0][0],A[0][3],A[0][2]]),this.setTriangleIndices(this._triangleOffset++,[A[1][0],A[1][1],A[1][2]]),this.setTriangleIndices(this._triangleOffset++,[A[1][0],A[1][2],A[1][3]]),this._vertexOffset=w}}()});i.a.util.defaults(d.prototype,a[\"a\"]),i.a.util.defaults(d.prototype,o[\"a\"]),t[\"a\"]=d},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(31),o=n(32),s=n(40),l=n(50),u=i.a.extendSeriesModel({type:\"series.bar3D\",dependencies:[\"globe\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(e,t){return Object(l[\"a\"])(this)},getFormattedLabel:function(e,t,n,r){var i=o[\"a\"].getFormattedLabel(this,e,t,n,r);return null==i&&(i=this.getData().get(\"z\",e)),i},formatTooltip:function(e){return Object(s[\"a\"])(this,e)},defaultOption:{coordinateSystem:\"cartesian3D\",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:\"xy\",shading:\"color\",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});i.a.util.merge(u.prototype,a[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(235),n(236),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()(\"line3D\",\"circle\",null)),i.a.registerVisual(Object(s[\"a\"])(\"line3D\")),i.a.registerLayout((function(e,t){e.eachSeriesByType(\"line3D\",(function(e){var t=e.getData(),n=e.coordinateSystem;if(n){if(\"cartesian3D\"!==n.type)return void console.error(\"line3D needs cartesian3D coordinateSystem\");var r=new Float32Array(3*t.count()),i=[],a=[],o=n.dimensions,s=o.map((function(t){return e.coordDimToDataDim(t)[0]}));n&&t.each(s,(function(e,t,o,s){i[0]=e,i[1]=t,i[2]=o,n.dataToPoint(i,a),r[3*s]=a[0],r[3*s+1]=a[1],r[3*s+2]=a[2]})),t.setLayout(\"points\",r)}}))}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(40),o=n(50);i.a.extendSeriesModel({type:\"series.line3D\",dependencies:[\"grid3D\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(e,t){return Object(o[\"a\"])(this)},formatTooltip:function(e){return Object(a[\"a\"])(this,e)},defaultOption:{coordinateSystem:\"cartesian3D\",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),l=n(7),u=n(3),c=n(237),d=n.n(c),f=n(6),h=n(46),p=f[\"a\"].vec3;a[\"a\"].Shader.import(h[\"a\"]);i.a.extendChartView({type:\"line3D\",__ecgl__:!0,init:function(e,t){this.groupGL=new a[\"a\"].Node,this._api=t},render:function(e,t,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new a[\"a\"].Mesh({geometry:new s[\"a\"]({useNativeLine:!1,sortTriangles:!0}),material:new a[\"a\"].Material({shader:a[\"a\"].createShader(\"ecgl.meshLines3D\")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=e.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?\"define\":\"undefine\";this._line3DMesh.material[o](\"fragment\",\"SRGB_DECODE\")}this._doRender(e,n),this._data=e.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,t){var n=e.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=n.getLayout(\"points\"),s=[],l=new Float32Array(i.length/3*4),u=0,c=!1;n.each((function(e){var t=n.getItemVisual(e,\"color\"),r=n.getItemVisual(e,\"opacity\");null==r&&(r=1),a[\"a\"].parseColor(t,s),s[3]*=r,l[u++]=s[0],l[u++]=s[1],l[u++]=s[2],l[u++]=s[3],s[3]<.99&&(c=!0)})),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,l,o[\"a\"].firstNotNull(e.get(\"lineStyle.width\"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var d=r.material;d.transparent=c,d.depthMask=!c;var f=e.getModel(\"debug.wireframe\");f.get(\"show\")?(r.geometry.createAttribute(\"barycentric\",\"float\",3),r.geometry.generateBarycentric(),r.material.set(\"both\",\"WIREFRAME_TRIANGLE\"),r.material.set(\"wireframeLineColor\",a[\"a\"].parseColor(f.get(\"lineStyle.color\")||\"rgba(0,0,0,0.5)\")),r.material.set(\"wireframeLineWidth\",o[\"a\"].firstNotNull(f.get(\"lineStyle.width\"),1))):r.material.set(\"both\",\"WIREFRAME_TRIANGLE\"),this._points=i,this._initHandler(e,t)},_updateAnimation:function(e){a[\"a\"].updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevPositionPrev\",\"positionPrev\"],[\"prevPositionNext\",\"positionNext\"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,t){var n=e.getData(),r=e.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=e.seriesIndex,i.off(\"mousemove\"),i.off(\"mouseout\"),i.on(\"mousemove\",(function(e){var o=r.pointToData(e.point.array),s=n.indicesOfNearest(\"x\",o[0])[0];s!==a&&(t.dispatchAction({type:\"grid3DShowAxisPointer\",value:[n.get(\"x\",s),n.get(\"y\",s),n.get(\"z\",s)]}),i.dataIndex=s),a=s}),this),i.on(\"mouseout\",(function(e){a=-1,i.dataIndex=-1,t.dispatchAction({type:\"grid3DHideAxisPointer\"})}),this)},_updateNDCPosition:function(){var e=new l[\"a\"],t=this._camera;l[\"a\"].multiply(e,t.projectionMatrix,t.viewMatrix);var n=this._positionNDC,r=this._points,i=r.length/3;n&&n.length/2===i||(n=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var s=3*o,u=2*o;a[0]=r[s],a[1]=r[s+1],a[2]=r[s+2],a[3]=1,p.transformMat4(a,a,e.array),n[u]=a[0]/a[3],n[u+1]=a[1]/a[3]}},_pick:function(e,t,n,r,i,a){var o=this._positionNDC,s=this._data.hostModel,l=s.get(\"lineStyle.width\"),c=-1,f=n.viewport.width,h=n.viewport.height,p=.5*f,m=.5*h;e=(e+1)*p,t=(t+1)*m;for(var v=1;v<o.length/2;v++){var g=(o[2*(v-1)]+1)*p,_=(o[2*(v-1)+1]+1)*m,y=(o[2*v]+1)*p,x=(o[2*v+1]+1)*m;if(d.a.containStroke(g,_,y,x,l,e,t)){var b=(g-e)*(g-e)+(_-t)*(_-t),w=(y-e)*(y-e)+(x-t)*(x-t);c=b<w?v-1:v}}if(c>=0){var A=3*c,T=new u[\"a\"](this._points[A],this._points[A+1],this._points[A+2]);a.push({dataIndex:c,point:T,pointWorld:T.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(T)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(e,t){function n(e,t,n,r,i,a,o){if(0===i)return!1;var s=i,l=0,u=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||a>e+s&&a>n+s||a<e-s&&a<n-s)return!1;if(e===n)return Math.abs(a-e)<=s/2;l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);var c=l*a-o+u,d=c*c/(l*l+1);return d<=s/2*s/2}t.containStroke=n},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(239),n(240),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()(\"scatter3D\",\"circle\",null)),i.a.registerVisual(Object(s[\"a\"])(\"scatter3D\")),i.a.registerLayout({seriesType:\"scatter3D\",reset:function(e){var t=e.coordinateSystem;if(t){var n=t.dimensions;if(n.length<3)return void console.error(\"scatter3D needs 3D coordinateSystem\");var r=n.map((function(t){return e.coordDimToDataDim(t)[0]})),i=[],a=[];return{progress:function(e,n){for(var o=new Float32Array(3*(e.end-e.start)),s=e.start;s<e.end;s++){var l=3*(s-e.start);i[0]=n.get(r[0],s),i[1]=n.get(r[1],s),i[2]=n.get(r[2],s),t.dataToPoint(i,a),o[l]=a[0],o[l+1]=a[1],o[l+2]=a[2]}n.setLayout(\"points\",o)}}}}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(32),o=n(40),s=n(50);i.a.extendSeriesModel({type:\"series.scatter3D\",dependencies:[\"globe\",\"grid3D\",\"geo3D\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(e,t){return Object(s[\"a\"])(this)},getFormattedLabel:function(e,t,n,r){var i=a[\"a\"].getFormattedLabel(this,e,t,n,r);if(null==i){var o=this.getData(),s=o.dimensions[o.dimensions.length-1];i=o.get(s,e)}return i},formatTooltip:function(e){return Object(o[\"a\"])(this,e)},defaultOption:{coordinateSystem:\"cartesian3D\",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:\"circle\",symbolSize:10,blendMode:\"source-over\",label:{show:!1,position:\"right\",distance:5,textStyle:{fontSize:14,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),l=n(66);i.a.extendChartView({type:\"scatter3D\",__ecgl__:!0,init:function(e,t){this.groupGL=new a[\"a\"].Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,t,n){if(this.groupGL.removeAll(),e.getData().count()){var r=e.coordinateSystem;if(!r||!r.viewGL)throw new Error(\"Invalid coordinate system\");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new l[\"a\"](!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(e,t,n),i.updateView(r.viewGL.camera)}},incrementalPrepareRender:function(e,t,n){var r=e.coordinateSystem;if(!r||!r.viewGL)throw new Error(\"Invalid coordinate system\");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera,this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new l[\"a\"](!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(t,n,r,e.start,e.end),i.updateView(t.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach((function(e){e.updateView(this._camera)}),this)},highlight:function(e,t,n,r){this._toggleStatus(\"highlight\",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus(\"downplay\",e,t,n,r)},_toggleStatus:function(e,t,n,r,a){var l=t.getData(),u=o[\"a\"].queryDataIndex(l,a),c=\"highlight\"===e;null!=u?i.a.util.each(s[\"a\"].normalizeToArray(u),(function(e){for(var t=0;t<this._pointsBuilderList.length;t++){var n=this._pointsBuilderList[t];c?n.highlight(l,e):n.downplay(l,e)}}),this):l.each((function(e){for(var t=0;t<this._pointsBuilderList.length;t++){var n=this._pointsBuilderList[t];c?n.highlight(l,e):n.downplay(l,e)}}))},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);function a(e,t,n){t=t||document.createElement(\"canvas\");t.width=e,t.height=e;var r=t.getContext(\"2d\");return n&&n(r),t}function o(e,t,n,r){i.a.util.isArray(t)||(t=[t,t]);var a=l.getMarginByStyle(n,r),o=t[0]+a.left+a.right,s=t[1]+a.top+a.bottom,u=i.a.helper.createSymbol(e,0,0,t[0],t[1]),c=Math.max(o,s);u.position=[a.left,a.top],o>s?u.position[1]+=(c-s)/2:u.position[0]+=(c-o)/2;var d=u.getBoundingRect();return u.position[0]-=d.x,u.position[1]-=d.y,u.setStyle(n),u.update(),u.__size=c,u}function s(e,t,n){var r=t.width,i=t.height,a=e.canvas.width,o=e.canvas.height,s=r/a,l=i/o;function u(e){return e<128?1:-1}function c(e,a){var o=1/0;e=Math.floor(e*s),a=Math.floor(a*l);for(var c=a*r+e,d=t.data[4*c],f=u(d),h=Math.max(a-n,0);h<Math.min(a+n,i);h++)for(var p=Math.max(e-n,0);p<Math.min(e+n,r);p++){c=h*r+p;var m=t.data[4*c],v=u(m),g=p-e,_=h-a;if(f!==v){var y=g*g+_*_;y<o&&(o=y)}}return f*Math.sqrt(o)}for(var d=e.createImageData(a,o),f=0;f<o;f++)for(var h=0;h<a;h++){var p=c(h,f),m=p/n*.5+.5,v=4*(f*a+h);d.data[v++]=255*(1-m),d.data[v++]=255*(1-m),d.data[v++]=255*(1-m),d.data[v++]=255}return d}var l={getMarginByStyle:function(e){var t=e.minMargin||0,n=0;e.stroke&&\"none\"!==e.stroke&&(n=null==e.lineWidth?1:e.lineWidth);var r=e.shadowBlur||0,i=e.shadowOffsetX||0,a=e.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-i+r,t),o.right=Math.max(n/2,i+r,t),o.top=Math.max(n/2,-a+r,t),o.bottom=Math.max(n/2,a+r,t),o},createSymbolSprite:function(e,t,n,r){var i=o(e,t,n),s=l.getMarginByStyle(n);return{image:a(i.__size,r,(function(e){i.brush(e)})),margin:s}},createSDFFromCanvas:function(e,t,n,r){return a(t,r,(function(t){var r=e.getContext(\"2d\"),i=r.getImageData(0,0,e.width,e.height);t.putImageData(s(t,i,n),0,0)}))},createSimpleSprite:function(e,t){return a(e,t,(function(t){var n=e/2;t.beginPath(),t.arc(n,n,60,0,2*Math.PI,!1),t.closePath();var r=t.createRadialGradient(n,n,0,n,n,n);r.addColorStop(0,\"rgba(255, 255, 255, 1)\"),r.addColorStop(.5,\"rgba(255, 255, 255, 0.5)\"),r.addColorStop(1,\"rgba(255, 255, 255, 0)\"),t.fillStyle=r,t.fill()}))}};t[\"a\"]=l},function(e,t,n){\"use strict\";var r=n(1),i=n(243),a=n(0),o=n.n(a),s=n(6),l=n(244),u=s[\"a\"].vec4;r[\"a\"].Shader.import(l[\"a\"]);var c=r[\"a\"].Mesh.extend((function(){var e=new r[\"a\"].Geometry({dynamic:!0,attributes:{color:new r[\"a\"].Geometry.Attribute(\"color\",\"float\",4,\"COLOR\"),position:new r[\"a\"].Geometry.Attribute(\"position\",\"float\",3,\"POSITION\"),size:new r[\"a\"].Geometry.Attribute(\"size\",\"float\",1),prevPosition:new r[\"a\"].Geometry.Attribute(\"prevPosition\",\"float\",3),prevSize:new r[\"a\"].Geometry.Attribute(\"prevSize\",\"float\",1)}});o.a.util.extend(e,i[\"a\"]);var t=new r[\"a\"].Material({shader:r[\"a\"].createShader(\"ecgl.sdfSprite\"),transparent:!0,depthMask:!1});t.enableTexture(\"sprite\"),t.define(\"both\",\"VERTEX_COLOR\"),t.define(\"both\",\"VERTEX_SIZE\");var n=new r[\"a\"].Texture2D({image:document.createElement(\"canvas\"),flipY:!1});return t.set(\"sprite\",n),e.pick=this._pick.bind(this),{geometry:e,material:t,mode:r[\"a\"].Mesh.POINTS,sizeScale:1}}),{_pick:function(e,t,n,i,a,o){var s=this._positionNDC;if(s)for(var l=n.viewport,u=2/l.width,c=2/l.height,d=this.geometry.vertexCount-1;d>=0;d--){var f;f=this.geometry.indices?this.geometry.indices[d]:d;var h=s[2*f],p=s[2*f+1],m=this.geometry.attributes.size.get(f)/this.sizeScale,v=m/2;if(e>h-v*u&&e<h+v*u&&t>p-v*c&&t<p+v*c){var g=new r[\"a\"].Vector3,_=new r[\"a\"].Vector3;this.geometry.attributes.position.get(f,g.array),r[\"a\"].Vector3.transformMat4(_,g,this.worldTransform),o.push({vertexIndex:f,point:g,pointWorld:_,target:this,distance:_.distance(i.getWorldPosition())})}}},updateNDCPosition:function(e,t,n){var r=this._positionNDC,i=this.geometry;r&&r.length/2===i.vertexCount||(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=u.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,u.transformMat4(a,a,e.array),u.scale(a,a,1/a[3]),r[2*o]=a[0],r[2*o+1]=a[1]}});t[\"a\"]=c},function(e,t,n){\"use strict\";var r=n(96),i=n(6),a=i[\"a\"].vec3;t[\"a\"]={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,t){var n=this.indices,r=a.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<n.length;i++)n[i]=i}if(0===t){var o,s=this.attributes.position,l=(e=e.array,0);this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(i=0;i<this.vertexCount;i++){s.get(i,r);var u=a.sqrDist(r,e);isNaN(u)&&(u=1e7,l++),0===i?(o=u,u=0):u-=o,this._zList[i]=u}this._noneCount=l}if(this.vertexCount<2e4)0===t&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*t+i);this.dirtyIndices()},_simpleSort:function(e){var t=this._zList,n=this.indices;function i(e,n){return t[n]-t[e]}e?Array.prototype.sort.call(n,i):r[\"a\"].sort(n,i,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._zList,n=this.indices;this._quickSort=this._quickSort||new r[\"a\"],this._quickSort.step(n,(function(e,n){return t[n]-t[e]}),e)}}},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.sdfSprite.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform float elapsedTime : 0;\\n\\nattribute vec3 position : POSITION;\\n\\n#ifdef VERTEX_SIZE\\nattribute float size;\\n#else\\nuniform float u_Size;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_FillColor: COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nattribute float prevSize;\\nuniform float percent : 1.0;\\n#endif\\n\\n\\n#ifdef POSITIONTEXTURE_ENABLED\\nuniform sampler2D positionTexture;\\n#endif\\n\\nvarying float v_Size;\\n\\nvoid main()\\n{\\n\\n#ifdef POSITIONTEXTURE_ENABLED\\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\\n#else\\n\\n #ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n #else\\n vec3 pos = position;\\n #endif\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n#endif\\n\\n#ifdef VERTEX_SIZE\\n#ifdef VERTEX_ANIMATION\\n v_Size = mix(prevSize, size, percent);\\n#else\\n v_Size = size;\\n#endif\\n#else\\n v_Size = u_Size;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_FillColor;\\n #endif\\n\\n gl_PointSize = v_Size;\\n}\\n\\n@end\\n\\n@export ecgl.sdfSprite.fragment\\n\\nuniform vec4 color: [1, 1, 1, 1];\\nuniform vec4 strokeColor: [1, 1, 1, 1];\\nuniform float smoothing: 0.07;\\n\\nuniform float lineWidth: 0.0;\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\nvarying float v_Size;\\n\\nuniform sampler2D sprite;\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n gl_FragColor = color;\\n\\n vec4 _strokeColor = strokeColor;\\n\\n#ifdef VERTEX_COLOR\\n gl_FragColor *= v_Color;\\n #endif\\n\\n#ifdef SPRITE_ENABLED\\n float d = texture2D(sprite, gl_PointCoord).r;\\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\\n\\n if (lineWidth > 0.0) {\\n float sLineWidth = lineWidth / 2.0;\\n\\n float outlineMaxValue0 = 0.5 + sLineWidth;\\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\\n float outlineMinValue1 = 0.5 - sLineWidth;\\n\\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\\n float a = _strokeColor.a;\\n if (d <= outlineMinValue1) {\\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\\n }\\n else {\\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\\n }\\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\\n }\\n }\\n#endif\\n\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(gl_FragColor);\\n#endif\\n}\\n@end\"},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(246),n(247),n(250),n(17));i.a.registerVisual(Object(a[\"a\"])(\"lines3D\")),i.a.registerAction({type:\"lines3DPauseEffect\",event:\"lines3deffectpaused\",update:\"series.lines3D:pauseEffect\"},(function(){})),i.a.registerAction({type:\"lines3DResumeEffect\",event:\"lines3deffectresumed\",update:\"series.lines3D:resumeEffect\"},(function(){})),i.a.registerAction({type:\"lines3DToggleEffect\",event:\"lines3deffectchanged\",update:\"series.lines3D:toggleEffect\"},(function(){}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(6),o=a[\"a\"].vec3,s=a[\"a\"].vec2,l=o.normalize,u=o.cross,c=o.sub,d=o.add,f=o.create,h=f(),p=f(),m=f(),v=f(),g=[],_=[];function y(e,t){s.copy(g,e[0]),s.copy(_,e[1]);var n=[],r=n[0]=f(),i=n[1]=f(),a=n[2]=f(),y=n[3]=f();t.dataToPoint(g,r),t.dataToPoint(_,y),l(h,r),c(p,y,r),l(p,p),u(m,p,h),l(m,m),u(p,h,m),d(i,h,p),l(i,i),l(h,y),c(p,r,y),l(p,p),u(m,p,h),l(m,m),u(p,h,m),d(a,h,p),l(a,a),d(v,r,y),l(v,v);var x=o.dot(r,v),b=o.dot(v,i),w=(Math.max(o.len(r),o.len(y))-x)/b*2;return o.scaleAndAdd(i,r,i,w),o.scaleAndAdd(a,y,a,w),n}function x(e,t,n){var r=[],i=r[0]=o.create(),a=r[1]=o.create(),s=r[2]=o.create(),l=r[3]=o.create();t.dataToPoint(e[0],i),t.dataToPoint(e[1],l);var u=o.dist(i,l);return o.lerp(a,i,l,.3),o.lerp(s,i,l,.3),o.scaleAndAdd(a,a,n,Math.min(.1*u,10)),o.scaleAndAdd(s,s,n,Math.min(.1*u,10)),r}function b(e,t){for(var n=new Float32Array(3*e.length),r=0,i=[],a=0;a<e.length;a++)t.dataToPoint(e[a],i),n[r++]=i[0],n[r++]=i[1],n[r++]=i[2];return n}function w(e){var t=[];return e.each((function(n){var r=e.getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow(\"coords\",!0);if(!(i instanceof Array&&i.length>0&&i[0]instanceof Array))throw new Error(\"Invalid coords \"+JSON.stringify(i)+\". Lines must have 2d coords array in data item.\");t.push(i)})),{coordsList:t}}function A(e,t){var n=e.getData(),r=e.get(\"polyline\");n.setLayout(\"lineType\",r?\"polyline\":\"cubicBezier\");var i=w(n);n.each((function(e){var a=i.coordsList[e],o=r?b:y;n.setItemLayout(e,o(a,t))}))}function T(e,t,n){var r=e.getData(),i=e.get(\"polyline\"),a=w(r);r.setLayout(\"lineType\",i?\"polyline\":\"cubicBezier\"),r.each((function(e){var o=a.coordsList[e],s=i?b(o,t):x(o,t,n);r.setItemLayout(e,s)}))}i.a.registerLayout((function(e,t){e.eachSeriesByType(\"lines3D\",(function(e){var t=e.coordinateSystem;\"globe\"===t.type?A(e,t):\"geo3D\"===t.type?T(e,t,[0,1,0]):\"mapbox3D\"!==t.type&&\"maptalks3D\"!==t.type||T(e,t,[0,0,1])}))}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(248),l=n(46);function u(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100}a[\"a\"].Shader.import(l[\"a\"]);i.a.extendChartView({type:\"lines3D\",__ecgl__:!0,init:function(e,t){this.groupGL=new a[\"a\"].Node,this._meshLinesMaterial=new a[\"a\"].Material({shader:a[\"a\"].createShader(\"ecgl.meshLines3D\"),transparent:!0,depthMask:!1}),this._linesMesh=new a[\"a\"].Mesh({geometry:new o[\"a\"],material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new s[\"a\"]},render:function(e,t,n){this.groupGL.add(this._linesMesh);var r=e.coordinateSystem,i=e.getData();if(r&&r.viewGL){var o=r.viewGL;o.add(this.groupGL),this._updateLines(e,t,n);var s=r.viewGL.isLinearSpace()?\"define\":\"undefine\";this._linesMesh.material[s](\"fragment\",\"SRGB_DECODE\"),this._trailMesh.material[s](\"fragment\",\"SRGB_DECODE\")}var l=this._trailMesh;if(l.stopAnimation(),e.get(\"effect.show\")){this.groupGL.add(l),l.updateData(i,n,this._linesMesh.geometry),l.__time=l.__time||0;var u=36e5;this._curveEffectsAnimator=l.animate(\"\",{loop:!0}).when(u,{__time:u}).during((function(){l.setAnimationTime(l.__time)})).start()}else this.groupGL.remove(l),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend=\"lighter\"===e.get(\"blendMode\")?a[\"a\"].additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,t,n){var r=e.getData(),i=e.coordinateSystem,o=this._linesMesh.geometry,s=e.get(\"polyline\");o.expandLine=!0;var l=u(i);o.segmentScale=l/20;var c=\"lineStyle.width\".split(\".\"),d=n.getDevicePixelRatio(),f=0;r.each((function(e){var t=r.getItemModel(e),n=t.get(c);null==n&&(n=1),r.setItemVisual(e,\"lineWidth\",n),f=Math.max(n,f)})),o.useNativeLine=!1;var h=0,p=0;r.each((function(e){var t=r.getItemLayout(e);s?(h+=o.getPolylineVertexCount(t),p+=o.getPolylineTriangleCount(t)):(h+=o.getCubicCurveVertexCount(t[0],t[1],t[2],t[3]),p+=o.getCubicCurveTriangleCount(t[0],t[1],t[2],t[3]))})),o.setVertexCount(h),o.setTriangleCount(p),o.resetOffset();var m=[];r.each((function(e){var t=r.getItemLayout(e),n=r.getItemVisual(e,\"color\"),i=r.getItemVisual(e,\"opacity\"),l=r.getItemVisual(e,\"lineWidth\")*d;null==i&&(i=1),m=a[\"a\"].parseColor(n,m),m[3]*=i,s?o.addPolyline(t,m,l):o.addCubicCurve(t[0],t[1],t[2],t[3],m,l)})),o.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(e,t,n){\"use strict\";var r=n(0),i=(n.n(r),n(1)),a=n(6),o=n(25),s=n(249),l=a[\"a\"].vec3;function u(e){return e>0?1:-1}i[\"a\"].Shader.import(s[\"a\"]),t[\"a\"]=i[\"a\"].Mesh.extend((function(){var e=new i[\"a\"].Material({shader:new i[\"a\"].Shader(i[\"a\"].Shader.source(\"ecgl.trail2.vertex\"),i[\"a\"].Shader.source(\"ecgl.trail2.fragment\")),transparent:!0,depthMask:!1}),t=new o[\"a\"]({dynamic:!0});return t.createAttribute(\"dist\",\"float\",1),t.createAttribute(\"distAll\",\"float\",1),t.createAttribute(\"start\",\"float\",1),{geometry:t,material:e,culling:!1,$ignorePicking:!0}}),{updateData:function(e,t,n){var r=e.hostModel,a=this.geometry,o=r.getModel(\"effect\"),s=o.get(\"trailWidth\")*t.getDevicePixelRatio(),c=o.get(\"trailLength\"),d=r.get(\"effect.constantSpeed\"),f=1e3*r.get(\"effect.period\"),h=null!=d;this.getScene()||console.error(\"TrailMesh must been add to scene before updateData\"),h?this.material.set(\"speed\",d/1e3):this.material.set(\"period\",f),this.material[h?\"define\":\"undefine\"](\"vertex\",\"CONSTANT_SPEED\");var p=r.get(\"polyline\");a.trailLength=c,this.material.set(\"trailLength\",c),a.resetOffset(),[\"position\",\"positionPrev\",\"positionNext\"].forEach((function(e){a.attributes[e].value=n.attributes[e].value}));var m=[\"dist\",\"distAll\",\"start\",\"offset\",\"color\"];m.forEach((function(e){a.attributes[e].init(a.vertexCount)})),a.indices=n.indices;var v=[],g=o.get(\"trailColor\"),_=o.get(\"trailOpacity\"),y=null!=g,x=null!=_;this.updateWorldTransform();var b=this.worldTransform.x.len(),w=this.worldTransform.y.len(),A=this.worldTransform.z.len(),T=0,S=0;e.each((function(t){var r=e.getItemLayout(t),o=x?_:e.getItemVisual(t,\"opacity\"),c=e.getItemVisual(t,\"color\");null==o&&(o=1),v=i[\"a\"].parseColor(y?g:c,v),v[3]*=o;for(var d=p?n.getPolylineVertexCount(r):n.getCubicCurveVertexCount(r[0],r[1],r[2],r[3]),m=0,E=[],C=[],M=T;M<T+d;M++)a.attributes.position.get(M,E),E[0]*=b,E[1]*=w,E[2]*=A,M>T&&(m+=l.dist(E,C)),a.attributes.dist.set(M,m),l.copy(C,E);S=Math.max(S,m);var D=Math.random()*(h?m:f);for(M=T;M<T+d;M++)a.attributes.distAll.set(M,m),a.attributes.start.set(M,D),a.attributes.offset.set(M,u(n.attributes.offset.get(M))*s/2),a.attributes.color.set(M,v);T+=d})),this.material.set(\"spotSize\",.1*S*c),this.material.set(\"spotIntensity\",o.get(\"spotIntensity\")),a.dirty()},setAnimationTime:function(e){this.material.set(\"time\",e)}})},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.trail2.vertex\\nattribute vec3 position: POSITION;\\nattribute vec3 positionPrev;\\nattribute vec3 positionNext;\\nattribute float offset;\\nattribute float dist;\\nattribute float distAll;\\nattribute float start;\\n\\nattribute vec4 a_Color : COLOR;\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\nuniform float near : NEAR;\\n\\nuniform float speed : 0;\\nuniform float trailLength: 0.3;\\nuniform float time;\\nuniform float period: 1000;\\n\\nuniform float spotSize: 1;\\n\\nvarying vec4 v_Color;\\nvarying float v_Percent;\\nvarying float v_SpotPercent;\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n@import ecgl.lines3D.clipNear\\n\\nvoid main()\\n{\\n @import ecgl.lines3D.expandLine\\n\\n gl_Position = currProj;\\n\\n v_Color = a_Color;\\n\\n @import ecgl.common.wireframe.vertexMain\\n\\n#ifdef CONSTANT_SPEED\\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\\n#else\\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\\n#endif\\n\\n float trailLen = distAll * trailLength;\\n\\n v_Percent = (dist - t * distAll) / trailLen;\\n\\n v_SpotPercent = spotSize / distAll;\\n\\n }\\n@end\\n\\n\\n@export ecgl.trail2.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nuniform float spotIntensity: 5;\\n\\nvarying vec4 v_Color;\\nvarying float v_Percent;\\nvarying float v_SpotPercent;\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n if (v_Percent > 1.0 || v_Percent < 0.0) {\\n discard;\\n }\\n\\n float fade = v_Percent;\\n\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color * v_Color);\\n#else\\n gl_FragColor = color * v_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.fragmentMain\\n\\n if (v_Percent > (1.0 - v_SpotPercent)) {\\n gl_FragColor.rgb *= spotIntensity;\\n }\\n\\n gl_FragColor.a *= fade;\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:\"series.lines3D\",dependencies:[\"globe\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(e,t){var n=new i.a.List([\"value\"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:\"globe\",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:\"source-over\",lineStyle:{width:1,opacity:.5}}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(252),n(253),n(17));i.a.registerVisual(Object(a[\"a\"])(\"polygons3D\"))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(31);function o(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}var s=i.a.extendSeriesModel({type:\"series.polygons3D\",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getItemModel(e),r=n.option instanceof Array?n.option:n.getShallow(\"coords\");n.get(\"multiPolygon\")||(r=[r]);for(var i=[],a=0;a<r.length;a++){for(var s=[],l=1;l<r[a].length;l++)s.push(o(t,r[a][l]));i.push({exterior:o(t,r[a][0]),interiors:s})}return i},getInitialData:function(e){var t=new i.a.List([\"value\"],this);return t.hasItemOption=!1,t.initData(e.data,[],(function(e,n,r,i){if(e instanceof Array)return NaN;t.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),t},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:4}},itemStyle:{color:\"#fff\",borderWidth:0,borderColor:\"#333\"},emphasis:{itemStyle:{color:\"#639fc0\"},label:{show:!0}}}});i.a.util.merge(s.prototype,a[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(63),o=n(1);i.a.extendChartView({type:\"polygons3D\",__ecgl__:!0,init:function(e,t){this.groupGL=new o[\"a\"].Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||(i=new a[\"a\"](n),i.extrudeY=\"mapbox3D\"!==r.type&&\"maptalks3D\"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(e,t,n),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,t,n,r){var i=this._geo3DBuilderList[this._currentStep],o=t.coordinateSystem;i||(i=new a[\"a\"](r),i.extrudeY=\"mapbox3D\"!==o.type&&\"maptalks3D\"!==o.type,this._geo3DBuilderList[this._currentStep]=i),i.update(t,n,r,e.start,e.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(o,i),this._currentStep++},_updateShaderDefines:function(e,t){var n=e.viewGL.isLinearSpace()?\"define\":\"undefine\";t.rootNode.traverse((function(t){t.material&&(t.material[n](\"fragment\",\"SRGB_DECODE\"),\"mapbox3D\"!==e.type&&\"maptalks3D\"!==e.type||(t.material.define(\"fragment\",\"NORMAL_UP_AXIS\",2),t.material.define(\"fragment\",\"NORMAL_FRONT_AXIS\",1)))}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(255),n(256),n(257),n(17));i.a.registerVisual(Object(a[\"a\"])(\"surface\"))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(31),o=n(40),s=n(50),l=i.a.extendSeriesModel({type:\"series.surface\",dependencies:[\"globe\",\"grid3D\",\"geo3D\"],visualColorAccessPath:\"itemStyle.color\",formatTooltip:function(e){return Object(o[\"a\"])(this,e)},getInitialData:function(e,t){var n=e.data;function r(e){return!(isNaN(e.min)||isNaN(e.max)||isNaN(e.step))}function a(e){var t=i.a.number.getPrecisionSafe;return Math.max(t(e.min),t(e.max),t(e.step))+1}if(!n)if(e.parametric){var o=e.parametricEquation||{},l=o.u||{},u=o.v||{};[\"u\",\"v\"].forEach((function(e){r(o[e])||console.error(\"Invalid parametricEquation.%s\",e)})),[\"x\",\"y\",\"z\"].forEach((function(e){\"function\"===typeof o[e]||console.error(\"parametricEquation.%s needs to be function\",e)}));var c=Math.floor((l.max+l.step-l.min)/l.step),d=Math.floor((u.max+u.step-u.min)/u.step);n=new Float32Array(c*d*5);var f=a(l),h=a(u);for(S=0,E=0;E<d;E++)for(C=0;C<c;C++){var p=C*l.step+l.min,m=E*u.step+u.min,v=i.a.number.round(Math.min(p,l.max),f),g=i.a.number.round(Math.min(m,u.max),h);M=o.x(v,g),D=o.y(v,g),I=o.z(v,g);n[S++]=M,n[S++]=D,n[S++]=I,n[S++]=v,n[S++]=g}}else{var _=e.equation||{},y=_.x||{},x=_.y||{};if([\"x\",\"y\"].forEach((function(e){r(_[e])||console.error(\"Invalid equation.%s\",e)})),\"function\"!==typeof _.z)return void console.error(\"equation.z needs to be function\");var b=Math.floor((y.max+y.step-y.min)/y.step),w=Math.floor((x.max+x.step-x.min)/x.step);n=new Float32Array(b*w*3);for(var A=a(y),T=a(x),S=0,E=0;E<w;E++)for(var C=0;C<b;C++){var M=C*y.step+y.min,D=E*x.step+x.min,N=i.a.number.round(Math.min(M,y.max),A),L=i.a.number.round(Math.min(D,x.max),T),I=_.z(N,L);n[S++]=N,n[S++]=L,n[S++]=I}}var P=[\"x\",\"y\",\"z\"];e.parametric&&P.push(\"u\",\"v\");var O=Object(s[\"a\"])(this,P,n);return O},defaultOption:{coordinateSystem:\"cartesian3D\",zlevel:-10,grid3DIndex:0,shading:\"lambert\",parametric:!1,wireframe:{show:!0,lineStyle:{color:\"rgba(0,0,0,0.5)\",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});i.a.util.merge(l.prototype,a[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=(n(2),n(6)),s=n(64),l=o[\"a\"].vec3;function u(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}i.a.extendChartView({type:\"surface\",__ecgl__:!0,init:function(e,t){this.groupGL=new a[\"a\"].Node},render:function(e,t,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=e.coordinateSystem,o=e.get(\"shading\"),s=e.getData(),l=\"ecgl.\"+o;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===l||(this._surfaceMesh.material=a[\"a\"].createMaterial(l,[\"VERTEX_COLOR\",\"DOUBLE_SIDED\"])),a[\"a\"].setMaterialFromModel(o,this._surfaceMesh.material,e,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var u=i.viewGL.isLinearSpace()?\"define\":\"undefine\";this._surfaceMesh.material[u](\"fragment\",\"SRGB_DECODE\")}var c=e.get(\"parametric\"),d=e.get(\"dataShape\");d||(d=this._getDataShape(s,c),e.get(\"data\")&&console.warn(\"dataShape is not provided. Guess it is \",d));var f=e.getModel(\"wireframe\"),h=f.get(\"lineStyle.width\"),p=f.get(\"show\")&&h>0;this._updateSurfaceMesh(this._surfaceMesh,e,d,p);var m=this._surfaceMesh.material;p?(m.define(\"WIREFRAME_QUAD\"),m.set(\"wireframeLineWidth\",h),m.set(\"wireframeLineColor\",a[\"a\"].parseColor(f.get(\"lineStyle.color\")))):m.undefine(\"WIREFRAME_QUAD\"),this._initHandler(e,n),this._updateAnimation(e)},_updateAnimation:function(e){a[\"a\"].updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevNormal\",\"normal\"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new a[\"a\"].Mesh({geometry:new a[\"a\"].Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new a[\"a\"].Material({shader:new a[\"a\"].Shader(a[\"a\"].Shader.source(\"ecgl.sm.depth.vertex\"),a[\"a\"].Shader.source(\"ecgl.sm.depth.fragment\"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute(\"barycentric\",\"float\",4),e.geometry.createAttribute(\"prevPosition\",\"float\",3),e.geometry.createAttribute(\"prevNormal\",\"float\",3),i.a.util.extend(e.geometry,s[\"a\"]),e},_initHandler:function(e,t){var n=e.getData(),r=this._surfaceMesh,i=e.coordinateSystem;function a(e,t){for(var n=1/0,i=-1,a=[],o=0;o<e.length;o++){r.geometry.attributes.position.get(e[o],a);var s=l.dist(t.array,a);s<n&&(n=s,i=e[o])}return i}r.seriesIndex=e.seriesIndex;var o=-1;r.off(\"mousemove\"),r.off(\"mouseout\"),r.on(\"mousemove\",(function(e){var s=a(e.triangle,e.point);if(s>=0){var u=[];r.geometry.attributes.position.get(s,u);for(var c=i.pointToData(u),d=1/0,f=-1,h=[],p=0;p<n.count();p++){h[0]=n.get(\"x\",p),h[1]=n.get(\"y\",p),h[2]=n.get(\"z\",p);var m=l.squaredDistance(h,c);m<d&&(f=p,d=m)}f!==o&&t.dispatchAction({type:\"grid3DShowAxisPointer\",value:c}),o=f,r.dataIndex=f}else r.dataIndex=-1}),this),r.on(\"mouseout\",(function(e){o=-1,r.dataIndex=-1,t.dispatchAction({type:\"grid3DHideAxisPointer\"})}),this)},_updateSurfaceMesh:function(e,t,n,r){var i=e.geometry,o=t.getData(),s=o.getLayout(\"points\"),c=0;o.each((function(e){o.hasValue(e)||c++}));var d=c||r,f=i.attributes.position,h=i.attributes.normal,p=i.attributes.texcoord0,m=i.attributes.barycentric,v=i.attributes.color,g=n[0],_=n[1],y=t.get(\"shading\"),x=\"color\"!==y;if(d){var b=(g-1)*(_-1)*4;f.init(b),r&&m.init(b)}else f.value=new Float32Array(s);v.init(i.vertexCount),p.init(i.vertexCount);var w=[0,3,1,1,3,2],A=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],T=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((g-1)*(_-1)*6),S=function(e,t,n){n[1]=e*_+t,n[0]=e*_+t+1,n[3]=(e+1)*_+t+1,n[2]=(e+1)*_+t},E=!1;if(d){var C=[],M=[],D=0;x?h.init(i.vertexCount):h.value=null;for(var N=[[],[],[]],L=[],I=[],P=l.create(),O=function(e,t,n){var r=3*t;return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n},R=new Float32Array(s.length),k=new Float32Array(s.length/3*4),F=0;F<o.count();F++)if(o.hasValue(F)){var B=a[\"a\"].parseColor(o.getItemVisual(F,\"color\")),z=o.getItemVisual(F,\"opacity\");B[3]*=z,B[3]<.99&&(E=!0);for(var H=0;H<4;H++)k[4*F+H]=B[H]}var U=[1e7,1e7,1e7];for(F=0;F<g-1;F++)for(var G=0;G<_-1;G++){var j=F*(_-1)+G,V=4*j;S(F,G,C);var W=!1;for(H=0;H<4;H++)O(s,C[H],M),u(M)&&(W=!0);for(H=0;H<4;H++)W?f.set(V+H,U):(O(s,C[H],M),f.set(V+H,M)),r&&m.set(V+H,A[H]);for(H=0;H<6;H++)T[D++]=w[H]+V;if(x&&!W)for(H=0;H<2;H++){for(var $=3*H,q=0;q<3;q++){var Y=C[w[$]+q];O(s,Y,N[q])}l.sub(L,N[0],N[1]),l.sub(I,N[1],N[2]),l.cross(P,L,I);for(q=0;q<3;q++){var X=3*C[w[$]+q];R[X]=R[X]+P[0],R[X+1]=R[X+1]+P[1],R[X+2]=R[X+2]+P[2]}}}if(x)for(F=0;F<R.length/3;F++)O(R,F,P),l.normalize(P,P),R[3*F]=P[0],R[3*F+1]=P[1],R[3*F+2]=P[2];B=[];var Q=[];for(F=0;F<g-1;F++)for(G=0;G<_-1;G++){j=F*(_-1)+G,V=4*j;S(F,G,C);for(H=0;H<4;H++){for(q=0;q<4;q++)B[q]=k[4*C[H]+q];v.set(V+H,B),x&&(O(R,C[H],P),h.set(V+H,P));Y=C[H];Q[0]=Y%_/(_-1),Q[1]=Math.floor(Y/_)/(g-1),p.set(V+H,Q)}j++}}else{for(Q=[],F=0;F<o.count();F++){Q[0]=F%_/(_-1),Q[1]=Math.floor(F/_)/(g-1);B=a[\"a\"].parseColor(o.getItemVisual(F,\"color\")),z=o.getItemVisual(F,\"opacity\");B[3]*=z,B[3]<.99&&(E=!0),v.set(F,B),p.set(F,Q)}C=[];var K=0;for(F=0;F<g-1;F++)for(G=0;G<_-1;G++){S(F,G,C);for(H=0;H<6;H++)T[K++]=C[w[H]]}x?i.generateVertexNormals():h.value=null}e.material.get(\"normalMap\")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),e.material.transparent=E,e.material.depthMask=!E},_getDataShape:function(e,t){for(var n=-1/0,r=0,i=0,a=0,o=!1,s=t?\"u\":\"x\",l=e.count(),u=0;u<l;u++){var c=e.get(s,u);c<n&&(a&&a!==i&&(o=!0),a=i,i=0,r++),n=c,i++}if(r&&1!==i||(o=!0),!o)return[r+1,i];var d=Math.floor(Math.sqrt(l));while(d>0){if(Math.floor(l/d)===l/d)return[d,l/d];d--}return d=Math.floor(Math.sqrt(l)),[d,d]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);i.a.registerLayout((function(e,t){e.eachSeriesByType(\"surface\",(function(e){var t=e.coordinateSystem;t&&\"cartesian3D\"===t.type||console.error(\"Surface chart only support cartesian3D coordinateSystem\");var n=e.getData(),r=new Float32Array(3*n.count()),i=[NaN,NaN,NaN];if(t&&\"cartesian3D\"===t.type){var a=t.dimensions,o=a.map((function(t){return e.coordDimToDataDim(t)[0]}));n.each(o,(function(e,a,o,s){var l;l=n.hasValue(s)?t.dataToPoint([e,a,o]):i,r[3*s]=l[0],r[3*s+1]=l[1],r[3*s+2]=l[2]}))}n.setLayout(\"points\",r)}))}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(98),n(259),n(260),n(17));i.a.registerVisual(Object(a[\"a\"])(\"map3D\")),i.a.registerAction({type:\"map3DChangeCamera\",event:\"map3dcamerachanged\",update:\"series:updateCamera\"},(function(e,t){t.eachComponent({mainType:\"series\",subType:\"map3D\",query:e},(function(t){t.setView(e)}))}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=n(31),u=n(95),c=n(32),d=n(40),f=n(97);function h(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}var p=i.a.extendSeriesModel({type:\"series.map3D\",layoutMode:\"box\",coordinateSystem:null,visualColorAccessPath:\"itemStyle.color\",optionUpdated:function(e){e=e||{};var t=this.get(\"coordinateSystem\");if(null!=t&&\"geo3D\"!==t){var n=[\"left\",\"top\",\"width\",\"height\",\"boxWidth\",\"boxDepth\",\"boxHeight\",\"light\",\"viewControl\",\"postEffect\",\"temporalSuperSampling\",\"environment\",\"groundPlane\"],r=[];n.forEach((function(t){null!=e[t]&&r.push(t)})),r.length&&console.warn(\"Property %s in map3D series will be ignored if coordinate system is %s\",r.join(\", \"),t),this.get(\"groundPlane.show\")&&(this.option.groundPlane.show=!1),this._geo=null}},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var t=i.a.helper.completeDimensions([\"value\"],e.data),n=new i.a.List(t,this);n.initData(e.data);var r={};return n.each((function(e){var t=n.getName(e),i=n.getItemModel(e);r[t]=i})),this._regionModelMap=r,n},formatTooltip:function(e){return Object(d[\"a\"])(this,e)},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new i.a.Model(null,this)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getName(e);if(t.transform){var r=t.getRegion(n);return r?r.geometries:[]}this._geo||(this._geo=f[\"a\"].createGeo3D(this));r=this._geo.getRegion(n);for(var i=[],a=0;a<r.geometries.length;a++){var o=r.geometries[a],s=[],l=h(t,o.exterior);if(s&&s.length)for(var u=0;u<o.interiors.length;u++)s.push(h(t,s[u]));i.push({interiors:s,exterior:l})}return i},getFormattedLabel:function(e,t){var n=c[\"a\"].getFormattedLabel(this,e,t);return null==n&&(n=this.getData().getName(e)),n},defaultOption:{coordinateSystem:\"geo3D\",data:null}});i.a.util.merge(p.prototype,u[\"a\"]),i.a.util.merge(p.prototype,a[\"a\"]),i.a.util.merge(p.prototype,o[\"a\"]),i.a.util.merge(p.prototype,s[\"a\"]),i.a.util.merge(p.prototype,l[\"a\"])},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),l=n(63);i.a.extendChartView({type:\"map3D\",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new l[\"a\"](t),this.groupGL=new a[\"a\"].Node},render:function(e,t,n){var r=e.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),\"geo3D\"===r.type){r,this._sceneHelper||(this._sceneHelper=new s[\"a\"],this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel(\"postEffect\"),n),r.viewGL.setTemporalSuperSampling(e.getModel(\"temporalSuperSampling\"));var i=this._control;i||(i=this._control=new o[\"a\"]({zr:n.getZr()}),this._control.init());var a=e.getModel(\"viewControl\");i.setViewGL(r.viewGL),i.setFromViewControlModel(a,0),i.off(\"update\"),i.on(\"update\",(function(){n.dispatchAction({type:\"map3DChangeCamera\",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:e.id})})),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout(\"geo3D\"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,t,n,0,e.getData().count());var l=r.viewGL.isLinearSpace()?\"define\":\"undefine\";this._geo3DBuilder.rootNode.traverse((function(e){e.material&&e.material[l](\"fragment\",\"SRGB_DECODE\")}))}},afterRender:function(e,t,n,r){var i=r.renderer,a=e.coordinateSystem;a&&\"geo3D\"===a.type&&(this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(262),n(263),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()(\"scatterGL\",\"circle\",null)),i.a.registerVisual(Object(s[\"a\"])(\"scatterGL\")),i.a.registerLayout({seriesType:\"scatterGL\",reset:function(e){var t,n=e.coordinateSystem;if(n){var r=n.dimensions,i=[];1===r.length?t=function(e,t){for(var i=new Float32Array(2*(e.end-e.start)),a=e.start;a<e.end;a++){var o=2*(a-e.start),s=t.get(r[0],a),l=n.dataToPoint(s);i[o]=l[0],i[o+1]=l[1]}t.setLayout(\"points\",i)}:2===r.length&&(t=function(e,t){for(var a=new Float32Array(2*(e.end-e.start)),o=e.start;o<e.end;o++){var s=2*(o-e.start),l=t.get(r[0],o),u=t.get(r[1],o);i[0]=l,i[1]=u,i=n.dataToPoint(i),a[s]=i[0],a[s+1]=i[1]}t.setLayout(\"points\",a)})}return{progress:t}}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:\"series.scatterGL\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(){return i.a.helper.createList(this)},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:\"circle\",symbolSize:10,zoomScale:0,blendMode:\"source-over\",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(66),l=n(102);n(2);i.a.extendChartView({type:\"scatterGL\",__ecgl__:!0,init:function(e,t){this.groupGL=new a[\"a\"].Node,this.viewGL=new o[\"a\"](\"orthographic\"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new l[\"a\"](this.viewGL)},render:function(e,t,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,n),e.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new s[\"a\"](!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(e.getData().getLayout(\"points\")),r.update(e,t,n),this.viewGL.setPostEffect(e.getModel(\"postEffect\"),n)}},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel(\"postEffect\"),n)},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new s[\"a\"](!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(t.getData().getLayout(\"points\")),i.setSizeScale(this._sizeScale),i.update(t,n,r,e.start,e.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(e,t,n){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,n);var r=this._glViewHelper.getZoom(),i=Math.max((e.get(\"zoomScale\")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach((function(e){e.setSizeScale(i)}))}},_removeTransformInPoints:function(e){if(e)for(var t=[],n=0;n<e.length;n+=2)t[0]=e[n],t[1]=e[n+1],this._glViewHelper.removeTransformInPoint(t),e[n]=t[0],e[n+1]=t[1]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(e,t){var n=\"undefined\"===typeof Float32Array?Array:Float32Array;function r(){var e=new n(6);return i(e),e}function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e}function s(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function l(e,t,n){var r=t[0],i=t[2],a=t[4],o=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=-r*u+o*c,e[2]=i*c+s*u,e[3]=-i*u+c*s,e[4]=c*a+u*l,e[5]=c*l-u*a,e}function u(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function c(e,t){var n=t[0],r=t[2],i=t[4],a=t[1],o=t[3],s=t[5],l=n*o-a*r;return l?(l=1/l,e[0]=o*l,e[1]=-a*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-o*i)*l,e[5]=(a*i-n*s)*l,e):null}function d(e){var t=r();return a(t,e),t}t.create=r,t.identity=i,t.copy=a,t.mul=o,t.translate=s,t.rotate=l,t.scale=u,t.invert=c,t.clone=d},function(e,t){var n=\"undefined\"===typeof Float32Array?Array:Float32Array;function r(e,t){var r=new n(2);return null==e&&(e=0),null==t&&(t=0),r[0]=e,r[1]=t,r}function i(e,t){return e[0]=t[0],e[1]=t[1],e}function a(e){var t=new n(2);return t[0]=e[0],t[1]=e[1],t}function o(e,t,n){return e[0]=t,e[1]=n,e}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function l(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function u(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function c(e){return Math.sqrt(f(e))}var d=c;function f(e){return e[0]*e[0]+e[1]*e[1]}var h=f;function p(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function m(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function v(e,t){return e[0]*t[0]+e[1]*t[1]}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function _(e,t){var n=c(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function y(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var x=y;function b(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var w=b;function A(e,t){return e[0]=-t[0],e[1]=-t[1],e}function T(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function S(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function E(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function C(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}t.create=r,t.copy=i,t.clone=a,t.set=o,t.add=s,t.scaleAndAdd=l,t.sub=u,t.len=c,t.length=d,t.lenSquare=f,t.lengthSquare=h,t.mul=p,t.div=m,t.dot=v,t.scale=g,t.normalize=_,t.distance=y,t.dist=x,t.distanceSquare=b,t.distSquare=w,t.negate=A,t.lerp=T,t.applyTransform=S,t.min=E,t.max=C},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(267),n(272),n(51)),o=n.n(a),s=n(17);function l(){}i.a.registerVisual(o()(\"graphGL\",\"circle\",null)),i.a.registerVisual(Object(s[\"a\"])(\"graphGL\")),i.a.registerVisual((function(e){var t={};e.eachSeriesByType(\"graphGL\",(function(e){var n=e.getCategoriesData(),r=e.getData(),i={};n.each((function(r){var a=n.getName(r);i[a]=r;var o=n.getItemModel(r),s=o.get(\"itemStyle.color\")||e.getColorFromPalette(a,t);n.setItemVisual(r,\"color\",s)})),n.count()&&r.each((function(e){var t=r.getItemModel(e),a=t.getShallow(\"category\");null!=a&&(\"string\"===typeof a&&(a=i[a]),r.getItemVisual(e,\"color\",!0)||r.setItemVisual(e,\"color\",n.getItemVisual(a,\"color\")))}))}))})),i.a.registerVisual((function(e){e.eachSeriesByType(\"graphGL\",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=\"lineStyle.color\".split(\".\"),i=\"lineStyle.opacity\".split(\".\");n.setVisual(\"color\",e.get(r)),n.setVisual(\"opacity\",e.get(i)),n.each((function(e){var a=n.getItemModel(e),o=t.getEdgeByIndex(e),s=a.get(r),l=a.get(i);switch(s){case\"source\":s=o.node1.getVisual(\"color\");break;case\"target\":s=o.node2.getVisual(\"color\");break}o.setVisual(\"color\",s),o.setVisual(\"opacity\",l)}))}))})),i.a.registerAction({type:\"graphGLRoam\",event:\"graphglroam\",update:\"series.graphGL:roam\"},(function(e,t){t.eachComponent({mainType:\"series\",query:e},(function(t){t.setView(e)}))})),i.a.registerAction({type:\"graphGLStartLayout\",event:\"graphgllayoutstarted\",update:\"series.graphGL:startLayout\"},l),i.a.registerAction({type:\"graphGLStopLayout\",event:\"graphgllayoutstopped\",update:\"series.graphGL:stopLayout\"},l),i.a.registerAction({type:\"graphGLFocusNodeAdjacency\",event:\"graphGLFocusNodeAdjacency\",update:\"series.graphGL:focusNodeAdjacency\"},l),i.a.registerAction({type:\"graphGLUnfocusNodeAdjacency\",event:\"graphGLUnfocusNodeAdjacency\",update:\"series.graphGL:unfocusNodeAdjacency\"},l)},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(268),o=n(32),s=i.a.extendSeriesModel({type:\"series.graphGL\",visualColorAccessPath:\"itemStyle.color\",init:function(e){s.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){s.superApply(this,\"mergeOption\",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,t,n,r){var i=o[\"a\"].getFormattedLabel(this,e,t,n,r);if(null==i){var a=this.getData(),s=a.dimensions[a.dimensions.length-1];i=a.get(s,e)}return i},getInitialData:function(e,t){var n=e.edges||e.links||[],r=e.data||e.nodes||[],o=this;if(r&&n)return Object(a[\"a\"])(r,n,this,!0,s).data;function s(e,n){e.wrapMethod(\"getItemModel\",(function(e){var t=o._categoriesModels,n=e.getShallow(\"category\"),r=t[n];return r&&(r.parentModel=e.parentModel,e.parentModel=r),e}));var r=o.getModel(\"edgeLabel\"),a=new i.a.Model({label:r.option},r.parentModel,t);function s(e){return e=this.parsePath(e),e&&\"label\"===e[0]?a:this.parentModel}n.wrapMethod(\"getItemModel\",(function(e){return e.customizeGetParent(s),e}))}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if(\"edge\"===n){var r=this.getData(),a=this.getDataParams(e,n),o=r.graph.getEdgeByIndex(e),l=r.getName(o.node1.dataIndex),u=r.getName(o.node2.dataIndex),c=[];return null!=l&&c.push(l),null!=u&&c.push(u),c=i.a.format.encodeHTML(c.join(\" > \")),a.value&&(c+=\" : \"+i.a.format.encodeHTML(a.value)),c}return s.superApply(this,\"formatTooltip\",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map((function(e){return null!=e.value?e:i.a.util.extend({value:0},e)})),t=new i.a.List([\"value\"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e,!0)}))},setView:function(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var t=0;t<e.length/2;t++){var n=e[2*t],r=e[2*t+1],i=this.getData().getRawDataItem(t);i.x=n,i.y=r}},isAnimationEnabled:function(){return s.superCall(this,\"isAnimationEnabled\")&&!(\"force\"===this.get(\"layout\")&&this.get(\"force.layoutAnimation\"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:\"forceAtlas2\",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:\"mouseover\",left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:\"{b}\",position:\"right\",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(269),o=n.n(a),s=n(271),l=n.n(s),u=n(2);t[\"a\"]=function(e,t,n,r,a){for(var s=new o.a(r),c=0;c<e.length;c++)s.addNode(u[\"a\"].firstNotNull(e[c].id,e[c].name,c),c);var d,f=[],h=[],p=0;for(c=0;c<t.length;c++){var m=t[c],v=m.source,g=m.target;s.addEdge(v,g,p)&&(h.push(m),f.push(u[\"a\"].firstNotNull(m.id,v+\" > \"+g)),p++)}var _=i.a.helper.completeDimensions([\"value\"],e);d=new i.a.List(_,n),d.initData(e);var y=new i.a.List([\"value\"],n);return y.initData(h,f),a&&a(d,y),l()({mainData:d,struct:s,structAttr:\"graph\",datas:{node:d,edge:y},datasAttr:{node:\"data\",edge:\"edgeData\"}}),s.update(),s}},function(e,t,n){var r=n(103),i=(r.__DEV__,n(16)),a=n(270),o=a.enableClassCheck;function s(e){return\"_EC_\"+e}var l=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},u=l.prototype;function c(e,t){this.id=null==e?\"\":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function d(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}u.type=\"graph\",u.isDirected=function(){return this._directed},u.addNode=function(e,t){e=null==e?\"\"+t:\"\"+e;var n=this._nodesMap;if(!n[s(e)]){var r=new c(e,t);return r.hostGraph=this,this.nodes.push(r),n[s(e)]=r,r}},u.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},u.getNodeById=function(e){return this._nodesMap[s(e)]},u.addEdge=function(e,t,n){var r=this._nodesMap,i=this._edgesMap;if(\"number\"===typeof e&&(e=this.nodes[e]),\"number\"===typeof t&&(t=this.nodes[t]),c.isInstance(e)||(e=r[s(e)]),c.isInstance(t)||(t=r[s(t)]),e&&t){var a=e.id+\"-\"+t.id;if(!i[a]){var o=new d(e,t,n);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),i[a]=o,o}}},u.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},u.getEdge=function(e,t){c.isInstance(e)&&(e=e.id),c.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+\"-\"+t]:n[e+\"-\"+t]||n[t+\"-\"+e]},u.eachNode=function(e,t){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},u.eachEdge=function(e,t){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},u.breadthFirstTraverse=function(e,t,n,r){if(c.isInstance(t)||(t=this._nodesMap[s(t)]),t){for(var i=\"out\"===n?\"outEdges\":\"in\"===n?\"inEdges\":\"edges\",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null)){var o=[t];while(o.length){var l=o.shift(),u=l[i];for(a=0;a<u.length;a++){var d=u[a],f=d.node1===l?d.node2:d.node1;if(!f.__visited){if(e.call(r,f,l))return;o.push(f),f.__visited=!0}}}}}},u.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var n=r[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)r[t.getRawIndex(i)].dataIndex=i},u.clone=function(){for(var e=new l(this._directed),t=this.nodes,n=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(r=0;r<n.length;r++){var i=n[r];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},c.prototype={constructor:c,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}}},d.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}};var f=function(e,t){return{getValue:function(n){var r=this[e][t];return r.get(r.getDimension(n||\"value\"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[e][t].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};i.mixin(c,f(\"hostGraph\",\"data\")),i.mixin(d,f(\"hostGraph\",\"edgeData\")),l.Node=c,l.Edge=d,o(c),o(d);var h=l;e.exports=h},function(e,t,n){var r=n(103),i=(r.__DEV__,n(16)),a=\".\",o=\"___EC__COMPONENT__CONTAINER___\";function s(e){var t={main:\"\",sub:\"\"};return e&&(e=e.split(a),t.main=e[0]||\"\",t.sub=e[1]||\"\"),t}function l(e){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType \"'+e+'\" illegal')}function u(e,t){e.$constructor=e,e.extend=function(e){var t=this,n=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return i.extend(n.prototype,e),n.extend=this.extend,n.superCall=f,n.superApply=h,i.inherits(n,this),n.superClass=t,n}}var c=0;function d(e){var t=[\"__\\0is_clz\",c++,Math.random().toFixed(3)].join(\"_\");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}function f(e,t){var n=i.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function h(e,t,n){return this.superClass.prototype[t].apply(e,n)}function p(e,t){t=t||{};var n={};function r(e){var t=n[e.main];return t&&t[o]||(t=n[e.main]={},t[o]=!0),t}if(e.registerClass=function(e,t){if(t)if(l(t),t=s(t),t.sub){if(t.sub!==o){var i=r(t);i[t.sub]=e}}else n[t.main]=e;return e},e.getClass=function(e,t,r){var i=n[e];if(i&&i[o]&&(i=t?i[t]:null),r&&!i)throw new Error(t?\"Component \"+e+\".\"+(t||\"\")+\" not exists. Load it first.\":e+\".type should be specified.\");return i},e.getClassesByMainType=function(e){e=s(e);var t=[],r=n[e.main];return r&&r[o]?i.each(r,(function(e,n){n!==o&&t.push(e)})):t.push(r),t},e.hasClass=function(e){return e=s(e),!!n[e.main]},e.getAllClassMainTypes=function(){var e=[];return i.each(n,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){e=s(e);var t=n[e.main];return t&&t[o]},e.parseClassType=s,t.registerWhenExtend){var a=e.extend;a&&(e.extend=function(t){var n=a.call(this,t);return e.registerClass(n,t.type)})}return e}function m(e,t){}t.parseClassType=s,t.enableClassExtend=u,t.enableClassCheck=d,t.enableClassManagement=p,t.setReadOnly=m},function(e,t,n){var r=n(16),i=r.each,a=\"\\0__link_datas\",o=\"\\0__link_mainData\";function s(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:\"data\"}),e.datas=e.mainData=null,h(t,n,e),i(n,(function(n){i(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,r.curry(l,e))}))})),t.wrapMethod(\"cloneShallow\",r.curry(c,e)),i(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,r.curry(u,e))})),r.assert(n[t.dataType]===t)}function l(e,t){if(f(this)){var n=r.extend({},this[a]);n[this.dataType]=t,h(t,n,e)}else p(t,this.dataType,this[o],e);return t}function u(e,t){return e.struct&&e.struct.update(this),t}function c(e,t){return i(t[a],(function(n,r){n!==t&&p(n.cloneShallow(),r,t,e)})),t}function d(e){var t=this[o];return null==e||null==t?t:t[a][e]}function f(e){return e[o]===e}function h(e,t,n){e[a]={},i(t,(function(t,r){p(t,r,e,n)}))}function p(e,t,n,r){n[a][t]=e,e[o]=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=d}var m=s;e.exports=m},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(47),o=n.n(a),s=n(1),l=n(22),u=n(104),c=n(2),d=n(273),f=n(275),h=n(81),p=n.n(h),m=n(6),v=n(277),g=n(66),_=n(278),y=m[\"a\"].vec2;s[\"a\"].Shader.import(_[\"a\"]);var x=1;i.a.extendChartView({type:\"graphGL\",__ecgl__:!0,init:function(e,t){this.groupGL=new s[\"a\"].Node,this.viewGL=new l[\"a\"](\"orthographic\"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new g[\"a\"](!0,t),this._forceEdgesMesh=new s[\"a\"].Mesh({material:new s[\"a\"].Material({shader:s[\"a\"].createShader(\"ecgl.forceAtlas2.edges\"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new s[\"a\"].Geometry({attributes:{node:new s[\"a\"].Geometry.Attribute(\"node\",\"float\",2),color:new s[\"a\"].Geometry.Attribute(\"color\",\"float\",4,\"COLOR\")},dynamic:!0,mainAttribute:\"node\"}),renderOrder:-1,mode:s[\"a\"].Mesh.LINES}),this._edgesMesh=new s[\"a\"].Mesh({material:new s[\"a\"].Material({shader:s[\"a\"].createShader(\"ecgl.meshLines2D\"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new u[\"a\"]({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new v[\"a\"]({zr:t.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,t,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=n,this._initLayout(e,t,n),this._pointsBuilder.update(e,t,n),this._forceLayoutInstance instanceof d[\"a\"]||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,n),this._control.off(\"update\"),this._control.on(\"update\",(function(){n.dispatchAction({type:\"graphGLRoam\",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)}),this),this._control.setZoom(c[\"a\"].firstNotNull(e.get(\"zoom\"),1)),this._control.setOffset(e.get(\"offset\")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off(\"mousemove\",this._mousemoveHandler),r.off(\"mouseout\",this._mouseOutHandler,this),n.getZr().off(\"click\",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get(\"focusNodeAdjacency\")){var i=e.get(\"focusNodeAdjacencyOn\");\"click\"===i?n.getZr().on(\"click\",this._clickHandler):\"mouseover\"===i?(r.on(\"mousemove\",this._mousemoveHandler,this),r.on(\"mouseout\",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1):console.warn(\"Unkown focusNodeAdjacencyOn value s\"+i)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?this._api.dispatchAction({type:\"graphGLFocusNodeAdjacency\",seriesId:this._model.id,dataIndex:t}):this._api.dispatchAction({type:\"graphGLUnfocusNodeAdjacency\",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?t!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:\"graphGLFocusNodeAdjacency\",seriesId:this._model.id,dataIndex:t}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=t}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:\"graphGLUnfocusNodeAdjacency\",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,t){var n=this._forceEdgesMesh.geometry,r=t.getEdgeData(),i=0,a=this._forceLayoutInstance,o=2*r.count();n.attributes.node.init(o),n.attributes.color.init(o),r.each((function(t){var o=e[t];n.attributes.node.set(i,a.getNodeUV(o.node1)),n.attributes.node.set(i+1,a.getNodeUV(o.node2));var l=r.getItemVisual(o.dataIndex,\"color\"),u=s[\"a\"].parseColor(l);u[3]*=c[\"a\"].firstNotNull(r.getItemVisual(o.dataIndex,\"opacity\"),1),n.attributes.color.set(i,u),n.attributes.color.set(i+1,u),i+=2})),n.dirty()},_updateMeshLinesGeometry:function(){var e=this._model.getEdgeData(),t=this._edgesMesh.geometry,n=(e=this._model.getEdgeData(),this._model.getData().getLayout(\"points\"));t.resetOffset(),t.setVertexCount(e.count()*t.getLineVertexCount()),t.setTriangleCount(e.count()*t.getLineTriangleCount());var r=[],i=[],a=[\"lineStyle\",\"width\"];this._originalEdgeColors=new Float32Array(4*e.count()),this._edgeIndicesMap=new Float32Array(e.count()),e.each((function(o){var l=e.graph.getEdgeByIndex(o),u=2*l.node1.dataIndex,d=2*l.node2.dataIndex;r[0]=n[u],r[1]=n[u+1],i[0]=n[d],i[1]=n[d+1];var f=e.getItemVisual(l.dataIndex,\"color\"),h=s[\"a\"].parseColor(f);h[3]*=c[\"a\"].firstNotNull(e.getItemVisual(l.dataIndex,\"opacity\"),1);var p=e.getItemModel(l.dataIndex),m=c[\"a\"].firstNotNull(p.get(a),1)*this._api.getDevicePixelRatio();t.addLine(r,i,h,m);for(var v=0;v<4;v++)this._originalEdgeColors[4*l.dataIndex+v]=h[v];this._edgeIndicesMap[l.dataIndex]=o}),this),t.dirty()},_updateForceNodesGeometry:function(e){for(var t=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<e.count();r++)this._forceLayoutInstance.getNodeUV(r,n),t.geometry.attributes.position.set(r,n);t.geometry.dirty(\"position\")},_initLayout:function(e,t,n){var r=e.get(\"layout\"),a=e.getGraph(),s=e.getBoxLayoutParams(),l=o.a.getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()});\"force\"===r&&(console.warn(\"Currently only forceAtlas2 layout supported.\"),r=\"forceAtlas2\"),this.stopLayout(e,t,n,{beforeLayout:!0});var u=e.getData(),h=e.getData();if(\"forceAtlas2\"===r){var p=e.getModel(\"forceAtlas2\"),m=this._forceLayoutInstance,v=[],g=[],_=u.getDataExtent(\"value\"),y=h.getDataExtent(\"value\"),x=c[\"a\"].firstNotNull(p.get(\"edgeWeight\"),1),b=c[\"a\"].firstNotNull(p.get(\"nodeWeight\"),1);\"number\"===typeof x&&(x=[x,x]),\"number\"===typeof b&&(b=[b,b]);var w=0,A={},T=new Float32Array(2*u.count());if(a.eachNode((function(e){var t,n,r=e.dataIndex,a=u.get(\"value\",r);if(u.hasItemOption){var o=u.getItemModel(r);t=o.get(\"x\"),n=o.get(\"y\")}null==t&&(t=l.x+Math.random()*l.width,n=l.y+Math.random()*l.height),T[2*w]=t,T[2*w+1]=n,A[e.id]=w++;var s=i.a.number.linearMap(a,_,b);isNaN(s)&&(s=isNaN(b[0])?1:b[0]),v.push({x:t,y:n,mass:s,size:u.getItemVisual(r,\"symbolSize\")})})),u.setLayout(\"points\",T),a.eachEdge((function(e){var t=e.dataIndex,n=u.get(\"value\",t),r=i.a.number.linearMap(n,y,x);isNaN(r)&&(r=isNaN(x[0])?1:x[0]),g.push({node1:A[e.node1.id],node2:A[e.node2.id],weight:r,dataIndex:t})})),!m){var S=p.get(\"GPU\");this._forceLayoutInstance&&((!S||this._forceLayoutInstance instanceof d[\"a\"])&&(S||this._forceLayoutInstance instanceof f[\"a\"])||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),m=this._forceLayoutInstance=S?new d[\"a\"]:new f[\"a\"]}m.initData(v,g),m.updateOption(p.option),this._updateForceEdgesGeometry(m.getEdges(),e),this._updatePositionTexture(),n.dispatchAction({type:\"graphGLStartLayout\",from:this.uid})}else{T=new Float32Array(2*u.count()),w=0;a.eachNode((function(e){var t,n,r=e.dataIndex;if(u.hasItemOption){var i=u.getItemModel(r);t=i.get(\"x\"),n=i.get(\"y\")}T[w++]=t,T[w++]=n})),u.setLayout(\"points\",T),this._updateAfterLayout(e,t,n)}},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set(\"positionTex\",e)},startLayout:function(e,t,n,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,a=(n=this._api,this._forceLayoutInstance),o=this._model.getData(),s=this._model.getModel(\"forceAtlas2\");if(a){if(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var l=this,u=this._layoutId=x++,c=s.getShallow(\"maxSteps\"),d=s.getShallow(\"steps\"),f=0,h=Math.max(2*d,20),m=function(t){if(t===l._layoutId)return a.isFinished(c)?(n.dispatchAction({type:\"graphGLStopLayout\",from:l.uid}),void n.dispatchAction({type:\"graphGLFinishLayout\",points:o.getLayout(\"points\"),from:l.uid})):void a.update(i.layer.renderer,d,(function(){l._updatePositionTexture(),f+=d,f>=h&&(l._syncNodePosition(e),f=0),n.getZr().refresh(),p()((function(){m(t)}))}))};p()((function(){l._forceLayoutInstanceToDispose&&(l._forceLayoutInstanceToDispose.dispose(i.layer.renderer),l._forceLayoutInstanceToDispose=null),m(u)})),this._layouting=!0}}else console.error(\"None layout don't have startLayout action\")}},stopLayout:function(e,t,n,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,t,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var t=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout(\"points\",t),e.setNodePosition(t)},_updateAfterLayout:function(e,t,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,t,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,t,n,r){var i=this._model.getData();this._downplayAll();var a=r.dataIndex,o=i.graph,s=[],l=o.getNodeByIndex(a);s.push(l),l.edges.forEach((function(e){e.dataIndex<0||(e.node1!==l&&s.push(e.node1),e.node2!==l&&s.push(e.node2))}),this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach((function(e){this._pointsBuilder.highlight(i,e.dataIndex)}),this),this._pointsBuilder.updateLabels(s.map((function(e){return e.dataIndex})));var u=[];l.edges.forEach((function(e){e.dataIndex>=0&&(this._highlightEdge(e.dataIndex),u.push(e))}),this),this._focusNodes=s,this._focusEdges=u},unfocusNodeAdjacency:function(e,t,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var t=this._model.getEdgeData().getItemModel(e),n=s[\"a\"].parseColor(t.get(\"emphasis.lineStyle.color\")||t.get(\"lineStyle.color\")),r=c[\"a\"].firstNotNull(t.get(\"emphasis.lineStyle.opacity\"),t.get(\"lineStyle.opacity\"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach((function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)}),this),this._focusEdges&&this._focusEdges.forEach((function(e){this._downplayEdge(e.dataIndex)}),this)},_downplayEdge:function(e){var t=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_setEdgeFade:function(){var e=[];return function(t,n){this._getColor(t,e),e[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)}}(),_getColor:function(e,t){for(var n=0;n<4;n++)t[n]=this._originalEdgeColors[4*e+n];return t},_fadeOutEdgesAll:function(e){var t=this._model.getData().graph;t.eachEdge((function(t){this._setEdgeFade(t.dataIndex,e)}),this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,t){this.viewGL.setViewport(0,0,t.getWidth(),t.getHeight(),t.getDevicePixelRatio());for(var n=this.viewGL.camera,r=e.getData(),i=r.getLayout(\"points\"),a=y.create(1/0,1/0),o=y.create(-1/0,-1/0),s=[],l=0;l<i.length;)s[0]=i[l++],s[1]=i[l++],y.min(a,a,s),y.max(o,o,s);var u=(o[1]+a[1])/2,c=(o[0]+a[0])/2;if(!(c>n.left&&c<n.right&&u<n.bottom&&u>n.top)){var d=Math.max(o[0]-a[0],10),f=d/t.getWidth()*t.getHeight();d*=1.4,f*=1.4,a[0]-=.2*d,n.left=a[0],n.top=u-f/2,n.bottom=u+f/2,n.right=d+a[0],n.near=0,n.far=100}},dispose:function(){var e=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(e),this.groupGL.removeAll(),this._layoutId=-1},remove:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(15),s=n(10),l=n(274);a[\"a\"].Shader.import(l[\"a\"]);var u={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function c(e){var t={type:a[\"a\"].Texture.FLOAT,minFilter:a[\"a\"].Texture.NEAREST,magFilter:a[\"a\"].Texture.NEAREST};this._positionSourceTex=new a[\"a\"].Texture2D(t),this._positionSourceTex.flipY=!1,this._positionTex=new a[\"a\"].Texture2D(t),this._positionPrevTex=new a[\"a\"].Texture2D(t),this._forceTex=new a[\"a\"].Texture2D(t),this._forcePrevTex=new a[\"a\"].Texture2D(t),this._weightedSumTex=new a[\"a\"].Texture2D(t),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new a[\"a\"].Texture2D(t),this._globalSpeedPrevTex=new a[\"a\"].Texture2D(t),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new o[\"a\"]({fragment:a[\"a\"].Shader.source(\"ecgl.forceAtlas2.updateNodeRepulsion\")}),this._positionPass=new o[\"a\"]({fragment:a[\"a\"].Shader.source(\"ecgl.forceAtlas2.updatePosition\")}),this._globalSpeedPass=new o[\"a\"]({fragment:a[\"a\"].Shader.source(\"ecgl.forceAtlas2.calcGlobalSpeed\")}),this._copyPass=new o[\"a\"]({fragment:a[\"a\"].Shader.source(\"clay.compositor.output\")});var n=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE)};this._edgeForceMesh=new a[\"a\"].Mesh({geometry:new a[\"a\"].Geometry({attributes:{node1:new a[\"a\"].Geometry.Attribute(\"node1\",\"float\",2),node2:new a[\"a\"].Geometry.Attribute(\"node2\",\"float\",2),weight:new a[\"a\"].Geometry.Attribute(\"weight\",\"float\",1)},dynamic:!0,mainAttribute:\"node1\"}),material:new a[\"a\"].Material({transparent:!0,shader:a[\"a\"].createShader(\"ecgl.forceAtlas2.updateEdgeAttraction\"),blend:n,depthMask:!1,depthText:!1}),mode:a[\"a\"].Mesh.POINTS}),this._weightedSumMesh=new a[\"a\"].Mesh({geometry:new a[\"a\"].Geometry({attributes:{node:new a[\"a\"].Geometry.Attribute(\"node\",\"float\",2)},dynamic:!0,mainAttribute:\"node\"}),material:new a[\"a\"].Material({transparent:!0,shader:a[\"a\"].createShader(\"ecgl.forceAtlas2.calcWeightedSum\"),blend:n,depthMask:!1,depthText:!1}),mode:a[\"a\"].Mesh.POINTS}),this._framebuffer=new s[\"a\"]({depthBuffer:!1}),this._dummyCamera=new a[\"a\"].OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}c.prototype.updateOption=function(e){for(var t in u)this[t]=u[t];var n=this._nodes.length;if(this.jitterTolerence=n>5e4?10:n>5e3?1:.1,this.scaling=n>100?2:10,e)for(var t in u)null!=e[t]&&(this[t]=e[t]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},c.prototype._updateGravityCenter=function(e){var t=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],a=0;a<t.length;a++)r[0]=Math.min(t[a].x,r[0]),r[1]=Math.min(t[a].y,r[1]),i[0]=Math.max(t[a].x,i[0]),i[1]=Math.max(t[a].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(a=0;a<n.length;a++){var o=n[a].node1,s=n[a].node2;t[o].degree=(t[o].degree||0)+1,t[s].degree=(t[s].degree||0)+1}},c.prototype.initData=function(e,t){this._nodes=e,this._edges=t,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(e.length)),r=n,i=new Float32Array(n*r*4);this._resize(n,r);for(var a=0,o=0;o<e.length;o++){var s=e[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var l=this._edgeForceMesh.geometry,u=t.length;l.attributes.node1.init(2*u),l.attributes.node2.init(2*u),l.attributes.weight.init(2*u);var c=[];for(o=0;o<t.length;o++){var d=l.attributes,f=t[o].weight;null==f&&(f=1),d.node1.set(o,this.getNodeUV(t[o].node1,c)),d.node2.set(o,this.getNodeUV(t[o].node2,c)),d.weight.set(o,f),d.node1.set(o+u,this.getNodeUV(t[o].node2,c)),d.node2.set(o+u,this.getNodeUV(t[o].node1,c)),d.weight.set(o+u,f)}var h=this._weightedSumMesh.geometry;h.attributes.node.init(e.length);for(o=0;o<e.length;o++)h.attributes.node.set(o,this.getNodeUV(o,c));l.dirty(),h.dirty(),this._nodeRepulsionPass.material.define(\"fragment\",\"NODE_COUNT\",e.length),this._nodeRepulsionPass.material.setUniform(\"textureSize\",[n,r]),this._inited=!1,this._frame=0},c.prototype.getNodes=function(){return this._nodes},c.prototype.getEdges=function(){return this._edges},c.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var t=this._nodeRepulsionPass;t.setUniform(\"strongGravityMode\",this.strongGravityMode),t.setUniform(\"gravity\",this.gravity),t.setUniform(\"gravityCenter\",this._gravityCenter),t.setUniform(\"scaling\",this.scaling),t.setUniform(\"preventOverlap\",this.preventOverlap),t.setUniform(\"positionTex\",this._positionPrevTex),t.render(e);var n=this._edgeForceMesh;n.material.set(\"linLogMode\",this.linLogMode),n.material.set(\"edgeWeightInfluence\",this.edgeWeightInfluence),n.material.set(\"preventOverlap\",this.preventOverlap),n.material.set(\"positionTex\",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var r=this._weightedSumMesh;r.material.set(\"positionTex\",this._positionPrevTex),r.material.set(\"forceTex\",this._forceTex),r.material.set(\"forcePrevTex\",this._forcePrevTex),e.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform(\"globalSpeedPrevTex\",this._globalSpeedPrevTex),i.setUniform(\"weightedSumTex\",this._weightedSumTex),i.setUniform(\"jitterTolerence\",this.jitterTolerence),e.gl.disable(e.gl.BLEND),i.render(e);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform(\"globalSpeedTex\",this._globalSpeedTex),a.setUniform(\"positionTex\",this._positionPrevTex),a.setUniform(\"forceTex\",this._forceTex),a.setUniform(\"forcePrevTex\",this._forcePrevTex),a.render(e),this._framebuffer.unbind(e),this._swapTexture()},c.prototype.update=function(e,t,n){null==t&&(t=1),t=Math.max(t,1);for(var r=0;r<t;r++)this.step(e);n&&n()},c.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},c.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1)||0,t},c.prototype.getNodePosition=function(e,t){var n=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,a=r*i;n&&n.length===4*a||(n=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,n),this._framebuffer.unbind(e),t||(t=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++)t[2*o]=n[4*o],t[2*o+1]=n[4*o+1];return t},c.prototype.getTextureData=function(e,t){var n=this[\"_\"+t+\"Tex\"],r=n.width,i=n.height;this._framebuffer.bind(e),this._framebuffer.attach(n);var a=new Float32Array(r*i*4);return e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,a),this._framebuffer.unbind(e),a},c.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},c.prototype.isFinished=function(e){return this._frame>e},c.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e;e=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=e;e=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e},c.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform(\"texture\",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)},c.prototype._resize=function(e,t){[\"_positionSourceTex\",\"_positionTex\",\"_positionPrevTex\",\"_forceTex\",\"_forcePrevTex\"].forEach((function(n){this[n].width=e,this[n].height=t,this[n].dirty()}),this)},c.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)},i.a.ForceAtlas2GPU=c,t[\"a\"]=c},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.forceAtlas2.updateNodeRepulsion\\n\\n#define NODE_COUNT 0\\n\\nuniform sampler2D positionTex;\\n\\nuniform vec2 textureSize;\\nuniform float gravity;\\nuniform float scaling;\\nuniform vec2 gravityCenter;\\n\\nuniform bool strongGravityMode;\\nuniform bool preventOverlap;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main() {\\n\\n vec4 n0 = texture2D(positionTex, v_Texcoord);\\n\\n vec2 force = vec2(0.0);\\n for (int i = 0; i < NODE_COUNT; i++) {\\n vec2 uv = vec2(\\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\\n );\\n vec4 n1 = texture2D(positionTex, uv);\\n\\n vec2 dir = n0.xy - n1.xy;\\n float d2 = dot(dir, dir);\\n\\n if (d2 > 0.0) {\\n float factor = 0.0;\\n if (preventOverlap) {\\n float d = sqrt(d2);\\n d = d - n0.w - n1.w;\\n if (d > 0.0) {\\n factor = scaling * n0.z * n1.z / (d * d);\\n }\\n else if (d < 0.0) {\\n factor = scaling * 100.0 * n0.z * n1.z;\\n }\\n }\\n else {\\n factor = scaling * n0.z * n1.z / d2;\\n }\\n force += dir * factor;\\n }\\n }\\n\\n vec2 dir = gravityCenter - n0.xy;\\n float d = 1.0;\\n if (!strongGravityMode) {\\n d = length(dir);\\n }\\n\\n force += dir * n0.z * gravity / (d + 1.0);\\n\\n gl_FragColor = vec4(force, 0.0, 1.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\\n\\nattribute vec2 node1;\\nattribute vec2 node2;\\nattribute float weight;\\n\\nuniform sampler2D positionTex;\\nuniform float edgeWeightInfluence;\\nuniform bool preventOverlap;\\nuniform bool linLogMode;\\n\\nuniform vec2 windowSize: WINDOW_SIZE;\\n\\nvarying vec2 v_Force;\\n\\nvoid main() {\\n\\n vec4 n0 = texture2D(positionTex, node1);\\n vec4 n1 = texture2D(positionTex, node2);\\n\\n vec2 dir = n1.xy - n0.xy;\\n float d = length(dir);\\n float w;\\n if (edgeWeightInfluence == 0.0) {\\n w = 1.0;\\n }\\n else if (edgeWeightInfluence == 1.0) {\\n w = weight;\\n }\\n else {\\n w = pow(weight, edgeWeightInfluence);\\n }\\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\\n vec2 pos = node1 * scale * 2.0 - 1.0;\\n gl_Position = vec4(pos + offset, 0.0, 1.0);\\n gl_PointSize = 1.0;\\n\\n float factor;\\n if (preventOverlap) {\\n d = d - n1.w - n0.w;\\n }\\n if (d <= 0.0) {\\n v_Force = vec2(0.0);\\n return;\\n }\\n\\n if (linLogMode) {\\n factor = w * log(d) / d;\\n }\\n else {\\n factor = w;\\n }\\n v_Force = dir * factor;\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\\n\\nvarying vec2 v_Force;\\n\\nvoid main() {\\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\\n\\nattribute vec2 node;\\n\\nvarying vec2 v_NodeUv;\\n\\nvoid main() {\\n\\n v_NodeUv = node;\\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\\n gl_PointSize = 1.0;\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\\n\\nvarying vec2 v_NodeUv;\\n\\nuniform sampler2D positionTex;\\nuniform sampler2D forceTex;\\nuniform sampler2D forcePrevTex;\\n\\nvoid main() {\\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\\n\\n float mass = texture2D(positionTex, v_NodeUv).z;\\n float swing = length(force - forcePrev) * mass;\\n float traction = length(force + forcePrev) * 0.5 * mass;\\n\\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.calcGlobalSpeed\\n\\nuniform sampler2D globalSpeedPrevTex;\\nuniform sampler2D weightedSumTex;\\nuniform float jitterTolerence;\\n\\nvoid main() {\\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\\n float globalSpeed = jitterTolerence * jitterTolerence\\n * weightedSum.y / weightedSum.x;\\n if (prevGlobalSpeed > 0.0) {\\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\\n }\\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.updatePosition\\n\\nuniform sampler2D forceTex;\\nuniform sampler2D forcePrevTex;\\nuniform sampler2D positionTex;\\nuniform sampler2D globalSpeedTex;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main() {\\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\\n vec4 node = texture2D(positionTex, v_Texcoord);\\n\\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\\n float swing = length(force - forcePrev);\\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\\n\\n float df = length(force);\\n if (df > 0.0) {\\n speed = min(df * speed, 10.0) / df;\\n\\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\\n }\\n else {\\n gl_FragColor = node;\\n }\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.edges.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec2 node;\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n\\nuniform sampler2D positionTex;\\n\\nvoid main()\\n{\\n gl_Position = worldViewProjection * vec4(\\n texture2D(positionTex, node).xy, -10.0, 1.0\\n );\\n v_Color = a_Color;\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.edges.fragment\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nvarying vec4 v_Color;\\nvoid main() {\\n gl_FragColor = color * v_Color;\\n}\\n@end\"},function(e,t,n){\"use strict\";var r=n(5),i=n(4),a=n(276),o=a[\"a\"].toString();o=o.slice(o.indexOf(\"{\")+1,o.lastIndexOf(\"}\"));var s={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},l=function(e){for(var t in s)this[t]=s[t];if(e)for(var t in e)this[t]=e[t];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new r[\"a\"]({type:i[\"a\"].FLOAT,flipY:!1,minFilter:i[\"a\"].NEAREST,magFilter:i[\"a\"].NEAREST})};l.prototype.initData=function(e,t){var n=new Blob([o]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=t,this._frame=0;for(var i=e.length,a=t.length,s=new Float32Array(2*i),l=new Float32Array(i),u=new Float32Array(i),c=new Float32Array(2*a),d=new Float32Array(a),f=0;f<e.length;f++){var h=e[f];s[2*f]=h.x,s[2*f+1]=h.y,l[f]=null==h.mass?1:h.mass,u[f]=null==h.size?1:h.size}for(f=0;f<t.length;f++){var p=t[f],m=p.node1,v=p.node2;c[2*f]=m,c[2*f+1]=v,d[f]=null==p.weight?1:p.weight}var g=Math.ceil(Math.sqrt(e.length)),_=g,y=new Float32Array(g*_*4),x=this._positionTex;x.width=g,x.height=_,x.pixels=y,this._worker.postMessage({cmd:\"init\",nodesPosition:s,nodesMass:l,nodesSize:u,edges:c,edgesWeight:d}),this._globalSpeed=1/0},l.prototype.updateOption=function(e){var t={};for(var n in s)t[n]=s[n];var r=this._nodes,i=this._edges,a=r.length;if(t.jitterTolerence=a>5e4?10:a>5e3?1:.1,t.scaling=a>100?2:10,t.barnesHutOptimize=a>1e3,e)for(var n in s)null!=e[n]&&(t[n]=e[n]);if(!t.gravityCenter){for(var o=[1/0,1/0],l=[-1/0,-1/0],u=0;u<r.length;u++)o[0]=Math.min(r[u].x,o[0]),o[1]=Math.min(r[u].y,o[1]),l[0]=Math.max(r[u].x,l[0]),l[1]=Math.max(r[u].y,l[1]);t.gravityCenter=[.5*(o[0]+l[0]),.5*(o[1]+l[1])]}for(u=0;u<i.length;u++){var c=i[u].node1,d=i[u].node2;r[c].degree=(r[c].degree||0)+1,r[d].degree=(r[d].degree||0)+1}this._worker&&this._worker.postMessage({cmd:\"updateConfig\",config:t})},l.prototype.update=function(e,t,n){null==t&&(t=1),t=Math.max(t,1),this._frame+=t,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:\"update\",steps:Math.round(t)})},l.prototype._$onupdate=function(e){if(!this._disposed){var t=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=t,this._updateTexture(t),this._onupdate&&this._onupdate()}},l.prototype.getNodePositionTexture=function(){return this._positionTex},l.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1),t},l.prototype.getNodes=function(){return this._nodes},l.prototype.getEdges=function(){return this._edges},l.prototype.isFinished=function(e){return this._frame>e},l.prototype.getNodePosition=function(e,t){if(t||(t=new Float32Array(2*this._nodes.length)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)t[n]=this._positionArr[n];return t},l.prototype._updateTexture=function(e){for(var t=this._positionTex.pixels,n=0,r=0;r<e.length;)t[n++]=e[r++],t[n++]=e[r++],t[n++]=1,t[n++]=1;this._positionTex.dirty()},l.prototype.dispose=function(e){this._disposed=!0,this._worker=null},t[\"a\"]=l},function(e,t,n){\"use strict\";function r(){var e={create:function(){return new Float32Array(2)},dist:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},len:function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},normalize:function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,n){return e[0]=t,e[1]=n,e}};function t(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var n=t.prototype;function r(){this.position=new Float32Array(2),this.force=e.create(),this.forcePrev=e.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function i(e,t){this.source=e,this.target=t,this.weight=1}function a(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new t,this.rootRegion.centerOfMass=e.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}n.beforeUpdate=function(){for(var e=0;e<this.nSubRegions;e++)this.subRegions[e].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},n.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var e=0;e<this.nSubRegions;e++)this.subRegions[e].afterUpdate()},n.addNode=function(e){if(0===this.nSubRegions){if(null==this.node)return void(this.node=e);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(e),this._updateCenterOfMass(e)},n.findSubRegion=function(e,t){for(var n=0;n<this.nSubRegions;n++){var r=this.subRegions[n];if(r.contain(e,t))return r}},n.contain=function(e,t){return this.bbox[0]<=e&&this.bbox[2]>=e&&this.bbox[1]<=t&&this.bbox[3]>=t},n.setBBox=function(e,t,n,r){this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=n,this.bbox[3]=r,this.size=(n-e+r-t)/2},n._newSubRegion=function(){var e=this.subRegions[this.nSubRegions];return e||(e=new t,this.subRegions[this.nSubRegions]=e),this.nSubRegions++,e},n._addNodeToSubRegion=function(e){var t=this.findSubRegion(e.position[0],e.position[1]),n=this.bbox;if(!t){var r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,a=(n[2]-n[0])/2,o=(n[3]-n[1])/2,s=e.position[0]>=r?1:0,l=e.position[1]>=i?1:0;t=this._newSubRegion();t.setBBox(s*a+n[0],l*o+n[1],(s+1)*a+n[0],(l+1)*o+n[1])}t.addNode(e)},n._updateCenterOfMass=function(e){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var t=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;t+=e.position[0]*e.mass,n+=e.position[1]*e.mass,this.mass+=e.mass,this.centerOfMass[0]=t/this.mass,this.centerOfMass[1]=n/this.mass};var o=a.prototype;o.initNodes=function(e,t,n){var i=t.length;this.nodes.length=0;for(var a=\"undefined\"!=typeof n,o=0;o<i;o++){var s=new r;s.position[0]=e[2*o],s.position[1]=e[2*o+1],s.mass=t[o],a&&(s.size=n[o]),this.nodes.push(s)}this._massArr=t,this._swingingArr=new Float32Array(i),a&&(this._sizeArr=n)},o.initEdges=function(e,t){var n=e.length/2;this.edges.length=0;for(var r=0;r<n;r++){var a=e[2*r],o=e[2*r+1],s=this.nodes[a],l=this.nodes[o];if(!s||!l)return void console.error(\"Node not exists, try initNodes before initEdges\");s.outDegree++,l.inDegree++;var u=new i(s,l);t&&(u.weight=t[r]),this.edges.push(u)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.mass=t.inDegree+t.outDegree+1}else for(e=0;e<this.nodes.length;e++){t=this.nodes[e];t.mass=this._massArr[e]}},o.update=function(){var t=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var n=0;n<t;n++)this.rootRegion.addNode(this.nodes[n]);this.rootRegion.afterUpdate()}for(n=0;n<t;n++){var r=this.nodes[n];e.copy(r.forcePrev,r.force),e.set(r.force,0,0)}for(n=0;n<t;n++){var i=this.nodes[n];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,i);else for(var a=n+1;a<t;a++){var o=this.nodes[a];this.applyNodeToNodeRepulsion(i,o,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(i):this.applyNodeGravity(i))}for(n=0;n<this.edges.length;n++)this.applyEdgeAttraction(this.edges[n]);var s=0,l=0,u=e.create();for(n=0;n<t;n++){r=this.nodes[n];var c=e.dist(r.force,r.forcePrev);s+=c*r.mass,e.add(u,r.force,r.forcePrev);var d=.5*e.len(u);l+=d*r.mass,this._swingingArr[n]=c}var f=this.jitterTolerence*this.jitterTolerence*l/s;this._globalSpeed>0&&(f=Math.min(f/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=f;for(n=0;n<t;n++){r=this.nodes[n],c=this._swingingArr[n];var h=.1*f/(1+f*Math.sqrt(c)),p=e.len(r.force);p>0&&(h=Math.min(p*h,10)/p,e.scaleAndAdd(r.position,r.position,r.force,h))}},o.applyRegionToNodeRepulsion=function(){var t=e.create();return function(n,r){if(n.node)this.applyNodeToNodeRepulsion(n.node,r,!0);else{e.sub(t,r.position,n.centerOfMass);var i=t[0]*t[0]+t[1]*t[1];if(i>this.barnesHutTheta*n.size*n.size){var a=this.scaling*r.mass*n.mass/i;e.scaleAndAdd(r.force,r.force,t,a)}else for(var o=0;o<n.nSubRegions;o++)this.applyRegionToNodeRepulsion(n.subRegions[o],r)}}}(),o.applyNodeToNodeRepulsion=function(){var t=e.create();return function(n,r,i){if(n!=r){e.sub(t,n.position,r.position);var a=t[0]*t[0]+t[1]*t[1];if(0!==a){var o;if(this.preventOverlap){var s=Math.sqrt(a);if(s=s-n.size-r.size,s>0)o=this.scaling*n.mass*r.mass/(s*s);else{if(!(s<0))return;o=100*this.scaling*n.mass*r.mass}}else o=this.scaling*n.mass*r.mass/a;e.scaleAndAdd(n.force,n.force,t,o),e.scaleAndAdd(r.force,r.force,t,-o)}}}}(),o.applyEdgeAttraction=function(){var t=e.create();return function(n){var r=n.source,i=n.target;e.sub(t,r.position,i.position);var a,o,s=e.len(t);a=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?n.weight:Math.pow(n.weight,this.edgeWeightInfluence),this.preventOverlap&&(s=s-r.size-i.size,s<=0)||(o=this.linLogMode?-a*Math.log(s+1)/(s+1):-a,e.scaleAndAdd(r.force,r.force,t,o),e.scaleAndAdd(i.force,i.force,t,-o))}}(),o.applyNodeGravity=function(){var t=e.create();return function(n){e.sub(t,this.gravityCenter,n.position);var r=e.len(t);e.scaleAndAdd(n.force,n.force,t,this.gravity*n.mass/(r+1))}}(),o.applyNodeStrongGravity=function(){var t=e.create();return function(n){e.sub(t,this.gravityCenter,n.position),e.scaleAndAdd(n.force,n.force,t,this.gravity*n.mass)}}(),o.updateBBox=function(){for(var e=1/0,t=1/0,n=-1/0,r=-1/0,i=0;i<this.nodes.length;i++){var a=this.nodes[i].position;e=Math.min(e,a[0]),t=Math.min(t,a[1]),n=Math.max(n,a[0]),r=Math.max(r,a[1])}this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=n,this.bbox[3]=r},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(e){switch(e.data.cmd){case\"init\":s=new a,s.initNodes(e.data.nodesPosition,e.data.nodesMass,e.data.nodesSize),s.initEdges(e.data.edges,e.data.edgesWeight);break;case\"updateConfig\":if(s)for(var t in e.data.config)s[t]=e.data.config[t];break;case\"update\":var n=e.data.steps;if(s){for(var r=0;r<n;r++)s.update();var i=s.nodes.length,o=new Float32Array(2*i);for(r=0;r<i;r++){var l=s.nodes[r];o[2*r]=l.position[0],o[2*r+1]=l.position[1]}self.postMessage({buffer:o.buffer,globalSpeed:s.getGlobalSpeed()},[o.buffer])}else{var u=new Float32Array;self.postMessage({buffer:u.buffer,globalSpeed:s.getGlobalSpeed()},[u.buffer])}break}}}t[\"a\"]=r},function(e,t,n){\"use strict\";var r=n(8),i=(n(2),r[\"a\"].extend((function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}}),(function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)}),{init:function(){var e=this.zr;e.on(\"mousedown\",this._mouseDownHandler),e.on(\"mousewheel\",this._mouseWheelHandler),e.on(\"globalout\",this._mouseUpHandler),e.animation.on(\"frame\",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,t=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(t,t,t),this.zr.refresh(),this._needsUpdate=!1,this.trigger(\"update\")}},_mouseDownHandler:function(e){if(!e.target){var t=e.offsetX,n=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(t,n)){this.zr.on(\"mousemove\",this._mouseMoveHandler),this.zr.on(\"mouseup\",this._mouseUpHandler);var r=this._convertPos(t,n);this._x=r.x,this._y=r.y}}},_convertPos:function(e,t){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(e-r.x)/r.width*(n.right-n.left)+n.left,y:(t-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(e){var t=this._convertPos(e.offsetX,e.offsetY);this._dx+=t.x-this._x,this._dy+=t.y-this._y,this._x=t.x,this._y=t.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off(\"mousemove\",this._mouseMoveHandler),this.zr.off(\"mouseup\",this._mouseUpHandler)},_mouseWheelHandler:function(e){e=e.event;var t=e.wheelDelta||-e.detail;if(0!==t){var n=e.offsetX,r=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,r)){var i=t>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(n,r),s=(o.x-this._dx)*(i-1),l=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=l,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off(\"mousedown\",this._mouseDownHandler),e.off(\"mousemove\",this._mouseMoveHandler),e.off(\"mouseup\",this._mouseUpHandler),e.off(\"mousewheel\",this._mouseWheelHandler),e.off(\"globalout\",this._mouseUpHandler),e.animation.off(\"frame\",this._update)}}));t[\"a\"]=i},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.lines2D.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec2 position: POSITION;\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n\\n#ifdef POSITIONTEXTURE_ENABLED\\nuniform sampler2D positionTexture;\\n#endif\\n\\nvoid main()\\n{\\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\\n\\n v_Color = a_Color;\\n}\\n\\n@end\\n\\n@export ecgl.lines2D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\n\\nvoid main()\\n{\\n gl_FragColor = color * v_Color;\\n}\\n@end\\n\\n\\n@export ecgl.meshLines2D.vertex\\n\\nattribute vec2 position: POSITION;\\nattribute vec2 normal;\\nattribute float offset;\\nattribute vec4 a_Color : COLOR;\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\n\\nvarying vec4 v_Color;\\nvarying float v_Miter;\\n\\nvoid main()\\n{\\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\\n\\n p2.xy /= p2.w;\\n gl_Position.xy /= gl_Position.w;\\n\\n vec2 N = normalize(p2.xy - gl_Position.xy);\\n gl_Position.xy += N * offset / viewport.zw * 2.0;\\n\\n gl_Position.xy *= gl_Position.w;\\n\\n v_Color = a_Color;\\n}\\n@end\\n\\n\\n@export ecgl.meshLines2D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\nvarying float v_Miter;\\n\\nvoid main()\\n{\\n gl_FragColor = color * v_Color;\\n}\\n\\n@end\"},function(e,t,n){\"use strict\";var r=n(0);n.n(r),n(280),n(284)},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(22),l=n(281);i.a.extendChartView({type:\"flowGL\",__ecgl__:!0,init:function(e,t){this.viewGL=new s[\"a\"](\"orthographic\"),this.groupGL=new a[\"a\"].Node,this.viewGL.add(this.groupGL),this._particleSurface=new l[\"a\"];var n=new a[\"a\"].Mesh({geometry:new a[\"a\"].PlaneGeometry,material:new a[\"a\"].Material({shader:new a[\"a\"].Shader({vertex:a[\"a\"].Shader.source(\"ecgl.color.vertex\"),fragment:a[\"a\"].Shader.source(\"ecgl.color.fragment\")}),transparent:!0})});n.material.enableTexture(\"diffuseMap\"),this.groupGL.add(n),this._planeMesh=n},render:function(e,t,n){var r=this._particleSurface;r.setParticleType(e.get(\"particleType\")),r.setSupersampling(e.get(\"supersampling\")),this._updateData(e,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var i=o[\"a\"].firstNotNull(e.get(\"particleDensity\"),128);r.setParticleDensity(i,i);var s=this._planeMesh,l=+new Date,u=this,c=!0;s.__percent=0,s.stopAnimation(),s.animate(\"\",{loop:!0}).when(1e5,{__percent:1}).during((function(){var e=+new Date,t=Math.min(e-l,20);l+=t,u._renderer&&(r.update(u._renderer,n,t/1e3,c),s.material.set(\"diffuseMap\",r.getSurfaceTexture())),c=!1})).start();var d=e.getModel(\"itemStyle\"),f=a[\"a\"].parseColor(d.get(\"color\"));f[3]*=o[\"a\"].firstNotNull(d.get(\"opacity\"),1),s.material.set(\"color\",f),r.setColorTextureImage(e.get(\"colorTexture\"),n),r.setParticleSize(e.get(\"particleSize\")),r.particleSpeedScaling=e.get(\"particleSpeed\"),r.motionBlurFactor=1-Math.pow(.1,e.get(\"particleTrail\"))},updateTransform:function(e,t,n){this._updateData(e,n)},afterRender:function(e,t,n,r){var i=r.renderer;this._renderer=i},_updateData:function(e,t){var n=e.coordinateSystem,r=n.dimensions.map((function(t){return e.coordDimToDataDim(t)[0]})),i=e.getData(),a=i.getDataExtent(r[0]),o=i.getDataExtent(r[1]),s=e.get(\"gridWidth\"),l=e.get(\"gridHeight\");if(null==s||\"auto\"===s){var u=(a[1]-a[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(u*i.count()))}null!=l&&\"auto\"!==l||(l=Math.ceil(i.count()/s));var c=this._particleSurface.vectorFieldTexture,d=c.pixels;if(d&&d.length===l*s*4)for(var f=0;f<d.length;f++)d[f]=0;else d=c.pixels=new Float32Array(s*l*4);var h=0,p=1/0,m=new Float32Array(2*i.count()),v=0,g=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],\"vx\",\"vy\"],(function(e,t,r,i){var a=n.dataToPoint([e,t]);m[v++]=a[0],m[v++]=a[1],g[0][0]=Math.min(a[0],g[0][0]),g[0][1]=Math.min(a[1],g[0][1]),g[1][0]=Math.max(a[0],g[1][0]),g[1][1]=Math.max(a[1],g[1][1]);var o=Math.sqrt(r*r+i*i);h=Math.max(h,o),p=Math.min(p,o)})),i.each([\"vx\",\"vy\"],(function(e,t,n){var r=Math.round((m[2*n]-g[0][0])/(g[1][0]-g[0][0])*(s-1)),i=l-1-Math.round((m[2*n+1]-g[0][1])/(g[1][1]-g[0][1])*(l-1)),a=4*(i*s+r);d[a]=e/h*.5+.5,d[a+1]=t/h*.5+.5,d[a+3]=1})),c.width=s,c.height=l,\"bmap\"===e.get(\"coordinateSystem\")&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(g[0],g[1],e,t),this._updateGradientTexture(i.getVisual(\"visualMeta\"),[p,h])},_fillEmptyPixels:function(e){var t=e.pixels,n=e.width,r=e.height;function i(e,i,a){e=Math.max(Math.min(e,n-1),0),i=Math.max(Math.min(i,r-1),0);var o=4*(i*(n-1)+e);return 0!==t[o+3]&&(a[0]=t[o],a[1]=t[o+1],!0)}function a(e,t,n){n[0]=e[0]+t[0],n[1]=e[1]+t[1]}for(var o=[],s=[],l=[],u=[],c=[],d=0,f=0;f<r;f++)for(var h=0;h<n;h++){var p=4*(f*(n-1)+h);0===t[p+3]&&(d=o[0]=o[1]=0,i(h-1,f,s)&&(d++,a(s,o,o)),i(h+1,f,l)&&(d++,a(l,o,o)),i(h,f-1,u)&&(d++,a(u,o,o)),i(h,f+1,c)&&(d++,a(c,o,o)),o[0]/=d,o[1]/=d,t[p]=o[0],t[p+1]=o[1]),t[p+3]=1}},_updateGradientTexture:function(e,t){if(e&&e.length){this._gradientTexture=this._gradientTexture||new a[\"a\"].Texture2D({image:document.createElement(\"canvas\")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var i=r.getContext(\"2d\"),o=i.createLinearGradient(0,.5,r.width,.5);e[0].stops.forEach((function(e){var n;t[1]===t[0]?n=0:(n=e.value/t[1],n=Math.min(Math.max(n,0),1)),o.addColorStop(n,e.color)})),i.fillStyle=o,i.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(e,t,n,r){var i=this._limitInViewportAndFullFill(e,t,n,r);e=i.leftTop,t=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((e[0]+t[0])/2,r.getHeight()-(e[1]+t[1])/2,0);var a=t[0]-e[0],o=t[1]-e[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,t,n,r){var i=[Math.max(e[0],0),Math.max(e[1],0)],a=[Math.min(t[0],r.getWidth()),Math.min(t[1],r.getHeight())];if(\"bmap\"===n.get(\"coordinateSystem\")){var o=n.getData().getDataExtent(n.coordDimToDataDim(\"lng\")[0]),s=Math.floor(o[1]-o[0])>=359;s&&(i[0]>0&&(i[0]=0),a[0]<r.getWidth()&&(a[0]=r.getWidth()))}var l=t[0]-e[0],u=t[1]-e[1],c=a[0]-i[0],d=a[1]-i[1],f=[(i[0]-e[0])/l,1-d/u-(i[1]-e[1])/u,c/l,d/u];return{leftTop:i,rightBottom:a,region:f}},_updateCamera:function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=t,r.right=e,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}})},function(e,t,n){\"use strict\";var r=n(15),i=n(14),a=n(41),o=n(19),s=n(9),l=n(5),u=n(4),c=n(38),d=n(43),f=n(10),h=n(282),p=n(283);function m(e){var t=document.createElement(\"canvas\");t.width=t.height=e;var n=t.getContext(\"2d\");return n.fillStyle=\"#fff\",n.arc(e/2,e/2,e/2,0,2*Math.PI),n.fill(),t}s[\"a\"][\"import\"](p[\"a\"]);var v=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new l[\"a\"]({type:u[\"a\"].FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType=\"point\",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};v.prototype={constructor:v,init:function(){var e={type:u[\"a\"].FLOAT,minFilter:u[\"a\"].NEAREST,magFilter:u[\"a\"].NEAREST,useMipmap:!1};this._spawnTexture=new l[\"a\"](e),this._particleTexture0=new l[\"a\"](e),this._particleTexture1=new l[\"a\"](e),this._frameBuffer=new f[\"a\"]({depthBuffer:!1}),this._particlePass=new r[\"a\"]({fragment:s[\"a\"].source(\"ecgl.vfParticle.particle.fragment\")}),this._particlePass.setUniform(\"velocityTexture\",this.vectorFieldTexture),this._particlePass.setUniform(\"spawnTexture\",this._spawnTexture),this._downsamplePass=new r[\"a\"]({fragment:s[\"a\"].source(\"clay.compositor.downsample\")});var t=new a[\"a\"]({renderOrder:10,material:new o[\"a\"]({shader:new s[\"a\"](s[\"a\"].source(\"ecgl.vfParticle.renderPoints.vertex\"),s[\"a\"].source(\"ecgl.vfParticle.renderPoints.fragment\"))}),mode:a[\"a\"].POINTS,geometry:new i[\"a\"]({dynamic:!0,mainAttribute:\"texcoord0\"})}),n=new a[\"a\"]({renderOrder:10,material:new o[\"a\"]({shader:new s[\"a\"](s[\"a\"].source(\"ecgl.vfParticle.renderLines.vertex\"),s[\"a\"].source(\"ecgl.vfParticle.renderLines.fragment\"))}),geometry:new h[\"a\"],culling:!1}),p=new a[\"a\"]({material:new o[\"a\"]({shader:new s[\"a\"](s[\"a\"].source(\"ecgl.color.vertex\"),s[\"a\"].source(\"ecgl.color.fragment\"))}),geometry:new d[\"a\"]});p.material.enableTexture(\"diffuseMap\"),this._particlePointsMesh=t,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=p,this._camera=new c[\"a\"],this._thisFrameTexture=new l[\"a\"],this._lastFrameTexture=new l[\"a\"]},setParticleDensity:function(e,t){for(var n=e*t,r=new Float32Array(4*n),i=0,a=this.particleLife,o=0;o<e;o++)for(var s=0;s<t;s++,i++){r[4*i]=Math.random(),r[4*i+1]=Math.random(),r[4*i+2]=Math.random();var l=(a[1]-a[0])*Math.random()+a[0];r[4*i+3]=l}\"line\"===this._particleType?this._setLineGeometry(e,t):this._setPointsGeometry(e,t),this._spawnTexture.width=e,this._spawnTexture.height=t,this._spawnTexture.pixels=r,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=t,this._particlePass.setUniform(\"textureSize\",[e,t])},_setPointsGeometry:function(e,t){var n=e*t,r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(n);for(var a=0,o=0;o<e;o++)for(var s=0;s<t;s++,a++)i.texcoord0.value[2*a]=o/e,i.texcoord0.value[2*a+1]=s/t;r.dirty()},_setLineGeometry:function(e,t){var n=e*t,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var i=0;i<e;i++)for(var a=0;a<t;a++)r.addLine([i/e,a/t]);r.dirty()},_getParticleMesh:function(){return\"line\"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(e,t,n,r){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(e,t),i.material.set(\"size\",this._particleSize*this._supersampling),i.material.set(\"color\",this.particleColor),o.setUniform(\"speedScaling\",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform(\"firstFrameTime\",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform(\"particleTexture\",this._particleTexture0),o.setUniform(\"deltaTime\",n),o.setUniform(\"elapsedTime\",this._elapsedTime),o.render(e,a),i.material.set(\"particleTexture\",this._particleTexture1),i.material.set(\"prevParticleTexture\",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set(\"diffuseMap\",this._lastFrameTexture),s.material.set(\"color\",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([s,i],this._camera),a.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=n},_downsample:function(e){var t=this._downsampleTextures;if(0!==t.length){var n=0,r=this._thisFrameTexture,i=t[n];while(i)this._frameBuffer.attach(i),this._downsamplePass.setUniform(\"texture\",r),this._downsamplePass.setUniform(\"textureSize\",[r.width,r.height]),this._downsamplePass.render(e,this._frameBuffer),r=i,i=t[++n]}},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform(\"region\",e)},resize:function(e,t){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=t*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=t*this._supersampling,this._width=e,this._height=t},setParticleSize:function(e){var t=this._getParticleMesh();if(e<=2)return t.material.disableTexture(\"spriteTexture\"),void(t.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new l[\"a\"]),this._spriteTexture.image&&this._spriteTexture.image.width===e||(this._spriteTexture.image=m(e),this._spriteTexture.dirty()),t.material.transparent=!0,t.material.enableTexture(\"spriteTexture\"),t.material.set(\"spriteTexture\",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var t=this._getParticleMesh().material;t[e?\"enableTexture\":\"disableTexture\"](\"gradientTexture\"),t.setUniform(\"gradientTexture\",e)},setColorTextureImage:function(e,t){var n=this._getParticleMesh().material;n.setTextureImage(\"colorTexture\",e,t,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var t=this._frameBuffer;t.attach(this._lastFrameTexture),t.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),t.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,t){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/t.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new l[\"a\"],n[s].width=a/i,n[s].height=o/i,i*=2;for(;s<n.length;s++)n[s].dispose(e);n.length=r},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e;e=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach((function(t){t.dispose(e)}))}},t[\"a\"]=v},function(e,t,n){\"use strict\";var r=n(14),i=n(0),a=(n.n(i),r[\"a\"].extend((function(){return{dynamic:!0,attributes:{position:new r[\"a\"].Attribute(\"position\",\"float\",3,\"POSITION\")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=this.attributes,n=4*e,r=2*e;this.vertexCount!==n&&t.position.init(n),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(e){var t=this._vertexOffset;this.attributes.position.set(t,[e[0],e[1],1]),this.attributes.position.set(t+1,[e[0],e[1],-1]),this.attributes.position.set(t+2,[e[0],e[1],2]),this.attributes.position.set(t+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[t,t+1,t+2]),this.setTriangleIndices(this._faceOffset++,[t+1,t+2,t+3]),this._vertexOffset+=4}}));t[\"a\"]=a},function(e,t,n){\"use strict\";t[\"a\"]=\"@export ecgl.vfParticle.particle.fragment\\n\\nuniform sampler2D particleTexture;\\nuniform sampler2D spawnTexture;\\nuniform sampler2D velocityTexture;\\n\\nuniform float deltaTime;\\nuniform float elapsedTime;\\n\\nuniform float speedScaling : 1.0;\\n\\nuniform vec2 textureSize;\\nuniform vec4 region : [0, 0, 1, 1];\\nuniform float firstFrameTime;\\n\\nvarying vec2 v_Texcoord;\\n\\n\\nvoid main()\\n{\\n vec4 p = texture2D(particleTexture, v_Texcoord);\\n bool spawn = false;\\n if (p.w <= 0.0) {\\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\\n p.w -= firstFrameTime;\\n spawn = true;\\n }\\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\\n v = (v - 0.5) * 2.0;\\n p.z = length(v);\\n p.xy += v * deltaTime / 10.0 * speedScaling;\\n p.w -= deltaTime;\\n\\n if (spawn || p.xy != fract(p.xy)) {\\n p.z = 0.0;\\n }\\n p.xy = fract(p.xy);\\n\\n gl_FragColor = p;\\n}\\n@end\\n\\n@export ecgl.vfParticle.renderPoints.vertex\\n\\n#define PI 3.1415926\\n\\nattribute vec2 texcoord : TEXCOORD_0;\\n\\nuniform sampler2D particleTexture;\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nuniform float size : 1.0;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\nvoid main()\\n{\\n vec4 p = texture2D(particleTexture, texcoord);\\n\\n if (p.w > 0.0 && p.z > 1e-5) {\\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\\n }\\n else {\\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\\n }\\n\\n v_Mag = p.z;\\n v_Uv = p.xy;\\n\\n gl_PointSize = size;\\n}\\n\\n@end\\n\\n@export ecgl.vfParticle.renderPoints.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nuniform sampler2D gradientTexture;\\nuniform sampler2D colorTexture;\\nuniform sampler2D spriteTexture;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\nvoid main()\\n{\\n gl_FragColor = color;\\n#ifdef SPRITETEXTURE_ENABLED\\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\\n if (color.a == 0.0) {\\n discard;\\n }\\n#endif\\n#ifdef GRADIENTTEXTURE_ENABLED\\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\\n#endif\\n#ifdef COLORTEXTURE_ENABLED\\n gl_FragColor *= texture2D(colorTexture, v_Uv);\\n#endif\\n}\\n\\n@end\\n\\n@export ecgl.vfParticle.renderLines.vertex\\n\\n#define PI 3.1415926\\n\\nattribute vec3 position : POSITION;\\n\\nuniform sampler2D particleTexture;\\nuniform sampler2D prevParticleTexture;\\n\\nuniform float size : 1.0;\\nuniform vec4 vp: VIEWPORT;\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\n@import clay.util.rand\\n\\nvoid main()\\n{\\n vec4 p = texture2D(particleTexture, position.xy);\\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\\n\\n p.xy = p.xy * 2.0 - 1.0;\\n p2.xy = p2.xy * 2.0 - 1.0;\\n\\n if (p.w > 0.0 && p.z > 1e-5) {\\n vec2 dir = normalize(p.xy - p2.xy);\\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\\n if (abs(position.z) == 2.0) {\\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\\n v_Uv = p.xy;\\n v_Mag = p.z;\\n }\\n else {\\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\\n v_Mag = p2.z;\\n v_Uv = p2.xy;\\n }\\n gl_Position = worldViewProjection * gl_Position;\\n }\\n else {\\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\\n }\\n}\\n\\n@end\\n\\n@export ecgl.vfParticle.renderLines.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nuniform sampler2D gradientTexture;\\nuniform sampler2D colorTexture;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\nvoid main()\\n{\\n gl_FragColor = color;\\n #ifdef GRADIENTTEXTURE_ENABLED\\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\\n#endif\\n#ifdef COLORTEXTURE_ENABLED\\n gl_FragColor *= texture2D(colorTexture, v_Uv);\\n#endif\\n}\\n\\n@end\\n\"},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:\"series.flowGL\",dependencies:[\"geo\",\"grid\",\"bmap\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(e,t){var n=i.a.getCoordinateSystemDimensions(this.get(\"coordinateSystem\"))||[\"x\",\"y\"];if(n.length>2)throw new Error(\"flowGL can only be used on 2d coordinate systems.\");n.push(\"vx\",\"vy\");var r=i.a.helper.completeDimensions(n,this.getSource(),{encodeDef:this.get(\"encode\"),dimsDef:this.get(\"dimensions\")}),a=new i.a.List(r,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:10,supersampling:1,particleType:\"point\",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:\"auto\",gridHeight:\"auto\",itemStyle:{color:\"#fff\",opacity:.8}}})},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=(n(286),n(287),n(17));i.a.registerVisual(Object(a[\"a\"])(\"linesGL\"))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(80),o=(n.n(a),i.a.extendSeriesModel({type:\"series.linesGL\",dependencies:[\"grid\",\"geo\"],visualColorAccessPath:\"lineStyle.color\",streamEnabled:!0,init:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),o.superApply(this,\"init\",arguments)},mergeOption:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),o.superApply(this,\"mergeOption\",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=Object(a[\"concatArray\"])(this._flatCoords,t.flatCoords),this._flatCoordsOffset=Object(a[\"concatArray\"])(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e),n=t.option instanceof Array?t.option:t.getShallow(\"coords\");if(!(n instanceof Array&&n.length>0&&n[0]instanceof Array))throw new Error(\"Invalid coords \"+JSON.stringify(n)+\". Lines must have 2d coords array in data item.\");return n},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(e);for(i=0;i<a.length;i++)t[i]=t[i]||[],t[i][0]=a[i][0],t[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),\"number\"===typeof e[0]){for(var n=e.length,r=new Uint32Array(n),i=new Float64Array(n),a=0,o=0,s=0,l=0;l<n;){s++;var u=e[l++];r[o++]=a+t,r[o++]=u;for(var c=0;c<u;c++){var d=e[l++],f=e[l++];if(i[a++]=d,i[a++]=f,l>n)throw new Error(\"Invalid data format.\")}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new i.a.List([\"value\"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:\"geo\",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:\"source-over\",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}))},function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(104),l=n(102),u=n(2);i.a.extendChartView({type:\"linesGL\",__ecgl__:!0,init:function(e,t){this.groupGL=new a[\"a\"].Node,this.viewGL=new o[\"a\"](\"orthographic\"),this.viewGL.add(this.groupGL),this._glViewHelper=new l[\"a\"](this.viewGL),this._nativeLinesShader=a[\"a\"].createShader(\"ecgl.lines3D\"),this._meshLinesShader=a[\"a\"].createShader(\"ecgl.meshLines3D\"),this._linesMeshes=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(e,r,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel(\"postEffect\"),n)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel(\"postEffect\"),n)},incrementalRender:function(e,t,n,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(t),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(t,i,e.start,e.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(e,t,n){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,n)},_createLinesMesh:function(e){var t=new a[\"a\"].Mesh({$ignorePicking:!0,material:new a[\"a\"].Material({shader:a[\"a\"].createShader(\"ecgl.lines3D\"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new s[\"a\"]({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:a[\"a\"].Mesh.LINES,culling:!1});return t},_updateLinesMesh:function(e,t,n,r){var i=e.getData();t.material.blend=\"lighter\"===e.get(\"blendMode\")?a[\"a\"].additiveBlend:null;var o=e.get(\"lineStyle.curveness\")||0,s=e.get(\"polyline\"),l=t.geometry,c=e.coordinateSystem,d=u[\"a\"].firstNotNull(e.get(\"lineStyle.width\"),1);d>1?(t.material.shader!==this._meshLinesShader&&t.material.attachShader(this._meshLinesShader),t.mode=a[\"a\"].Mesh.TRIANGLES):(t.material.shader!==this._nativeLinesShader&&t.material.attachShader(this._nativeLinesShader),t.mode=a[\"a\"].Mesh.LINES),n=n||0,r=r||i.count(),l.resetOffset();var f=0,h=0,p=[],m=[],v=[],g=[],_=[],y=.3,x=.7;function b(){m[0]=p[0]*x+g[0]*y-(p[1]-g[1])*o,m[1]=p[1]*x+g[1]*y-(g[0]-p[0])*o,v[0]=p[0]*y+g[0]*x-(p[1]-g[1])*o,v[1]=p[1]*y+g[1]*x-(g[0]-p[0])*o}if(s||0!==o)for(var w=n;w<r;w++)if(s){var A=e.getLineCoordsCount(w);f+=l.getPolylineVertexCount(A),h+=l.getPolylineTriangleCount(A)}else e.getLineCoords(w,_),this._glViewHelper.dataToPoint(c,_[0],p),this._glViewHelper.dataToPoint(c,_[1],g),b(),f+=l.getCubicCurveVertexCount(p,m,v,g),h+=l.getCubicCurveTriangleCount(p,m,v,g);else{var T=r-n;f+=T*l.getLineVertexCount(),h+=T*l.getLineVertexCount()}l.setVertexCount(f),l.setTriangleCount(h);var S=n,E=[];for(w=n;w<r;w++){a[\"a\"].parseColor(i.getItemVisual(S,\"color\"),E);var C=u[\"a\"].firstNotNull(i.getItemVisual(S,\"opacity\"),1);E[3]*=C;A=e.getLineCoords(w,_);for(var M=0;M<A;M++)this._glViewHelper.dataToPoint(c,_[M],_[M]);s?l.addPolyline(_,E,d,0,A):0!==o?(p=_[0],g=_[1],b(),l.addCubicCurve(p,m,v,g,E,d)):l.addPolyline(_,E,d,0,2),S++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})}])}))},\"7d25\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请输入表名\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.name,callback:function(t){e.$set(e.query,\"name\",t)},expression:\"query.name\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",[n(\"el-tooltip\",{staticClass:\"item\",attrs:{slot:\"right\",effect:\"dark\",content:\"数据库中表字段变动时使用该功能\",placement:\"top-start\"},slot:\"right\"},[n(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"success\",icon:\"el-icon-refresh\",loading:e.syncLoading,disabled:0===e.crud.selections.length},on:{click:e.sync}},[e._v(\"同步\\n        \")])],1)],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"tableName\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"tableName\",label:\"表名\"}}):e._e(),e._v(\" \"),e.columns.visible(\"coding\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"coding\",label:\"字符编码集\"}}):e._e(),e._v(\" \"),e.columns.visible(\"remark\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"remark\",label:\"备注\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"操作\",width:\"160px\",align:\"center\",fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{staticStyle:{\"margin-right\":\"2px\"},attrs:{type:\"text\"}},[n(\"router-link\",{attrs:{to:\"/generator/preview?tableName=\"+t.row.tableName}},[e._v(\"\\n            预览\\n          \")])],1),e._v(\" \"),n(\"el-button\",{staticStyle:{\"margin-left\":\"-1px\",\"margin-right\":\"2px\"},attrs:{type:\"text\"},on:{click:function(n){return e.toDownload(t.row.tableName)}}},[e._v(\"\\n          下载\\n        \")]),e._v(\" \"),n(\"el-button\",{staticStyle:{\"margin-left\":\"-1px\",\"margin-right\":\"2px\"},attrs:{type:\"text\"}},[n(\"router-link\",{attrs:{to:\"/generator/config?tableName=\"+t.row.tableName}},[e._v(\"\\n            编辑\\n          \")])],1),e._v(\" \"),n(\"el-button\",{staticStyle:{\"margin-left\":\"-1px\"},attrs:{type:\"text\"},on:{click:function(n){return e.toGen(t.row.tableName)}}},[e._v(\"生成\")])]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"7de8\":function(e,t,n){\"use strict\";n(\"1a46\")},\"7ee8\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"4662\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"7f1a\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"b704\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"7f5c\":function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"ded3\")),o=i(n(\"e847\")),s=r(n(\"159b\")),l=i(n(\"f096\")),u=i(n(\"691b\")),c=i(n(\"a363\")),d=i(n(\"63f7\")),f=(0,s.default)({title:\"监控\",url:\"api/server\",sort:\"sort,asc\",crudMethod:(0,a.default)({},o.default)}),h={id:null,address:\"localhost\",name:null,ip:null,port:8777,state:null,cpuRate:null,cpuCore:null,memTotal:null,memUsed:null,diskTotal:null,diskUsed:null,swapTotal:null,swapUsed:null,sort:999},p={name:\"ServerMonitor\",components:{pagination:d.default,crudOperation:u.default,rrOperation:l.default,udOperation:c.default},mixins:[(0,s.presenter)(f),(0,s.header)(),(0,s.form)(h),(0,s.crud)()],data:function(){return{permission:{add:[\"admin\",\"server:add\"],edit:[\"admin\",\"server:edit\"],del:[\"admin\",\"server:del\"]},rules:{name:[{required:!0,message:\"请输入名称\",trigger:\"blur\"}],address:[{required:!0,message:\"请输入IP\",trigger:\"blur\"}],port:[{required:!0,message:\"请输入访问端口\",trigger:\"blur\",type:\"number\"}]}}},created:function(){this.crud.optShow.download=!1},methods:{formatCpuRate:function(e,t){var n=e.cpuRate;return n?Math.floor(1e4*n)/100+\"%\":0},percentNumber:function(e,t){return e&&t?e/t*100:0},percentStatus:function(e,t){var n=this.percentNumber(e,t);return n<60?\"success\":n<90?\"warning\":\"exception\"},convertToGb:function(e){if(!e)return\"-\";var t=\"G\";return e>1024&&(e/=1024,t=\"T\"),e=Math.floor(100*e)/100,e+t},formatMem:function(e,t){return this.convertToGb(e.memUsed)+\" / \"+this.convertToGb(e.memTotal)},formatDisk:function(e,t){return this.convertToGb(e.diskUsed)+\" / \"+this.convertToGb(e.diskTotal)},formatSwap:function(e,t){return this.convertToGb(e.swapUsed)+\" / \"+this.convertToGb(e.swapTotal)}}};t.default=p},\"7fc5\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"wscn-http404-container\"},[n(\"div\",{staticClass:\"wscn-http404\"},[e._m(0),e._v(\" \"),n(\"div\",{staticClass:\"bullshit\"},[n(\"div\",{staticClass:\"bullshit__oops\"},[e._v(\"OOPS!\")]),e._v(\" \"),n(\"div\",{staticClass:\"bullshit__headline\"},[e._v(e._s(e.message))]),e._v(\" \"),n(\"div\",{staticClass:\"bullshit__url\"},[e._v(e._s(e.location))]),e._v(\" \"),n(\"div\",{staticClass:\"bullshit__info\"},[e._v(\"请检查您输入的网址是否正确，请点击以下按钮返回主页或者发送错误报告\")]),e._v(\" \"),n(\"a\",{staticClass:\"bullshit__return-home\",attrs:{href:\"/\",target:\"_top\"}},[e._v(\"返回首页\")])])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"pic-404\"},[r(\"img\",{staticClass:\"pic-404__parent\",attrs:{src:n(\"4a54\"),alt:\"404\"}}),e._v(\" \"),r(\"img\",{staticClass:\"pic-404__child left\",attrs:{src:n(\"1b0e\"),alt:\"404\"}}),e._v(\" \"),r(\"img\",{staticClass:\"pic-404__child mid\",attrs:{src:n(\"1b0e\"),alt:\"404\"}}),e._v(\" \"),r(\"img\",{staticClass:\"pic-404__child right\",attrs:{src:n(\"1b0e\"),alt:\"404\"}})])}];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"80c5\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"0f40\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},\"80d7\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"5c62\")),a={name:\"YamlEdit\",components:{Yaml:i.default},data:function(){return{height:document.documentElement.clientHeight-210+\"px\",value:'# 展示数据，如需更换主题，请在src/components/YamlEdit 目录中搜索原主题名称进行替换\\n\\n# ===================================================================\\n# Spring Boot configuration.\\n#\\n# This configuration will be overridden by the Spring profile you use,\\n# for example application-dev.yml if you use the \"dev\" profile.\\n#\\n# More information on profiles: https://www.jhipster.tech/profiles/\\n# More information on configuration properties: https://www.jhipster.tech/common-application-properties/\\n# ===================================================================\\n\\n# ===================================================================\\n# Standard Spring Boot properties.\\n# Full reference is available at:\\n# http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\\n# ===================================================================\\n\\neureka:\\n    client:\\n        enabled: true\\n        healthcheck:\\n            enabled: true\\n        fetch-registry: true\\n        register-with-eureka: true\\n        instance-info-replication-interval-seconds: 10\\n        registry-fetch-interval-seconds: 10\\n    instance:\\n        appname: product\\n        instanceId: product:${spring.application.instance-id:${random.value}}\\n        #instanceId: 127.0.0.1:9080\\n        lease-renewal-interval-in-seconds: 5\\n        lease-expiration-duration-in-seconds: 10\\n        status-page-url-path: ${management.endpoints.web.base-path}/info\\n        health-check-url-path: ${management.endpoints.web.base-path}/health\\n        metadata-map:\\n            zone: primary # This is needed for the load balancer\\n            profile: ${spring.profiles.active}\\n            version: ${info.project.version:}\\n            git-version: ${git.commit.id.describe:}\\n            git-commit: ${git.commit.id.abbrev:}\\n            git-branch: ${git.branch:}\\nribbon:\\n    ReadTimeout: 120000\\n    ConnectTimeout: 300000\\n    eureka:\\n        enabled: true\\nzuul:\\n  host:\\n    connect-timeout-millis: 5000\\n    max-per-route-connections: 10000\\n    max-total-connections: 5000\\n    socket-timeout-millis: 60000\\n  semaphore:\\n    max-semaphores: 500\\n\\nfeign:\\n    hystrix:\\n        enabled: true\\n    client:\\n        config:\\n            default:\\n                connectTimeout: 500000\\n                readTimeout: 500000\\n\\n# See https://github.com/Netflix/Hystrix/wiki/Configuration\\nhystrix:\\n    command:\\n        default:\\n            circuitBreaker:\\n                sleepWindowInMilliseconds: 100000\\n                forceClosed: true\\n            execution:\\n                isolation:\\n#                    strategy: SEMAPHORE\\n# See https://github.com/spring-cloud/spring-cloud-netflix/issues/1330\\n                    thread:\\n                        timeoutInMilliseconds: 60000\\n    shareSecurityContext: true\\n\\nmanagement:\\n    endpoints:\\n        web:\\n            base-path: /management\\n            exposure:\\n                include: [\"configprops\", \"env\", \"health\", \"info\", \"threaddump\"]\\n    endpoint:\\n        health:\\n            show-details: when_authorized\\n    info:\\n        git:\\n            mode: full\\n    health:\\n        mail:\\n            enabled: false # When using the MailService, configure an SMTP server and set this to true\\n    metrics:\\n        enabled: false # http://micrometer.io/ is disabled by default, as we use http://metrics.dropwizard.io/ instead\\n\\nspring:\\n    application:\\n        name: product\\n    jpa:\\n        open-in-view: false\\n        hibernate:\\n            ddl-auto: update\\n            naming:\\n                physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\\n                implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\\n    messages:\\n        basename: i18n/messages\\n    mvc:\\n        favicon:\\n            enabled: false\\n    thymeleaf:\\n        mode: HTML\\nsecurity:\\n    oauth2:\\n        resource:\\n            filter-order: 3\\n\\nserver:\\n    servlet:\\n        session:\\n            cookie:\\n                http-only: true\\n\\n# Properties to be exposed on the /info management endpoint\\ninfo:\\n    # Comma separated list of profiles that will trigger the ribbon to show\\n    display-ribbon-on-profiles: \"dev\"\\n\\n# ===================================================================\\n# JHipster specific properties\\n#\\n# Full reference is available at: https://www.jhipster.tech/common-application-properties/\\n# ===================================================================\\n\\njhipster:\\n    async:\\n        core-pool-size: 2\\n        max-pool-size: 50\\n        queue-capacity: 10000\\n    # By default CORS is disabled. Uncomment to enable.\\n    #cors:\\n        #allowed-origins: \"*\"\\n        #allowed-methods: \"*\"\\n        #allowed-headers: \"*\"\\n        #exposed-headers: \"Authorization,Link,X-Total-Count\"\\n        #allow-credentials: true\\n        #max-age: 1800\\n    mail:\\n        from: product@localhost\\n    swagger:\\n        default-include-pattern: /api/.*\\n        title: product API\\n        description: product API documentation\\n        version: 0.0.1\\n        terms-of-service-url:\\n        contact-name:\\n        contact-url:\\n        contact-email:\\n        license:\\n        license-url:\\n\\n# ===================================================================\\n# Application specific properties\\n# Add your own application properties here, see the ApplicationProperties class\\n# to have type-safe configuration, like in the JHipsterProperties above\\n#\\n# More documentation is available at:\\n# https://www.jhipster.tech/common-application-properties/\\n# ===================================================================\\n\\n# application:\\n'}},mounted:function(){var e=this;window.onresize=function(){e.height=document.documentElement.clientHeight-210+\"px\"}}};t.default=a},8128:function(e,t,n){\"use strict\";n.r(t);var r=n(\"0e24\"),i=n(\"e789\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"91a7\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"26773c45\",null);t[\"default\"]=s.exports},8147:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r={props:{src:{type:String,required:!0}},data:function(){return{height:document.documentElement.clientHeight-94.5+\"px;\",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+\"px;\"}}};t.default=r},\"817d\":function(e,t,n){var r,i,a;(function(o,s){i=[t,n(\"313e\")],r=s,a=\"function\"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)})(0,(function(e,t){var n=function(e){\"undefined\"!==typeof console&&console&&console.error&&console.error(e)};if(t){var r=[\"#2ec7c9\",\"#b6a2de\",\"#5ab1ef\",\"#ffb980\",\"#d87a80\",\"#8d98b3\",\"#e5cf0d\",\"#97b552\",\"#95706d\",\"#dc69aa\",\"#07a2a4\",\"#9a7fd1\",\"#588dd5\",\"#f5994e\",\"#c05050\",\"#59678c\",\"#c9ab00\",\"#7eb00a\",\"#6f5553\",\"#c14089\"],i={color:r,title:{textStyle:{fontWeight:\"normal\",color:\"#008acd\"}},visualMap:{itemWidth:15,color:[\"#5ab1ef\",\"#e0ffff\"]},toolbox:{iconStyle:{normal:{borderColor:r[0]}}},tooltip:{backgroundColor:\"rgba(50,50,50,0.5)\",axisPointer:{type:\"line\",lineStyle:{color:\"#008acd\"},crossStyle:{color:\"#008acd\"},shadowStyle:{color:\"rgba(200,200,200,0.2)\"}}},dataZoom:{dataBackgroundColor:\"#efefff\",fillerColor:\"rgba(182,162,222,0.2)\",handleColor:\"#008acd\"},grid:{borderColor:\"#eee\"},categoryAxis:{axisLine:{lineStyle:{color:\"#008acd\"}},splitLine:{lineStyle:{color:[\"#eee\"]}}},valueAxis:{axisLine:{lineStyle:{color:\"#008acd\"}},splitArea:{show:!0,areaStyle:{color:[\"rgba(250,250,250,0.1)\",\"rgba(200,200,200,0.1)\"]}},splitLine:{lineStyle:{color:[\"#eee\"]}}},timeline:{lineStyle:{color:\"#008acd\"},controlStyle:{normal:{color:\"#008acd\"},emphasis:{color:\"#008acd\"}},symbol:\"emptyCircle\",symbolSize:3},line:{smooth:!0,symbol:\"emptyCircle\",symbolSize:3},candlestick:{itemStyle:{normal:{color:\"#d87a80\",color0:\"#2ec7c9\",lineStyle:{color:\"#d87a80\",color0:\"#2ec7c9\"}}}},scatter:{symbol:\"circle\",symbolSize:4},map:{label:{normal:{textStyle:{color:\"#d87a80\"}}},itemStyle:{normal:{borderColor:\"#eee\",areaColor:\"#ddd\"},emphasis:{areaColor:\"#fe994e\"}}},graph:{color:r},gauge:{axisLine:{lineStyle:{color:[[.2,\"#2ec7c9\"],[.8,\"#5ab1ef\"],[1,\"#d87a80\"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:\"auto\"}},splitLine:{length:22,lineStyle:{color:\"auto\"}},pointer:{width:5}}};t.registerTheme(\"macarons\",i)}else n(\"ECharts is not Loaded\")}))},\"829e\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"500px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.chart.setOption({tooltip:{trigger:\"axis\",axisPointer:{type:\"line\",lineStyle:{color:\"rgba(0,0,0,0.2)\",width:1,type:\"solid\"}}},legend:{data:[\"DQ\",\"TY\",\"SS\",\"QG\",\"SY\",\"DD\"]},singleAxis:{top:50,bottom:50,axisTick:{},axisLabel:{},type:\"time\",axisPointer:{animation:!0,label:{show:!0}},splitLine:{show:!0,lineStyle:{type:\"dashed\",opacity:.2}}},series:[{type:\"themeRiver\",itemStyle:{emphasis:{shadowBlur:20,shadowColor:\"rgba(0, 0, 0, 0.8)\"}},data:[[\"2015/11/08\",10,\"DQ\"],[\"2015/11/09\",15,\"DQ\"],[\"2015/11/10\",35,\"DQ\"],[\"2015/11/11\",38,\"DQ\"],[\"2015/11/12\",22,\"DQ\"],[\"2015/11/13\",16,\"DQ\"],[\"2015/11/14\",7,\"DQ\"],[\"2015/11/15\",2,\"DQ\"],[\"2015/11/16\",17,\"DQ\"],[\"2015/11/17\",33,\"DQ\"],[\"2015/11/18\",40,\"DQ\"],[\"2015/11/19\",32,\"DQ\"],[\"2015/11/20\",26,\"DQ\"],[\"2015/11/21\",35,\"DQ\"],[\"2015/11/22\",40,\"DQ\"],[\"2015/11/23\",32,\"DQ\"],[\"2015/11/24\",26,\"DQ\"],[\"2015/11/25\",22,\"DQ\"],[\"2015/11/26\",16,\"DQ\"],[\"2015/11/27\",22,\"DQ\"],[\"2015/11/28\",10,\"DQ\"],[\"2015/11/08\",35,\"TY\"],[\"2015/11/09\",36,\"TY\"],[\"2015/11/10\",37,\"TY\"],[\"2015/11/11\",22,\"TY\"],[\"2015/11/12\",24,\"TY\"],[\"2015/11/13\",26,\"TY\"],[\"2015/11/14\",34,\"TY\"],[\"2015/11/15\",21,\"TY\"],[\"2015/11/16\",18,\"TY\"],[\"2015/11/17\",45,\"TY\"],[\"2015/11/18\",32,\"TY\"],[\"2015/11/19\",35,\"TY\"],[\"2015/11/20\",30,\"TY\"],[\"2015/11/21\",28,\"TY\"],[\"2015/11/22\",27,\"TY\"],[\"2015/11/23\",26,\"TY\"],[\"2015/11/24\",15,\"TY\"],[\"2015/11/25\",30,\"TY\"],[\"2015/11/26\",35,\"TY\"],[\"2015/11/27\",42,\"TY\"],[\"2015/11/28\",42,\"TY\"],[\"2015/11/08\",21,\"SS\"],[\"2015/11/09\",25,\"SS\"],[\"2015/11/10\",27,\"SS\"],[\"2015/11/11\",23,\"SS\"],[\"2015/11/12\",24,\"SS\"],[\"2015/11/13\",21,\"SS\"],[\"2015/11/14\",35,\"SS\"],[\"2015/11/15\",39,\"SS\"],[\"2015/11/16\",40,\"SS\"],[\"2015/11/17\",36,\"SS\"],[\"2015/11/18\",33,\"SS\"],[\"2015/11/19\",43,\"SS\"],[\"2015/11/20\",40,\"SS\"],[\"2015/11/21\",34,\"SS\"],[\"2015/11/22\",28,\"SS\"],[\"2015/11/23\",26,\"SS\"],[\"2015/11/24\",37,\"SS\"],[\"2015/11/25\",41,\"SS\"],[\"2015/11/26\",46,\"SS\"],[\"2015/11/27\",47,\"SS\"],[\"2015/11/28\",41,\"SS\"],[\"2015/11/08\",10,\"QG\"],[\"2015/11/09\",15,\"QG\"],[\"2015/11/10\",35,\"QG\"],[\"2015/11/11\",38,\"QG\"],[\"2015/11/12\",22,\"QG\"],[\"2015/11/13\",16,\"QG\"],[\"2015/11/14\",7,\"QG\"],[\"2015/11/15\",2,\"QG\"],[\"2015/11/16\",17,\"QG\"],[\"2015/11/17\",33,\"QG\"],[\"2015/11/18\",40,\"QG\"],[\"2015/11/19\",32,\"QG\"],[\"2015/11/20\",26,\"QG\"],[\"2015/11/21\",35,\"QG\"],[\"2015/11/22\",40,\"QG\"],[\"2015/11/23\",32,\"QG\"],[\"2015/11/24\",26,\"QG\"],[\"2015/11/25\",22,\"QG\"],[\"2015/11/26\",16,\"QG\"],[\"2015/11/27\",22,\"QG\"],[\"2015/11/28\",10,\"QG\"],[\"2015/11/08\",10,\"SY\"],[\"2015/11/09\",15,\"SY\"],[\"2015/11/10\",35,\"SY\"],[\"2015/11/11\",38,\"SY\"],[\"2015/11/12\",22,\"SY\"],[\"2015/11/13\",16,\"SY\"],[\"2015/11/14\",7,\"SY\"],[\"2015/11/15\",2,\"SY\"],[\"2015/11/16\",17,\"SY\"],[\"2015/11/17\",33,\"SY\"],[\"2015/11/18\",40,\"SY\"],[\"2015/11/19\",32,\"SY\"],[\"2015/11/20\",26,\"SY\"],[\"2015/11/21\",35,\"SY\"],[\"2015/11/22\",4,\"SY\"],[\"2015/11/23\",32,\"SY\"],[\"2015/11/24\",26,\"SY\"],[\"2015/11/25\",22,\"SY\"],[\"2015/11/26\",16,\"SY\"],[\"2015/11/27\",22,\"SY\"],[\"2015/11/28\",10,\"SY\"],[\"2015/11/08\",10,\"DD\"],[\"2015/11/09\",15,\"DD\"],[\"2015/11/10\",35,\"DD\"],[\"2015/11/11\",38,\"DD\"],[\"2015/11/12\",22,\"DD\"],[\"2015/11/13\",16,\"DD\"],[\"2015/11/14\",7,\"DD\"],[\"2015/11/15\",2,\"DD\"],[\"2015/11/16\",17,\"DD\"],[\"2015/11/17\",33,\"DD\"],[\"2015/11/18\",4,\"DD\"],[\"2015/11/19\",32,\"DD\"],[\"2015/11/20\",26,\"DD\"],[\"2015/11/21\",35,\"DD\"],[\"2015/11/22\",40,\"DD\"],[\"2015/11/23\",32,\"DD\"],[\"2015/11/24\",26,\"DD\"],[\"2015/11/25\",22,\"DD\"],[\"2015/11/26\",16,\"DD\"],[\"2015/11/27\",22,\"DD\"],[\"2015/11/28\",10,\"DD\"]]}]})}}};t.default=o},\"82a3\":function(e,t,n){\"use strict\";var r=n(\"4ea4\"),i=n(\"dbce\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"ac6a\");var a=n(\"aa50\"),o=n(\"10ef\"),s=i(n(\"159b\")),l=r(n(\"f096\")),u=r(n(\"691b\")),c=r(n(\"63f7\")),d=(0,s.default)({url:\"api/generator/tables\"}),f={name:\"GeneratorIndex\",components:{pagination:c.default,crudOperation:u.default,rrOperation:l.default},mixins:[(0,s.presenter)(d),(0,s.header)()],data:function(){return{syncLoading:!1}},created:function(){this.crud.optShow={add:!1,edit:!1,del:!1,download:!1}},methods:{toGen:function(e){var t=this;(0,a.generator)(e,0).then((function(e){t.$notify({title:\"生成成功\",type:\"success\",duration:2500})}))},toDownload:function(e){(0,a.generator)(e,2).then((function(t){(0,o.downloadFile)(t,e,\"zip\")}))},sync:function(){var e=this,t=[];this.crud.selections.forEach((function(e){t.push(e.tableName)})),this.syncLoading=!0,(0,a.sync)(t).then((function(){e.crud.refresh(),e.crud.notify(\"同步成功\",s.default.NOTIFICATION_TYPE.SUCCESS),e.syncLoading=!1})).then((function(){e.syncLoading=!1}))}}};t.default=f},8406:function(e,t,n){\"use strict\";n.r(t);var r=n(\"96ca\"),i=n(\"38cde\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"1b6af620\",null);t[\"default\"]=s.exports},\"87a1\":function(e,t,n){e.exports=n(\"0a4f\")},8807:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.chart.setOption({tooltip:{formatter:\"{a} <br/>{b} : {c}%\"},toolbox:{feature:{restore:{},saveAsImage:{}}},series:[{name:\"业务指标\",type:\"gauge\",detail:{formatter:\"{value}%\"},data:[{value:50,name:\"完成率\"}]}]})}}};t.default=o},\"88f5\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"add\",(function(){return i})),n.d(t,\"del\",(function(){return a})),n.d(t,\"edit\",(function(){return o})),n.d(t,\"getApps\",(function(){return s})),n.d(t,\"getServers\",(function(){return l})),n.d(t,\"startServer\",(function(){return u})),n.d(t,\"stopServer\",(function(){return c})),n.d(t,\"serverStatus\",(function(){return d}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/deploy\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/deploy\",method:\"delete\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/deploy\",method:\"put\",data:e})}function s(){return Object(r[\"default\"])({url:\"api/app\",method:\"get\"})}function l(){return Object(r[\"default\"])({url:\"api/serverDeploy\",method:\"get\"})}function u(e){return Object(r[\"default\"])({url:\"api/deploy/startServer\",method:\"post\",data:e})}function c(e){return Object(r[\"default\"])({url:\"api/deploy/stopServer\",method:\"post\",data:e})}function d(e){return Object(r[\"default\"])({url:\"api/deploy/serverStatus\",method:\"post\",data:e})}t[\"default\"]={add:i,edit:o,del:a,stopServer:c,serverStatus:d,startServer:u,getServers:l,getApps:s}},\"8a1e\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"2d27\")),a=r(n(\"664a\")),o={name:\"Storage\",components:{QiNiu:i.default,Local:a.default},data:function(){return{activeName:\"first\"}},methods:{tabClick:function(e){\"first\"===this.activeName?this.$refs.local.crud.toQuery():this.$refs.qiNiu.crud.toQuery()}}};t.default=o},\"8a6a\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"elFrame\",{attrs:{src:e.swaggerApi}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"8b1a\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"dashboard-container\"})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"8baa\":function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"ded3\")),o=i(n(\"6468\")),s=n(\"50f7\"),l=n(\"6d5c\"),u=r(n(\"159b\")),c=i(n(\"f096\")),d=i(n(\"691b\")),f=i(n(\"a363\")),h=i(n(\"63f7\")),p=(0,u.default)({title:\"服务器\",url:\"api/serverDeploy\",crudMethod:(0,a.default)({},o.default)}),m={id:null,name:null,ip:null,port:22,account:\"root\",password:null},v={name:\"Server\",components:{pagination:h.default,crudOperation:d.default,rrOperation:c.default,udOperation:f.default},mixins:[(0,u.presenter)(p),(0,u.header)(),(0,u.form)(m),(0,u.crud)()],data:function(){return{accountList:[],accountMap:{},loading:!1,permission:{add:[\"admin\",\"serverDeploy:add\"],edit:[\"admin\",\"serverDeploy:edit\"],del:[\"admin\",\"serverDeploy:del\"]},rules:{name:[{required:!0,message:\"请输入名称\",trigger:\"blur\"}],ip:[{required:!0,message:\"请输入IP\",trigger:\"blur\"},{validator:l.validateIP,trigger:\"change\"}],port:[{required:!0,message:\"请输入端口\",trigger:\"blur\",type:\"number\"}],account:[{required:!0,message:\"请输入账号\",trigger:\"blur\"}],password:[{required:!0,message:\"请输入密码\",trigger:\"blur\"}]}}},methods:{testConnectServer:function(){var e=this;this.$refs[\"form\"].validate((function(t){t&&(e.loading=!0,(0,s.testServerConnect)(e.form).then((function(t){e.loading=!1,e.$notify({title:t?\"连接成功\":\"连接失败\",type:t?\"success\":\"error\",duration:2500})})).catch((function(){e.loading=!1})))}))}}};t.default=v},\"8bb7\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"517e\"),i=n(\"6833\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"52032c87\",null);t[\"default\"]=s.exports},\"8db4\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"649a\"),i=n(\"02cc\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"8e8c\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"f79c\"),i=n(\"a9e9\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},\"8eb8\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"cc70\"),i=n(\"4c6c\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"6e6f\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"1b6401ff\",null);t[\"default\"]=s.exports},\"8fcc\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"el-row\",{attrs:{gutter:20}},[n(\"el-col\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{xs:24,sm:24,md:8,lg:6,xl:5}},[n(\"el-card\",{staticClass:\"box-card\"},[n(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[n(\"span\",[e._v(\"个人信息\")])]),e._v(\" \"),n(\"div\",[n(\"div\",{staticStyle:{\"text-align\":\"center\"}},[n(\"el-upload\",{staticClass:\"avatar-uploader\",attrs:{\"show-file-list\":!1,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,headers:e.headers,action:e.updateAvatarApi}},[n(\"img\",{staticClass:\"avatar\",attrs:{src:e.user.avatar?e.baseApi+e.user.avatar:e.Avatar,title:\"点击上传头像\"}})])],1),e._v(\" \"),n(\"ul\",{staticClass:\"user-info\"},[n(\"li\",[n(\"div\",{staticStyle:{height:\"100%\"}},[n(\"svg-icon\",{attrs:{\"icon-class\":\"login\"}}),e._v(\" 登录账号\"),n(\"div\",{staticClass:\"user-right\"},[e._v(e._s(e.user.username))])],1)]),e._v(\" \"),n(\"li\",[n(\"svg-icon\",{attrs:{\"icon-class\":\"user1\"}}),e._v(\" 用户昵称 \"),n(\"div\",{staticClass:\"user-right\"},[e._v(e._s(e.user.nickName))])],1),e._v(\" \"),n(\"li\",[n(\"svg-icon\",{attrs:{\"icon-class\":\"phone\"}}),e._v(\" 手机号码 \"),n(\"div\",{staticClass:\"user-right\"},[e._v(e._s(e.user.phone))])],1),e._v(\" \"),n(\"li\",[n(\"svg-icon\",{attrs:{\"icon-class\":\"email\"}}),e._v(\" 用户邮箱 \"),n(\"div\",{staticClass:\"user-right\"},[e._v(e._s(e.user.email))])],1),e._v(\" \"),n(\"li\",[n(\"svg-icon\",{attrs:{\"icon-class\":\"dept\"}}),e._v(\" 所属部门 \"),n(\"div\",{staticClass:\"user-right\"},[e._v(\" \"+e._s(e.user.dept))])],1),e._v(\" \"),n(\"li\",[n(\"svg-icon\",{attrs:{\"icon-class\":\"role\"}}),e._v(\" 用户角色 \"),n(\"div\",{staticClass:\"user-right\"},[e._v(\" \"+e._s(e.user.roles.map((function(e){return e.name})).join(\",\")))])],1),e._v(\" \"),n(\"li\",[n(\"svg-icon\",{attrs:{\"icon-class\":\"anq\"}}),e._v(\" 安全设置\\n              \"),n(\"div\",{staticClass:\"user-right\"},[n(\"a\",{on:{click:function(t){e.$refs.pass.dialog=!0}}},[e._v(\"修改密码\")]),e._v(\" \"),n(\"a\",{on:{click:function(t){e.$refs.email.dialog=!0}}},[e._v(\"修改邮箱\")])])],1)])])])],1),e._v(\" \"),n(\"el-col\",{attrs:{xs:24,sm:24,md:16,lg:18,xl:19}},[n(\"el-card\",{staticClass:\"box-card\"},[n(\"el-tabs\",{on:{\"tab-click\":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:\"activeName\"}},[n(\"el-tab-pane\",{attrs:{label:\"用户资料\",name:\"first\"}},[n(\"el-form\",{ref:\"form\",staticStyle:{\"margin-top\":\"10px\"},attrs:{model:e.form,rules:e.rules,disabled:\"\",size:\"small\",\"label-width\":\"65px\"}},[n(\"el-form-item\",{attrs:{label:\"昵称\",prop:\"nickName\"}},[n(\"el-input\",{staticStyle:{width:\"35%\"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,\"nickName\",t)},expression:\"form.nickName\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"用户昵称不作为登录使用\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"手机号\",prop:\"phone\"}},[n(\"el-input\",{staticStyle:{width:\"35%\"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,\"phone\",t)},expression:\"form.phone\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"手机号码不能重复\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"性别\"}},[n(\"el-radio-group\",{staticStyle:{width:\"178px\"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,\"sex\",t)},expression:\"form.sex\"}},[n(\"el-radio\",{attrs:{label:\"男\"}},[e._v(\"男\")]),e._v(\" \"),n(\"el-radio\",{attrs:{label:\"女\"}},[e._v(\"女\")])],1)],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"\"}},[n(\"el-button\",{attrs:{loading:e.saveLoading,type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"保存配置\")])],1)],1)],1),e._v(\" \"),n(\"el-tab-pane\",{attrs:{label:\"操作日志\",name:\"second\"}},[n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.data}},[n(\"el-table-column\",{attrs:{prop:\"description\",label:\"行为\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"requestIp\",label:\"IP\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"browser\",label:\"浏览器\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"time\",label:\"请求耗时\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[t.row.time<=300?n(\"el-tag\",[e._v(e._s(t.row.time)+\"ms\")]):t.row.time<=1e3?n(\"el-tag\",{attrs:{type:\"warning\"}},[e._v(e._s(t.row.time)+\"ms\")]):n(\"el-tag\",{attrs:{type:\"danger\"}},[e._v(e._s(t.row.time)+\"ms\")])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{align:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])},[n(\"template\",{slot:\"header\"},[n(\"div\",{staticStyle:{display:\"inline-block\",float:\"right\",cursor:\"pointer\"},on:{click:e.init}},[e._v(\"创建日期\"),n(\"i\",{staticClass:\"el-icon-refresh\",staticStyle:{\"margin-left\":\"40px\"}})])])],2)],1),e._v(\" \"),n(\"el-pagination\",{staticStyle:{\"margin-top\":\"8px\"},attrs:{total:e.total,\"current-page\":e.page+1,layout:\"total, prev, pager, next, sizes\"},on:{\"size-change\":e.sizeChange,\"current-change\":e.pageChange}})],1)],1)],1)],1)],1),e._v(\" \"),n(\"updateEmail\",{ref:\"email\",attrs:{email:e.user.email}}),e._v(\" \"),n(\"updatePass\",{ref:\"pass\"})],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},9016:function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"router-view\")},i=[],a=n(\"2877\"),o={},s=Object(a[\"a\"])(o,r,i,!1,null,null,null);t[\"default\"]=s.exports},\"90aa\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[n(\"Search\"),e._v(\" \"),n(\"crudOperation\",[n(\"el-button\",{staticClass:\"filter-item\",attrs:{slot:\"left\",type:\"danger\",icon:\"el-icon-delete\",loading:e.crud.delAllLoading},on:{click:function(t){return e.confirmDelAll()}},slot:\"left\"},[e._v(\"\\n        清空\\n      \")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[e.columns.visible(\"username\")?n(\"el-table-column\",{attrs:{prop:\"username\",label:\"用户名\"}}):e._e(),e._v(\" \"),e.columns.visible(\"requestIp\")?n(\"el-table-column\",{attrs:{prop:\"requestIp\",label:\"IP\"}}):e._e(),e._v(\" \"),e.columns.visible(\"description\")?n(\"el-table-column\",{attrs:{prop:\"description\",label:\"描述\"}}):e._e(),e._v(\" \"),e.columns.visible(\"browser\")?n(\"el-table-column\",{attrs:{prop:\"browser\",label:\"浏览器\"}}):e._e(),e._v(\" \"),e.columns.visible(\"time\")?n(\"el-table-column\",{attrs:{prop:\"time\",label:\"请求耗时\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[t.row.time<=300?n(\"el-tag\",[e._v(e._s(t.row.time)+\"ms\")]):t.row.time<=1e3?n(\"el-tag\",{attrs:{type:\"warning\"}},[e._v(e._s(t.row.time)+\"ms\")]):n(\"el-tag\",{attrs:{type:\"danger\"}},[e._v(e._s(t.row.time)+\"ms\")])]}}],null,!1,1815311135)}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建日期\",width:\"180px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e()],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"91a7\":function(e,t,n){\"use strict\";n(\"3a5a\")},\"91f6\":function(e,t,n){},9293:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,visible:e.selectRole,title:\"选择角色\",width:\"300px\",height:\"200px\"},on:{\"update:visible\":function(t){e.selectRole=t}}},[n(\"el-select\",{staticStyle:{width:\"100%\"},model:{value:e.currentRole,callback:function(t){e.currentRole=t},expression:\"currentRole\"}},e._l(e.user().roles,(function(e){return n(\"el-option\",{attrs:{value:e.id,label:e.name}})})),1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.cancel}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.goin}},[e._v(\"确认\")])],1)],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"92d4\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-row\",{staticClass:\"panel-group\",attrs:{gutter:40}},[n(\"el-col\",{staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[n(\"div\",{staticClass:\"card-panel\",on:{click:function(t){return e.handleSetLineChartData(\"newVisitis\")}}},[n(\"div\",{staticClass:\"card-panel-icon-wrapper icon-people\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"peoples\",\"class-name\":\"card-panel-icon\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"card-panel-description\"},[n(\"div\",{staticClass:\"card-panel-text\"},[e._v(\"\\n          New Visits\\n        \")]),e._v(\" \"),n(\"count-to\",{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":102400,duration:2600}})],1)])]),e._v(\" \"),n(\"el-col\",{staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[n(\"div\",{staticClass:\"card-panel\",on:{click:function(t){return e.handleSetLineChartData(\"messages\")}}},[n(\"div\",{staticClass:\"card-panel-icon-wrapper icon-message\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"message\",\"class-name\":\"card-panel-icon\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"card-panel-description\"},[n(\"div\",{staticClass:\"card-panel-text\"},[e._v(\"\\n          Messages\\n        \")]),e._v(\" \"),n(\"count-to\",{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":81212,duration:3e3}})],1)])]),e._v(\" \"),n(\"el-col\",{staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[n(\"div\",{staticClass:\"card-panel\",on:{click:function(t){return e.handleSetLineChartData(\"purchases\")}}},[n(\"div\",{staticClass:\"card-panel-icon-wrapper icon-money\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"money\",\"class-name\":\"card-panel-icon\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"card-panel-description\"},[n(\"div\",{staticClass:\"card-panel-text\"},[e._v(\"\\n          Purchases\\n        \")]),e._v(\" \"),n(\"count-to\",{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":9280,duration:3200}})],1)])]),e._v(\" \"),n(\"el-col\",{staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[n(\"div\",{staticClass:\"card-panel\",on:{click:function(t){return e.handleSetLineChartData(\"shoppings\")}}},[n(\"div\",{staticClass:\"card-panel-icon-wrapper icon-shopping\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"shopping\",\"class-name\":\"card-panel-icon\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"card-panel-description\"},[n(\"div\",{staticClass:\"card-panel-text\"},[e._v(\"\\n          Shoppings\\n        \")]),e._v(\" \"),n(\"count-to\",{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":13600,duration:3600}})],1)])])],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"94c8\":function(e,t,n){\"use strict\";n(\"a127\")},\"966f\":function(e,t,n){e.exports=n.p+\"static/img/401.089007e7.gif\"},9688:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,visible:e.dialog,title:\"应用部署\",width:\"400px\"},on:{\"update:visible\":function(t){e.dialog=t}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\"}},[n(\"el-upload\",{staticClass:\"upload-demo\",attrs:{action:e.deployUploadApi,data:e.deployInfo,headers:e.headers,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,drag:\"\"}},[n(\"i\",{staticClass:\"el-icon-upload\"}),e._v(\" \"),n(\"div\",{staticClass:\"el-upload__text\"},[e._v(\"\\n        将文件拖到此处，或\\n        \"),n(\"em\",[e._v(\"点击上传\")])]),e._v(\" \"),n(\"div\",{staticClass:\"el-upload__tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\"多个应用上传文件名称为all.zip,数据库更新脚本扩展名为.sql,上传成功后系统自动部署系统。\")])])],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.cancel}},[e._v(\"关闭\")])],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"96ca\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-form\",{ref:\"form\",staticStyle:{\"margin-top\":\"6px\"},attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"100px\"}},[n(\"el-form-item\",{attrs:{label:\"发件人邮箱\",prop:\"fromUser\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.fromUser,callback:function(t){e.$set(e.form,\"fromUser\",t)},expression:\"form.fromUser\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"Sender mailbox\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"发件用户名\",prop:\"user\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.user,callback:function(t){e.$set(e.form,\"user\",t)},expression:\"form.user\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"Sender usernamex\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"邮箱密码\",prop:\"pass\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},attrs:{type:\"password\"},model:{value:e.form.pass,callback:function(t){e.$set(e.form,\"pass\",t)},expression:\"form.pass\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"email Password\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"SMTP地址\",prop:\"host\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.host,callback:function(t){e.$set(e.form,\"host\",t)},expression:\"form.host\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"SMTP address\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"SMTP端口\",prop:\"port\"}},[n(\"el-input\",{staticStyle:{width:\"40%\"},model:{value:e.form.port,callback:function(t){e.$set(e.form,\"port\",t)},expression:\"form.port\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"SMTP port\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"\"}},[n(\"el-button\",{attrs:{loading:e.loading,size:\"medium\",type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"保存配置\")])],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},9705:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticStyle:{display:\"inline-block\"}},[n(\"el-dialog\",{attrs:{visible:e.dialog,\"close-on-click-modal\":!1,\"before-close\":e.cancel,title:e.title,\"append-to-body\":\"\",width:\"475px\"},on:{\"update:visible\":function(t){e.dialog=t},close:e.cancel}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"88px\"}},[n(\"el-form-item\",{attrs:{label:\"新邮箱\",prop:\"email\"}},[n(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{\"auto-complete\":\"on\"},model:{value:e.form.email,callback:function(t){e.$set(e.form,\"email\",t)},expression:\"form.email\"}}),e._v(\" \"),n(\"el-button\",{attrs:{loading:e.codeLoading,disabled:e.isDisabled,size:\"small\"},on:{click:e.sendCode}},[e._v(e._s(e.buttonName))])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"验证码\",prop:\"code\"}},[n(\"el-input\",{staticStyle:{width:\"320px\"},model:{value:e.form.code,callback:function(t){e.$set(e.form,\"code\",t)},expression:\"form.code\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"当前密码\",prop:\"pass\"}},[n(\"el-input\",{staticStyle:{width:\"320px\"},attrs:{type:\"password\"},model:{value:e.form.pass,callback:function(t){e.$set(e.form,\"pass\",t)},expression:\"form.pass\"}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.cancel}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:e.loading,type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"确认\")])],1)],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"97af\":function(e,t,n){\"use strict\";n(\"e524\")},\"998b\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"getErrDetail\",(function(){return i})),n.d(t,\"delAllError\",(function(){return a})),n.d(t,\"delAllInfo\",(function(){return o})),n.d(t,\"getLogStatistics\",(function(){return s})),n.d(t,\"getlogRanking\",(function(){return l})),n.d(t,\"getformRanking\",(function(){return u}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/logs/error/\"+e,method:\"get\"})}function a(){return Object(r[\"default\"])({url:\"api/logs/del/error\",method:\"delete\"})}function o(){return Object(r[\"default\"])({url:\"api/logs/del/info\",method:\"delete\"})}function s(){return Object(r[\"default\"])({url:\"api/logs/logStatistics\",method:\"get\"})}function l(){return Object(r[\"default\"])({url:\"api/logs/logRanking\",method:\"get\"})}function u(){return Object(r[\"default\"])({url:\"api/logs/formRanking\",method:\"get\"})}},\"99f3\":function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"8eb8\")),a=n(\"aa50\"),o={name:\"Preview\",components:{Java:i.default},data:function(){return{data:null,height:\"\",activeName:\"Entity\"}},created:function(){var e=this;this.height=document.documentElement.clientHeight-180+\"px\";var t=this.$route.query.tableName;(0,a.generator)(t,1).then((function(t){e.data=t})).catch((function(t){e.$message.error(t),e.$router.go(-1)}))}};t.default=o},\"9a53\":function(e,t,n){\"use strict\";n.r(t);const r=[\"info\",\"error\",\"success\",\"warning\",\"question\",\"back\",\"arrow-left\",\"arrow-down\",\"arrow-right\",\"arrow-up\",\"caret-left\",\"caret-bottom\",\"caret-top\",\"caret-right\",\"d-arrow-left\",\"d-arrow-right\",\"minus\",\"plus\",\"remove\",\"circle-plus\",\"remove-outline\",\"circle-plus-outline\",\"close\",\"check\",\"circle-close\",\"circle-check\",\"circle-close-outline\",\"circle-check-outline\",\"zoom-out\",\"zoom-in\",\"d-caret\",\"sort\",\"sort-down\",\"sort-up\",\"tickets\",\"document\",\"goods\",\"sold-out\",\"news\",\"message\",\"date\",\"printer\",\"time\",\"bell\",\"mobile-phone\",\"service\",\"view\",\"menu\",\"more\",\"more-outline\",\"star-on\",\"star-off\",\"location\",\"location-outline\",\"phone\",\"phone-outline\",\"picture\",\"picture-outline\",\"delete\",\"search\",\"edit\",\"edit-outline\",\"rank\",\"refresh\",\"share\",\"setting\",\"upload\",\"upload2\",\"download\",\"loading\"];t[\"default\"]=r},\"9ad5\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(\"4d0b\"),i={name:\"Config\",data:function(){return{loading:!1,form:{appId:\"\",sysServiceProviderId:\"\",privateKey:\"\",publicKey:\"\",returnUrl:\"\",notifyUrl:\"\"},rules:{appID:[{required:!0,message:\"请输入appID\",trigger:\"blur\"}],sysServiceProviderId:[{required:!0,message:\"请输入商家账号\",trigger:\"blur\"}],privateKey:[{required:!0,message:\"商户私钥不能为空\",trigger:\"blur\"}],publicKey:[{required:!0,message:\"支付宝公钥不能为空\",trigger:\"blur\"}],returnUrl:[{required:!0,message:\"回调地址不能为空\",trigger:\"blur\"}],notifyUrl:[{required:!0,message:\"回调地址不能为空\",trigger:\"blur\"}]}}},created:function(){this.init()},methods:{init:function(){var e=this;(0,r.get)().then((function(t){e.form=t}))},doSubmit:function(){var e=this;this.$refs[\"form\"].validate((function(t){if(!t)return!1;e.loading=!0,(0,r.update)(e.form).then((function(t){e.$notify({title:\"修改成功\",type:\"success\",duration:2500}),e.loading=!1})).catch((function(t){e.loading=!1}))}))}}};t.default=i},\"9c19\":function(e,t,n){\"use strict\";n(\"91f6\")},\"9c8f\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请输入你要搜索的内容\"},model:{value:e.query.blurry,callback:function(t){e.$set(e.query,\"blurry\",t)},expression:\"query.blurry\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"el-select\",{staticClass:\"filter-item\",staticStyle:{width:\"120px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"类型\"},on:{change:e.crud.toQuery},model:{value:e.query.type,callback:function(t){e.$set(e.query,\"type\",t)},expression:\"query.type\"}},e._l(e.dict.LOG_TYPE,(function(e){return n(\"el-option\",{key:e.id,attrs:{label:e.label,value:e.value}})})),1),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e()},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"9e9d\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[e._m(0),e._v(\" \"),n(\"Yaml\",{attrs:{value:e.value,height:e.height}})],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"p\",{staticClass:\"warn-content\"},[e._v(\"\\n    Yaml编辑器 基于\\n    \"),n(\"a\",{attrs:{href:\"https://github.com/codemirror/CodeMirror\",target:\"_blank\"}},[e._v(\"CodeMirror\")]),e._v(\"，\\n    主题预览地址 \"),n(\"a\",{attrs:{href:\"https://codemirror.net/demo/theme.html#idea\",target:\"_blank\"}},[e._v(\"Theme\")])])}];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},\"9f5e\":function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},a108:function(e,t,n){\"use strict\";n.r(t);var r=n(\"d69c\"),i=n(\"617f\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"7d7c49af\",null);t[\"default\"]=s.exports},a109:function(e,t,n){\"use strict\";n(\"c632\")},a127:function(e,t,n){},a139:function(e,t,n){\"use strict\";n.r(t);var r=n(\"f596\"),i=n(\"619c\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"ba9fa058\",null);t[\"default\"]=s.exports},a21b:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"ac6a\");var i=r(n(\"ded3\")),a=n(\"2f62\"),o=n(\"54ff\"),s=r(n(\"6fad\")),l={name:\"Editor\",data:function(){return{editorContent:'\\n        <ul>\\n          <li>富文本中图片上传使用的是 SM.MS 图床：<a style=\"color: #42b983\" target=\"_blank\" href=\"https://sm.ms/\">sm.ms</a></li>\\n          <li>更多帮助请查看官方文档：<a style=\"color: #42b983\" target=\"_blank\" href=\"https://www.kancloud.cn/wangfupeng/wangeditor3/332599\">wangEditor</a></li>\\n        </ul>'}},computed:(0,i.default)({},(0,a.mapGetters)([\"imagesUploadApi\"])),mounted:function(){var e=this,t=this,n=new s.default(this.$refs.editor);n.customConfig.zIndex=10,n.customConfig.customUploadImg=function(e,n){e.forEach((function(e){(0,o.upload)(t.imagesUploadApi,e).then((function(e){n(e.data.url)}))}))},n.customConfig.onchange=function(t){e.editorContent=t},n.create(),n.txt.html(this.editorContent)}};t.default=l},a229:function(e,t,n){\"use strict\";n.r(t);var r=n(\"7f5c\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},a28b:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"8406\")),a=r(n(\"b1ca\")),o={name:\"Email\",components:{Config:i.default,Send:a.default},data:function(){return{activeName:\"second\"}}};t.default=o},a327:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"getDicts\",(function(){return i})),n.d(t,\"add\",(function(){return a})),n.d(t,\"del\",(function(){return o})),n.d(t,\"edit\",(function(){return s}));var r=n(\"c7be\");function i(){return Object(r[\"default\"])({url:\"api/dict/all\",method:\"get\"})}function a(e){return Object(r[\"default\"])({url:\"api/dict\",method:\"post\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/dict/\"+e,method:\"delete\"})}function s(e){return Object(r[\"default\"])({url:\"api/dict\",method:\"put\",data:e})}t[\"default\"]={add:a,edit:s,del:o}},a56a:function(e,t,n){},a5cc:function(e,t,n){\"use strict\";n.r(t);var r=n(\"eee2\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},a689:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},a68b:function(e,t,n){\"use strict\";n(\"121d\")},a7be:function(e,t,n){},a889:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(\"b936\"),i={data:function(){return{zones:[\"华东\",\"华北\",\"华南\",\"北美\",\"东南亚\"],dialog:!1,loading:!1,form:{accessKey:\"\",secretKey:\"\",bucket:\"\",host:\"\",zone:\"\",type:\"\"},rules:{accessKey:[{required:!0,message:\"请输入accessKey\",trigger:\"blur\"}],secretKey:[{required:!0,message:\"请输入secretKey\",trigger:\"blur\"}],bucket:[{required:!0,message:\"请输入空间名称\",trigger:\"blur\"}],host:[{required:!0,message:\"请输入外链域名\",trigger:\"blur\"}],type:[{required:!0,message:\"空间类型不能为空\",trigger:\"blur\"}]}}},methods:{init:function(){var e=this;(0,r.get)().then((function(t){e.form=t}))},doSubmit:function(){var e=this;this.$refs[\"form\"].validate((function(t){if(!t)return!1;e.loading=!0,(0,r.update)(e.form).then((function(t){e.$notify({title:\"修改成功\",type:\"success\",duration:2500}),e.$parent.crud.toQuery(),e.loading=!1,e.dialog=!1})).catch((function(t){e.loading=!1}))}))}}};t.default=i},a9e9:function(e,t,n){\"use strict\";n.r(t);var r=n(\"8807\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},aa50:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"getAllTable\",(function(){return i})),n.d(t,\"getTableColumns\",(function(){return a})),n.d(t,\"generator\",(function(){return o})),n.d(t,\"save\",(function(){return s})),n.d(t,\"sync\",(function(){return l}));var r=n(\"c7be\");function i(){return Object(r[\"default\"])({url:\"api/generator/tables/all\",method:\"get\"})}function a(e){const t={tableName:e};return Object(r[\"default\"])({url:\"api/generator/columns\",method:\"get\",params:t})}function o(e,t){return Object(r[\"default\"])({url:\"api/generator/\"+e+\"/\"+t,method:\"post\",responseType:2===t?\"blob\":\"\"})}function s(e){return Object(r[\"default\"])({url:\"api/generator\",data:e,method:\"put\"})}function l(e){return Object(r[\"default\"])({url:\"api/generator/sync\",method:\"post\",data:e})}},abf0:function(e,t,n){},ad11:function(e,t,n){\"use strict\";n(\"c1c3\")},adef:function(e,t,n){\"use strict\";n.r(t);var r=n(\"f80b\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},af0a:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(\"159b\"),a=r(n(\"f096\")),o={components:{rrOperation:a.default},mixins:[(0,i.header)()],dicts:[\"LOG_TYPE\"]};t.default=o},afa5:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"输入任务名称搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.toQuery(t)}},model:{value:e.query.jobName,callback:function(t){e.$set(e.query,\"jobName\",t)},expression:\"query.jobName\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}},[n(\"el-button\",{staticClass:\"filter-item\",attrs:{slot:\"right\",type:\"info\",icon:\"el-icon-tickets\"},on:{click:e.doLog},slot:\"right\"},[e._v(\"日志\")])],1),e._v(\" \"),n(\"Log\",{ref:\"log\"})],1),e._v(\" \"),n(\"el-dialog\",{attrs:{\"close-on-click-modal\":!1,\"before-close\":e.crud.cancelCU,visible:e.crud.status.cu>0,title:e.crud.status.title,\"append-to-body\":\"\",width:\"600px\"},on:{\"update:visible\":function(t){return e.$set(e.crud.status,\"cu > 0\",t)}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"100px\"}},[n(\"el-form-item\",{attrs:{label:\"任务名称\",prop:\"jobName\"}},[n(\"el-input\",{staticStyle:{width:\"460px\"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,\"jobName\",t)},expression:\"form.jobName\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"Bean名称\",prop:\"beanName\"}},[n(\"el-input\",{staticStyle:{width:\"460px\"},model:{value:e.form.beanName,callback:function(t){e.$set(e.form,\"beanName\",t)},expression:\"form.beanName\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"执行方法\",prop:\"methodName\"}},[n(\"el-input\",{staticStyle:{width:\"460px\"},model:{value:e.form.methodName,callback:function(t){e.$set(e.form,\"methodName\",t)},expression:\"form.methodName\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"参数内容\"}},[n(\"el-input\",{staticStyle:{width:\"460px\"},model:{value:e.form.params,callback:function(t){e.$set(e.form,\"params\",t)},expression:\"form.params\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"Cron表达式\",prop:\"cronExpression\"}},[n(\"el-input\",{staticStyle:{width:\"460px\"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,\"cronExpression\",t)},expression:\"form.cronExpression\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"任务状态\"}},[n(\"el-radio\",{attrs:{label:!1},model:{value:e.form.isPause,callback:function(t){e.$set(e.form,\"isPause\",t)},expression:\"form.isPause\"}},[e._v(\"启用\")]),e._v(\" \"),n(\"el-radio\",{attrs:{label:!0},model:{value:e.form.isPause,callback:function(t){e.$set(e.form,\"isPause\",t)},expression:\"form.isPause\"}},[e._v(\"暂停\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"任务描述\"}},[n(\"el-input\",{staticStyle:{width:\"460px\"},attrs:{rows:\"2\",type:\"textarea\"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,\"remark\",t)},expression:\"form.remark\"}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.crud.cancelCU}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:2===e.crud.cu,type:\"primary\"},on:{click:e.crud.submitCU}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{selectable:e.checkboxT,type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"jobName\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"jobName\",width:\"100px\",label:\"任务名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"beanName\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"beanName\",label:\"Bean名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"methodName\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"methodName\",width:\"90px\",label:\"执行方法\"}}):e._e(),e._v(\" \"),e.columns.visible(\"params\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"params\",width:\"80px\",label:\"参数\"}}):e._e(),e._v(\" \"),e.columns.visible(\"cronExpression\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"cronExpression\",width:\"100px\",label:\"cron表达式\"}}):e._e(),e._v(\" \"),e.columns.visible(\"isPause\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"isPause\",width:\"90px\",label:\"状态\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-tag\",{attrs:{type:t.row.isPause?\"warning\":\"success\"}},[e._v(e._s(t.row.isPause?\"已暂停\":\"运行中\"))])]}}],null,!1,1862293404)}):e._e(),e._v(\" \"),e.columns.visible(\"remark\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"remark\",label:\"描述\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{\"show-overflow-tooltip\":!0,prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),e._v(\" \"),n(\"el-table-column\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"timing:edit\",\"timing:del\"],expression:\"['admin','timing:edit','timing:del']\"}],attrs:{label:\"操作\",width:\"180px\",align:\"center\",fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"timing:edit\"],expression:\"['admin','timing:edit']\"}],staticStyle:{\"margin-right\":\"3px\"},attrs:{type:\"text\"},on:{click:function(n){return e.crud.toEdit(t.row)}}},[e._v(\"编辑\")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"timing:edit\"],expression:\"['admin','timing:edit']\"}],staticStyle:{\"margin-left\":\"-2px\"},attrs:{type:\"text\"},on:{click:function(n){return e.execute(t.row.id)}}},[e._v(\"执行\")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"timing:edit\"],expression:\"['admin','timing:edit']\"}],staticStyle:{\"margin-left\":\"3px\"},attrs:{type:\"text\"},on:{click:function(n){return e.updateStatus(t.row.id,t.row.isPause?\"恢复\":\"暂停\")}}},[e._v(\"\\n          \"+e._s(t.row.isPause?\"恢复\":\"暂停\")+\"\\n        \")]),e._v(\" \"),n(\"el-popover\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"timing:del\"],expression:\"['admin','timing:del']\"}],ref:t.row.id,attrs:{placement:\"top\",width:\"200\"}},[n(\"p\",[e._v(\"确定停止并删除该任务吗？\")]),e._v(\" \"),n(\"div\",{staticStyle:{\"text-align\":\"right\",margin:\"0\"}},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:function(n){e.$refs[t.row.id].doClose()}}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:e.delLoading,type:\"primary\"},on:{click:function(n){return e.delMethod(t.row.id)}}},[e._v(\"确定\")])],1),e._v(\" \"),n(\"el-button\",{attrs:{slot:\"reference\",type:\"text\"},slot:\"reference\"},[e._v(\"删除\")])],1)]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},b158:function(e,t,n){\"use strict\";n.r(t);var r=n(\"10ef\");t[\"default\"]={data(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted(){this.$_resizeHandler=Object(r[\"debounce\"])(()=>{this.chart&&this.chart.resize()},100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent(){window.addEventListener(\"resize\",this.$_resizeHandler)},$_destroyResizeEvent(){window.removeEventListener(\"resize\",this.$_resizeHandler)},$_sidebarResizeHandler(e){\"width\"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent(){this.$_sidebarElm=document.getElementsByClassName(\"sidebar-container\")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener(\"transitionend\",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener(\"transitionend\",this.$_sidebarResizeHandler)}}}},b1ca:function(e,t,n){\"use strict\";n.r(t);var r=n(\"3e7b\"),i=n(\"adef\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"e2f3\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"a8c15de2\",null);t[\"default\"]=s.exports},b2d2:function(e,t,n){\"use strict\";n.r(t);var r=n(\"476f\"),i=n(\"23dd\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},b311:function(e,t,n){\n/*!\n * clipboard.js v2.0.4\n * https://zenorocha.github.io/clipboard.js\n * \n * Licensed MIT © Zeno Rocha\n */\n(function(t,n){e.exports=n()})(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";var r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),s=n(3),l=d(s),u=n(4),c=d(u);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function h(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!==typeof t&&\"function\"!==typeof t?e:t}function p(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(e,n){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return p(t,e),i(t,[{key:\"resolveOptions\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=\"function\"===typeof e.action?e.action:this.defaultAction,this.target=\"function\"===typeof e.target?e.target:this.defaultTarget,this.text=\"function\"===typeof e.text?e.text:this.defaultText,this.container=\"object\"===r(e.container)?e.container:document.body}},{key:\"listenClick\",value:function(e){var t=this;this.listener=(0,c.default)(e,\"click\",(function(e){return t.onClick(e)}))}},{key:\"onClick\",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:\"defaultAction\",value:function(e){return v(\"action\",e)}},{key:\"defaultTarget\",value:function(e){var t=v(\"target\",e);if(t)return document.querySelector(t)}},{key:\"defaultText\",value:function(e){return v(\"text\",e)}},{key:\"destroy\",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:\"isSupported\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[\"copy\",\"cut\"],t=\"string\"===typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(l.default);function v(e,t){var n=\"data-clipboard-\"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=m},function(e,t,n){\"use strict\";var r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var u=function(){function e(t){l(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:\"resolveOptions\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=\"\"}},{key:\"initSelection\",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:\"selectFake\",value:function(){var e=this,t=\"rtl\"==document.documentElement.getAttribute(\"dir\");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener(\"click\",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement(\"textarea\"),this.fakeElem.style.fontSize=\"12pt\",this.fakeElem.style.border=\"0\",this.fakeElem.style.padding=\"0\",this.fakeElem.style.margin=\"0\",this.fakeElem.style.position=\"absolute\",this.fakeElem.style[t?\"right\":\"left\"]=\"-9999px\";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+\"px\",this.fakeElem.setAttribute(\"readonly\",\"\"),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:\"removeFake\",value:function(){this.fakeHandler&&(this.container.removeEventListener(\"click\",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:\"selectTarget\",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:\"copyText\",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:\"handleResult\",value:function(e){this.emitter.emit(e?\"success\":\"error\",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:\"clearSelection\",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:\"destroy\",value:function(){this.removeFake()}},{key:\"action\",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"copy\";if(this._action=e,\"copy\"!==this._action&&\"cut\"!==this._action)throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"')},get:function(){return this._action}},{key:\"target\",set:function(e){if(void 0!==e){if(!e||\"object\"!==(\"undefined\"===typeof e?\"undefined\":r(e))||1!==e.nodeType)throw new Error('Invalid \"target\" value, use a valid Element');if(\"copy\"===this.action&&e.hasAttribute(\"disabled\"))throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');if(\"cut\"===this.action&&(e.hasAttribute(\"readonly\")||e.hasAttribute(\"disabled\")))throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=u},function(e,t){function n(e){var t;if(\"SELECT\"===e.nodeName)e.focus(),t=e.value;else if(\"INPUT\"===e.nodeName||\"TEXTAREA\"===e.nodeName){var n=e.hasAttribute(\"readonly\");n||e.setAttribute(\"readonly\",\"\"),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute(\"readonly\"),t=e.value}else{e.hasAttribute(\"contenteditable\")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=n},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var r=n(5),i=n(6);function a(e,t,n){if(!e&&!t&&!n)throw new Error(\"Missing required arguments\");if(!r.string(t))throw new TypeError(\"Second argument must be a String\");if(!r.fn(n))throw new TypeError(\"Third argument must be a Function\");if(r.node(e))return o(e,t,n);if(r.nodeList(e))return s(e,t,n);if(r.string(e))return l(e,t,n);throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function s(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}function l(e,t,n){return i(document.body,e,t,n)}e.exports=a},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&(\"[object NodeList]\"===n||\"[object HTMLCollection]\"===n)&&\"length\"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return\"string\"===typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return\"[object Function]\"===t}},function(e,t,n){var r=n(7);function i(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function a(e,t,n,r,a){return\"function\"===typeof e.addEventListener?i.apply(null,arguments):\"function\"===typeof n?i.bind(null,document).apply(null,arguments):(\"string\"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,a)})))}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=a},function(e,t){var n=9;if(\"undefined\"!==typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}function i(e,t){while(e&&e.nodeType!==n){if(\"function\"===typeof e.matches&&e.matches(t))return e;e=e.parentNode}}e.exports=i}])}))},b319:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},b5d1:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"500px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.chart.setOption({tooltip:{trigger:\"item\",formatter:\"{a} <br/>{b}: {c} ({d}%)\"},legend:{orient:\"vertical\",x:\"left\",data:[\"直达\",\"营销广告\",\"搜索引擎\",\"邮件营销\",\"联盟广告\",\"视频广告\",\"百度\",\"谷歌\",\"必应\",\"其他\"]},series:[{name:\"访问来源\",type:\"pie\",selectedMode:\"single\",radius:[0,\"30%\"],label:{normal:{position:\"inner\"}},labelLine:{normal:{show:!1}},data:[{value:335,name:\"直达\",selected:!0},{value:679,name:\"营销广告\"},{value:1548,name:\"搜索引擎\"}]},{name:\"访问来源\",type:\"pie\",radius:[\"40%\",\"55%\"],label:{normal:{formatter:\"{a|{a}}{abg|}\\n{hr|}\\n  {b|{b}：}{c}  {per|{d}%}  \",backgroundColor:\"#eee\",borderColor:\"#aaa\",borderWidth:1,borderRadius:4,shadowBlur:3,shadowOffsetX:2,shadowOffsetY:2,shadowColor:\"#999\",padding:[0,7],rich:{a:{color:\"#999\",lineHeight:22,align:\"center\"},abg:{backgroundColor:\"#333\",width:\"100%\",align:\"right\",height:22,borderRadius:[4,4,0,0]},hr:{borderColor:\"#aaa\",width:\"100%\",borderWidth:.5,height:0},b:{fontSize:16,lineHeight:33},per:{color:\"#eee\",backgroundColor:\"#334455\",padding:[2,4],borderRadius:2}}}},data:[{value:335,name:\"直达\"},{value:310,name:\"邮件营销\"},{value:234,name:\"联盟广告\"},{value:135,name:\"视频广告\"},{value:1048,name:\"百度\"},{value:251,name:\"谷歌\"},{value:147,name:\"必应\"},{value:102,name:\"其他\"}]}]})}}};t.default=o},b5e4:function(e,t,n){\"use strict\";n.r(t);var r=n(\"2a7b\"),i=n(\"c6f9\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"28f7ce84\",null);t[\"default\"]=s.exports},b6d9:function(e,t,n){\"use strict\";n.r(t);var r=n(\"05d2\"),i=n(\"3641\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"093b1dce\",null);t[\"default\"]=s.exports},b704:function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"ded3\")),o=n(\"2f62\"),s=i(n(\"32c4\")),l=r(n(\"159b\")),u=n(\"d0c1\"),c=i(n(\"f096\")),d=i(n(\"691b\")),f=i(n(\"63f7\")),h=(0,l.default)({title:\"图片\",url:\"api/pictures\",crudMethod:(0,a.default)({},s.default)}),p={name:\"Pictures\",components:{pagination:f.default,crudOperation:d.default,rrOperation:c.default},mixins:[(0,l.presenter)(h),(0,l.header)(),(0,l.crud)()],data:function(){return{dialog:!1,syncLoading:!1,headers:{Authorization:(0,u.getToken)()},permission:{del:[\"admin\",\"pictures:del\"]},dialogImageUrl:\"\",dialogVisible:!1,fileList:[],pictures:[]}},computed:(0,a.default)({},(0,o.mapGetters)([\"imagesUploadApi\"])),created:function(){this.crud.optShow.add=!1,this.crud.optShow.edit=!1},methods:{handleSuccess:function(e,t,n){var r=t.uid,i=e.id;this.pictures.push({uid:r,id:i})},handleBeforeRemove:function(e,t){for(var n=0;n<this.pictures.length;n++)if(this.pictures[n].uid===e.uid)return s.default.del(this.pictures[n].id).then((function(e){})),!0},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},doSubmit:function(){this.fileList=[],this.dialogVisible=!1,this.dialogImageUrl=\"\",this.dialog=!1,this.crud.toQuery()},handleError:function(e,t,n){var r=JSON.parse(e.message);this.$notify({title:r.message,type:\"error\",duration:2500})},sync:function(){var e=this;this.syncLoading=!0,s.default.sync().then((function(t){e.crud.notify(\"同步成功\",l.default.NOTIFICATION_TYPE.SUCCESS),e.crud.toQuery(),e.syncLoading=!1}))}}};t.default=p},b866:function(e,t,n){},b924:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\"));n(\"7cb2\");var a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\");for(var e=[],t=0;t<25;t+=.001){var n=(1+.25*Math.cos(75*t))*Math.cos(t),r=(1+.25*Math.cos(75*t))*Math.sin(t),a=t+2*Math.sin(75*t);e.push([n,r,a])}this.chart.setOption({tooltip:{},backgroundColor:\"#fff\",visualMap:{show:!1,dimension:2,min:0,max:30,inRange:{color:[\"#313695\",\"#4575b4\",\"#74add1\",\"#abd9e9\",\"#e0f3f8\",\"#ffffbf\",\"#fee090\",\"#fdae61\",\"#f46d43\",\"#d73027\",\"#a50026\"]}},xAxis3D:{type:\"value\"},yAxis3D:{type:\"value\"},zAxis3D:{type:\"value\"},grid3D:{viewControl:{projection:\"orthographic\"}},series:[{type:\"line3D\",data:e,lineStyle:{width:4}}]})}}};t.default=o},b936:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"get\",(function(){return i})),n.d(t,\"update\",(function(){return a})),n.d(t,\"download\",(function(){return o})),n.d(t,\"sync\",(function(){return s})),n.d(t,\"del\",(function(){return l}));var r=n(\"c7be\");function i(){return Object(r[\"default\"])({url:\"api/qiNiuContent/config\",method:\"get\"})}function a(e){return Object(r[\"default\"])({url:\"api/qiNiuContent/config\",data:e,method:\"put\"})}function o(e){return Object(r[\"default\"])({url:\"api/qiNiuContent/download/\"+e,method:\"get\"})}function s(){return Object(r[\"default\"])({url:\"api/qiNiuContent/synchronize\",method:\"post\"})}function l(e){return Object(r[\"default\"])({url:\"api/qiNiuContent\",method:\"delete\",data:e})}t[\"default\"]={del:l,download:o,sync:s}},b970:function(e,t,n){\"use strict\";var r=n(\"4ea4\"),i=n(\"dbce\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=r(n(\"9523\"));n(\"7f7f\");var o,s=r(n(\"ded3\")),l=n(\"2f62\"),u=n(\"d0c1\"),c=r(n(\"dca8\")),d=i(n(\"159b\")),f=r(n(\"f096\")),h=r(n(\"691b\")),p=r(n(\"63f7\")),m=(0,d.default)({title:\"文件\",url:\"api/localStorage\",crudMethod:(0,s.default)({},c.default)}),v={id:null,name:\"\",portal_visible:\"0\"},g={name:\"LocalStorage\",components:{pagination:p.default,crudOperation:h.default,rrOperation:f.default},mixins:[(0,d.presenter)(m),(0,d.header)(),(0,d.form)(v),(0,d.crud)()],dicts:[\"yes_or_no\"],data:function(){return{delAllLoading:!1,loading:!1,headers:{Authorization:(0,u.getToken)()},permission:{edit:[\"admin\",\"storage:edit\"],del:[\"admin\",\"storage:del\"]},fileList:[]}},computed:(0,s.default)({},(0,l.mapGetters)([\"baseApi\",\"fileUploadApi\"])),created:function(){this.crud.optShow.add=!1,this.crud.optShow.edit=!1},methods:(o={upload:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;0===e.fileList.length?e.$message.error(\"请选择上传文件!\"):(e.loading=!0,e.$refs.upload.submit())}))},handleChange:function(e,t){t.length>0&&(this.fileList=[t[t.length-1]]),this.form.name=e.name},beforeUpload:function(e){var t=!0;return t=e.size/1024/1024<100,t||(this.loading=!1,this.$message.error(\"上传文件大小不能超过 100MB!\")),this.form.name=e.name,t},handleSuccess:function(e,t,n){this.crud.notify(\"上传成功\",d.default.NOTIFICATION_TYPE.SUCCESS),this.$refs.upload.clearFiles(),this.crud.status.add=d.default.STATUS.NORMAL,this.crud.resetForm(),t.name=\"\",this.loading=!1,this.crud.toQuery()},handleError:function(e,t,n){var r=JSON.parse(e.message);t.name=\"\",this.$refs.upload.clearFiles(),this.$notify({title:r.message,type:\"error\",duration:2500}),this.loading=!1},beforeRemove:function(e,t){this.form.name=\"\"}},(0,a.default)(o,d.default.HOOK.beforeAddCancel,(function(e,t){this.loading=!1,this.$refs.upload.clearFiles()})),(0,a.default)(o,\"changeEnabled\",(function(e,t){var n=this,r=\"取消设置\";1==t&&(r=\"设置\"),this.$confirm(\"此操作将 [\"+r+'] \"'+e.name+'\" 为制度文件,是否继续？',\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){c.default.edit(e).then((function(e){n.$notify({title:\"设置成功\",type:\"success\",duration:2500})})).catch((function(){e.visible=\"1\"===e.visible?\"0\":\"1\"}))})).catch((function(){e.visible=\"1\"===e.visible?\"0\":\"1\"}))})),(0,a.default)(o,\"handleClick\",(function(e,t){var n=new XMLHttpRequest;n.open(\"get\",e),n.setRequestHeader(\"Authorization\",(0,u.getToken)()),n.setRequestHeader(\"Content-Type\",\"application/json\"),n.responseType=\"blob\",n.onload=function(){var e=this.response,n=t,r=document.createElement(\"a\"),i=window.URL.createObjectURL(e);r.href=i,r.download=n;var a=document.getElementsByTagName(\"body\")[0];a.appendChild(r),r.click(),a.removeChild(r),window.URL.revokeObjectURL(i)},n.send()})),o)};t.default=g},b99c:function(e,t,n){},b9dd:function(e,t,n){\"use strict\";n.r(t);var r=n(\"169d\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},b9e1:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\");var e=[\"周一\",\"周二\",\"周三\",\"很长很长的周四\",\"周五\",\"周六\",\"周日\"],t=e.map((function(e,t){return Math.round(1e3*Math.random()*(t+1))})),n=t.map((function(e,t){return{source:t,target:t+1}}));n.pop(),this.chart.setOption({title:{text:\"笛卡尔坐标系上的 Graph\"},tooltip:{},xAxis:{type:\"category\",boundaryGap:!1,data:e},yAxis:{type:\"value\"},series:[{type:\"graph\",layout:\"none\",coordinateSystem:\"cartesian2d\",symbolSize:40,label:{normal:{show:!0}},edgeSymbol:[\"circle\",\"arrow\"],edgeSymbolSize:[4,10],data:t,links:n,lineStyle:{normal:{color:\"#2f4554\"}}}]})}}};t.default=o},b9f6:function(e,t,n){\"use strict\";n.r(t);var r=n(\"1e14\"),i=n(\"51e1\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},bb2a:function(e,t,n){\"use strict\";n.r(t);var r=n(\"6099\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},bd1b:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",placeholder:\"模糊搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.blurry,callback:function(t){e.$set(e.query,\"blurry\",t)},expression:\"query.blurry\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}},[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"database:add\"],expression:\"['admin','database:add']\"}],staticClass:\"filter-item\",attrs:{slot:\"right\",disabled:!e.selectIndex,type:\"warning\",icon:\"el-icon-upload\"},on:{click:e.execute},slot:\"right\"},[e._v(\"执行脚本\\n      \")])],1)],1),e._v(\" \"),n(\"eForm\",{ref:\"execute\",attrs:{\"database-info\":e.currentRow}}),e._v(\" \"),n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,\"before-close\":e.crud.cancelCU,visible:e.crud.status.cu>0,title:e.crud.status.title,width:\"530px\"},on:{\"update:visible\":function(t){return e.$set(e.crud.status,\"cu > 0\",t)}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"100px\"}},[n(\"el-form-item\",{attrs:{label:\"连接名称\",prop:\"name\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"JDBC地址\",prop:\"jdbcUrl\"}},[n(\"el-input\",{staticStyle:{width:\"300px\"},model:{value:e.form.jdbcUrl,callback:function(t){e.$set(e.form,\"jdbcUrl\",t)},expression:\"form.jdbcUrl\"}}),e._v(\" \"),n(\"el-button\",{attrs:{loading:e.loading,type:\"success\"},on:{click:e.testConnectDatabase}},[e._v(\"测试\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"用户\",prop:\"userName\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,\"userName\",t)},expression:\"form.userName\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"密码\",prop:\"pwd\"}},[n(\"el-input\",{staticStyle:{width:\"370px\"},attrs:{type:\"password\"},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,\"pwd\",t)},expression:\"form.pwd\"}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.crud.cancelCU}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:2===e.crud.cu,type:\"primary\"},on:{click:e.crud.submitCU}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data,\"highlight-current-row\":\"\",stripe:\"\"},on:{\"selection-change\":e.crud.selectionChangeHandler,\"current-change\":e.handleCurrentChange}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"name\")?n(\"el-table-column\",{attrs:{prop:\"name\",width:\"130px\",label:\"数据库名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"jdbcUrl\")?n(\"el-table-column\",{attrs:{prop:\"jdbcUrl\",label:\"连接地址\"}}):e._e(),e._v(\" \"),e.columns.visible(\"userName\")?n(\"el-table-column\",{attrs:{prop:\"userName\",width:\"200px\",label:\"用户名\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",width:\"200px\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),e._v(\" \"),n(\"el-table-column\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"database:edit\",\"database:del\"],expression:\"['admin','database:edit','database:del']\"}],attrs:{label:\"操作\",width:\"150px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"udOperation\",{attrs:{data:t.row,permission:e.permission}})]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},be11:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,visible:e.dialog,title:\"系统还原\",width:\"800px\"},on:{\"update:visible\":function(t){e.dialog=t}}},[n(\"div\",{staticClass:\"head-container\"},[n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"success\",icon:\"el-icon-search\"},on:{click:e.toQuery}},[e._v(\"搜索\")])],1),e._v(\" \"),n(\"el-form\",{attrs:{size:\"small\",\"label-width\":\"80px\"}},[n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.data},on:{\"row-click\":e.showRow}},[n(\"el-table-column\",{attrs:{width:\"30px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-radio\",{attrs:{label:t.$index},model:{value:e.radio,callback:function(t){e.radio=t},expression:\"radio\"}})]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"appName\",label:\"应用名称\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"ip\",label:\"部署IP\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"deployDate\",label:\"部署时间\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.deployDate)))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"deployUser\",label:\"部署人员\"}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.cancel}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deploy:add\"],expression:\"['admin','deploy:add']\"}],attrs:{loading:e.submitLoading,type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"确认\")])],1),e._v(\" \"),n(\"el-pagination\",{staticStyle:{\"margin-top\":\"8px\"},attrs:{total:e.total,\"current-page\":e.page+1,layout:\"total, prev, pager, next, sizes\"},on:{\"size-change\":e.sizeChange,\"current-change\":e.pageChange}})],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},beb8:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"login\"},[n(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{model:e.loginForm,rules:e.loginRules,\"label-position\":\"left\",\"label-width\":\"0px\"}},[n(\"h3\",{staticClass:\"title\"},[e._v(\"\\n      EL-ADMIN 后台管理系统\\n    \")]),e._v(\" \"),n(\"el-form-item\",{attrs:{prop:\"username\"}},[n(\"el-input\",{attrs:{type:\"text\",\"auto-complete\":\"off\",placeholder:\"账号\"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,\"username\",t)},expression:\"loginForm.username\"}},[n(\"svg-icon\",{staticClass:\"el-input__icon input-icon\",attrs:{slot:\"prefix\",\"icon-class\":\"user\"},slot:\"prefix\"})],1)],1),e._v(\" \"),n(\"el-form-item\",{attrs:{prop:\"password\"}},[n(\"el-input\",{attrs:{type:\"password\",\"auto-complete\":\"off\",placeholder:\"密码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,\"password\",t)},expression:\"loginForm.password\"}},[n(\"svg-icon\",{staticClass:\"el-input__icon input-icon\",attrs:{slot:\"prefix\",\"icon-class\":\"password\"},slot:\"prefix\"})],1)],1),e._v(\" \"),e.codeEnabled?n(\"el-form-item\",{attrs:{prop:\"code\"}},[n(\"el-input\",{staticStyle:{width:\"63%\"},attrs:{\"auto-complete\":\"off\",placeholder:\"验证码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,\"code\",t)},expression:\"loginForm.code\"}},[n(\"svg-icon\",{staticClass:\"el-input__icon input-icon\",attrs:{slot:\"prefix\",\"icon-class\":\"validCode\"},slot:\"prefix\"})],1),e._v(\" \"),n(\"div\",{staticClass:\"login-code\"},[n(\"img\",{attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),e._v(\" \"),n(\"el-checkbox\",{staticStyle:{margin:\"0 0 25px 0\"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,\"rememberMe\",t)},expression:\"loginForm.rememberMe\"}},[e._v(\"\\n      记住我\\n    \")]),e._v(\" \"),n(\"el-form-item\",{staticStyle:{width:\"100%\"}},[n(\"el-button\",{staticStyle:{width:\"100%\"},attrs:{loading:e.loading,size:\"medium\",type:\"primary\"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?n(\"span\",[e._v(\"登 录 中...\")]):n(\"span\",[e._v(\"登 录\")])])],1)],1),e._v(\" \"),e.$store.state.settings.showFooter?n(\"div\",{attrs:{id:\"el-login-footer\"}},[n(\"span\",{domProps:{innerHTML:e._s(e.$store.state.settings.footerTxt)}}),e._v(\" \"),n(\"span\",[e._v(\" ⋅ \")]),e._v(\" \"),n(\"a\",{attrs:{href:\"https://beian.miit.gov.cn/#/Integrated/index\",target:\"_blank\"}},[e._v(e._s(e.$store.state.settings.caseNumber))])]):e._e()],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},bf4a:function(e,t,n){\"use strict\";n(\"2f63\")},bf64:function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=i(n(\"ded3\")),o=i(n(\"44ec\")),s=r(n(\"159b\")),l=i(n(\"f096\")),u=i(n(\"691b\")),c=i(n(\"a363\")),d=i(n(\"63f7\")),f=(0,s.default)({title:\"应用\",url:\"api/app\",crudMethod:(0,a.default)({},o.default)}),h={id:null,name:null,port:8080,uploadPath:\"/opt/upload\",deployPath:\"/opt/app\",backupPath:\"/opt/backup\",startScript:null,deployScript:null},p={name:\"App\",components:{pagination:d.default,crudOperation:u.default,rrOperation:l.default,udOperation:c.default},mixins:[(0,s.presenter)(f),(0,s.header)(),(0,s.form)(h),(0,s.crud)()],data:function(){return{currentRow:null,permission:{add:[\"admin\",\"app:add\"],edit:[\"admin\",\"app:edit\"],del:[\"admin\",\"app:del\"]},rules:{name:[{required:!0,message:\"请输入应用名称\",trigger:\"blur\"}],port:[{required:!0,message:\"请输入应用端口\",trigger:\"blur\",type:\"number\"}],uploadPath:[{required:!0,message:\"请输入上传目录\",trigger:\"blur\"}],deployPath:[{required:!0,message:\"请输入部署目录\",trigger:\"blur\"}],backupPath:[{required:!0,message:\"请输入备份目录\",trigger:\"blur\"}],startScript:[{required:!0,message:\"请输入启动脚本\",trigger:\"blur\"}],deployScript:[{required:!0,message:\"请输入部署脚本\",trigger:\"blur\"}]}}},methods:{copy:function(){for(var e in this.currentRow)this.form[e]=this.currentRow[e];this.form.id=null,this.form.createTime=null,this.crud.toAdd()},handleCurrentChange:function(e){this.currentRow=JSON.parse(JSON.stringify(e))}}};t.default=p},c03d:function(e,t,n){var r=n(\"3eba\");r.extendChartView({type:\"wordCloud\",render:function(e,t,n){var i=this.group;i.removeAll();var a=e.getData(),o=e.get(\"gridSize\");e.layoutInstance.ondraw=function(e,t,n,s){var l=a.getItemModel(n),u=l.getModel(\"textStyle.normal\"),c=l.getModel(\"textStyle.emphasis\"),d=new r.graphic.Text({style:r.graphic.setTextStyle({},u,{x:s.info.fillTextOffsetX,y:s.info.fillTextOffsetY+.5*t,text:e,textBaseline:\"middle\",textFill:a.getItemVisual(n,\"color\"),fontSize:t}),scale:[1/s.info.mu,1/s.info.mu],position:[(s.gx+s.info.gw/2)*o,(s.gy+s.info.gh/2)*o],rotation:s.rot});i.add(d),a.setItemGraphicEl(n,d),r.graphic.setHoverStyle(d,r.graphic.setTextStyle({},c,null,{forMerge:!0},!0))},this._model=e},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}})},c05b:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(\"4d0b\"),i={data:function(){return{url:\"\",newWin:null,loading:!1,form:{subject:\"\",totalAmount:\"\",body:\"\"},rules:{subject:[{required:!0,message:\"商品名称不能为空\",trigger:\"blur\"}],totalAmount:[{required:!0,message:\"商品价格不能为空\",trigger:\"blur\"}],body:[{required:!0,message:\"商品描述不能为空\",trigger:\"blur\"}]}}},watch:{url:function(e,t){e&&this.newWin&&(this.newWin.sessionStorage.clear(),this.newWin.location.href=e,this.url=\"\",this.newWin=null)}},methods:{doSubmit:function(){var e=this;this.$refs[\"form\"].validate((function(t){if(!t)return!1;e.loading=!0,e.newWin=window.open();var n=\"\";n=/(Android)/i.test(navigator.userAgent)||/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?\"aliPay/toPayAsWeb\":\"aliPay/toPayAsPC\",(0,r.toAliPay)(n,e.form).then((function(t){e.loading=!1,e.url=t})).catch((function(t){e.loading=!1}))}))}}};t.default=i},c089:function(e,t,n){\"use strict\";n.r(t);var r=n(\"59bc\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},c0c3:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"p\",{staticClass:\"warn-content\"},[e._v(\"\\n    富文本基于\\n    \"),n(\"el-link\",{attrs:{type:\"primary\",href:\"https://www.kancloud.cn/wangfupeng/wangeditor3/332599\",target:\"_blank\"}},[e._v(\"wangEditor\")]),e._v(\"\\n    ，图片上传使用 \"),n(\"el-link\",{attrs:{type:\"primary\",href:\"https://sm.ms/\",target:\"_blank\"}},[e._v(\"SM.MS\")])],1),e._v(\" \"),n(\"el-row\",{attrs:{gutter:10}},[n(\"el-col\",{attrs:{xs:24,sm:24,md:15,lg:15,xl:15}},[n(\"div\",{ref:\"editor\",staticClass:\"text\"})]),e._v(\" \"),n(\"el-col\",{attrs:{xs:24,sm:24,md:9,lg:9,xl:9}},[n(\"div\",{domProps:{innerHTML:e._s(e.editorContent)}})])],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},c19c:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"56b3\"));n(\"a7be\"),n(\"b866\"),n(\"4ba6\");var a={props:{value:{type:String,required:!0},height:{type:String,required:!0}},data:function(){return{editor:!1}},watch:{value:function(e){var t=this.editor.getValue();e!==t&&this.editor.setValue(this.value)},height:function(e){this.editor.setSize(\"auto\",this.height)}},mounted:function(){this.editor=i.default.fromTextArea(this.$refs.textarea,{mode:\"text/x-java\",lineNumbers:!0,lint:!0,lineWrapping:!0,tabSize:2,cursorHeight:.9,theme:\"idea\",readOnly:!0}),this.editor.setSize(\"auto\",this.height),this.editor.setValue(this.value)},methods:{getValue:function(){return this.editor.getValue()}}};t.default=a},c1c3:function(e,t,n){},c220:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"ded3\")),a=n(\"54ff\"),o=n(\"2f62\"),s={name:\"Markdown\",data:function(){return{height:document.documentElement.clientHeight-200+\"px\"}},computed:(0,i.default)({},(0,o.mapGetters)([\"imagesUploadApi\"])),mounted:function(){var e=this;window.onresize=function(){e.height=document.documentElement.clientHeight-200+\"px\"}},methods:{imgAdd:function(e,t){var n=this;(0,a.upload)(this.imagesUploadApi,t).then((function(t){n.$refs.md.$img2Url(e,t.data.url)}))}}};t.default=s},c2f7:function(e,t,n){\"use strict\";n(\"f718\")},c3d7:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.chart.setOption({tooltip:{position:\"top\"},animation:!1,grid:{height:\"50%\",y:\"10%\"},xAxis:{type:\"category\",data:[\"12a\",\"1a\",\"2a\",\"3a\",\"4a\",\"5a\",\"6a\",\"7a\",\"8a\",\"9a\",\"10a\",\"11a\",\"12p\",\"1p\",\"2p\",\"3p\",\"4p\",\"5p\",\"6p\",\"7p\",\"8p\",\"9p\",\"10p\",\"11p\"],splitArea:{show:!0}},yAxis:{type:\"category\",data:[\"Saturday\",\"Friday\",\"Thursday\",\"Wednesday\",\"Tuesday\",\"Monday\",\"Sunday\"],splitArea:{show:!0}},visualMap:{min:0,max:10,calculable:!0,orient:\"horizontal\",left:\"center\",bottom:\"15%\"},series:[{name:\"Punch Card\",type:\"heatmap\",data:[[0,0,5],[0,1,1],[0,2,0],[0,3,0],[0,4,0],[0,5,0],[0,6,0],[0,7,0],[0,8,0],[0,9,0],[0,10,0],[0,11,2],[0,12,4],[0,13,1],[0,14,1],[0,15,3],[0,16,4],[0,17,6],[0,18,4],[0,19,4],[0,20,3],[0,21,3],[0,22,2],[0,23,5],[1,0,7],[1,1,0],[1,2,0],[1,3,0],[1,4,0],[1,5,0],[1,6,0],[1,7,0],[1,8,0],[1,9,0],[1,10,5],[1,11,2],[1,12,2],[1,13,6],[1,14,9],[1,15,11],[1,16,6],[1,17,7],[1,18,8],[1,19,12],[1,20,5],[1,21,5],[1,22,7],[1,23,2],[2,0,1],[2,1,1],[2,2,0],[2,3,0],[2,4,0],[2,5,0],[2,6,0],[2,7,0],[2,8,0],[2,9,0],[2,10,3],[2,11,2],[2,12,1],[2,13,9],[2,14,8],[2,15,10],[2,16,6],[2,17,5],[2,18,5],[2,19,5],[2,20,7],[2,21,4],[2,22,2],[2,23,4],[3,0,7],[3,1,3],[3,2,0],[3,3,0],[3,4,0],[3,5,0],[3,6,0],[3,7,0],[3,8,1],[3,9,0],[3,10,5],[3,11,4],[3,12,7],[3,13,14],[3,14,13],[3,15,12],[3,16,9],[3,17,5],[3,18,5],[3,19,10],[3,20,6],[3,21,4],[3,22,4],[3,23,1],[4,0,1],[4,1,3],[4,2,0],[4,3,0],[4,4,0],[4,5,1],[4,6,0],[4,7,0],[4,8,0],[4,9,2],[4,10,4],[4,11,4],[4,12,2],[4,13,4],[4,14,4],[4,15,14],[4,16,12],[4,17,1],[4,18,8],[4,19,5],[4,20,3],[4,21,7],[4,22,3],[4,23,0],[5,0,2],[5,1,1],[5,2,0],[5,3,3],[5,4,0],[5,5,0],[5,6,0],[5,7,0],[5,8,2],[5,9,0],[5,10,4],[5,11,1],[5,12,5],[5,13,10],[5,14,5],[5,15,7],[5,16,11],[5,17,6],[5,18,0],[5,19,5],[5,20,3],[5,21,4],[5,22,2],[5,23,0],[6,0,1],[6,1,0],[6,2,0],[6,3,0],[6,4,0],[6,5,0],[6,6,0],[6,7,0],[6,8,0],[6,9,0],[6,10,1],[6,11,0],[6,12,2],[6,13,1],[6,14,3],[6,15,4],[6,16,0],[6,17,0],[6,18,0],[6,19,0],[6,20,1],[6,21,2],[6,22,2],[6,23,6]].map((function(e){return[e[1],e[0],e[2]||\"-\"]})),label:{normal:{show:!0}},itemStyle:{emphasis:{shadowBlur:10,shadowColor:\"rgba(0, 0, 0, 0.5)\"}}}]})}}};t.default=o},c3dd:function(e,t,n){\"use strict\";n.r(t);var r=n(\"c0c3\"),i=n(\"61be\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"9c19\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"f33e738a\",null);t[\"default\"]=s.exports},c3ed:function(e,t,n){\"use strict\";n.r(t);var r=n(\"829e\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},c632:function(e,t,n){},c63b:function(e,t,n){\"use strict\";n.r(t);var r=n(\"eb5a\"),i=n(\"bb2a\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},c6f9:function(e,t,n){\"use strict\";n.r(t);var r=n(\"8a1e\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},c9a9:function(e,t,n){\"use strict\";n.r(t);var r=n(\"c220\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},cb16:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"ec1b\")),a={components:{CountTo:i.default},methods:{handleSetLineChartData:function(e){this.$emit(\"handleSetLineChartData\",e)}}};t.default=a},cbcc:function(e,t,n){\"use strict\";n.r(t);var r=n(\"7833\"),i=n(\"c089\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},cc70:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"json-editor\"},[n(\"textarea\",{ref:\"textarea\"})])},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},cd08:function(e,t,n){\"use strict\";n.r(t);var r=n(\"f768\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},cde8:function(e,t,n){\"use strict\";n.r(t);var r=n(\"9688\"),i=n(\"10ed\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"a6c123a6\",null);t[\"default\"]=s.exports},ce7f:function(e,t,n){\"use strict\";n.r(t);var r=n(\"b319\"),i=n(\"331d\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},ce9f:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,visible:e.dialog,title:\"执行脚本\",width:\"400px\"},on:{\"update:visible\":function(t){e.dialog=t}}},[n(\"el-form\",{ref:\"form\",attrs:{rules:e.rules,size:\"small\"}},[n(\"el-upload\",{staticClass:\"upload-demo\",attrs:{action:e.databaseUploadApi,data:e.databaseInfo,headers:e.headers,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,drag:\"\"}},[n(\"i\",{staticClass:\"el-icon-upload\"}),e._v(\" \"),n(\"div\",{staticClass:\"el-upload__text\"},[e._v(\"\\n        将文件拖到此处，或\\n        \"),n(\"em\",[e._v(\"点击上传\")])]),e._v(\" \"),n(\"div\",{staticClass:\"el-upload__tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\"上传后，系统会自动执行SQL脚本\")])])],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.cancel}},[e._v(\"关闭\")])],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},cec3:function(e,t,n){\"use strict\";n.r(t);var r=n(\"80d7\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},ced0:function(e,t,n){(function(e){e(n(\"56b3\"))})((function(e){\"use strict\";e.defineMode(\"yaml\",(function(){var e=[\"true\",\"false\",\"on\",\"off\",\"yes\",\"no\"],t=new RegExp(\"\\\\b((\"+e.join(\")|(\")+\"))$\",\"i\");return{token:function(e,n){var r=e.peek(),i=n.escaped;if(n.escaped=!1,\"#\"==r&&(0==e.pos||/\\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),\"comment\";if(e.match(/^('([^']|\\\\.)*'?|\"([^\"]|\\\\.)*\"?)/))return\"string\";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),\"string\";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match(\"---\"))return\"def\";if(e.match(\"...\"))return\"def\";if(e.match(/\\s*-\\s+/))return\"meta\"}if(e.match(/^(\\{|\\}|\\[|\\])/))return\"{\"==r?n.inlinePairs++:\"}\"==r?n.inlinePairs--:\"[\"==r?n.inlineList++:n.inlineList--,\"meta\";if(n.inlineList>0&&!i&&\",\"==r)return e.next(),\"meta\";if(n.inlinePairs>0&&!i&&\",\"==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),\"meta\";if(n.pairStart){if(e.match(/^\\s*(\\||\\>)\\s*/))return n.literal=!0,\"meta\";if(e.match(/^\\s*(\\&|\\*)[a-z0-9\\._-]+\\b/i))return\"variable-2\";if(0==n.inlinePairs&&e.match(/^\\s*-?[0-9\\.\\,]+\\s?$/))return\"number\";if(n.inlinePairs>0&&e.match(/^\\s*-?[0-9\\.\\,]+\\s?(?=(,|}))/))return\"number\";if(e.match(t))return\"keyword\"}return!n.pair&&e.match(/^\\s*(?:[,\\[\\]{}&*!|>'\"%@`][^\\s'\":]|[^,\\[\\]{}#&*!|>'\"%@`])[^#]*?(?=\\s*:($|\\s))/)?(n.pair=!0,n.keyCol=e.indentation(),\"atom\"):n.pair&&e.match(/^:\\s*/)?(n.pairStart=!0,\"meta\"):(n.pairStart=!1,n.escaped=\"\\\\\"==r,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:\"#\",fold:\"indent\"}})),e.defineMIME(\"text/x-yaml\",\"yaml\"),e.defineMIME(\"text/yaml\",\"yaml\")}))},cefe:function(e,t,n){\"use strict\";n.r(t);var r=n(\"8a6a\"),i=n(\"2f2f\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},cf19:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-dialog\",{attrs:{visible:e.dialog,\"close-on-click-modal\":!1,title:\"七牛云配置\",\"append-to-body\":\"\",width:\"580px\"},on:{\"update:visible\":function(t){e.dialog=t}}},[n(\"el-form\",{ref:\"form\",staticStyle:{\"margin-top\":\"6px\"},attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"110px\"}},[n(\"el-form-item\",{attrs:{label:\"Access Key\",prop:\"accessKey\"}},[n(\"el-input\",{staticStyle:{width:\"95%\"},attrs:{placeholder:\"accessKey，在安全中心，秘钥管理中查看\"},model:{value:e.form.accessKey,callback:function(t){e.$set(e.form,\"accessKey\",t)},expression:\"form.accessKey\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"Secret Key\",prop:\"secretKey\"}},[n(\"el-input\",{staticStyle:{width:\"95%\"},attrs:{type:\"password\",placeholder:\"secretKey，在安全中心，秘钥管理中查看\"},model:{value:e.form.secretKey,callback:function(t){e.$set(e.form,\"secretKey\",t)},expression:\"form.secretKey\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"空间名称\",prop:\"bucket\"}},[n(\"el-input\",{staticStyle:{width:\"95%\"},attrs:{placeholder:\"存储空间名称作为唯一的 Bucket 识别符\"},model:{value:e.form.bucket,callback:function(t){e.$set(e.form,\"bucket\",t)},expression:\"form.bucket\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"外链域名\",prop:\"host\"}},[n(\"el-input\",{staticStyle:{width:\"95%\"},attrs:{placeholder:\"外链域名，可自定义，需在七牛云绑定\"},model:{value:e.form.host,callback:function(t){e.$set(e.form,\"host\",t)},expression:\"form.host\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"存储区域\",prop:\"port\"}},[n(\"el-select\",{attrs:{placeholder:\"请选择存储区域\"},model:{value:e.form.zone,callback:function(t){e.$set(e.form,\"zone\",t)},expression:\"form.zone\"}},e._l(e.zones,(function(e){return n(\"el-option\",{key:e,attrs:{label:e,value:e}})})),1)],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"空间类型\",prop:\"host\"}},[n(\"el-radio\",{attrs:{label:\"公开\"},model:{value:e.form.type,callback:function(t){e.$set(e.form,\"type\",t)},expression:\"form.type\"}},[e._v(\"公开\")]),e._v(\" \"),n(\"el-radio\",{attrs:{label:\"私有\"},model:{value:e.form.type,callback:function(t){e.$set(e.form,\"type\",t)},expression:\"form.type\"}},[e._v(\"私有\")])],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:function(t){e.dialog=!1}}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:e.loading,type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"确认\")])],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},cf64:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"4e4a\")),a=n(\"6d5c\"),o=n(\"4120\"),s=n(\"64b4d\"),l={props:{email:{type:String,required:!0}},data:function(){var e=this,t=function(t,n,r){\"\"===n||null===n?r(new Error(\"新邮箱不能为空\")):n===e.email?r(new Error(\"新邮箱不能与旧邮箱相同\")):(0,a.validEmail)(n)?r():r(new Error(\"邮箱格式错误\"))};return{loading:!1,dialog:!1,title:\"修改邮箱\",form:{pass:\"\",email:\"\",code:\"\"},user:{email:\"\",password:\"\"},codeLoading:!1,codeData:{type:\"email\",value:\"\"},buttonName:\"获取验证码\",isDisabled:!1,time:60,rules:{pass:[{required:!0,message:\"当前密码不能为空\",trigger:\"blur\"}],email:[{required:!0,validator:t,trigger:\"blur\"}],code:[{required:!0,message:\"验证码不能为空\",trigger:\"blur\"}]}}},methods:{cancel:function(){this.resetForm()},sendCode:function(){var e=this;if(this.form.email&&this.form.email!==this.email){this.codeLoading=!0,this.buttonName=\"验证码发送中\",this.codeData.value=this.form.email;var t=this;(0,s.resetEmail)(this.codeData).then((function(n){e.$message({showClose:!0,message:\"发送成功，验证码有效期5分钟\",type:\"success\"}),e.codeLoading=!1,e.isDisabled=!0,e.buttonName=e.time--+\"秒后重新发送\",e.timer=window.setInterval((function(){t.buttonName=t.time+\"秒后重新发送\",--t.time,t.time<0&&(t.buttonName=\"重新发送\",t.time=60,t.isDisabled=!1,window.clearInterval(t.timer))}),1e3)})).catch((function(t){e.resetForm(),e.codeLoading=!1}))}},doSubmit:function(){var e=this;this.$refs[\"form\"].validate((function(t){if(!t)return!1;e.loading=!0,(0,o.updateEmail)(e.form).then((function(t){e.loading=!1,e.resetForm(),e.$notify({title:\"邮箱修改成功\",type:\"success\",duration:1500}),i.default.dispatch(\"GetInfo\").then((function(){}))})).catch((function(t){e.loading=!1}))}))},resetForm:function(){this.dialog=!1,this.$refs[\"form\"].resetFields(),window.clearInterval(this.timer),this.time=60,this.buttonName=\"获取验证码\",this.isDisabled=!1,this.form={pass:\"\",email:\"\",code:\"\"}}}};t.default=l},cfc2:function(e,t,n){\"use strict\";n.r(t);var r=n(\"30b6\"),i=n(\"2305\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"31fe65ee\",null);t[\"default\"]=s.exports},d1f7:function(e,t,n){\"use strict\";n.r(t);var r=n(\"c3d7\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},d2ff:function(e,t,n){},d312:function(e,t,n){\"use strict\";n.r(t);var r=n(\"56b9\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},d3d8:function(e,t,n){\"use strict\";n.r(t);var r=n(\"719c\"),i=n(\"d1f7\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},d43a:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r={name:\"Dashboard\",components:{},data:function(){return{}},methods:{}};t.default=r},d472:function(e,t,n){\"use strict\";n.r(t);var r=n(\"ce9f\"),i=n(\"2a56\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"5073ad01\",null);t[\"default\"]=s.exports},d489:function(e,t,n){\"use strict\";n.r(t);var r=n(\"d43a\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},d4ef:function(e,t,n){\"use strict\";n.r(t);var r=n(\"45fb\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},d5c8:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"add\",(function(){return i})),n.d(t,\"del\",(function(){return a})),n.d(t,\"edit\",(function(){return o})),n.d(t,\"updateIsPause\",(function(){return s})),n.d(t,\"execution\",(function(){return l}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/jobs\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/jobs\",method:\"delete\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/jobs\",method:\"put\",data:e})}function s(e){return Object(r[\"default\"])({url:\"api/jobs/\"+e,method:\"put\"})}function l(e){return Object(r[\"default\"])({url:\"api/jobs/exec/\"+e,method:\"put\"})}t[\"default\"]={del:a,updateIsPause:s,execution:l,add:i,edit:o}},d69c:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",placeholder:\"输入应用名称查询\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.appName,callback:function(t){e.$set(e.query,\"appName\",t)},expression:\"query.appName\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}},[n(\"template\",{slot:\"right\"},[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deploy:add\"],expression:\"['admin','deploy:add']\"}],staticClass:\"filter-item\",attrs:{disabled:!e.selectIndex,type:\"primary\",icon:\"el-icon-upload\"},on:{click:e.sysRestore}},[e._v(\"系统还原\\n        \")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deploy:add\"],expression:\"['admin','deploy:add']\"}],staticClass:\"filter-item\",attrs:{disabled:!e.selectIndex,type:\"primary\",icon:\"el-icon-upload\"},on:{click:e.serverStatus}},[e._v(\"状态查询\\n        \")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deploy:add\"],expression:\"['admin','deploy:add']\"}],staticClass:\"filter-item\",attrs:{disabled:!e.selectIndex,type:\"success\",icon:\"el-icon-upload\"},on:{click:e.startServer}},[e._v(\"启动\\n        \")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deploy:add\"],expression:\"['admin','deploy:add']\"}],staticClass:\"filter-item\",attrs:{disabled:!e.selectIndex,type:\"danger\",icon:\"el-icon-upload\"},on:{click:e.stopServer}},[e._v(\"停止\\n        \")]),e._v(\" \"),n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deploy:add\"],expression:\"['admin','deploy:add']\"}],staticClass:\"filter-item\",attrs:{disabled:!e.selectIndex,type:\"warning\",icon:\"el-icon-upload\"},on:{click:e.deploy}},[e._v(\"一键部署\\n        \")])],1)],2)],1),e._v(\" \"),n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,\"before-close\":e.crud.cancelCU,visible:e.crud.status.cu>0,title:e.crud.status.title,width:\"500px\"},on:{\"update:visible\":function(t){return e.$set(e.crud.status,\"cu > 0\",t)}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"80px\"}},[n(\"el-form-item\",{attrs:{label:\"应用\",prop:\"app.id\"}},[n(\"el-select\",{staticStyle:{width:\"370px\"},attrs:{placeholder:\"请选择\"},model:{value:e.form.app.id,callback:function(t){e.$set(e.form.app,\"id\",e._n(t))},expression:\"form.app.id\"}},e._l(e.apps,(function(e){return n(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"服务器\",prop:\"deploys\"}},[n(\"el-select\",{staticStyle:{width:\"370px\"},attrs:{multiple:\"\",placeholder:\"请选择\"},model:{value:e.form.deploys,callback:function(t){e.$set(e.form,\"deploys\",t)},expression:\"form.deploys\"}},e._l(e.servers,(function(e){return n(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.crud.cancelCU}},[e._v(\"取消\")]),e._v(\" \"),n(\"el-button\",{attrs:{loading:2===e.crud.cu,type:\"primary\"},on:{click:e.crud.submitCU}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"fForm\",{key:e.times,ref:\"sysRestore\",attrs:{\"app-name\":e.appName}}),e._v(\" \"),n(\"dForm\",{ref:\"deploy\"}),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data,\"highlight-current-row\":\"\",stripe:\"\"},on:{\"selection-change\":e.crud.selectionChangeHandler,\"current-change\":e.handleCurrentChange}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"app.name\")?n(\"el-table-column\",{attrs:{prop:\"app.name\",label:\"应用名称\"}}):e._e(),e._v(\" \"),e.columns.visible(\"servers\")?n(\"el-table-column\",{attrs:{prop:\"servers\",label:\"服务器列表\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"部署日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),e._v(\" \"),n(\"el-table-column\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"deploy:edit\",\"deploy:del\"],expression:\"['admin','deploy:edit','deploy:del']\"}],attrs:{label:\"操作\",width:\"150px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"udOperation\",{attrs:{data:t.row,permission:e.permission}})]}}])})],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},d7f2:function(e,t,n){\"use strict\";n.r(t);var r=n(\"bd1b\"),i=n(\"79ea\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"63bd4572\",null);t[\"default\"]=s.exports},d84b:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"json-editor\"},[n(\"textarea\",{ref:\"textarea\"})])},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},dc6c:function(e,t,n){\"use strict\";n.r(t);var r=n(\"8fcc\"),i=n(\"6584\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"ec76\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},dca8:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"add\",(function(){return i})),n.d(t,\"del\",(function(){return a})),n.d(t,\"edit\",(function(){return o}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/localStorage\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/localStorage/\",method:\"delete\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/localStorage\",method:\"put\",data:e})}t[\"default\"]={add:i,edit:o,del:a}},ddc1:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"el-tabs\",{attrs:{type:\"card\"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:\"activeName\"}},e._l(e.data,(function(t){return n(\"el-tab-pane\",{key:t.name,attrs:{lazy:!0,label:t.name,name:t.name}},[n(\"Java\",{attrs:{value:t.content,height:e.height}})],1)})),1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},de79:function(e,t,n){\"use strict\";n.r(t);var r=n(\"3e3a\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},e02c:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\",staticStyle:{padding:\"8px\"}},[n(\"div\",{staticClass:\"head-container\"},[e.crud.props.searchToggle?n(\"div\",[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"输入内容模糊搜索\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.crud.toQuery(t)}},model:{value:e.query.blurry,callback:function(t){e.$set(e.query,\"blurry\",t)},expression:\"query.blurry\"}}),e._v(\" \"),n(\"el-date-picker\",{staticClass:\"date-item\",attrs:{\"default-time\":[\"00:00:00\",\"23:59:59\"],type:\"daterange\",\"range-separator\":\":\",size:\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,\"createTime\",t)},expression:\"query.createTime\"}}),e._v(\" \"),n(\"rrOperation\",{attrs:{crud:e.crud}})],1):e._e(),e._v(\" \"),n(\"crudOperation\",{attrs:{permission:e.permission}},[n(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"storage:add\"],expression:\"['admin','storage:add']\"}],staticClass:\"filter-item\",attrs:{slot:\"left\",type:\"primary\",icon:\"el-icon-upload\"},on:{click:e.crud.toAdd},slot:\"left\"},[e._v(\"上传\\n      \")])],1)],1),e._v(\" \"),n(\"el-dialog\",{attrs:{\"append-to-body\":\"\",\"close-on-click-modal\":!1,\"before-close\":e.crud.cancelCU,visible:e.crud.status.cu>0,title:e.crud.status.add?\"文件上传\":\"编辑文件\",width:\"500px\"},on:{\"update:visible\":function(t){return e.$set(e.crud.status,\"cu > 0\",t)}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,size:\"small\",\"label-width\":\"100px\"}},[n(\"el-form-item\",{attrs:{label:\"是否制度文件\",prop:\"portal_visible\"}},e._l(e.dict.yes_or_no,(function(t){return n(\"el-radio\",{key:t.id,attrs:{label:t.value},model:{value:e.form.portal_visible,callback:function(t){e.$set(e.form,\"portal_visible\",t)},expression:\"form.portal_visible\"}},[e._v(e._s(t.label))])})),1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"文件名\"}},[n(\"el-input\",{staticStyle:{width:\"350px\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}}),e._v(\" \"),n(\"el-upload\",{ref:\"upload\",attrs:{\"auto-upload\":!1,\"on-change\":e.handleChange,\"file-list\":e.fileList,\"before-upload\":e.beforeUpload,headers:e.headers,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,\"before-remove\":e.beforeRemove,action:e.fileUploadApi+\"?name=\"+e.form.name+\"&portal_visible=\"+e.form.portal_visible}},[n(\"div\",{staticClass:\"eladmin-upload\"},[n(\"i\",{staticClass:\"el-icon-upload\"}),e._v(\" 添加文件\")]),e._v(\" \"),n(\"div\",{staticClass:\"el-upload__tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\"可上传任意格式文件，且不超过100M\")])])],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"text\"},on:{click:e.crud.cancelCU}},[e._v(\"取消\")]),e._v(\" \"),e.crud.status.add?n(\"el-button\",{attrs:{loading:e.loading,type:\"primary\"},on:{click:e.upload}},[e._v(\"确认\")]):n(\"el-button\",{attrs:{loading:2===e.crud.cu,type:\"primary\"},on:{click:e.crud.submitCU}},[e._v(\"确认\")])],1)],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.crud.loading,expression:\"crud.loading\"}],ref:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.crud.data},on:{\"selection-change\":e.crud.selectionChangeHandler}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),e._v(\" \"),e.columns.visible(\"name\")?n(\"el-table-column\",{attrs:{prop:\"name\",label:\"文件名\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-popover\",{attrs:{content:t.row.name,placement:\"top-start\",width:\"200\",trigger:\"hover\"}},[n(\"a\",{staticClass:\"el-link--primary\",staticStyle:{\"word-break\":\"keep-all\",\"white-space\":\"nowrap\",overflow:\"hidden\",\"text-overflow\":\"ellipsis\",color:\"#1890ff\",\"font-size\":\"13px\"},attrs:{slot:\"reference\",href:\"#\"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.handleClick(e.baseApi+\"/file/\"+t.row.type+\"/\"+t.row.realName,t.row.name)}},slot:\"reference\"},[e._v(\"\\n            \"+e._s(t.row.name)+\"\\n          \")])])]}}],null,!1,1539262116)}):e._e(),e._v(\" \"),e.columns.visible(\"type\")?n(\"el-table-column\",{attrs:{prop:\"type\",label:\"类别\"}}):e._e(),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"是否制度文件\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-switch\",{attrs:{\"active-color\":\"#409EFF\",\"inactive-color\":\"#F56C6C\",\"active-value\":\"1\",\"inactive-value\":\"0\"},on:{change:function(n){return e.changeEnabled(t.row,t.row.visible)}},model:{value:t.row.visible,callback:function(n){e.$set(t.row,\"visible\",n)},expression:\"scope.row.visible\"}})]}}])}),e._v(\" \"),e.columns.visible(\"size\")?n(\"el-table-column\",{attrs:{prop:\"size\",label:\"大小\"}}):e._e(),e._v(\" \"),e.columns.visible(\"operate\")?n(\"el-table-column\",{attrs:{prop:\"operate\",label:\"操作人\"}}):e._e(),e._v(\" \"),e.columns.visible(\"createTime\")?n(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建日期\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e()],1),e._v(\" \"),n(\"pagination\")],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},e2f3:function(e,t,n){\"use strict\";n(\"f35d\")},e3e9:function(e,t,n){\"use strict\";n.r(t);var r=n(\"7636\"),i=n(\"2b49\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},e4de:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"ac6a\");var i=r(n(\"ded3\")),a=n(\"88f5\"),o=n(\"2f62\"),s=n(\"d0c1\"),l={props:{},data:function(){return{loading:!1,dialog:!1,apps:[],servers:[],headers:{Authorization:(0,s.getToken)()},deployInfo:{},form:{id:\"\",appId:\"\",ip:\"\",selectIp:[]},rules:{}}},computed:(0,i.default)({},(0,o.mapGetters)([\"deployUploadApi\"])),created:function(){this.initWebSocket()},mounted:function(){this.initSelect()},methods:{cancel:function(){this.resetForm()},doSubmit:function(){this.loading=!0,this.isAdd?this.doAdd():this.doEdit()},joinIp:function(){var e=this;this.form.ip=\"\",this.form.selectIp.forEach((function(t){\"\"!==e.form.ip&&(e.form.ip+=\",\"),e.form.ip+=t}))},doAdd:function(){var e=this;this.joinIp(),(0,a.add)(this.form).then((function(t){e.resetForm(),e.$notify({title:\"添加成功\",type:\"success\",duration:2500}),e.loading=!1,e.$parent.init()})).catch((function(t){e.loading=!1}))},doEdit:function(){var e=this;this.joinIp(),(0,a.edit)(this.form).then((function(t){e.resetForm(),e.$notify({title:\"修改成功\",type:\"success\",duration:2500}),e.loading=!1,e.$parent.init()})).catch((function(t){e.loading=!1}))},resetForm:function(){this.dialog=!1,this.$refs[\"form\"].resetFields(),this.form={id:\"\",appId:\"\",ip:\"\",selectIp:[]}},initSelect:function(){var e=this;(0,a.getApps)().then((function(t){e.apps=t.content})),(0,a.getServers)().then((function(t){e.servers=t.content}))},handleSuccess:function(e,t,n){this.cancel()},handleError:function(e,t,n){var r=JSON.parse(e.message);this.$notify({title:r.message,type:\"error\",duration:2500})},initWebSocket:function(){var e=\"ws://23.1.5.9/webSocket/deploy\";this.websock=new WebSocket(e),this.websock.onerror=this.webSocketOnError,this.websock.onmessage=this.webSocketOnMessage},webSocketOnError:function(e){this.$notify({title:\"WebSocket连接发生错误\",type:\"error\",duration:0})},webSocketOnMessage:function(e){var t=JSON.parse(e.data);\"INFO\"===t.msgType?this.$notify({title:\"\",message:t.msg,type:\"success\",dangerouslyUseHTMLString:!0,duration:5500}):\"ERROR\"===t.msgType&&this.$notify({title:\"\",message:t.msg,dangerouslyUseHTMLString:!0,type:\"error\",duration:0})},webSocketSend:function(e){this.websock.send(e)}}};t.default=l},e50e:function(e,t,n){},e524:function(e,t,n){},e789:function(e,t,n){\"use strict\";n.r(t);var r=n(\"0dde\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},e82a:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"7f7f\");var i=r(n(\"ded3\")),a=n(\"2f62\"),o=r(n(\"f9e2\")),s=r(n(\"2175\")),l=n(\"d0c1\"),u=r(n(\"4e4a\")),c=n(\"6d5c\"),d=n(\"10ef\"),f=r(n(\"1cf4\")),h=n(\"4120\"),p=r(n(\"7c9a\")),m={name:\"Center\",components:{updatePass:o.default,updateEmail:s.default},mixins:[f.default],data:function(){var e=function(e,t,n){t?(0,c.isvalidPhone)(t)?n():n(new Error(\"请输入正确的11位手机号码\")):n(new Error(\"请输入电话号码\"))};return{Avatar:p.default,activeName:\"first\",saveLoading:!1,headers:{Authorization:(0,l.getToken)()},form:{},rules:{nickName:[{required:!0,message:\"请输入用户昵称\",trigger:\"blur\"},{min:2,max:20,message:\"长度在 2 到 20 个字符\",trigger:\"blur\"}],phone:[{required:!0,trigger:\"blur\",validator:e}]}}},computed:(0,i.default)({},(0,a.mapGetters)([\"user\",\"updateAvatarApi\",\"baseApi\"])),created:function(){this.form={id:this.user.id,nickName:this.user.nickName,sex:this.user.sex,phone:this.user.phone},u.default.dispatch(\"GetInfo\").then((function(){}))},methods:{parseTime:d.parseTime,handleClick:function(e,t){\"second\"===e.name&&this.init()},beforeInit:function(){return this.url=\"api/logs/user\",!0},handleSuccess:function(e,t,n){this.$notify({title:\"头像修改成功\",type:\"success\",duration:2500}),u.default.dispatch(\"GetInfo\").then((function(){}))},handleError:function(e,t,n){var r=JSON.parse(e.message);this.$notify({title:r.message,type:\"error\",duration:2500})},doSubmit:function(){var e=this;this.$refs[\"form\"]&&this.$refs[\"form\"].validate((function(t){t&&(e.saveLoading=!0,(0,h.editUser)(e.form).then((function(){e.editSuccessNotify(),u.default.dispatch(\"GetInfo\").then((function(){})),e.saveLoading=!1})).catch((function(){e.saveLoading=!1})))}))}}};t.default=m},e847:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"add\",(function(){return i})),n.d(t,\"del\",(function(){return a})),n.d(t,\"edit\",(function(){return o}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/server\",method:\"post\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/server\",method:\"delete\",data:e})}function o(e){return Object(r[\"default\"])({url:\"api/server\",method:\"put\",data:e})}t[\"default\"]={add:i,edit:o,del:a}},e8a3:function(e,t,n){\"use strict\";n.r(t);var r=n(\"8b1a\"),i=n(\"d489\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"2ad3\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"26c8fbc9\",null);t[\"default\"]=s.exports},e9de:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o=3e3,s={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.chart.setOption({tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\"}},radar:{radius:\"66%\",center:[\"50%\",\"42%\"],splitNumber:8,splitArea:{areaStyle:{color:\"rgba(127,95,132,.3)\",opacity:1,shadowBlur:45,shadowColor:\"rgba(0,0,0,.5)\",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:\"Sales\",max:1e4},{name:\"Administration\",max:2e4},{name:\"Information Techology\",max:2e4},{name:\"Customer Support\",max:2e4},{name:\"Development\",max:2e4},{name:\"Marketing\",max:2e4}]},legend:{left:\"center\",bottom:\"10\",data:[\"Allocated Budget\",\"Expected Spending\",\"Actual Spending\"]},series:[{type:\"radar\",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:\"rgba(0,0,0,.2)\",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:\"Allocated Budget\"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:\"Expected Spending\"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:\"Actual Spending\"}],animationDuration:o}]})}}};t.default=s},eb5a:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},eb9b:function(e,t,n){\"use strict\";n.r(t);var r=n(\"82a3\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},eba7:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"get\",(function(){return i})),n.d(t,\"update\",(function(){return a})),n.d(t,\"send\",(function(){return o}));var r=n(\"c7be\");function i(){return Object(r[\"default\"])({url:\"api/email\",method:\"get\"})}function a(e){return Object(r[\"default\"])({url:\"api/email\",data:e,method:\"put\"})}function o(e){return Object(r[\"default\"])({url:\"api/email\",data:e,method:\"post\"})}},ec38:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],style:\"height:\"+e.height},[n(\"iframe\",{staticStyle:{width:\"100%\",height:\"100%\"},attrs:{src:e.src,frameborder:\"no\",scrolling:\"auto\"}})])},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},ec76:function(e,t,n){\"use strict\";n(\"b99c\")},ec9e:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"313e\")),a=n(\"10ef\");n(\"817d\");var o={props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.initChart(),this.__resizeHandler=(0,a.debounce)((function(){e.chart&&e.chart.resize()}),100),window.addEventListener(\"resize\",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener(\"resize\",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.default.init(this.$el,\"macarons\"),this.chart.setOption({title:{text:\"Graph 简单示例\"},tooltip:{},animationDurationUpdate:1500,animationEasingUpdate:\"quinticInOut\",series:[{type:\"graph\",layout:\"none\",symbolSize:50,roam:!0,label:{normal:{show:!0}},edgeSymbol:[\"circle\",\"arrow\"],edgeSymbolSize:[4,10],edgeLabel:{normal:{textStyle:{fontSize:20}}},data:[{name:\"节点1\",x:100,y:300},{name:\"节点2\",x:1e3,y:300},{name:\"节点3\",x:550,y:100},{name:\"节点4\",x:550,y:500}],links:[{source:0,target:1,symbolSize:[5,20],label:{normal:{show:!0}},lineStyle:{normal:{width:5,curveness:.2}}},{source:\"节点2\",target:\"节点1\",label:{normal:{show:!0}},lineStyle:{normal:{curveness:.2}}},{source:\"节点1\",target:\"节点3\"},{source:\"节点2\",target:\"节点3\"},{source:\"节点2\",target:\"节点4\"},{source:\"节点1\",target:\"节点4\"}],lineStyle:{normal:{opacity:.9,width:2,curveness:0}}}]})}}};t.default=o},ed1c:function(e,t,n){\"use strict\";n.r(t);var r=n(\"be11\"),i=n(\"65a9\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"997f0f62\",null);t[\"default\"]=s.exports},eee2:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"7514\");var i=r(n(\"ded3\")),a=r(n(\"56d0\")),o=n(\"2f62\"),s={name:\"SsoLogin\",data:function(){return{title:a.default.title,currentRole:\"\",selectRole:!1}},mounted:function(){var e=this;this.$store.dispatch(\"SsoLogin\",this.$route.query[\"token\"]).then((function(){null!=e.user().roles&&e.user().roles.length>0?e.user().roles.length>1?e.selectRole=!0:1==e.user().roles.length&&(e.currentRole=e.user().roles[0].id,e.goin()):e.$message(\"当前用户没有访问该系统的权限，请联系管理员！\",\"error\")})).catch((function(){}))},methods:(0,i.default)((0,i.default)({goin:function(){var e=this;this.currentRole?(this.$store.dispatch(\"setCurrentRole\",this.user().roles.find((function(t){return t.id==e.currentRole}))),this.$router.push({path:this.redirect||\"/\"})):this.$message(\"请选择角色\",\"error\")},cancel:function(){this.selectRole=!1,this.loading=!1}},(0,o.mapGetters)([\"getSmartbi\",\"user\"])),(0,o.mapActions)([\"setSmartbi\"]))};t.default=s},ef2b:function(e,t,n){\"use strict\";n.r(t);var r=n(\"5470\"),i=n(\"a229\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"67df\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"83314800\",null);t[\"default\"]=s.exports},efa6:function(e,t,n){\"use strict\";n.r(t);var r=n(\"03f6\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},f1f9:function(e,t,n){\"use strict\";n.r(t);var r=n(\"7d25\"),i=n(\"eb9b\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"e2f1d35c\",null);t[\"default\"]=s.exports},f326:function(e,t,n){\"use strict\";n.r(t);var r=n(\"99f3\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},f35d:function(e,t,n){},f410:function(e,t,n){\"use strict\";n(\"67d1\")},f46f:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(\"1cf4\")),a={mixins:[i.default],data:function(){return{title:\"任务日志\",errorInfo:\"\",errorDialog:!1,enabledTypeOptions:[{key:\"true\",display_name:\"成功\"},{key:\"false\",display_name:\"失败\"}]}},methods:{doInit:function(){var e=this;this.$nextTick((function(){e.init()}))},beforeInit:function(){return this.url=\"api/jobs/logs\",this.size=6,!0},info:function(e){this.errorInfo=e,this.errorDialog=!0}}};t.default=a},f596:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"el-form\",{ref:\"form\",staticStyle:{\"margin-top\":\"6px\"},attrs:{model:e.form,rules:e.rules,size:\"small\",\"label-width\":\"90px\"}},[n(\"el-form-item\",{attrs:{label:\"商品名称\",prop:\"subject\"}},[n(\"el-input\",{staticStyle:{width:\"35%\"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,\"subject\",t)},expression:\"form.subject\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"商品价格\",prop:\"totalAmount\"}},[n(\"el-input\",{staticStyle:{width:\"35%\"},model:{value:e.form.totalAmount,callback:function(t){e.$set(e.form,\"totalAmount\",t)},expression:\"form.totalAmount\"}}),e._v(\" \"),n(\"span\",{staticStyle:{color:\"#C0C0C0\",\"margin-left\":\"10px\"}},[e._v(\"测试允许区间(0,5000]\")])],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"商品描述\",prop:\"body\"}},[n(\"el-input\",{staticStyle:{width:\"35%\"},attrs:{rows:\"8\",type:\"textarea\"},model:{value:e.form.body,callback:function(t){e.$set(e.form,\"body\",t)},expression:\"form.body\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"\"}},[n(\"el-button\",{attrs:{loading:e.loading,size:\"medium\",type:\"primary\"},on:{click:e.doSubmit}},[e._v(\"去支付\")])],1)],1)],1)},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},f718:function(e,t,n){},f768:function(e,t,n){\"use strict\";var r=n(\"dbce\"),i=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=n(\"998b\"),o=i(n(\"0907\")),s=r(n(\"159b\")),l=i(n(\"691b\")),u=i(n(\"63f7\")),c=(0,s.default)({title:\"异常日志\",url:\"api/logs/error\"}),d={name:\"ErrorLog\",components:{Search:o.default,crudOperation:l.default,pagination:u.default},mixins:[(0,s.presenter)(c)],data:function(){return{errorInfo:\"\",dialog:!1}},created:function(){this.crud.optShow={add:!1,edit:!1,del:!1,download:!0}},methods:{info:function(e){var t=this;this.dialog=!0,(0,a.getErrDetail)(e).then((function(e){t.errorInfo=e.exception}))},confirmDelAll:function(){var e=this;this.$confirm(\"确认清空所有异常日志吗?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){e.crud.delAllLoading=!0,(0,a.delAllError)().then((function(t){e.crud.delAllLoading=!1,e.crud.dleChangePage(1),e.crud.delSuccessNotify(),e.crud.toQuery()})).catch((function(t){e.crud.delAllLoading=!1}))})).catch((function(){}))}}};t.default=d},f79c:function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{class:e.className,style:{height:e.height,width:e.width}})},i=[];n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}))},f80b:function(e,t,n){\"use strict\";var r=n(\"4ea4\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,n(\"ac6a\");var i=r(n(\"ded3\")),a=n(\"eba7\"),o=n(\"54ff\"),s=n(\"6d5c\"),l=n(\"2f62\"),u=r(n(\"6fad\")),c={name:\"Index\",data:function(){return{loading:!1,form:{subject:\"\",tos:[],content:\"\"},tos:[{value:\"\"}],rules:{subject:[{required:!0,message:\"标题不能为空\",trigger:\"blur\"}]}}},computed:(0,i.default)({},(0,l.mapGetters)([\"imagesUploadApi\"])),mounted:function(){var e=this,t=this,n=new u.default(this.$refs.editor);n.customConfig.zIndex=10,n.customConfig.customUploadImg=function(e,n){e.forEach((function(r){e.forEach((function(e){(0,o.upload)(t.imagesUploadApi,e).then((function(e){n(e.data.url)}))}))}))},n.customConfig.onchange=function(t){e.form.content=t},n.create()},methods:{removeDomain:function(e){var t=this.tos.indexOf(e);-1!==t&&1!==this.tos.length?this.tos.splice(t,1):this.$message({message:\"请至少保留一位联系人\",type:\"warning\"})},addDomain:function(){this.tos.push({value:\"\",key:Date.now()})},doSubmit:function(){var e=this,t=this;this.$refs[\"form\"].validate((function(n){if(e.form.tos=[],!n)return!1;var r=!1;if(e.tos.forEach((function(e,n){\"\"===e.value?(t.$message({message:\"收件邮箱不能为空\",type:\"warning\"}),r=!0):(0,s.validEmail)(e.value)?t.form.tos.push(e.value):(t.$message({message:\"收件邮箱格式错误\",type:\"warning\"}),r=!0)})),r)return!1;e.loading=!0,(0,a.send)(e.form).then((function(t){e.$notify({title:\"发送成功\",type:\"success\",duration:2500}),e.loading=!1})).catch((function(t){e.loading=!1}))}))}}};t.default=c},fa2a:function(e,t,n){\"use strict\";n.r(t);var r=n(\"4909\"),i=n(\"63d5\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(\"7de8\");var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,\"4c7d9dc4\",null);t[\"default\"]=s.exports},fa82:function(e,t,n){\"use strict\";n.r(t);var r=n(\"b970\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},fb4c:function(e,t,n){\"use strict\";n.r(t);var r=n(\"a889\"),i=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t[\"default\"]=i.a},fcc2:function(e,t,n){\"use strict\";n(\"1bf1\")},fe65:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(\"eba7\"),i={name:\"Config\",data:function(){return{loading:!1,form:{id:1,fromUser:\"\",user:\"\",pass:\"\",host:\"\",port:\"\",sslEnable:\"\"},rules:{fromUser:[{required:!0,message:\"请输入发件人邮箱\",trigger:\"blur\"},{type:\"email\",message:\"请输入正确的邮箱地址\",trigger:\"blur\"}],user:[{required:!0,message:\"请输入发件用户名\",trigger:\"blur\"}],pass:[{required:!0,message:\"密码不能为空\",trigger:\"blur\"}],host:[{required:!0,message:\"SMTP地址不能为空\",trigger:\"blur\"}],port:[{required:!0,message:\"SMTP端口不能为空\",trigger:\"blur\"}]}}},created:function(){this.init()},methods:{init:function(){var e=this;(0,r.get)().then((function(t){e.form=t}))},doSubmit:function(){var e=this;this.$refs[\"form\"].validate((function(t){if(!t)return!1;e.loading=!0,(0,r.update)(e.form).then((function(t){e.$notify({title:\"修改成功\",type:\"success\",duration:2500}),e.loading=!1})).catch((function(t){e.loading=!1}))}))}}};t.default=i},feff:function(e,t,n){\"use strict\";n.r(t);var r=n(\"4366\"),i=n(\"c3ed\");for(var a in i)\"default\"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(\"2877\"),s=Object(o[\"a\"])(i[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);t[\"default\"]=s.exports},ff97:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"del\",(function(){return i})),n.d(t,\"reducte\",(function(){return a}));var r=n(\"c7be\");function i(e){return Object(r[\"default\"])({url:\"api/deployHistory\",method:\"delete\",data:e})}function a(e){return Object(r[\"default\"])({url:\"api/deploy/serverReduction\",method:\"post\",data:e})}}}]);","extractedComments":[]}