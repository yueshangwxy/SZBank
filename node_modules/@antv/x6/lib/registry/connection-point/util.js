"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findShapeNode = exports.getStrokeWidth = exports.offset = void 0;
function offset(p1, p2, offset) {
    if (offset == null) {
        return p1;
    }
    var length = p1.distance(p2);
    if (offset === 0 && length > 0) {
        return p1;
    }
    return p1.move(p2, -Math.min(offset, length - 1));
}
exports.offset = offset;
function getStrokeWidth(magnet) {
    var stroke = magnet.getAttribute('stroke-width');
    if (stroke === null) {
        return 0;
    }
    return parseFloat(stroke) || 0;
}
exports.getStrokeWidth = getStrokeWidth;
function findShapeNode(magnet) {
    if (magnet == null) {
        return null;
    }
    var node = magnet;
    do {
        var tagName = node.tagName;
        if (typeof tagName !== 'string')
            return null;
        tagName = tagName.toUpperCase();
        if (tagName === 'G') {
            node = node.firstElementChild;
        }
        else if (tagName === 'TITLE') {
            node = node.nextElementSibling;
        }
        else
            break;
    } while (node);
    return node;
}
exports.findShapeNode = findShapeNode;
//# sourceMappingURL=util.js.map