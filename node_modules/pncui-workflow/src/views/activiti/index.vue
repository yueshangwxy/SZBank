<template>
  <el-tabs type="border-card" active-name="Deployments">
    <el-tab-pane name="Models">
      <span slot="label"><svg-icon icon-class="image"/>流程模型</span>
      <model ref="model"></model>
    </el-tab-pane>
    <el-tab-pane name="Deployments">
      <span slot="label"><svg-icon icon-class="setting"/>流程部署</span>
      <deployment ref="deployment"></deployment>
    </el-tab-pane>
    <el-tab-pane label="" name="Definitions">
      <span slot="label"> <svg-icon icon-class="database"/>流程定义
      <el-link @click="refresh('definition')"><i class="el-icon-refresh"></i></el-link></span>
      <definition ref="definition"></definition>
    </el-tab-pane>
    <el-tab-pane name="Instances">
      <span slot="label"> <svg-icon icon-class="system"/> 流程实例
      <el-link @click="refresh('instance')"><i class="el-icon-refresh"></i></el-link></span>
      <instance ref="instance"></instance>
    </el-tab-pane>
    <el-tab-pane name="Tasks">
      <span slot="label"><svg-icon icon-class="atom"/> 任务</span>
      <task ref="task"></task>
    </el-tab-pane>
    <el-tab-pane name="Todolists">
      <span slot="label"><svg-icon icon-class="user"/> 我的</span>
      <todolist ref="todolist"></todolist>
    </el-tab-pane>
  </el-tabs>
</template>

<script>

  import model from './model'
  import definition from './definition'
  import deployment from './deployment'
  import instance from './instance'
  import task from './task'
  import todolist from './todolist'

  export default {
    name: 'workflow',
    data() {
      return {}
    },
    components: {
      model,definition, deployment, task, instance,todolist
    },
    methods: {
      refresh(element) {
        this.$refs[element].refresh()
      }
    }
  }
</script>

<style>
  .demo-table-expand {
    font-size: 0;
  }

  .demo-table-expand label {
    width: 70px;
    color: #99a9bf;
  }

  .demo-table-expand .el-form-item {
    margin-right: 0;
    margin-bottom: 0;
    width: 100%;
  }

  .demo-table-expand .el-form-item__content {
    font-size: 12px;
  }

  .iframe {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    background: #fff;
    overflow-y: hidden;
  }
</style>
